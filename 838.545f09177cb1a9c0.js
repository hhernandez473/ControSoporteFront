(self.webpackChunknow_ui_dashboard_angular=self.webpackChunknow_ui_dashboard_angular||[]).push([[838],{6089:(ze,Ye,se)=>{"use strict";var te=se(9095),A=se(4703),Y="value",t="\n  ",P={};function J(qe){var Me=Array.isArray(qe);return function(Ke){var Ve=Q(P.plainArray,Ke);if(Ve)return Ve;if(Me&&Ke.length!==qe.length)return"an array with "+qe.length+" items";for(var ut=0;ut<Ke.length;ut++)if(Ve=Q(Me?qe[ut]:qe,Ke[ut]))return[ut].concat(Ve)}}function Q(qe,Me){if(null!=Me||qe.hasOwnProperty("__required")){var Je=qe(Me);if(Je)return Array.isArray(Je)?Je:[Je]}}function oe(qe,Me){var Je=qe.length,yt=qe[Je-1],Ke=qe.slice(0,Je-1);return 0===Ke.length&&(Ke=[Y]),Me=A(Me,{path:Ke}),"function"==typeof yt?yt(Me):Te(Me,function Fe(qe){return"must be "+function pt(qe){return/^an? /.test(qe)?qe:/^[aeiou]/i.test(qe)?"an "+qe:/^[a-z]/i.test(qe)?"a "+qe:qe}(qe)+"."}(yt))}function ye(qe){return qe.length<2?qe[0]:2===qe.length?qe.join(" or "):qe.slice(0,-1).join(", ")+", or "+qe.slice(-1)}function Te(qe,Me){return(gt(qe.path)?"Item at position ":"")+qe.path.join(".")+" "+Me}function gt(qe){return"number"==typeof qe[qe.length-1]||"number"==typeof qe[0]}P.assert=function(qe,Me){return Me=Me||{},function(Je){var yt=Q(qe,Je);if(yt){var Ke=oe(yt,Me);throw Me.apiName&&(Ke=Me.apiName+": "+Ke),new Error(Ke)}}},P.shape=function(Me){var Je=function Mt(qe){return Object.keys(qe||{}).map(function(Me){return{key:Me,value:qe[Me]}})}(Me);return function(Ke){var Ve=Q(P.plainObject,Ke);if(Ve)return Ve;for(var ut,bt=[],Yt=0;Yt<Je.length;Yt++)(Ve=Q(Je[Yt].value,Ke[ut=Je[Yt].key]))&&bt.push([ut].concat(Ve));return bt.length<2?bt[0]:function(kt){bt=bt.map(function(wi){return"- "+wi[0]+": "+oe(wi,kt).split("\n").join(t)});var Wt=kt.path.join(".");return"The following properties"+(Wt===Y?"":" of "+Wt)+" have invalid values:"+t+bt.join(t)}}},P.strictShape=function(Me){var Je=P.shape(Me);return function(Ke){var Ve=Je(Ke);if(Ve)return Ve;var ut=Object.keys(Ke).reduce(function(He,bt){return void 0===Me[bt]&&He.push(bt),He},[]);return 0!==ut.length?function(){return"The following keys are invalid: "+ut.join(", ")}:void 0}},P.arrayOf=function(Me){return J(Me)},P.tuple=function(){var Me=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return J(Me)},P.required=function(Me){function Je(yt){return null==yt?function(Ke){return Te(Ke,gt(Ke.path)?"cannot be undefined/null.":"is required.")}:Me.apply(this,arguments)}return Je.__required=!0,Je},P.oneOfType=function(){var Me=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(yt){var Ke=Me.map(function(Ve){return Q(Ve,yt)}).filter(Boolean);if(Ke.length===Me.length)return Ke.every(function(Ve){return 1===Ve.length&&"string"==typeof Ve[0]})?ye(Ke.map(function(Ve){return Ve[0]})):Ke.reduce(function(Ve,ut){return ut.length>Ve.length?ut:Ve})}},P.equal=function(Me){return function(yt){if(yt!==Me)return JSON.stringify(Me)}},P.oneOf=function(){var Me=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),Je=Me.map(function(yt){return P.equal(yt)});return P.oneOfType.apply(this,Je)},P.range=function(Me){var Je=Me[0],yt=Me[1];return function(Ve){if(Q(P.number,Ve)||Ve<Je||Ve>yt)return"number between "+Je+" & "+yt+" (inclusive)"}},P.any=function(){},P.boolean=function(Me){if("boolean"!=typeof Me)return"boolean"},P.number=function(Me){if("number"!=typeof Me)return"number"},P.plainArray=function(Me){if(!Array.isArray(Me))return"array"},P.plainObject=function(Me){if(!te(Me))return"object"},P.string=function(Me){if("string"!=typeof Me)return"string"},P.func=function(Me){if("function"!=typeof Me)return"function"},P.validate=Q,P.processMessage=oe,ze.exports=P},9095:ze=>{"use strict";var Ye=Object.prototype.toString;ze.exports=function(se){var te;return"[object Object]"===Ye.call(se)&&(null===(te=Object.getPrototypeOf(se))||te===Object.getPrototypeOf({}))}},2564:(ze,Ye,se)=>{"use strict";var te=se(9652).x0;function A(Y){this.origin=Y.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=Y.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=Y,this.send=this.send.bind(this),this.countries=Y.countries?Y.countries.split(","):null,this.types=Y.types?Y.types.split(","):null,this.bbox=Y.bbox?Y.bbox:null,this.language=Y.language?Y.language.split(","):null,this.limit=Y.limit?+Y.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(Y),this.eventQueue=new Array,this.flushInterval=Y.flushInterval||1e3,this.maxQueueSize=Y.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}A.prototype={select:function(Y,t){var P=this.getSelectedIndex(Y,t),J=this.getEventPayload("search.select",t);if(J.resultIndex=P,J.resultPlaceName=Y.place_name,J.resultId=Y.id,(P!==this.lastSentIndex||J.queryString!==this.lastSentInput)&&-1!=P&&(this.lastSentIndex=P,this.lastSentInput=J.queryString,J.queryString))return this.push(J)},start:function(Y){var t=this.getEventPayload("search.start",Y);if(t.queryString)return this.push(t)},keyevent:function(Y,t){if(Y.key&&!Y.metaKey&&-1===[9,27,37,39,13,38,40].indexOf(Y.keyCode)){var P=this.getEventPayload("search.keystroke",t);if(P.lastAction=Y.key,P.queryString)return this.push(P)}},send:function(Y,t){if(!this.enableEventLogging)return t?t():void 0;var P=this.getRequestOptions(Y);this.request(P,function(J){return J?this.handleError(J,t):t?t():void 0}.bind(this))},getRequestOptions:function(Y){return Array.isArray(Y)||(Y=[Y]),{method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}},getEventPayload:function(Y,t){var P;P=t.options.proximity?"object"==typeof t.options.proximity?[t.options.proximity.longitude,t.options.proximity.latitude]:"ip"===t.options.proximity?[999,999]:t.options.proximity:null;var J=t._map?t._map.getZoom():void 0,Q={event:Y,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:t.options.autocomplete,fuzzyMatch:t.options.fuzzyMatch,proximity:P,limit:t.options.limit,routing:t.options.routing,worldview:t.options.worldview,mapZoom:J,keyboardLocale:this.locale};return Q.queryString="search.select"===Y?t.inputString:"search.select"!=Y&&t._inputEl?t._inputEl.value:t.inputString,Q},request:function(Y,t){var P=new XMLHttpRequest;for(var J in P.onreadystatechange=function(){if(4==this.readyState)return t(204==this.status?null:this.statusText)},P.open(Y.method,Y.host+"/"+Y.path,!0),Y.headers)P.setRequestHeader(J,Y.headers[J]);P.send(Y.body)},handleError:function(Y,t){if(t)return t(Y)},generateSessionID:function(){return te()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(Y,t){if(t._typeahead){var J=Y.id;return t._typeahead.data.map(function(ye){return ye.id}).indexOf(J)}},shouldEnableLogging:function(Y){return!(!1===Y.enableEventLogging||Y.origin&&"https://api.mapbox.com"!==Y.origin||Y.localGeocoder||Y.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(Y,t){this.eventQueue.push(Y),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}},ze.exports=A},3424:ze=>{ze.exports={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},3569:ze=>{function Ye(){}Ye.prototype={isSupport:function(){return Boolean(window.navigator.geolocation)},getCurrentPosition:function(){const se={enableHighAccuracy:!0};return new Promise(function(te,A){window.navigator.geolocation.getCurrentPosition(te,A,se)})}},ze.exports=Ye},8545:(ze,Ye,se)=>{"use strict";var te=se(5562),A=se(3082),Y=se(4703),t=se(9069).EventEmitter,P=se(3424),J=se(9471),Q=se(7075),oe=se(2564),ye=se(1753),Fe=se(6775),pt=se(3569),Te=se(2777);function qe(Me){this._eventEmitter=new t,this.options=Y({},this.options,Me),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new pt}qe.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(Me){return Me.place_name},render:function(Me){var Je=Me.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+Je[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+Je.splice(1,Je.length).join(",")+"</div></div>"}},addTo:function(Me){function Je(yt,Ke){if(!document.body.contains(Ke))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const Ve=yt.onAdd();Ke.appendChild(Ve)}if(Me._controlContainer)Me.addControl(this);else if(Me instanceof HTMLElement)Je(this,Me);else{if("string"!=typeof Me)throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element");{const yt=document.querySelectorAll(Me);if(0===yt.length)throw new Error("Element ",Me,"not found.");if(yt.length>1)throw new Error("Geocoder can only be added to a single html element");Je(this,yt[0])}}},onAdd:function(Me){if(Me&&"string"!=typeof Me&&(this._map=Me),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=Q(J({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new oe(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var Je=this.container=document.createElement("div");Je.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var yt=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",A(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(kt){this.eventManager.keyevent(kt,this)}.bind(this));var Ke=document.createElement("div");Ke.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var Ve=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(Ve),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),Ke.appendChild(this._clearEl),Ke.appendChild(this._loadingEl),Je.appendChild(yt),Je.appendChild(this._inputEl),Je.appendChild(Ke),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var ut=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(ut),Ke.appendChild(this._geolocateEl),this._showGeolocateButton()}var He=this._typeahead=new te(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),He.getItemValue=this.options.getItemValue;var bt=He.list.draw,Yt=this._footerNode=function Mt(){var Me=document.createElement("div");return Me.className="mapboxgl-ctrl-geocoder--powered-by",Me.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',Me}();return He.list.draw=function(){bt.call(this),Yt.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),Yt.addEventListener("mouseup",function(){this.selectingListItem=!1}.bind(this)),this.element.appendChild(Yt)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),Je},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then(function(Me){this._hideLoadingIcon();const Je={geometry:{type:"Point",coordinates:[Me.coords.longitude,Me.coords.latitude]}};this._handleMarker(Je),this._fly(Je),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(Je),this._showClearButton(),this.fresh=!1;const yt={limit:1,language:[this.options.language],query:Je.geometry.coordinates,types:["address"]};this.options.localGeocoderOnly?(this._setInputValue(Je.geometry.coordinates[0]+","+Je.geometry.coordinates[1]),this._eventEmitter.emit("result",{result:Je})):this.geocoderService.reverseGeocode(yt).send().then(function(Ke){const Ve=Ke.body.features[0];if(Ve){const ut=Te.transformFeatureToGeolocationText(Ve,this.options.addressAccuracy);this._setInputValue(ut),Ve.user_coordinates=Je.geometry.coordinates,this._eventEmitter.emit("result",{result:Ve})}else this._eventEmitter.emit("result",{result:{user_coordinates:Je.geometry.coordinates}})}.bind(this))}.bind(this)).catch(function(Me){1===Me.code?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}.bind(this))},createIcon:function(Me,Je){var yt=document.createElementNS("http://www.w3.org/2000/svg","svg");return yt.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+Me),yt.setAttribute("viewBox","0 0 18 18"),yt.setAttribute("xml:space","preserve"),yt.setAttribute("width",18),yt.setAttribute("height",18),yt.innerHTML=Je,yt},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(Me){this._inputEl.value=Me,setTimeout(function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}.bind(this),1)},_onPaste:function(Me){var Je=(Me.clipboardData||window.clipboardData).getData("text");Je.length>=this.options.minLength&&this._geocode(Je)},_onKeyDown:function(Me){var Je=27,yt=9;if(Me.keyCode===Je&&this.options.clearAndBlurOnEsc)return this._clear(Me),this._inputEl.blur();var Ke=Me.target&&Me.target.shadowRoot?Me.target.shadowRoot.activeElement:Me.target;if(!Ke||!Ke.value)return this.fresh=!0,Me.keyCode!==yt&&this.clear(Me),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!Me.metaKey&&-1===[yt,Je,37,39,13,38,40].indexOf(Me.keyCode)&&Ke.value.length>=this.options.minLength&&this._geocode(Ke.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(Me){this.options.clearOnBlur&&this._clearOnBlur(Me),this.options.collapsed&&this._collapse()},_onChange:function(){var Me=this._typeahead.selected;Me&&JSON.stringify(Me)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(Me),this.options.marker&&this._mapboxgl&&this._handleMarker(Me),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(Me),this._eventEmitter.emit("result",{result:Me}),this.eventManager.select(Me,this))},_fly:function(Me){var Je;if(Me.properties&&P[Me.properties.short_code])Je=Y({},this.options.flyTo),this._map&&this._map.fitBounds(P[Me.properties.short_code].bbox,Je);else if(Me.bbox){var yt=Me.bbox;Je=Y({},this.options.flyTo),this._map&&this._map.fitBounds([[yt[0],yt[1]],[yt[2],yt[3]]],Je)}else Je=Y({},{zoom:this.options.zoom},this.options.flyTo),Me.center?Je.center=Me.center:Me.geometry&&Me.geometry.type&&"Point"===Me.geometry.type&&Me.geometry.coordinates&&(Je.center=Me.geometry.coordinates),this._map&&this._map.flyTo(Je)},_requestType:function(Me,Je){return Me.localGeocoderOnly?1:Me.reverseGeocode&&Te.REVERSE_GEOCODE_COORD_RGX.test(Je)?2:0},_setupConfig:function(Me,Je){const Ke=/[\s,]+/;var Ve=this,ut=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"].reduce(function(bt,Yt){return null==Ve.options[Yt]||(bt[Yt]=["countries","types","language"].indexOf(Yt)>-1?Ve.options[Yt].split(Ke):Ve.options[Yt],"proximity"===Yt&&"number"==typeof Ve.options[Yt].longitude&&"number"==typeof Ve.options[Yt].latitude&&(bt[Yt]=[Ve.options[Yt].longitude,Ve.options[Yt].latitude])),bt},{});switch(Me){case 2:var He=Je.split(Ke).map(function(bt){return parseFloat(bt,10)});Ve.options.flipCoordinates||He.reverse(),ut=Y(ut,{query:He,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(bt){bt in ut&&delete ut[bt]});break;case 0:{const bt=Je.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(bt)&&(Je=Je.replace(/,/g," ")),ut=Y(ut,{query:Je})}}return ut},_geocode:function(Me){this.inputString=Me,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:Me});const Je=this._requestType(this.options,Me),yt=this._setupConfig(Je,Me);var Ke;switch(Je){case 1:Ke=Promise.resolve();break;case 0:Ke=this.geocoderService.forwardGeocode(yt).send();break;case 2:Ke=this.geocoderService.reverseGeocode(yt).send()}var Ve=this.options.localGeocoder&&this.options.localGeocoder(Me)||[],ut=[],He=null;return Ke.catch(function(bt){He=bt}.bind(this)).then(function(bt){this._hideLoadingIcon();var Yt={};return bt?"200"==bt.statusCode&&((Yt=bt.body).request=bt.request,Yt.headers=bt.headers):Yt={type:"FeatureCollection",features:[]},Yt.config=yt,this.fresh&&(this.eventManager.start(this),this.fresh=!1),Yt.features=Yt.features?Ve.concat(Yt.features):Ve,this.options.externalGeocoder?(ut=this.options.externalGeocoder(Me,Yt.features)||Promise.resolve([])).then(function(kt){return Yt.features=Yt.features?kt.concat(Yt.features):kt,Yt},function(){return Yt}):Yt}.bind(this)).then(function(bt){if(He)throw He;this.options.filter&&bt.features.length&&(bt.features=bt.features.filter(this.options.filter)),bt.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",bt),this._typeahead.update(bt.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",bt))}.bind(this)).catch(function(bt){this._hideLoadingIcon(),this._hideAttribution(),Ve.length&&this.options.localGeocoder||ut.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(Ve)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:Ve}),this._eventEmitter.emit("error",{error:bt})}.bind(this)),Ke},_clear:function(Me){Me&&Me.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(Me){this._clear(Me),this._inputEl.focus()},_clearOnBlur:function(Me){Me.relatedTarget&&this._clear(Me)},_onQueryResult:function(Me){var Je=Me.body;if(Je.features.length){var yt=Je.features[0];this._typeahead.selected=yt,this._inputEl.value=yt.place_name,this._onChange()}},_updateProximity:function(){if(this._map&&this.options.trackProximity)if(this._map.getZoom()>9){var Me=this._map.getCenter().wrap();this.setProximity({longitude:Me.lng,latitude:Me.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(Me){return this._geocode(Me).then(this._onQueryResult),this},_renderError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>")},_renderLocationError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>")},_renderNoResults:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>")},_renderUserDeniedGeolocationError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>")},_renderMessage:function(Me){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(Me)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var Me=this.options.language.split(",")[0],Je=Fe.language(Me),yt=ye.placeholder[Je];if(yt)return yt}return"Search"},setInput:function(Me){return this._inputEl.value=Me,this._typeahead.selected=null,this._typeahead.clear(),Me.length>=this.options.minLength&&this._geocode(Me),this},setProximity:function(Me,Je=!0){return this.options.proximity=Me,Je&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(Me){return Me&&"function"==typeof Me&&(this._typeahead.render=Me),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(Me){var Je=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=Me||this.options.language||Je,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(Me){return this.options.zoom=Me,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(Me){return this.options.flyTo=Me,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(Me){return this.placeholder=Me||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(Me){return this.options.bbox=Me,this},getCountries:function(){return this.options.countries},setCountries:function(Me){return this.options.countries=Me,this},getTypes:function(){return this.options.types},setTypes:function(Me){return this.options.types=Me,this},getMinLength:function(){return this.options.minLength},setMinLength:function(Me){return this.options.minLength=Me,this._typeahead&&(this._typeahead.options.minLength=Me),this},getLimit:function(){return this.options.limit},setLimit:function(Me){return this.options.limit=Me,this._typeahead&&(this._typeahead.options.limit=Me),this},getFilter:function(){return this.options.filter},setFilter:function(Me){return this.options.filter=Me,this},setOrigin:function(Me){return this.options.origin=Me,this.geocoderService=Q(J({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(Me){return this.options.accessToken=Me,this.geocoderService=Q(J({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(Me){return this.options.autocomplete=Me,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(Me){return this.options.fuzzyMatch=Me,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(Me){return this.options.routing=Me,this},getRouting:function(){return this.options.routing},setWorldview:function(Me){return this.options.worldview=Me,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(Me){if(this._map){this._removeMarker();var yt=Y({},{color:"#4668F2"},this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(yt),Me.center?this.mapMarker.setLngLat(Me.center).addTo(this._map):Me.geometry&&Me.geometry.type&&"Point"===Me.geometry.type&&Me.geometry.coordinates&&this.mapMarker.setLngLat(Me.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(Me,Je){return this._eventEmitter.on(Me,Je),this},off:function(Me,Je){return this._eventEmitter.removeListener(Me,Je),this.eventManager.remove(),this}},ze.exports=qe},1753:ze=>{"use strict";ze.exports={placeholder:{de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"\u05dc\u05d7\u05e4\u05e9",ja:"\u30b5\u30fc\u30c1",lv:"Mekl\u0113t",pt:"Procurar",sr:"\u041f\u0440\u0435\u0442\u0440\u0430\u0433\u0430",zh:"\u641c\u7d22",cs:"Vyhled\xe1v\xe1n\xed",hu:"Keres\xe9s",ka:"\u10eb\u10d8\u10d4\u10d1\u10d0",nb:"S\xf8ke",sk:"Vyh\u013ead\xe1vanie",th:"\u0e04\u0e49\u0e19\u0e2b\u0e32",fi:"Hae",is:"Leita",ko:"\uc218\uc0c9",pl:"Szukaj",sl:"Iskanje",fa:"\u062c\u0633\u062a\u062c\u0648",ru:"\u041f\u043e\u0438\u0441\u043a"}}},2777:ze=>{function se(A){const Y=A.address||"",t=A.text||"",P=A.place_name||"",Q={address:P.split(",")[0],houseNumber:Y,street:t,placeName:P};return A.context.forEach(function(oe){const ye=oe.id.split(".")[0];Q[ye]=oe.text}),Q}ze.exports={transformFeatureToGeolocationText:function Ye(A,Y){const t=se(A),P=["address","street","place","country"];if("function"==typeof Y)return Y(t);const Q=P.indexOf(Y);return(-1===Q?P:P.slice(Q)).reduce(function(oe,ye){return t[ye]?(""!==oe&&(oe+=", "),oe+t[ye]):oe},"")},getAddressInfo:se,REVERSE_GEOCODE_COORD_RGX:/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/}},9471:(ze,Ye,se)=>{"use strict";var te=se(7454);ze.exports=te},7454:(ze,Ye,se)=>{"use strict";var te=se(753),A=se(4176);function Y(P){A.call(this,P)}(Y.prototype=Object.create(A.prototype)).constructor=Y,Y.prototype.sendRequest=te.browserSend,Y.prototype.abortRequest=te.browserAbort,ze.exports=function t(P){return new Y(P)}},753:(ze,Ye,se)=>{"use strict";var te=se(4332),A=se(6158),Y=se(9719),t=se(8829),P={};function oe(Te){var gt=Te.total,Mt=Te.loaded;return{total:gt,transferred:Mt,percent:100*Mt/gt}}function ye(Te,gt){return new Promise(function(Mt,qe){gt.onprogress=function(yt){Te.emitter.emit(Y.EVENT_PROGRESS_DOWNLOAD,oe(yt))};var Me=Te.file;Me&&(gt.upload.onprogress=function(yt){Te.emitter.emit(Y.EVENT_PROGRESS_UPLOAD,oe(yt))}),gt.onerror=function(yt){qe(yt)},gt.onabort=function(){var yt=new A({request:Te,type:Y.ERROR_REQUEST_ABORTED});qe(yt)},gt.onload=function(){if(delete P[Te.id],gt.status<200||gt.status>=400){var yt=new A({request:Te,body:gt.response,statusCode:gt.status});qe(yt)}else Mt(gt)};var Je=Te.body;"string"==typeof Je?gt.send(Je):Je?gt.send(JSON.stringify(Je)):Me?gt.send(Me):gt.send(),P[Te.id]=gt}).then(function(Mt){return function Q(Te,gt){return new te(Te,{body:gt.response,headers:t(gt.getAllResponseHeaders()),statusCode:gt.status})}(Te,Mt)})}function Fe(Te,gt){var Mt=Te.url(gt),qe=new window.XMLHttpRequest;return qe.open(Te.method,Mt),Object.keys(Te.headers).forEach(function(Me){qe.setRequestHeader(Me,Te.headers[Me])}),qe}ze.exports={browserAbort:function J(Te){var gt=P[Te.id];!gt||(gt.abort(),delete P[Te.id])},sendRequestXhr:ye,browserSend:function pt(Te){return Promise.resolve().then(function(){var gt=Fe(Te,Te.client.accessToken);return ye(Te,gt)})},createRequestXhr:Fe}},4176:(ze,Ye,se)=>{"use strict";var te=se(8129),A=se(4538),Y=se(9719);function t(P){if(!P||!P.accessToken)throw new Error("Cannot create a client without an access token");te(P.accessToken),this.accessToken=P.accessToken,this.origin=P.origin||Y.API_ORIGIN}t.prototype.createRequest=function(J){return new A(this,J)},ze.exports=t},6158:(ze,Ye,se)=>{"use strict";var te=se(9719);ze.exports=function A(Y){var P,t=Y.type||te.ERROR_HTTP;if(Y.body)try{P=JSON.parse(Y.body)}catch(Q){P=Y.body}else P=null;var J=Y.message||null;J||("string"==typeof P?J=P:P&&"string"==typeof P.message?J=P.message:t===te.ERROR_REQUEST_ABORTED&&(J="Request aborted")),this.message=J,this.type=t,this.statusCode=Y.statusCode||null,this.request=Y.request,this.body=P}},4538:(ze,Ye,se)=>{"use strict";var te=se(8129),A=se(4703),Y=se(6661),t=se(3449),P=se(9719),J=1;function Q(oe,ye){if(!oe)throw new Error("MapiRequest requires a client");if(!ye||!ye.path||!ye.method)throw new Error("MapiRequest requires an options object with path and method properties");var Fe={};ye.body&&(Fe["content-type"]="application/json");var pt=A(Fe,ye.headers),Te=Object.keys(pt).reduce(function(gt,Mt){return gt[Mt.toLowerCase()]=pt[Mt],gt},{});this.id=J++,this._options=ye,this.emitter=new Y,this.client=oe,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=ye.path,this.method=ye.method,this.origin=ye.origin||oe.origin,this.query=ye.query||{},this.params=ye.params||{},this.body=ye.body||null,this.file=ye.file||null,this.encoding=ye.encoding||"utf8",this.sendFileAs=ye.sendFileAs||null,this.headers=Te}Q.prototype.url=function(ye){var Fe=t.prependOrigin(this.path,this.origin);Fe=t.appendQueryObject(Fe,this.query);var pt=this.params,Te=null==ye?this.client.accessToken:ye;if(Te){Fe=t.appendQueryParam(Fe,"access_token",Te);var gt=te(Te).user;pt=A({ownerId:gt},pt)}return t.interpolateRouteParams(Fe,pt)},Q.prototype.send=function(){var ye=this;if(ye.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return ye.sent=!0,ye.client.sendRequest(ye).then(function(Fe){return ye.response=Fe,ye.emitter.emit(P.EVENT_RESPONSE,Fe),Fe},function(Fe){throw ye.error=Fe,ye.emitter.emit(P.EVENT_ERROR,Fe),Fe})},Q.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))},Q.prototype.eachPage=function(ye){var Fe=this;function pt(Mt){ye(null,Mt,function qe(){delete Fe._nextPageRequest;var Me=Mt.nextPage();Me&&(Fe._nextPageRequest=Me,gt(Me))})}function Te(Mt){ye(Mt,null,function(){})}function gt(Mt){Mt.send().then(pt,Te)}gt(this)},Q.prototype.clone=function(){return this._extend()},Q.prototype._extend=function(ye){var Fe=A(this._options,ye);return new Q(this.client,Fe)},ze.exports=Q},4332:(ze,Ye,se)=>{"use strict";var te=se(5699);function A(Y,t){this.request=Y,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch(P){this.body=t.body}this.links=te(this.headers.link)}A.prototype.hasNextPage=function(){return!!this.links.next},A.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},ze.exports=A},9719:ze=>{"use strict";ze.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}},8829:ze=>{"use strict";ze.exports=function se(te){var A={};return te&&te.trim().split(/[\r|\n]+/).forEach(function(Y){var t=function Ye(te){var A=te.indexOf(":");return{name:te.substring(0,A).trim().toLowerCase(),value:te.substring(A+1).trim()}}(Y);A[t.name]=t.value}),A}},5699:ze=>{"use strict";ze.exports=function te(A){return A?A.split(/,\s*</).reduce(function(Y,t){var P=function se(A){var Y=A.match(/<?([^>]*)>(.*)/);if(!Y)return null;var t=Y[1],P=Y[2].split(";"),J=null,Q=P.reduce(function(oe,ye){var Fe=function Ye(A){var Y=A.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return Y?{key:Y[1],value:Y[2]}:null}(ye);return Fe?"rel"===Fe.key?(J||(J=Fe.value),oe):(oe[Fe.key]=Fe.value,oe):oe},{});return J?{url:t,rel:J,params:Q}:null}(t);return P?(P.rel.split(/\s+/).forEach(function(Q){Y[Q]||(Y[Q]={url:P.url,params:P.params})}),Y):Y},{}):{}}},3449:ze=>{"use strict";function se(P){return Array.isArray(P)?function Ye(P){return P.map(encodeURIComponent).join(",")}(P):encodeURIComponent(String(P))}function te(P,J,Q){if(!1===Q||null===Q)return P;var oe=/\?/.test(P)?"&":"?",ye=encodeURIComponent(J);return void 0!==Q&&""!==Q&&!0!==Q&&(ye+="="+se(Q)),""+P+oe+ye}ze.exports={appendQueryObject:function A(P,J){if(!J)return P;var Q=P;return Object.keys(J).forEach(function(oe){var ye=J[oe];void 0!==ye&&(Array.isArray(ye)&&(ye=ye.filter(function(Fe){return null!=Fe}).join(",")),Q=te(Q,oe,ye))}),Q},appendQueryParam:te,prependOrigin:function Y(P,J){if(!J||"http"===P.slice(0,4))return P;var Q="/"===P[0]?"":"/";return""+J.replace(/\/$/,"")+Q+P},interpolateRouteParams:function t(P,J){return J?P.replace(/\/:([a-zA-Z0-9]+)/g,function(Q,oe){var ye=J[oe];if(void 0===ye)throw new Error("Unspecified route parameter "+oe);return"/"+se(ye)}):P}}},6661:ze=>{"use strict";var Ye=Object.prototype.hasOwnProperty,se="~";function te(){}function A(J,Q,oe){this.fn=J,this.context=Q,this.once=oe||!1}function Y(J,Q,oe,ye,Fe){if("function"!=typeof oe)throw new TypeError("The listener must be a function");var pt=new A(oe,ye||J,Fe),Te=se?se+Q:Q;return J._events[Te]?J._events[Te].fn?J._events[Te]=[J._events[Te],pt]:J._events[Te].push(pt):(J._events[Te]=pt,J._eventsCount++),J}function t(J,Q){0==--J._eventsCount?J._events=new te:delete J._events[Q]}function P(){this._events=new te,this._eventsCount=0}Object.create&&(te.prototype=Object.create(null),(new te).__proto__||(se=!1)),P.prototype.eventNames=function(){var oe,ye,Q=[];if(0===this._eventsCount)return Q;for(ye in oe=this._events)Ye.call(oe,ye)&&Q.push(se?ye.slice(1):ye);return Object.getOwnPropertySymbols?Q.concat(Object.getOwnPropertySymbols(oe)):Q},P.prototype.listeners=function(Q){var ye=this._events[se?se+Q:Q];if(!ye)return[];if(ye.fn)return[ye.fn];for(var Fe=0,pt=ye.length,Te=new Array(pt);Fe<pt;Fe++)Te[Fe]=ye[Fe].fn;return Te},P.prototype.listenerCount=function(Q){var ye=this._events[se?se+Q:Q];return ye?ye.fn?1:ye.length:0},P.prototype.emit=function(Q,oe,ye,Fe,pt,Te){var gt=se?se+Q:Q;if(!this._events[gt])return!1;var Me,Je,Mt=this._events[gt],qe=arguments.length;if(Mt.fn){switch(Mt.once&&this.removeListener(Q,Mt.fn,void 0,!0),qe){case 1:return Mt.fn.call(Mt.context),!0;case 2:return Mt.fn.call(Mt.context,oe),!0;case 3:return Mt.fn.call(Mt.context,oe,ye),!0;case 4:return Mt.fn.call(Mt.context,oe,ye,Fe),!0;case 5:return Mt.fn.call(Mt.context,oe,ye,Fe,pt),!0;case 6:return Mt.fn.call(Mt.context,oe,ye,Fe,pt,Te),!0}for(Je=1,Me=new Array(qe-1);Je<qe;Je++)Me[Je-1]=arguments[Je];Mt.fn.apply(Mt.context,Me)}else{var Ke,yt=Mt.length;for(Je=0;Je<yt;Je++)switch(Mt[Je].once&&this.removeListener(Q,Mt[Je].fn,void 0,!0),qe){case 1:Mt[Je].fn.call(Mt[Je].context);break;case 2:Mt[Je].fn.call(Mt[Je].context,oe);break;case 3:Mt[Je].fn.call(Mt[Je].context,oe,ye);break;case 4:Mt[Je].fn.call(Mt[Je].context,oe,ye,Fe);break;default:if(!Me)for(Ke=1,Me=new Array(qe-1);Ke<qe;Ke++)Me[Ke-1]=arguments[Ke];Mt[Je].fn.apply(Mt[Je].context,Me)}}return!0},P.prototype.on=function(Q,oe,ye){return Y(this,Q,oe,ye,!1)},P.prototype.once=function(Q,oe,ye){return Y(this,Q,oe,ye,!0)},P.prototype.removeListener=function(Q,oe,ye,Fe){var pt=se?se+Q:Q;if(!this._events[pt])return this;if(!oe)return t(this,pt),this;var Te=this._events[pt];if(Te.fn)Te.fn===oe&&(!Fe||Te.once)&&(!ye||Te.context===ye)&&t(this,pt);else{for(var gt=0,Mt=[],qe=Te.length;gt<qe;gt++)(Te[gt].fn!==oe||Fe&&!Te[gt].once||ye&&Te[gt].context!==ye)&&Mt.push(Te[gt]);Mt.length?this._events[pt]=1===Mt.length?Mt[0]:Mt:t(this,pt)}return this},P.prototype.removeAllListeners=function(Q){var oe;return Q?this._events[oe=se?se+Q:Q]&&t(this,oe):(this._events=new te,this._eventsCount=0),this},P.prototype.off=P.prototype.removeListener,P.prototype.addListener=P.prototype.on,P.prefixed=se,P.EventEmitter=P,ze.exports=P},7075:(ze,Ye,se)=>{"use strict";var te=se(4703),A=se(9801),Y=se(4313),t=se(1836),P=se(497),J={},Q=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];J.forwardGeocode=function(oe){A.assertShape({query:A.required(A.string),mode:A.oneOf("mapbox.places","mapbox.places-permanent"),countries:A.arrayOf(A.string),proximity:A.oneOf(A.coordinates,"ip"),types:A.arrayOf(A.oneOf(Q)),autocomplete:A.boolean,bbox:A.arrayOf(A.number),limit:A.number,language:A.arrayOf(A.string),routing:A.boolean,fuzzyMatch:A.boolean,worldview:A.string})(oe),oe.mode=oe.mode||"mapbox.places";var ye=t(te({country:oe.countries},Y(oe,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Y(oe,["mode","query"]),query:ye})},J.reverseGeocode=function(oe){A.assertShape({query:A.required(A.coordinates),mode:A.oneOf("mapbox.places","mapbox.places-permanent"),countries:A.arrayOf(A.string),types:A.arrayOf(A.oneOf(Q)),bbox:A.arrayOf(A.number),limit:A.number,language:A.arrayOf(A.string),reverseMode:A.oneOf("distance","score"),routing:A.boolean,worldview:A.string})(oe),oe.mode=oe.mode||"mapbox.places";var ye=t(te({country:oe.countries},Y(oe,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Y(oe,["mode","query"]),query:ye})},ze.exports=P(J)},497:(ze,Ye,se)=>{"use strict";var te=se(4176),A=se(7454);ze.exports=function Y(t){return function(P){var J;J=te.prototype.isPrototypeOf(P)?P:A(P);var Q=Object.create(t);return Q.client=J,Q}}},5621:ze=>{"use strict";ze.exports=function Ye(se,te){return Object.keys(se).reduce(function(A,Y){return A[Y]=te(Y,se[Y]),A},{})}},4313:ze=>{"use strict";ze.exports=function Ye(se,te){var A=function(Y,t){return-1!==te.indexOf(Y)&&void 0!==t};return"function"==typeof te&&(A=te),Object.keys(se).filter(function(Y){return A(Y,se[Y])}).reduce(function(Y,t){return Y[t]=se[t],Y},{})}},1836:(ze,Ye,se)=>{"use strict";var te=se(5621);ze.exports=function A(Y){return te(Y,function(t,P){return"boolean"==typeof P?JSON.stringify(P):P})}},9801:(ze,Ye,se)=>{"use strict";var te=se(4703),A=se(6089);ze.exports=te(A,{file:function Y(Q){return"undefined"!=typeof window?Q instanceof global.Blob||Q instanceof global.ArrayBuffer?void 0:"Blob or ArrayBuffer":"string"!=typeof Q&&void 0===Q.pipe?"Filename or Readable stream":void 0},date:function P(Q){var oe="date";if("boolean"==typeof Q)return oe;try{var ye=new Date(Q);if(ye.getTime&&isNaN(ye.getTime()))return oe}catch(Fe){return oe}},coordinates:function J(Q){return A.tuple(A.number,A.number)(Q)},assertShape:function t(Q,oe){return A.assert(A.strictShape(Q),oe)}})},8129:(ze,Ye,se)=>{"use strict";var te=se(2049),A={};function P(J,Q){return Object.prototype.hasOwnProperty.call(J,Q)}ze.exports=function Y(J){if(A[J])return A[J];var Q=J.split("."),oe=Q[0],ye=Q[1];if(!ye)throw new Error("Invalid token");var Fe=function t(J){try{return JSON.parse(te.decode(J))}catch(Q){throw new Error("Invalid token")}}(ye),pt={usage:oe,user:Fe.u};return P(Fe,"a")&&(pt.authorization=Fe.a),P(Fe,"exp")&&(pt.expires=1e3*Fe.exp),P(Fe,"iat")&&(pt.created=1e3*Fe.iat),P(Fe,"scopes")&&(pt.scopes=Fe.scopes),P(Fe,"client")&&(pt.client=Fe.client),P(Fe,"ll")&&(pt.lastLogin=Fe.ll),P(Fe,"iu")&&(pt.impersonator=Fe.iu),A[J]=pt,pt}},1838:(ze,Ye,se)=>{"use strict";se.r(Ye),se.d(Ye,{AdminLayoutModule:()=>Fv});var te=se(2131),A=se(9808),Y=se(3075),t=se(5e3),P=se(591);const ye=function oe(y,v){return y===v||y!=y&&v!=v},pt=function Fe(y,v){for(var s=y.length;s--;)if(ye(y[s][0],v))return s;return-1};var gt=Array.prototype.splice;function He(y){var v=-1,s=null==y?0:y.length;for(this.clear();++v<s;){var m=y[v];this.set(m[0],m[1])}}He.prototype.clear=function J(){this.__data__=[],this.size=0},He.prototype.delete=function Mt(y){var v=this.__data__,s=pt(v,y);return!(s<0||(s==v.length-1?v.pop():gt.call(v,s,1),--this.size,0))},He.prototype.get=function Me(y){var v=this.__data__,s=pt(v,y);return s<0?void 0:v[s][1]},He.prototype.has=function yt(y){return pt(this.__data__,y)>-1},He.prototype.set=function Ve(y,v){var s=this.__data__,m=pt(s,y);return m<0?(++this.size,s.push([y,v])):s[m][1]=v,this};const bt=He,on="object"==typeof global&&global&&global.Object===Object&&global;var Tn="object"==typeof self&&self&&self.Object===Object&&self;const Li=on||Tn||Function("return this")(),jn=Li.Symbol;var Rn=Object.prototype,Ut=Rn.hasOwnProperty,Er=Rn.toString,Yi=jn?jn.toStringTag:void 0;var Fr=Object.prototype.toString;var kn=jn?jn.toStringTag:void 0;const Wr=function Ui(y){return null==y?void 0===y?"[object Undefined]":"[object Null]":kn&&kn in Object(y)?function Wn(y){var v=Ut.call(y,Yi),s=y[Yi];try{y[Yi]=void 0;var m=!0}catch(j){}var S=Er.call(y);return m&&(v?y[Yi]=s:delete y[Yi]),S}(y):function Ss(y){return Fr.call(y)}(y)},ni=function tr(y){var v=typeof y;return null!=y&&("object"==v||"function"==v)},yr=function Hi(y){if(!ni(y))return!1;var v=Wr(y);return"[object Function]"==v||"[object GeneratorFunction]"==v||"[object AsyncFunction]"==v||"[object Proxy]"==v};var y,Bi=Li["__core-js_shared__"],di=(y=/[^.]+$/.exec(Bi&&Bi.keys&&Bi.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"";var Gt=Function.prototype.toString;const vr=function ea(y){if(null!=y){try{return Gt.call(y)}catch(v){}try{return y+""}catch(v){}}return""};var ke=/^\[object .+?Constructor\]$/,Be=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ue=function We(y){return!(!ni(y)||function cr(y){return!!di&&di in y}(y))&&(yr(y)?Be:ke).test(vr(y))},St=function wt(y,v){var s=function X(y,v){return null==y?void 0:y[v]}(y,v);return Ue(s)?s:void 0},ti=St(Li,"Map"),Xt=St(Object,"create");var Ti=Object.prototype.hasOwnProperty;var qn=Object.prototype.hasOwnProperty;function zr(y){var v=-1,s=null==y?0:y.length;for(this.clear();++v<s;){var m=y[v];this.set(m[0],m[1])}}zr.prototype.clear=function _t(){this.__data__=Xt?Xt(null):{},this.size=0},zr.prototype.delete=function pn(y){var v=this.has(y)&&delete this.__data__[y];return this.size-=v?1:0,v},zr.prototype.get=function Zn(y){var v=this.__data__;if(Xt){var s=v[y];return"__lodash_hash_undefined__"===s?void 0:s}return Ti.call(v,y)?v[y]:void 0},zr.prototype.has=function Nn(y){var v=this.__data__;return Xt?void 0!==v[y]:qn.call(v,y)},zr.prototype.set=function br(y,v){var s=this.__data__;return this.size+=this.has(y)?0:1,s[y]=Xt&&void 0===v?"__lodash_hash_undefined__":v,this};const yn=zr,Pa=function _a(y,v){var s=y.__data__;return function Bo(y){var v=typeof y;return"string"==v||"number"==v||"symbol"==v||"boolean"==v?"__proto__"!==y:null===y}(v)?s["string"==typeof v?"string":"hash"]:s.map};function vn(y){var v=-1,s=null==y?0:y.length;for(this.clear();++v<s;){var m=y[v];this.set(m[0],m[1])}}vn.prototype.clear=function an(){this.size=0,this.__data__={hash:new yn,map:new(ti||bt),string:new yn}},vn.prototype.delete=function at(y){var v=Pa(this,y).delete(y);return this.size-=v?1:0,v},vn.prototype.get=function zn(y){return Pa(this,y).get(y)},vn.prototype.has=function Yl(y){return Pa(this,y).has(y)},vn.prototype.set=function ss(y,v){var s=Pa(this,y),m=s.size;return s.set(y,v),this.size+=s.size==m?0:1,this};const Ot=vn;function Hn(y){var v=this.__data__=new bt(y);this.size=v.size}Hn.prototype.clear=function Yt(){this.__data__=new bt,this.size=0},Hn.prototype.delete=function Wt(y){var v=this.__data__,s=v.delete(y);return this.size=v.size,s},Hn.prototype.get=function wi(y){return this.__data__.get(y)},Hn.prototype.has=function gr(y){return this.__data__.has(y)},Hn.prototype.set=function si(y,v){var s=this.__data__;if(s instanceof bt){var m=s.__data__;if(!ti||m.length<199)return m.push([y,v]),this.size=++s.size,this;s=this.__data__=new Ot(m)}return s.set(y,v),this.size=s.size,this};const oi=Hn;var Oa=function(){try{var y=St(Object,"defineProperty");return y({},"",{}),y}catch(v){}}();const ir=Oa,jo=function Ci(y,v,s){"__proto__"==v&&ir?ir(y,v,{configurable:!0,enumerable:!0,value:s,writable:!0}):y[v]=s};var os=Object.prototype.hasOwnProperty;const Gr=function na(y,v,s){var m=y[v];(!os.call(y,v)||!ye(m,s)||void 0===s&&!(v in y))&&jo(y,v,s)},Fa=function ls(y,v,s,m){var S=!s;s||(s={});for(var j=-1,ue=v.length;++j<ue;){var Ce=v[j],Ne=m?m(s[Ce],y[Ce],Ce,s,y):void 0;void 0===Ne&&(Ne=y[Ce]),S?jo(s,Ce,Ne):Gr(s,Ce,Ne)}return s},Bn=function Es(y){return null!=y&&"object"==typeof y},No=function dl(y){return Bn(y)&&"[object Arguments]"==Wr(y)};var dr=Object.prototype,Zr=dr.hasOwnProperty,Bl=dr.propertyIsEnumerable,fo=No(function(){return arguments}())?No:function(y){return Bn(y)&&Zr.call(y,"callee")&&!Bl.call(y,"callee")};const Vi=fo,_o=Array.isArray;var xr="object"==typeof exports&&exports&&!exports.nodeType&&exports,$s=xr&&"object"==typeof module&&module&&!module.nodeType&&module,ar=$s&&$s.exports===xr?Li.Buffer:void 0;const As=(ar?ar.isBuffer:void 0)||function za(){return!1};var nr=/^(?:0|[1-9]\d*)$/;const Is=function hl(y,v){var s=typeof y;return!!(v=null==v?9007199254740991:v)&&("number"==s||"symbol"!=s&&nr.test(y))&&y>-1&&y%1==0&&y<v},Wi=function Ps(y){return"number"==typeof y&&y>-1&&y%1==0&&y<=9007199254740991};var ln={};ln["[object Float32Array]"]=ln["[object Float64Array]"]=ln["[object Int8Array]"]=ln["[object Int16Array]"]=ln["[object Int32Array]"]=ln["[object Uint8Array]"]=ln["[object Uint8ClampedArray]"]=ln["[object Uint16Array]"]=ln["[object Uint32Array]"]=!0,ln["[object Arguments]"]=ln["[object Array]"]=ln["[object ArrayBuffer]"]=ln["[object Boolean]"]=ln["[object DataView]"]=ln["[object Date]"]=ln["[object Error]"]=ln["[object Function]"]=ln["[object Map]"]=ln["[object Number]"]=ln["[object Object]"]=ln["[object RegExp]"]=ln["[object Set]"]=ln["[object String]"]=ln["[object WeakMap]"]=!1;const ki=function Va(y){return function(v){return y(v)}};var aa="object"==typeof exports&&exports&&!exports.nodeType&&exports,Qs=aa&&"object"==typeof module&&module&&!module.nodeType&&module,to=Qs&&Qs.exports===aa&&on.process;const Nr=function(){try{return Qs&&Qs.require&&Qs.require("util").types||to&&to.binding&&to.binding("util")}catch(v){}}();var cn=Nr&&Nr.isTypedArray;const Ua=cn?ki(cn):function Ha(y){return Bn(y)&&Wi(y.length)&&!!ln[Wr(y)]};var Wo=Object.prototype.hasOwnProperty;const Ii=function Or(y,v){var s=_o(y),m=!s&&Vi(y),S=!s&&!m&&As(y),j=!s&&!m&&!S&&Ua(y),ue=s||m||S||j,Ce=ue?function Ya(y,v){for(var s=-1,m=Array(y);++s<y;)m[s]=v(s);return m}(y.length,String):[],Ne=Ce.length;for(var nt in y)(v||Wo.call(y,nt))&&(!ue||!("length"==nt||S&&("offset"==nt||"parent"==nt)||j&&("buffer"==nt||"byteLength"==nt||"byteOffset"==nt)||Is(nt,Ne)))&&Ce.push(nt);return Ce};var fl=Object.prototype;const Go=function bo(y){var v=y&&y.constructor;return y===("function"==typeof v&&v.prototype||fl)},Fs=function xo(y,v){return function(s){return y(v(s))}},Hr=Fs(Object.keys,Object);var ba=Object.prototype.hasOwnProperty;const Ys=function Wa(y){return null!=y&&Wi(y.length)&&!yr(y)},Zo=function _l(y){return Ys(y)?Ii(y):function no(y){if(!Go(y))return Hr(y);var v=[];for(var s in Object(y))ba.call(y,s)&&"constructor"!=s&&v.push(s);return v}(y)};var oc=Object.prototype.hasOwnProperty;const zs=function xa(y){if(!ni(y))return function Ga(y){var v=[];if(null!=y)for(var s in Object(y))v.push(s);return v}(y);var v=Go(y),s=[];for(var m in y)"constructor"==m&&(v||!oc.call(y,m))||s.push(m);return s},ro=function wo(y){return Ys(y)?Ii(y,!0):zs(y)};var Xr="object"==typeof exports&&exports&&!exports.nodeType&&exports,bs=Xr&&"object"==typeof module&&module&&!module.nodeType&&module,jl=bs&&bs.exports===Xr?Li.Buffer:void 0,Nl=jl?jl.allocUnsafe:void 0;const Mo=function Jr(){return[]};var To=Object.prototype.propertyIsEnumerable,gl=Object.getOwnPropertySymbols,wa=gl?function(y){return null==y?[]:(y=Object(y),function $o(y,v){for(var s=-1,m=null==y?0:y.length,S=0,j=[];++s<m;){var ue=y[s];v(ue,s,y)&&(j[S++]=ue)}return j}(gl(y),function(v){return To.call(y,v)}))}:Mo;const ca=wa,hr=function Ri(y,v){for(var s=-1,m=v.length,S=y.length;++s<m;)y[S+s]=v[s];return y},_n=Fs(Object.getPrototypeOf,Object);var Hl=Object.getOwnPropertySymbols?function(y){for(var v=[];y;)hr(v,ca(y)),y=_n(y);return v}:Mo;const Ms=Hl,js=function Xo(y,v,s){var m=v(y);return _o(y)?m:hr(m,s(y))},N=function $a(y){return js(y,Zo,ca)},de=function G(y){return js(y,ro,Ms)},rt=St(Li,"DataView"),pi=St(Li,"Promise"),Gi=St(Li,"Set"),un=St(Li,"WeakMap");var Ns="[object Map]",yl="[object Promise]",so="[object Set]",lc="[object WeakMap]",Jo="[object DataView]",Ko=vr(rt),cc=vr(ti),au=vr(pi),Pc=vr(Gi),Qo=vr(un),Hs=Wr;(rt&&Hs(new rt(new ArrayBuffer(1)))!=Jo||ti&&Hs(new ti)!=Ns||pi&&Hs(pi.resolve())!=yl||Gi&&Hs(new Gi)!=so||un&&Hs(new un)!=lc)&&(Hs=function(y){var v=Wr(y),s="[object Object]"==v?y.constructor:void 0,m=s?vr(s):"";if(m)switch(m){case Ko:return Jo;case cc:return Ns;case au:return yl;case Pc:return so;case Qo:return lc}return v});const oo=Hs;var Ul=Object.prototype.hasOwnProperty;const Wl=Li.Uint8Array,So=function vl(y){var v=new y.constructor(y.byteLength);return new Wl(v).set(new Wl(y)),v};var Oc=/\w*$/;var tl=jn?jn.prototype:void 0,pc=tl?tl.valueOf:void 0;const zc=function gc(y,v,s){var m=y.constructor;switch(v){case"[object ArrayBuffer]":return So(y);case"[object Boolean]":case"[object Date]":return new m(+y);case"[object DataView]":return function Xn(y,v){var s=v?So(y.buffer):y.buffer;return new y.constructor(s,y.byteOffset,y.byteLength)}(y,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Vs(y,v){var s=v?So(y.buffer):y.buffer;return new y.constructor(s,y.byteOffset,y.length)}(y,s);case"[object Map]":case"[object Set]":return new m;case"[object Number]":case"[object String]":return new m(y);case"[object RegExp]":return function Rc(y){var v=new y.constructor(y.source,Oc.exec(y));return v.lastIndex=y.lastIndex,v}(y);case"[object Symbol]":return function Co(y){return pc?Object(pc.call(y)):{}}(y)}};var yc=Object.create,nn=function(){function y(){}return function(v){if(!ni(v))return{};if(yc)return yc(v);y.prototype=v;var s=new y;return y.prototype=void 0,s}}();const ua=nn;var c=Nr&&Nr.isMap;const x=c?ki(c):function h(y){return Bn(y)&&"[object Map]"==oo(y)};var H=Nr&&Nr.isSet;const q=H?ki(H):function I(y){return Bn(y)&&"[object Set]"==oo(y)};var d="[object Arguments]",O="[object Function]",W="[object Object]",Dt={};Dt[d]=Dt["[object Array]"]=Dt["[object ArrayBuffer]"]=Dt["[object DataView]"]=Dt["[object Boolean]"]=Dt["[object Date]"]=Dt["[object Float32Array]"]=Dt["[object Float64Array]"]=Dt["[object Int8Array]"]=Dt["[object Int16Array]"]=Dt["[object Int32Array]"]=Dt["[object Map]"]=Dt["[object Number]"]=Dt[W]=Dt["[object RegExp]"]=Dt["[object Set]"]=Dt["[object String]"]=Dt["[object Symbol]"]=Dt["[object Uint8Array]"]=Dt["[object Uint8ClampedArray]"]=Dt["[object Uint16Array]"]=Dt["[object Uint32Array]"]=!0,Dt["[object Error]"]=Dt[O]=Dt["[object WeakMap]"]=!1;const ci=function Zt(y,v,s,m,S,j){var ue,Ce=1&v,Ne=2&v,nt=4&v;if(s&&(ue=S?s(y,m,S,j):s(y)),void 0!==ue)return ue;if(!ni(y))return y;var ht=_o(y);if(ht){if(ue=function Lo(y){var v=y.length,s=new y.constructor(v);return v&&"string"==typeof y[0]&&Ul.call(y,"index")&&(s.index=y.index,s.input=y.input),s}(y),!Ce)return function Za(y,v){var s=-1,m=y.length;for(v||(v=Array(m));++s<m;)v[s]=y[s];return v}(y,ue)}else{var Ht=oo(y),ui=Ht==O||"[object GeneratorFunction]"==Ht;if(As(y))return function oa(y,v){if(v)return y.slice();var s=y.length,m=Nl?Nl(s):new y.constructor(s);return y.copy(m),m}(y,Ce);if(Ht==W||Ht==d||ui&&!S){if(ue=Ne||ui?{}:function Ja(y){return"function"!=typeof y.constructor||Go(y)?{}:ua(_n(y))}(y),!Ce)return Ne?function qa(y,v){return Fa(y,Ms(y),v)}(y,function ys(y,v){return y&&Fa(v,ro(v),y)}(ue,y)):function sr(y,v){return Fa(y,ca(y),v)}(y,function qo(y,v){return y&&Fa(v,Zo(v),y)}(ue,y))}else{if(!Dt[Ht])return S?y:{};ue=zc(y,Ht,Ce)}}j||(j=new oi);var Qi=j.get(y);if(Qi)return Qi;j.set(y,ue),q(y)?y.forEach(function(Xi){ue.add(Zt(Xi,v,s,Xi,y,j))}):x(y)&&y.forEach(function(Xi,lr){ue.set(lr,Zt(Xi,v,s,lr,y,j))});var $i=ht?void 0:(nt?Ne?de:N:Ne?ro:Zo)(y);return function rr(y,v){for(var s=-1,m=null==y?0:y.length;++s<m&&!1!==v(y[s],s,y););}($i||y,function(Xi,lr){$i&&(Xi=y[lr=Xi]),Gr(ue,lr,Zt(Xi,v,s,lr,y,j))}),ue};var k=se(8332);const F=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]];function re(y,v){return"rgba("+y.concat(v).join(",")+")"}function me(y,v){return Math.floor(Math.random()*(v-y+1))+y}function Pt(y){return{backgroundColor:y.map(v=>re(v,.6)),borderColor:y.map(()=>"#fff"),pointBackgroundColor:y.map(v=>re(v,1)),pointBorderColor:y.map(()=>"#fff"),pointHoverBackgroundColor:y.map(v=>re(v,1)),pointHoverBorderColor:y.map(v=>re(v,1))}}function Di(){return[me(0,255),me(0,255),me(0,255)]}function Ai(y){return F[y]||Di()}function Vn(y){const v=new Array(y);for(let s=0;s<y;s++)v[s]=F[s]||Di();return v}let Us=(()=>{class y{constructor(){this.pColorschemesOptions={},this.colorschemesOptions=new P.X({})}setColorschemesOptions(s){this.pColorschemesOptions=s,this.colorschemesOptions.next(s)}getColorschemesOptions(){return this.pColorschemesOptions}}return y.\u0275fac=function(s){return new(s||y)},y.\u0275prov=(0,t.Yz7)({factory:function(){return new y},token:y,providedIn:"root"}),y})();const sn={Default:0,Update:1,Refresh:2};sn[sn.Default]="Default",sn[sn.Update]="Update",sn[sn.Refresh]="Refresh";let bl=(()=>{class y{constructor(s,m){this.element=s,this.themeService=m,this.options={},this.chartClick=new t.vpe,this.chartHover=new t.vpe,this.old={dataExists:!1,dataLength:0,datasetsExists:!1,datasetsLength:0,datasetsDataObjects:[],datasetsDataLengths:[],colorsExists:!1,colors:[],labelsExist:!1,labels:[],legendExists:!1,legend:{}},this.subs=[]}static registerPlugin(s){k.pluginService.register(s)}static unregisterPlugin(s){k.pluginService.unregister(s)}ngOnInit(){this.ctx=this.element.nativeElement.getContext("2d"),this.refresh(),this.subs.push(this.themeService.colorschemesOptions.subscribe(s=>this.themeChanged(s)))}themeChanged(s){this.refresh()}ngDoCheck(){if(!this.chart)return;let s=sn.Default;const m=S=>{s=S>s?S:s};switch(!!this.data!==this.old.dataExists&&(this.propagateDataToDatasets(this.data),this.old.dataExists=!!this.data,m(sn.Update)),this.data&&this.data.length!==this.old.dataLength&&(this.old.dataLength=this.data&&this.data.length||0,m(sn.Update)),!!this.datasets!==this.old.datasetsExists&&(this.old.datasetsExists=!!this.datasets,m(sn.Update)),this.datasets&&this.datasets.length!==this.old.datasetsLength&&(this.old.datasetsLength=this.datasets&&this.datasets.length||0,m(sn.Update)),this.datasets&&this.datasets.filter((S,j)=>S.data!==this.old.datasetsDataObjects[j]).length&&(this.old.datasetsDataObjects=this.datasets.map(S=>S.data),m(sn.Update)),this.datasets&&this.datasets.filter((S,j)=>S.data.length!==this.old.datasetsDataLengths[j]).length&&(this.old.datasetsDataLengths=this.datasets.map(S=>S.data.length),m(sn.Update)),!!this.colors!==this.old.colorsExists&&(this.old.colorsExists=!!this.colors,this.updateColors(),m(sn.Update)),this.colors&&this.colors.filter((S,j)=>!this.colorsEqual(S,this.old.colors[j])).length&&(this.old.colors=this.colors.map(S=>this.copyColor(S)),this.updateColors(),m(sn.Update)),!!this.labels!==this.old.labelsExist&&(this.old.labelsExist=!!this.labels,m(sn.Update)),this.labels&&this.labels.filter((S,j)=>!this.labelsEqual(S,this.old.labels[j])).length&&(this.old.labels=this.labels.map(S=>this.copyLabel(S)),m(sn.Update)),!!this.options.legend!==this.old.legendExists&&(this.old.legendExists=!!this.options.legend,m(sn.Refresh)),this.options.legend&&this.options.legend.position!==this.old.legend.position&&(this.old.legend.position=this.options.legend.position,m(sn.Refresh)),s){case sn.Default:break;case sn.Update:this.update();break;case sn.Refresh:this.refresh()}}copyLabel(s){return Array.isArray(s)?[...s]:s}labelsEqual(s,m){return Array.isArray(s)===Array.isArray(m)&&(Array.isArray(s)||s===m)&&(!Array.isArray(s)||s.length===m.length)&&(!Array.isArray(s)||0===s.filter((S,j)=>S!==m[j]).length)}copyColor(s){return{backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderColor:s.borderColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,pointBorderColor:s.pointBorderColor,pointBackgroundColor:s.pointBackgroundColor,pointBorderWidth:s.pointBorderWidth,pointRadius:s.pointRadius,pointHoverRadius:s.pointHoverRadius,pointHitRadius:s.pointHitRadius,pointHoverBackgroundColor:s.pointHoverBackgroundColor,pointHoverBorderColor:s.pointHoverBorderColor,pointHoverBorderWidth:s.pointHoverBorderWidth,pointStyle:s.pointStyle,hoverBackgroundColor:s.hoverBackgroundColor,hoverBorderColor:s.hoverBorderColor,hoverBorderWidth:s.hoverBorderWidth}}colorsEqual(s,m){return!s==!m&&(!s||s.backgroundColor===m.backgroundColor&&s.borderWidth===m.borderWidth&&s.borderColor===m.borderColor&&s.borderCapStyle===m.borderCapStyle&&s.borderDash===m.borderDash&&s.borderDashOffset===m.borderDashOffset&&s.borderJoinStyle===m.borderJoinStyle&&s.pointBorderColor===m.pointBorderColor&&s.pointBackgroundColor===m.pointBackgroundColor&&s.pointBorderWidth===m.pointBorderWidth&&s.pointRadius===m.pointRadius&&s.pointHoverRadius===m.pointHoverRadius&&s.pointHitRadius===m.pointHitRadius&&s.pointHoverBackgroundColor===m.pointHoverBackgroundColor&&s.pointHoverBorderColor===m.pointHoverBorderColor&&s.pointHoverBorderWidth===m.pointHoverBorderWidth&&s.pointStyle===m.pointStyle&&s.hoverBackgroundColor===m.hoverBackgroundColor&&s.hoverBorderColor===m.hoverBorderColor&&s.hoverBorderWidth===m.hoverBorderWidth)}updateColors(){this.datasets.forEach((s,m)=>{this.colors&&this.colors[m]?Object.assign(s,this.colors[m]):Object.assign(s,function K(y,v,s){if("pie"===y||"doughnut"===y)return Pt(Vn(s));if("polarArea"===y)return function Kt(y){return{backgroundColor:y.map(v=>re(v,.6)),borderColor:y.map(v=>re(v,1)),hoverBackgroundColor:y.map(v=>re(v,.8)),hoverBorderColor:y.map(v=>re(v,1))}}(Vn(s));if("line"===y||"radar"===y)return function Oe(y){return{backgroundColor:re(y,.4),borderColor:re(y,1),pointBackgroundColor:re(y,1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:re(y,.8)}}(Ai(v));if("bar"===y||"horizontalBar"===y)return function et(y){return{backgroundColor:re(y,.6),borderColor:re(y,1),hoverBackgroundColor:re(y,.8),hoverBorderColor:re(y,1)}}(Ai(v));if("bubble"===y||"scatter"===y)return Pt(Vn(s));throw new Error(`getColors - Unsupported chart type ${y}`)}(this.chartType,m,s.data.length),Object.assign({},s))})}ngOnChanges(s){let m=sn.Default;const S=j=>{m=j>m?j:m};switch(s.hasOwnProperty("data")&&s.data.currentValue&&(this.propagateDataToDatasets(s.data.currentValue),S(sn.Update)),s.hasOwnProperty("datasets")&&s.datasets.currentValue&&(this.propagateDatasetsToData(s.datasets.currentValue),S(sn.Update)),s.hasOwnProperty("labels")&&(this.chart&&(this.chart.data.labels=s.labels.currentValue),S(sn.Update)),s.hasOwnProperty("legend")&&(this.chart&&(this.chart.config.options.legend.display=s.legend.currentValue,this.chart.generateLegend()),S(sn.Update)),s.hasOwnProperty("options")&&S(sn.Refresh),m){case sn.Update:this.update();break;case sn.Refresh:case sn.Default:this.refresh()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(s=>s.unsubscribe())}update(s){if(this.chart)return this.chart.update(s)}hideDataset(s,m){this.chart.getDatasetMeta(s).hidden=m,this.chart.update()}isDatasetHidden(s){return this.chart.getDatasetMeta(s).hidden}toBase64Image(){return this.chart.toBase64Image()}getChartConfiguration(){const s=this.getDatasets(),m=Object.assign({},this.options);!1===this.legend&&(m.legend={display:!1}),m.hover=m.hover||{},m.hover.onHover||(m.hover.onHover=(j,ue)=>{ue&&!ue.length||this.chartHover.emit({event:j,active:ue})}),m.onClick||(m.onClick=(j,ue)=>{this.chartClick.emit({event:j,active:ue})});const S=this.smartMerge(m,this.themeService.getColorschemesOptions());return{type:this.chartType,data:{labels:this.labels||[],datasets:s},plugins:this.plugins,options:S}}getChartBuilder(s){const m=this.getChartConfiguration();return new k.Chart(s,m)}smartMerge(s,m,S=0){if(0===S&&(s=function Ji(y){return ci(y,5)}(s)),Object.keys(m).forEach(ue=>{if(Array.isArray(m[ue])){const Ce=s[ue];Ce&&Ce.forEach(Ne=>{this.smartMerge(Ne,m[ue][0],S+1)})}else"object"==typeof m[ue]?(ue in s||(s[ue]={}),this.smartMerge(s[ue],m[ue],S+1)):s[ue]=m[ue]}),0===S)return s}isMultiLineLabel(s){return Array.isArray(s)}joinLabel(s){return s?this.isMultiLineLabel(s)?s.join(" "):s:null}propagateDatasetsToData(s){this.data=this.datasets.map(m=>m.data),this.chart&&(this.chart.data.datasets=s),this.updateColors()}propagateDataToDatasets(s){this.isMultiDataSet(s)?this.datasets&&s.length===this.datasets.length?this.datasets.forEach((m,S)=>{m.data=s[S]}):(this.datasets=s.map((m,S)=>({data:m,label:this.joinLabel(this.labels[S])||`Label ${S}`})),this.chart&&(this.chart.data.datasets=this.datasets)):this.datasets?(this.datasets[0]||(this.datasets[0]={}),this.datasets[0].data=s,this.datasets.splice(1)):(this.datasets=[{data:s}],this.chart&&(this.chart.data.datasets=this.datasets)),this.updateColors()}isMultiDataSet(s){return Array.isArray(s[0])}getDatasets(){if(!this.datasets&&!this.data)throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);return this.datasets?(this.propagateDatasetsToData(this.datasets),this.datasets):this.data?(this.propagateDataToDatasets(this.data),this.datasets):void 0}refresh(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.ctx&&(this.chart=this.getChartBuilder(this.ctx))}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.SBq),t.Y36(Us))},y.\u0275dir=t.lG2({type:y,selectors:[["canvas","baseChart",""]],inputs:{options:"options",data:"data",datasets:"datasets",labels:"labels",chartType:"chartType",colors:"colors",legend:"legend",plugins:"plugins"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[t.TTD]}),y})(),Zl=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({}),y})();var td=se(9293);let Pp=(()=>{class y{constructor(){}chartClicked(s){console.log(s)}chartHovered(s){console.log(s)}hexToRGB(s,m){var S=parseInt(s.slice(1,3),16),j=parseInt(s.slice(3,5),16),ue=parseInt(s.slice(5,7),16);return m?"rgba("+S+", "+j+", "+ue+", "+m+")":"rgb("+S+", "+j+", "+ue+")"}ngOnInit(){this.chartColor="#FFFFFF",this.canvas=document.getElementById("bigDashboardChart"),this.ctx=this.canvas.getContext("2d"),this.gradientStroke=this.ctx.createLinearGradient(500,0,100,0),this.gradientStroke.addColorStop(0,"#80b6f4"),this.gradientStroke.addColorStop(1,this.chartColor),this.gradientFill=this.ctx.createLinearGradient(0,200,0,50),this.gradientFill.addColorStop(0,"rgba(128, 182, 244, 0)"),this.gradientFill.addColorStop(1,"rgba(255, 255, 255, 0.24)"),this.lineBigDashboardChartData=[{label:"Data",pointBorderWidth:1,pointHoverRadius:7,pointHoverBorderWidth:2,pointRadius:5,fill:!0,borderWidth:2,data:[50,150,100,190,130,90,150,160,120,140,190,95]}],this.lineBigDashboardChartColors=[{backgroundColor:this.gradientFill,borderColor:this.chartColor,pointBorderColor:this.chartColor,pointBackgroundColor:"#2c2c2c",pointHoverBackgroundColor:"#2c2c2c",pointHoverBorderColor:this.chartColor}],this.lineBigDashboardChartLabels=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],this.lineBigDashboardChartOptions={layout:{padding:{left:20,right:20,top:0,bottom:0}},maintainAspectRatio:!1,tooltips:{backgroundColor:"#fff",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},legend:{position:"bottom",fillStyle:"#FFF",display:!1},scales:{yAxes:[{ticks:{fontColor:"rgba(255,255,255,0.4)",fontStyle:"bold",beginAtZero:!0,maxTicksLimit:5,padding:10},gridLines:{drawTicks:!0,drawBorder:!1,display:!0,color:"rgba(255,255,255,0.1)",zeroLineColor:"transparent"}}],xAxes:[{gridLines:{zeroLineColor:"transparent",display:!1},ticks:{padding:10,fontColor:"rgba(255,255,255,0.4)",fontStyle:"bold"}}]}},this.lineBigDashboardChartType="line",this.gradientChartOptionsConfiguration={maintainAspectRatio:!1,legend:{display:!1},tooltips:{bodySpacing:4,mode:"nearest",intersect:0,position:"nearest",xPadding:10,yPadding:10,caretPadding:10},responsive:1,scales:{yAxes:[{display:0,ticks:{display:!1},gridLines:{zeroLineColor:"transparent",drawTicks:!1,display:!1,drawBorder:!1}}],xAxes:[{display:0,ticks:{display:!1},gridLines:{zeroLineColor:"transparent",drawTicks:!1,display:!1,drawBorder:!1}}]},layout:{padding:{left:0,right:0,top:15,bottom:15}}},this.gradientChartOptionsConfigurationWithNumbersAndGrid={maintainAspectRatio:!1,legend:{display:!1},tooltips:{bodySpacing:4,mode:"nearest",intersect:0,position:"nearest",xPadding:10,yPadding:10,caretPadding:10},responsive:!0,scales:{yAxes:[{gridLines:{zeroLineColor:"transparent",drawBorder:!1},ticks:{stepSize:500}}],xAxes:[{display:0,ticks:{display:!1},gridLines:{zeroLineColor:"transparent",drawTicks:!1,display:!1,drawBorder:!1}}]},layout:{padding:{left:0,right:0,top:15,bottom:15}}},this.canvas=document.getElementById("lineChartExample"),this.ctx=this.canvas.getContext("2d"),this.gradientStroke=this.ctx.createLinearGradient(500,0,100,0),this.gradientStroke.addColorStop(0,"#80b6f4"),this.gradientStroke.addColorStop(1,this.chartColor),this.gradientFill=this.ctx.createLinearGradient(0,170,0,50),this.gradientFill.addColorStop(0,"rgba(128, 182, 244, 0)"),this.gradientFill.addColorStop(1,"rgba(249, 99, 59, 0.40)"),this.lineChartData=[{label:"Active Users",pointBorderWidth:2,pointHoverRadius:4,pointHoverBorderWidth:1,pointRadius:4,fill:!0,borderWidth:2,data:[542,480,430,550,530,453,380,434,568,610,700,630]}],this.lineChartColors=[{borderColor:"#f96332",pointBorderColor:"#FFF",pointBackgroundColor:"#f96332",backgroundColor:this.gradientFill}],this.lineChartLabels=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.lineChartOptions=this.gradientChartOptionsConfiguration,this.lineChartType="line",this.canvas=document.getElementById("lineChartExampleWithNumbersAndGrid"),this.ctx=this.canvas.getContext("2d"),this.gradientStroke=this.ctx.createLinearGradient(500,0,100,0),this.gradientStroke.addColorStop(0,"#18ce0f"),this.gradientStroke.addColorStop(1,this.chartColor),this.gradientFill=this.ctx.createLinearGradient(0,170,0,50),this.gradientFill.addColorStop(0,"rgba(128, 182, 244, 0)"),this.gradientFill.addColorStop(1,this.hexToRGB("#18ce0f",.4)),this.lineChartWithNumbersAndGridData=[{label:"Email Stats",pointBorderWidth:2,pointHoverRadius:4,pointHoverBorderWidth:1,pointRadius:4,fill:!0,borderWidth:2,data:[40,500,650,700,1200,1250,1300,1900]}],this.lineChartWithNumbersAndGridColors=[{borderColor:"#18ce0f",pointBorderColor:"#FFF",pointBackgroundColor:"#18ce0f",backgroundColor:this.gradientFill}],this.lineChartWithNumbersAndGridLabels=["12pm,","3pm","6pm","9pm","12am","3am","6am","9am"],this.lineChartWithNumbersAndGridOptions=this.gradientChartOptionsConfigurationWithNumbersAndGrid,this.lineChartWithNumbersAndGridType="line",this.canvas=document.getElementById("barChartSimpleGradientsNumbers"),this.ctx=this.canvas.getContext("2d"),this.gradientFill=this.ctx.createLinearGradient(0,170,0,50),this.gradientFill.addColorStop(0,"rgba(128, 182, 244, 0)"),this.gradientFill.addColorStop(1,this.hexToRGB("#2CA8FF",.6)),this.lineChartGradientsNumbersData=[{label:"Active Countries",pointBorderWidth:2,pointHoverRadius:4,pointHoverBorderWidth:1,pointRadius:4,fill:!0,borderWidth:1,data:[80,99,86,96,123,85,100,75,88,90,123,155]}],this.lineChartGradientsNumbersColors=[{backgroundColor:this.gradientFill,borderColor:"#2CA8FF",pointBorderColor:"#FFF",pointBackgroundColor:"#2CA8FF"}],this.lineChartGradientsNumbersLabels=["January","February","March","April","May","June","July","August","September","October","November","December"],this.lineChartGradientsNumbersOptions={maintainAspectRatio:!1,legend:{display:!1},tooltips:{bodySpacing:4,mode:"nearest",intersect:0,position:"nearest",xPadding:10,yPadding:10,caretPadding:10},responsive:1,scales:{yAxes:[{gridLines:{zeroLineColor:"transparent",drawBorder:!1},ticks:{stepSize:20}}],xAxes:[{display:0,ticks:{display:!1},gridLines:{zeroLineColor:"transparent",drawTicks:!1,display:!1,drawBorder:!1}}]},layout:{padding:{left:0,right:0,top:15,bottom:15}}},this.lineChartGradientsNumbersType="bar"}}return y.\u0275fac=function(s){return new(s||y)},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-dashboard"]],decls:191,vars:20,consts:[[1,"panel-header","panel-header-lg"],["baseChart","","id","bigDashboardChart",3,"datasets","labels","colors","options","chartType","chartHover","chartClick"],[1,"main-content"],[1,"row"],[1,"col-lg-4"],[1,"card","card-chart"],[1,"card-header"],[1,"card-category"],[1,"card-title"],["ngbDropdown",""],["type","button","ngbDropdownToggle","",1,"btn","btn-round","btn-default","dropdown-toggle","btn-simple","btn-icon","no-caret"],[1,"now-ui-icons","loader_gear"],["ngbDropdownMenu","",1,"dropdown-menu-right"],["href","#",1,"dropdown-item"],["href","#",1,"dropdown-item","text-danger"],[1,"card-body"],[1,"chart-area"],["baseChart","","id","lineChartExample",3,"datasets","labels","colors","options","chartType","chartHover","chartClick"],[1,"card-footer"],[1,"stats"],[1,"now-ui-icons","arrows-1_refresh-69"],[1,"col-lg-4","col-md-6"],["baseChart","","id","lineChartExampleWithNumbersAndGrid",3,"datasets","labels","colors","options","chartType","chartHover","chartClick"],["baseChart","","id","barChartSimpleGradientsNumbers",3,"datasets","labels","colors","options","chartType","chartHover","chartClick"],[1,"now-ui-icons","ui-2_time-alarm"],[1,"col-md-6"],[1,"card","card-tasks"],[1,"table-full-width","table-responsive"],[1,"table"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","checked","",1,"form-check-input"],[1,"form-check-sign"],[1,"text-left"],[1,"td-actions","text-right"],["type","button","rel","tooltip","title","","data-original-title","Edit Task",1,"btn","btn-info","btn-round","btn-icon","btn-icon-mini","btn-neutral"],[1,"now-ui-icons","ui-2_settings-90"],["type","button","rel","tooltip","title","","data-original-title","Remove",1,"btn","btn-danger","btn-round","btn-icon","btn-icon-mini","btn-neutral"],[1,"now-ui-icons","ui-1_simple-remove"],["type","checkbox",1,"form-check-input"],[1,"now-ui-icons","loader_refresh","spin"],[1,"card"],[1,"table-responsive"],[1,"text-primary"],[1,"text-right"]],template:function(s,m){1&s&&(t.TgZ(0,"div",0)(1,"canvas",1),t.NdJ("chartHover",function(j){return m.chartHovered(j)})("chartClick",function(j){return m.chartClicked(j)}),t.qZA()(),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),t._uU(8,"Global Sales"),t.qZA(),t.TgZ(9,"h4",8),t._uU(10,"Shipped Products"),t.qZA(),t.TgZ(11,"div",9)(12,"button",10),t._UZ(13,"i",11),t.qZA(),t.TgZ(14,"div",12)(15,"a",13),t._uU(16,"Action"),t.qZA(),t.TgZ(17,"a",13),t._uU(18,"Another action"),t.qZA(),t.TgZ(19,"a",13),t._uU(20,"Something else here"),t.qZA(),t.TgZ(21,"a",14),t._uU(22,"Remove Data"),t.qZA()()()(),t.TgZ(23,"div",15)(24,"div",16)(25,"canvas",17),t.NdJ("chartHover",function(j){return m.chartHovered(j)})("chartClick",function(j){return m.chartClicked(j)}),t.qZA()()(),t.TgZ(26,"div",18)(27,"div",19),t._UZ(28,"i",20),t._uU(29," Just Updated "),t.qZA()()()(),t.TgZ(30,"div",21)(31,"div",5)(32,"div",6)(33,"h5",7),t._uU(34,"2018 Sales"),t.qZA(),t.TgZ(35,"h4",8),t._uU(36,"All products"),t.qZA(),t.TgZ(37,"div",9)(38,"button",10),t._UZ(39,"i",11),t.qZA(),t.TgZ(40,"div",12)(41,"a",13),t._uU(42,"Action"),t.qZA(),t.TgZ(43,"a",13),t._uU(44,"Another action"),t.qZA(),t.TgZ(45,"a",13),t._uU(46,"Something else here"),t.qZA(),t.TgZ(47,"a",14),t._uU(48,"Remove Data"),t.qZA()()()(),t.TgZ(49,"div",15)(50,"div",16)(51,"canvas",22),t.NdJ("chartHover",function(j){return m.chartHovered(j)})("chartClick",function(j){return m.chartClicked(j)}),t.qZA()()(),t.TgZ(52,"div",18)(53,"div",19),t._UZ(54,"i",20),t._uU(55," Just Updated "),t.qZA()()()(),t.TgZ(56,"div",21)(57,"div",5)(58,"div",6)(59,"h5",7),t._uU(60,"Email Statistics"),t.qZA(),t.TgZ(61,"h4",8),t._uU(62,"24 Hours Performance"),t.qZA()(),t.TgZ(63,"div",15)(64,"div",16)(65,"canvas",23),t.NdJ("chartHover",function(j){return m.chartHovered(j)})("chartClick",function(j){return m.chartClicked(j)}),t.qZA()()(),t.TgZ(66,"div",18)(67,"div",19),t._UZ(68,"i",24),t._uU(69," Last 7 days "),t.qZA()()()()(),t.TgZ(70,"div",3)(71,"div",25)(72,"div",26)(73,"div",6)(74,"h5",7),t._uU(75,"Backend development"),t.qZA(),t.TgZ(76,"h4",8),t._uU(77,"Tasks"),t.qZA()(),t.TgZ(78,"div",15)(79,"div",27)(80,"table",28)(81,"tbody")(82,"tr")(83,"td")(84,"div",29)(85,"label",30),t._UZ(86,"input",31)(87,"span",32),t.qZA()()(),t.TgZ(88,"td",33),t._uU(89,'Sign contract for "What are conference organizers afraid of?"'),t.qZA(),t.TgZ(90,"td",34)(91,"button",35),t._UZ(92,"i",36),t.qZA(),t.TgZ(93,"button",37),t._UZ(94,"i",38),t.qZA()()(),t.TgZ(95,"tr")(96,"td")(97,"div",29)(98,"label",30),t._UZ(99,"input",39)(100,"span",32),t.qZA()()(),t.TgZ(101,"td",33),t._uU(102,"Lines From Great Russian Literature? Or E-mails From My Boss?"),t.qZA(),t.TgZ(103,"td",34)(104,"button",35),t._UZ(105,"i",36),t.qZA(),t.TgZ(106,"button",37),t._UZ(107,"i",38),t.qZA()()(),t.TgZ(108,"tr")(109,"td")(110,"div",29)(111,"label",30),t._UZ(112,"input",31)(113,"span",32),t.qZA()()(),t.TgZ(114,"td",33),t._uU(115,"Flooded: One year later, assessing what was lost and what was found when a ravaging rain swept through metro Detroit "),t.qZA(),t.TgZ(116,"td",34)(117,"button",35),t._UZ(118,"i",36),t.qZA(),t.TgZ(119,"button",37),t._UZ(120,"i",38),t.qZA()()()()()()(),t.TgZ(121,"div",18),t._UZ(122,"hr"),t.TgZ(123,"div",19),t._UZ(124,"i",40),t._uU(125," Updated 3 minutes ago "),t.qZA()()()(),t.TgZ(126,"div",25)(127,"div",41)(128,"div",6)(129,"h5",7),t._uU(130,"All Persons List"),t.qZA(),t.TgZ(131,"h4",8),t._uU(132," Employees Stats"),t.qZA()(),t.TgZ(133,"div",15)(134,"div",42)(135,"table",28)(136,"thead",43)(137,"th"),t._uU(138," Name "),t.qZA(),t.TgZ(139,"th"),t._uU(140," Country "),t.qZA(),t.TgZ(141,"th"),t._uU(142," City "),t.qZA(),t.TgZ(143,"th",44),t._uU(144," Salary "),t.qZA()(),t.TgZ(145,"tbody")(146,"tr")(147,"td"),t._uU(148," Dakota Rice "),t.qZA(),t.TgZ(149,"td"),t._uU(150," Niger "),t.qZA(),t.TgZ(151,"td"),t._uU(152," Oud-Turnhout "),t.qZA(),t.TgZ(153,"td",44),t._uU(154," $36,738 "),t.qZA()(),t.TgZ(155,"tr")(156,"td"),t._uU(157," Minerva Hooper "),t.qZA(),t.TgZ(158,"td"),t._uU(159," Cura\xe7ao "),t.qZA(),t.TgZ(160,"td"),t._uU(161," Sinaai-Waas "),t.qZA(),t.TgZ(162,"td",44),t._uU(163," $23,789 "),t.qZA()(),t.TgZ(164,"tr")(165,"td"),t._uU(166," Sage Rodriguez "),t.qZA(),t.TgZ(167,"td"),t._uU(168," Netherlands "),t.qZA(),t.TgZ(169,"td"),t._uU(170," Baileux "),t.qZA(),t.TgZ(171,"td",44),t._uU(172," $56,142 "),t.qZA()(),t.TgZ(173,"tr")(174,"td"),t._uU(175," Doris Greene "),t.qZA(),t.TgZ(176,"td"),t._uU(177," Malawi "),t.qZA(),t.TgZ(178,"td"),t._uU(179," Feldkirchen in K\xe4rnten "),t.qZA(),t.TgZ(180,"td",44),t._uU(181," $63,542 "),t.qZA()(),t.TgZ(182,"tr")(183,"td"),t._uU(184," Mason Porter "),t.qZA(),t.TgZ(185,"td"),t._uU(186," Chile "),t.qZA(),t.TgZ(187,"td"),t._uU(188," Gloucester "),t.qZA(),t.TgZ(189,"td",44),t._uU(190," $78,615 "),t.qZA()()()()()()()()()()),2&s&&(t.xp6(1),t.Q6J("datasets",m.lineBigDashboardChartData)("labels",m.lineBigDashboardChartLabels)("colors",m.lineBigDashboardChartColors)("options",m.lineBigDashboardChartOptions)("chartType",m.lineBigDashboardChartType),t.xp6(24),t.Q6J("datasets",m.lineChartData)("labels",m.lineChartLabels)("colors",m.lineChartColors)("options",m.lineChartOptions)("chartType",m.lineChartType),t.xp6(26),t.Q6J("datasets",m.lineChartWithNumbersAndGridData)("labels",m.lineChartWithNumbersAndGridLabels)("colors",m.lineChartWithNumbersAndGridColors)("options",m.lineChartWithNumbersAndGridOptions)("chartType",m.lineChartWithNumbersAndGridType),t.xp6(14),t.Q6J("datasets",m.lineChartGradientsNumbersData)("labels",m.lineChartGradientsNumbersLabels)("colors",m.lineChartGradientsNumbersColors)("options",m.lineChartGradientsNumbersOptions)("chartType",m.lineChartGradientsNumbersType))},dependencies:[bl,td.jt,td.iD,td.Vi]}),y})();function ql(y,v){var s={};for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&v.indexOf(m)<0&&(s[m]=y[m]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(m=Object.getOwnPropertySymbols(y);S<m.length;S++)v.indexOf(m[S])<0&&Object.prototype.propertyIsEnumerable.call(y,m[S])&&(s[m[S]]=y[m[S]])}return s}"function"==typeof SuppressedError&&SuppressedError;var rd=se(8615),Fp=se(5226),Ka=se.n(Fp),uu=se(4383);const du=new t.OlP("cdk-dir-doc",{providedIn:"root",factory:function ad(){return(0,t.f3M)(A.K0)}}),hu=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let sd,Tl=(()=>{class y{constructor(s){if(this.value="ltr",this.change=new t.vpe,s){const S=s.documentElement?s.documentElement.dir:null;this.value=function Ih(y){const v=(null==y?void 0:y.toLowerCase())||"";return"auto"===v&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?hu.test(navigator.language)?"rtl":"ltr":"rtl"===v?"rtl":"ltr"}((s.body?s.body.dir:null)||S||"ltr")}}ngOnDestroy(){this.change.complete()}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(du,8))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),ku=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({}),y})();try{sd="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(y){sd=!1}let kl,Ws=(()=>{class y{constructor(s){this._platformId=s,this.isBrowser=this._platformId?(0,A.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sd)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(t.Lbi))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Xl=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Vd(){if(kl)return kl;if("object"!=typeof document||!document)return kl=new Set(Xl),kl;let y=document.createElement("input");return kl=new Set(Xl.filter(v=>(y.setAttribute("type",v),y.type===v))),kl}let Du,Dl,ld;function Gc(y){return function od(){if(null==Du&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Du=!0}))}finally{Du=Du||!1}return Du}()?y:!!y.capture}function Ds(){if(null==Dl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Dl=!1,Dl;if("scrollBehavior"in document.documentElement.style)Dl=!0;else{const y=Element.prototype.scrollTo;Dl=!!y&&!/\{\s*\[native code\]\s*\}/.test(y.toString())}}return Dl}function Lu(){let y="undefined"!=typeof document&&document?document.activeElement:null;for(;y&&y.shadowRoot;){const v=y.shadowRoot.activeElement;if(v===y)break;y=v}return y}function Qa(y){return y.composedPath?y.composedPath()[0]:y.target}function Ph(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var Un=se(5529),ka=se(2654),Sl=se(1086);function Xc(y,...v){return v.length?v.some(s=>y[s]):y.altKey||y.shiftKey||y.ctrlKey||y.metaKey}var Ru=se(2994),e_=se(3489),fu=se(353);function tf(y,v=fu.P){return s=>s.lift(new Dr(y,v))}class Dr{constructor(v,s){this.dueTime=v,this.scheduler=s}call(v,s){return s.subscribe(new $d(v,this.dueTime,this.scheduler))}}class $d extends e_.L{constructor(v,s,m){super(v),this.dueTime=s,this.scheduler=m,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(v){this.clearDebounce(),this.lastValue=v,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(nf,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:v}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(v)}}clearDebounce(){const v=this.debouncedSubscription;null!==v&&(this.remove(v),v.unsubscribe(),this.debouncedSubscription=null)}}function nf(y){y.debouncedNext()}var Jc=se(2198),Il=se(4850),co=se(2986),rf=se(1307),Uh=se(5778),is=se(7625);function Jn(y){return null!=y&&"false"!=`${y}`}function _d(y,v=0){return function Wh(y){return!isNaN(parseFloat(y))&&!isNaN(Number(y))}(y)?Number(y):v}function af(y){return Array.isArray(y)?y:[y]}function Vr(y){return null==y?"":"string"==typeof y?y:`${y}px`}function Oo(y){return y instanceof t.SBq?y.nativeElement:y}var Xd=se(6498);let sf=(()=>{class y{create(s){return"undefined"==typeof MutationObserver?null:new MutationObserver(s)}}return y.\u0275fac=function(s){return new(s||y)},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Gh=(()=>{class y{constructor(s){this._mutationObserverFactory=s,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((s,m)=>this._cleanupObserver(m))}observe(s){const m=Oo(s);return new Xd.y(S=>{const ue=this._observeElement(m).subscribe(S);return()=>{ue.unsubscribe(),this._unobserveElement(m)}})}_observeElement(s){if(this._observedElements.has(s))this._observedElements.get(s).count++;else{const m=new Un.xQ,S=this._mutationObserverFactory.create(j=>m.next(j));S&&S.observe(s,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(s,{observer:S,stream:m,count:1})}return this._observedElements.get(s).stream}_unobserveElement(s){this._observedElements.has(s)&&(this._observedElements.get(s).count--,this._observedElements.get(s).count||this._cleanupObserver(s))}_cleanupObserver(s){if(this._observedElements.has(s)){const{observer:m,stream:S}=this._observedElements.get(s);m&&m.disconnect(),S.complete(),this._observedElements.delete(s)}}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(sf))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Zh=(()=>{class y{constructor(s,m,S){this._contentObserver=s,this._elementRef=m,this._ngZone=S,this.event=new t.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(s){this._disabled=Jn(s),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(s){this._debounce=_d(s),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const s=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?s.pipe(tf(this.debounce)):s).subscribe(this.event)})}_unsubscribe(){var s;null===(s=this._currentSubscription)||void 0===s||s.unsubscribe()}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(Gh),t.Y36(t.SBq),t.Y36(t.R0b))},y.\u0275dir=t.lG2({type:y,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),y})(),gd=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({providers:[sf]}),y})();class s_ extends class a_{constructor(v){this._items=v,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Un.xQ,this._typeaheadSubscription=ka.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=s=>s.disabled,this._pressedLetters=[],this.tabOut=new Un.xQ,this.change=new Un.xQ,v instanceof t.n_E&&v.changes.subscribe(s=>{if(this._activeItem){const S=s.toArray().indexOf(this._activeItem);S>-1&&S!==this._activeItemIndex&&(this._activeItemIndex=S)}})}skipPredicate(v){return this._skipPredicateFn=v,this}withWrap(v=!0){return this._wrap=v,this}withVerticalOrientation(v=!0){return this._vertical=v,this}withHorizontalOrientation(v){return this._horizontal=v,this}withAllowedModifierKeys(v){return this._allowedModifierKeys=v,this}withTypeAhead(v=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ru.b)(s=>this._pressedLetters.push(s)),tf(v),(0,Jc.h)(()=>this._pressedLetters.length>0),(0,Il.U)(()=>this._pressedLetters.join(""))).subscribe(s=>{const m=this._getItemsArray();for(let S=1;S<m.length+1;S++){const j=(this._activeItemIndex+S)%m.length,ue=m[j];if(!this._skipPredicateFn(ue)&&0===ue.getLabel().toUpperCase().trim().indexOf(s)){this.setActiveItem(j);break}}this._pressedLetters=[]}),this}withHomeAndEnd(v=!0){return this._homeAndEnd=v,this}setActiveItem(v){const s=this._activeItem;this.updateActiveItem(v),this._activeItem!==s&&this.change.next(this._activeItemIndex)}onKeydown(v){const s=v.keyCode,S=["altKey","ctrlKey","metaKey","shiftKey"].every(j=>!v[j]||this._allowedModifierKeys.indexOf(j)>-1);switch(s){case 9:return void this.tabOut.next();case 40:if(this._vertical&&S){this.setNextItemActive();break}return;case 38:if(this._vertical&&S){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&S){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&S){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&S){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&S){this.setLastItemActive();break}return;default:return void((S||Xc(v,"shiftKey"))&&(v.key&&1===v.key.length?this._letterKeyStream.next(v.key.toLocaleUpperCase()):(s>=65&&s<=90||s>=48&&s<=57)&&this._letterKeyStream.next(String.fromCharCode(s))))}this._pressedLetters=[],v.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(v){const s=this._getItemsArray(),m="number"==typeof v?v:s.indexOf(v),S=s[m];this._activeItem=null==S?null:S,this._activeItemIndex=m}_setActiveItemByDelta(v){this._wrap?this._setActiveInWrapMode(v):this._setActiveInDefaultMode(v)}_setActiveInWrapMode(v){const s=this._getItemsArray();for(let m=1;m<=s.length;m++){const S=(this._activeItemIndex+v*m+s.length)%s.length;if(!this._skipPredicateFn(s[S]))return void this.setActiveItem(S)}}_setActiveInDefaultMode(v){this._setActiveItemByIndex(this._activeItemIndex+v,v)}_setActiveItemByIndex(v,s){const m=this._getItemsArray();if(m[v]){for(;this._skipPredicateFn(m[v]);)if(!m[v+=s])return;this.setActiveItem(v)}}_getItemsArray(){return this._items instanceof t.n_E?this._items.toArray():this._items}}{setActiveItem(v){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(v),this.activeItem&&this.activeItem.setActiveStyles()}}let c_=(()=>{class y{constructor(s){this._platform=s}isDisabled(s){return s.hasAttribute("disabled")}isVisible(s){return function d_(y){return!!(y.offsetWidth||y.offsetHeight||"function"==typeof y.getClientRects&&y.getClientRects().length)}(s)&&"visible"===getComputedStyle(s).visibility}isTabbable(s){if(!this._platform.isBrowser)return!1;const m=function u_(y){try{return y.frameElement}catch(v){return null}}(function df(y){return y.ownerDocument&&y.ownerDocument.defaultView||window}(s));if(m&&(-1===Yu(m)||!this.isVisible(m)))return!1;let S=s.nodeName.toLowerCase(),j=Yu(s);return s.hasAttribute("contenteditable")?-1!==j:!("iframe"===S||"object"===S||this._platform.WEBKIT&&this._platform.IOS&&!function uf(y){let v=y.nodeName.toLowerCase(),s="input"===v&&y.type;return"text"===s||"password"===s||"select"===v||"textarea"===v}(s))&&("audio"===S?!!s.hasAttribute("controls")&&-1!==j:"video"===S?-1!==j&&(null!==j||this._platform.FIREFOX||s.hasAttribute("controls")):s.tabIndex>=0)}isFocusable(s,m){return function vd(y){return!function Jd(y){return function h_(y){return"input"==y.nodeName.toLowerCase()}(y)&&"hidden"==y.type}(y)&&(function $h(y){let v=y.nodeName.toLowerCase();return"input"===v||"select"===v||"button"===v||"textarea"===v}(y)||function Kd(y){return function p_(y){return"a"==y.nodeName.toLowerCase()}(y)&&y.hasAttribute("href")}(y)||y.hasAttribute("contenteditable")||Fu(y))}(s)&&!this.isDisabled(s)&&((null==m?void 0:m.ignoreVisibility)||this.isVisible(s))}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(Ws))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Fu(y){if(!y.hasAttribute("tabindex")||void 0===y.tabIndex)return!1;let v=y.getAttribute("tabindex");return!(!v||isNaN(parseInt(v,10)))}function Yu(y){if(!Fu(y))return null;const v=parseInt(y.getAttribute("tabindex")||"",10);return isNaN(v)?-1:v}class f_{constructor(v,s,m,S,j=!1){this._element=v,this._checker=s,this._ngZone=m,this._document=S,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,j||this.attachAnchors()}get enabled(){return this._enabled}set enabled(v){this._enabled=v,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(v,this._startAnchor),this._toggleAnchorTabIndex(v,this._endAnchor))}destroy(){const v=this._startAnchor,s=this._endAnchor;v&&(v.removeEventListener("focus",this.startAnchorListener),v.remove()),s&&(s.removeEventListener("focus",this.endAnchorListener),s.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(v){return new Promise(s=>{this._executeOnStable(()=>s(this.focusInitialElement(v)))})}focusFirstTabbableElementWhenReady(v){return new Promise(s=>{this._executeOnStable(()=>s(this.focusFirstTabbableElement(v)))})}focusLastTabbableElementWhenReady(v){return new Promise(s=>{this._executeOnStable(()=>s(this.focusLastTabbableElement(v)))})}_getRegionBoundary(v){const s=this._element.querySelectorAll(`[cdk-focus-region-${v}], [cdkFocusRegion${v}], [cdk-focus-${v}]`);return"start"==v?s.length?s[0]:this._getFirstTabbableElement(this._element):s.length?s[s.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(v){const s=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(s){if(!this._checker.isFocusable(s)){const m=this._getFirstTabbableElement(s);return null==m||m.focus(v),!!m}return s.focus(v),!0}return this.focusFirstTabbableElement(v)}focusFirstTabbableElement(v){const s=this._getRegionBoundary("start");return s&&s.focus(v),!!s}focusLastTabbableElement(v){const s=this._getRegionBoundary("end");return s&&s.focus(v),!!s}hasAttached(){return this._hasAttached}_getFirstTabbableElement(v){if(this._checker.isFocusable(v)&&this._checker.isTabbable(v))return v;const s=v.children;for(let m=0;m<s.length;m++){const S=s[m].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(s[m]):null;if(S)return S}return null}_getLastTabbableElement(v){if(this._checker.isFocusable(v)&&this._checker.isTabbable(v))return v;const s=v.children;for(let m=s.length-1;m>=0;m--){const S=s[m].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(s[m]):null;if(S)return S}return null}_createAnchor(){const v=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,v),v.classList.add("cdk-visually-hidden"),v.classList.add("cdk-focus-trap-anchor"),v.setAttribute("aria-hidden","true"),v}_toggleAnchorTabIndex(v,s){v?s.setAttribute("tabindex","0"):s.removeAttribute("tabindex")}toggleAnchors(v){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(v,this._startAnchor),this._toggleAnchorTabIndex(v,this._endAnchor))}_executeOnStable(v){this._ngZone.isStable?v():this._ngZone.onStable.pipe((0,co.q)(1)).subscribe(v)}}let hf=(()=>{class y{constructor(s,m,S){this._checker=s,this._ngZone=m,this._document=S}create(s,m=!1){return new f_(s,this._checker,this._ngZone,this._document,m)}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(c_),t.LFG(t.R0b),t.LFG(A.K0))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),pf=(()=>{class y{constructor(s,m,S){this._elementRef=s,this._focusTrapFactory=m,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(s){this.focusTrap.enabled=Jn(s)}get autoCapture(){return this._autoCapture}set autoCapture(s){this._autoCapture=Jn(s)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(s){const m=s.autoCapture;m&&!m.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Lu(),this.focusTrap.focusInitialElementWhenReady()}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.SBq),t.Y36(hf),t.Y36(A.K0))},y.\u0275dir=t.lG2({type:y,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[t.TTD]}),y})();function ff(y){return 0===y.buttons||0===y.offsetX&&0===y.offsetY}function Xh(y){const v=y.touches&&y.touches[0]||y.changedTouches&&y.changedTouches[0];return!(!v||-1!==v.identifier||null!=v.radiusX&&1!==v.radiusX||null!=v.radiusY&&1!==v.radiusY)}const Qd=new t.OlP("cdk-input-modality-detector-options"),mf={ignoreKeys:[18,17,224,91,16]},Ql=Gc({passive:!0,capture:!0});let zu=(()=>{class y{constructor(s,m,S,j){this._platform=s,this._mostRecentTarget=null,this._modality=new P.X(null),this._lastTouchMs=0,this._onKeydown=ue=>{var Ce,Ne;null!==(Ne=null===(Ce=this._options)||void 0===Ce?void 0:Ce.ignoreKeys)&&void 0!==Ne&&Ne.some(nt=>nt===ue.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Qa(ue))},this._onMousedown=ue=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ff(ue)?"keyboard":"mouse"),this._mostRecentTarget=Qa(ue))},this._onTouchstart=ue=>{Xh(ue)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Qa(ue))},this._options=Object.assign(Object.assign({},mf),j),this.modalityDetected=this._modality.pipe((0,rf.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Uh.x)()),s.isBrowser&&m.runOutsideAngular(()=>{S.addEventListener("keydown",this._onKeydown,Ql),S.addEventListener("mousedown",this._onMousedown,Ql),S.addEventListener("touchstart",this._onTouchstart,Ql)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ql),document.removeEventListener("mousedown",this._onMousedown,Ql),document.removeEventListener("touchstart",this._onTouchstart,Ql))}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(Ws),t.LFG(t.R0b),t.LFG(A.K0),t.LFG(Qd,8))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const bd=new t.OlP("liveAnnouncerElement",{providedIn:"root",factory:function _f(){return null}}),gf=new t.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let v_=(()=>{class y{constructor(s,m,S,j){this._ngZone=m,this._defaultOptions=j,this._document=S,this._liveElement=s||this._createLiveElement()}announce(s,...m){const S=this._defaultOptions;let j,ue;return 1===m.length&&"number"==typeof m[0]?ue=m[0]:[j,ue]=m,this.clear(),clearTimeout(this._previousTimeout),j||(j=S&&S.politeness?S.politeness:"polite"),null==ue&&S&&(ue=S.duration),this._liveElement.setAttribute("aria-live",j),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Ce=>this._currentResolve=Ce)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=s,"number"==typeof ue&&(this._previousTimeout=setTimeout(()=>this.clear(),ue)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var s,m;clearTimeout(this._previousTimeout),null===(s=this._liveElement)||void 0===s||s.remove(),this._liveElement=null,null===(m=this._currentResolve)||void 0===m||m.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const s="cdk-live-announcer-element",m=this._document.getElementsByClassName(s),S=this._document.createElement("div");for(let j=0;j<m.length;j++)m[j].remove();return S.classList.add(s),S.classList.add("cdk-visually-hidden"),S.setAttribute("aria-atomic","true"),S.setAttribute("aria-live","polite"),this._document.body.appendChild(S),S}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(bd,8),t.LFG(t.R0b),t.LFG(A.K0),t.LFG(gf,8))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const b_=new t.OlP("cdk-focus-monitor-default-options"),eh=Gc({passive:!0,capture:!0});let yf=(()=>{class y{constructor(s,m,S,j,ue){this._ngZone=s,this._platform=m,this._inputModalityDetector=S,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Un.xQ,this._rootNodeFocusAndBlurListener=Ce=>{const Ne=Qa(Ce),nt="focus"===Ce.type?this._onFocus:this._onBlur;for(let ht=Ne;ht;ht=ht.parentElement)nt.call(this,Ce,ht)},this._document=j,this._detectionMode=(null==ue?void 0:ue.detectionMode)||0}monitor(s,m=!1){const S=Oo(s);if(!this._platform.isBrowser||1!==S.nodeType)return(0,Sl.of)(null);const j=function zp(y){if(function fr(){if(null==ld){const y="undefined"!=typeof document?document.head:null;ld=!(!y||!y.createShadowRoot&&!y.attachShadow)}return ld}()){const v=y.getRootNode?y.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&v instanceof ShadowRoot)return v}return null}(S)||this._getDocument(),ue=this._elementInfo.get(S);if(ue)return m&&(ue.checkChildren=!0),ue.subject;const Ce={checkChildren:m,subject:new Un.xQ,rootNode:j};return this._elementInfo.set(S,Ce),this._registerGlobalListeners(Ce),Ce.subject}stopMonitoring(s){const m=Oo(s),S=this._elementInfo.get(m);S&&(S.subject.complete(),this._setClasses(m),this._elementInfo.delete(m),this._removeGlobalListeners(S))}focusVia(s,m,S){const j=Oo(s);j===this._getDocument().activeElement?this._getClosestElementsInfo(j).forEach(([Ce,Ne])=>this._originChanged(Ce,m,Ne)):(this._setOrigin(m),"function"==typeof j.focus&&j.focus(S))}ngOnDestroy(){this._elementInfo.forEach((s,m)=>this.stopMonitoring(m))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(s){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(s)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(s){return 1===this._detectionMode||!(null==s||!s.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(s,m){s.classList.toggle("cdk-focused",!!m),s.classList.toggle("cdk-touch-focused","touch"===m),s.classList.toggle("cdk-keyboard-focused","keyboard"===m),s.classList.toggle("cdk-mouse-focused","mouse"===m),s.classList.toggle("cdk-program-focused","program"===m)}_setOrigin(s,m=!1){this._ngZone.runOutsideAngular(()=>{this._origin=s,this._originFromTouchInteraction="touch"===s&&m,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(s,m){const S=this._elementInfo.get(m),j=Qa(s);!S||!S.checkChildren&&m!==j||this._originChanged(m,this._getFocusOrigin(j),S)}_onBlur(s,m){const S=this._elementInfo.get(m);!S||S.checkChildren&&s.relatedTarget instanceof Node&&m.contains(s.relatedTarget)||(this._setClasses(m),this._emitOrigin(S.subject,null))}_emitOrigin(s,m){this._ngZone.run(()=>s.next(m))}_registerGlobalListeners(s){if(!this._platform.isBrowser)return;const m=s.rootNode,S=this._rootNodeFocusListenerCount.get(m)||0;S||this._ngZone.runOutsideAngular(()=>{m.addEventListener("focus",this._rootNodeFocusAndBlurListener,eh),m.addEventListener("blur",this._rootNodeFocusAndBlurListener,eh)}),this._rootNodeFocusListenerCount.set(m,S+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,is.R)(this._stopInputModalityDetector)).subscribe(j=>{this._setOrigin(j,!0)}))}_removeGlobalListeners(s){const m=s.rootNode;if(this._rootNodeFocusListenerCount.has(m)){const S=this._rootNodeFocusListenerCount.get(m);S>1?this._rootNodeFocusListenerCount.set(m,S-1):(m.removeEventListener("focus",this._rootNodeFocusAndBlurListener,eh),m.removeEventListener("blur",this._rootNodeFocusAndBlurListener,eh),this._rootNodeFocusListenerCount.delete(m))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(s,m,S){this._setClasses(s,m),this._emitOrigin(S.subject,m),this._lastFocusOrigin=m}_getClosestElementsInfo(s){const m=[];return this._elementInfo.forEach((S,j)=>{(j===s||S.checkChildren&&j.contains(s))&&m.push([j,S])}),m}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(t.R0b),t.LFG(Ws),t.LFG(zu),t.LFG(A.K0,8),t.LFG(b_,8))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),x_=(()=>{class y{constructor(s,m){this._elementRef=s,this._focusMonitor=m,this.cdkFocusChange=new t.vpe}ngAfterViewInit(){const s=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(s,1===s.nodeType&&s.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(m=>this.cdkFocusChange.emit(m))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.SBq),t.Y36(yf))},y.\u0275dir=t.lG2({type:y,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),y})();const xd="cdk-high-contrast-black-on-white",vf="cdk-high-contrast-white-on-black",th="cdk-high-contrast-active";let Jh=(()=>{class y{constructor(s,m){this._platform=s,this._document=m}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const s=this._document.createElement("div");s.style.backgroundColor="rgb(1,2,3)",s.style.position="absolute",this._document.body.appendChild(s);const m=this._document.defaultView||window,S=m&&m.getComputedStyle?m.getComputedStyle(s):null,j=(S&&S.backgroundColor||"").replace(/ /g,"");switch(s.remove(),j){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const s=this._document.body.classList;s.remove(th),s.remove(xd),s.remove(vf),this._hasCheckedHighContrastMode=!0;const m=this.getHighContrastMode();1===m?(s.add(th),s.add(xd)):2===m&&(s.add(th),s.add(vf))}}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(Ws),t.LFG(A.K0))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),bf=(()=>{class y{constructor(s){s._applyBodyHighContrastModeCssClasses()}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(Jh))},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({imports:[[gd]]}),y})();function w_(y,v){if(1&y&&t._UZ(0,"mat-pseudo-checkbox",4),2&y){const s=t.oxw();t.Q6J("state",s.selected?"checked":"unchecked")("disabled",s.disabled)}}function M_(y,v){if(1&y&&(t.TgZ(0,"span",5),t._uU(1),t.qZA()),2&y){const s=t.oxw();t.xp6(1),t.hij("(",s.group.label,")")}}const T_=["*"],Qh=new t.OlP("mat-sanity-checks",{providedIn:"root",factory:function Pl(){return!0}});let rs=(()=>{class y{constructor(s,m,S){this._sanityChecks=m,this._document=S,this._hasDoneGlobalChecks=!1,s._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(s){return!Ph()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[s])}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(Jh),t.LFG(Qh,8),t.LFG(A.K0))},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({imports:[[ku],ku]}),y})();function Bu(y){return class extends y{constructor(...v){super(...v),this._disabled=!1}get disabled(){return this._disabled}set disabled(v){this._disabled=Jn(v)}}}function ih(y,v){return class extends y{constructor(...s){super(...s),this.defaultColor=v,this.color=v}get color(){return this._color}set color(s){const m=s||this.defaultColor;m!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),m&&this._elementRef.nativeElement.classList.add(`mat-${m}`),this._color=m)}}}function xf(y){return class extends y{constructor(...v){super(...v),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(v){this._disableRipple=Jn(v)}}}function wf(y,v=0){return class extends y{constructor(...s){super(...s),this._tabIndex=v,this.defaultTabIndex=v}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(s){this._tabIndex=null!=s?_d(s):this.defaultTabIndex}}}function ep(y){return class extends y{constructor(...v){super(...v),this.stateChanges=new Un.xQ,this.errorState=!1}updateErrorState(){const v=this.errorState,j=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);j!==v&&(this.errorState=j,this.stateChanges.next())}}}const En=new t.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function tp(){return(0,t.f3M)(t.soG)}});class La{constructor(){this._localeChanges=new Un.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(v){return this.isDateInstance(v)&&this.isValid(v)?v:null}deserialize(v){return null==v||this.isDateInstance(v)&&this.isValid(v)?v:this.invalid()}setLocale(v){this.locale=v,this._localeChanges.next()}compareDate(v,s){return this.getYear(v)-this.getYear(s)||this.getMonth(v)-this.getMonth(s)||this.getDate(v)-this.getDate(s)}sameDate(v,s){if(v&&s){let m=this.isValid(v),S=this.isValid(s);return m&&S?!this.compareDate(v,s):m==S}return v==s}clampDate(v,s,m){return s&&this.compareDate(v,s)<0?s:m&&this.compareDate(v,m)>0?m:v}}const Kc=new t.OlP("mat-date-formats"),wc=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Qc(y,v){const s=Array(y);for(let m=0;m<y;m++)s[m]=v(m);return s}let Mf=(()=>{class y extends La{constructor(s,m){super(),this.useUtcForDisplay=!1,super.setLocale(s)}getYear(s){return s.getFullYear()}getMonth(s){return s.getMonth()}getDate(s){return s.getDate()}getDayOfWeek(s){return s.getDay()}getMonthNames(s){const m=new Intl.DateTimeFormat(this.locale,{month:s,timeZone:"utc"});return Qc(12,S=>this._format(m,new Date(2017,S,1)))}getDateNames(){const s=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Qc(31,m=>this._format(s,new Date(2017,0,m+1)))}getDayOfWeekNames(s){const m=new Intl.DateTimeFormat(this.locale,{weekday:s,timeZone:"utc"});return Qc(7,S=>this._format(m,new Date(2017,0,S+1)))}getYearName(s){const m=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(m,s)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(s){return this.getDate(this._createDateWithOverflow(this.getYear(s),this.getMonth(s)+1,0))}clone(s){return new Date(s.getTime())}createDate(s,m,S){let j=this._createDateWithOverflow(s,m,S);return j.getMonth(),j}today(){return new Date}parse(s){return"number"==typeof s?new Date(s):s?new Date(Date.parse(s)):null}format(s,m){if(!this.isValid(s))throw Error("NativeDateAdapter: Cannot format invalid date.");const S=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},m),{timeZone:"utc"}));return this._format(S,s)}addCalendarYears(s,m){return this.addCalendarMonths(s,12*m)}addCalendarMonths(s,m){let S=this._createDateWithOverflow(this.getYear(s),this.getMonth(s)+m,this.getDate(s));return this.getMonth(S)!=((this.getMonth(s)+m)%12+12)%12&&(S=this._createDateWithOverflow(this.getYear(S),this.getMonth(S),0)),S}addCalendarDays(s,m){return this._createDateWithOverflow(this.getYear(s),this.getMonth(s),this.getDate(s)+m)}toIso8601(s){return[s.getUTCFullYear(),this._2digit(s.getUTCMonth()+1),this._2digit(s.getUTCDate())].join("-")}deserialize(s){if("string"==typeof s){if(!s)return null;if(wc.test(s)){let m=new Date(s);if(this.isValid(m))return m}}return super.deserialize(s)}isDateInstance(s){return s instanceof Date}isValid(s){return!isNaN(s.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(s,m,S){const j=new Date;return j.setFullYear(s,m,S),j.setHours(0,0,0,0),j}_2digit(s){return("00"+s).slice(-2)}_format(s,m){const S=new Date;return S.setUTCFullYear(m.getFullYear(),m.getMonth(),m.getDate()),S.setUTCHours(m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds()),s.format(S)}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(En,8),t.LFG(Ws))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac}),y})();const D_={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let L_=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({providers:[{provide:La,useClass:Mf}]}),y})(),S_=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({providers:[{provide:Kc,useValue:D_}],imports:[[L_]]}),y})(),ip=(()=>{class y{isErrorState(s,m){return!!(s&&s.invalid&&(s.touched||m&&m.submitted))}}return y.\u0275fac=function(s){return new(s||y)},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class nh{constructor(v,s,m){this._renderer=v,this.element=s,this.config=m,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const mu={enterDuration:225,exitDuration:150},ju=Gc({passive:!0}),rh=["mousedown","touchstart"],kf=["mouseup","mouseleave","touchend","touchcancel"];class C_{constructor(v,s,m,S){this._target=v,this._ngZone=s,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,S.isBrowser&&(this._containerElement=Oo(m))}fadeInRipple(v,s,m={}){const S=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),j=Object.assign(Object.assign({},mu),m.animation);m.centered&&(v=S.left+S.width/2,s=S.top+S.height/2);const ue=m.radius||function Df(y,v,s){const m=Math.max(Math.abs(y-s.left),Math.abs(y-s.right)),S=Math.max(Math.abs(v-s.top),Math.abs(v-s.bottom));return Math.sqrt(m*m+S*S)}(v,s,S),Ce=v-S.left,Ne=s-S.top,nt=j.enterDuration,ht=document.createElement("div");ht.classList.add("mat-ripple-element"),ht.style.left=Ce-ue+"px",ht.style.top=Ne-ue+"px",ht.style.height=2*ue+"px",ht.style.width=2*ue+"px",null!=m.color&&(ht.style.backgroundColor=m.color),ht.style.transitionDuration=`${nt}ms`,this._containerElement.appendChild(ht),function E_(y){window.getComputedStyle(y).getPropertyValue("opacity")}(ht),ht.style.transform="scale(1)";const Ht=new nh(this,ht,m);return Ht.state=0,this._activeRipples.add(Ht),m.persistent||(this._mostRecentTransientRipple=Ht),this._runTimeoutOutsideZone(()=>{const ui=Ht===this._mostRecentTransientRipple;Ht.state=1,!m.persistent&&(!ui||!this._isPointerDown)&&Ht.fadeOut()},nt),Ht}fadeOutRipple(v){const s=this._activeRipples.delete(v);if(v===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!s)return;const m=v.element,S=Object.assign(Object.assign({},mu),v.config.animation);m.style.transitionDuration=`${S.exitDuration}ms`,m.style.opacity="0",v.state=2,this._runTimeoutOutsideZone(()=>{v.state=3,m.remove()},S.exitDuration)}fadeOutAll(){this._activeRipples.forEach(v=>v.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(v=>{v.config.persistent||v.fadeOut()})}setupTriggerEvents(v){const s=Oo(v);!s||s===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=s,this._registerEvents(rh))}handleEvent(v){"mousedown"===v.type?this._onMousedown(v):"touchstart"===v.type?this._onTouchStart(v):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(kf),this._pointerUpEventsRegistered=!0)}_onMousedown(v){const s=ff(v),m=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!s&&!m&&(this._isPointerDown=!0,this.fadeInRipple(v.clientX,v.clientY,this._target.rippleConfig))}_onTouchStart(v){if(!this._target.rippleDisabled&&!Xh(v)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const s=v.changedTouches;for(let m=0;m<s.length;m++)this.fadeInRipple(s[m].clientX,s[m].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(v=>{!v.config.persistent&&(1===v.state||v.config.terminateOnPointerUp&&0===v.state)&&v.fadeOut()}))}_runTimeoutOutsideZone(v,s=0){this._ngZone.runOutsideAngular(()=>setTimeout(v,s))}_registerEvents(v){this._ngZone.runOutsideAngular(()=>{v.forEach(s=>{this._triggerElement.addEventListener(s,this,ju)})})}_removeTriggerEvents(){this._triggerElement&&(rh.forEach(v=>{this._triggerElement.removeEventListener(v,this,ju)}),this._pointerUpEventsRegistered&&kf.forEach(v=>{this._triggerElement.removeEventListener(v,this,ju)}))}}const np=new t.OlP("mat-ripple-global-options");let as=(()=>{class y{constructor(s,m,S,j,ue){this._elementRef=s,this._animationMode=ue,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=j||{},this._rippleRenderer=new C_(this,m,s,S)}get disabled(){return this._disabled}set disabled(s){s&&this.fadeOutAllNonPersistent(),this._disabled=s,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(s){this._trigger=s,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(s,m=0,S){return"number"==typeof s?this._rippleRenderer.fadeInRipple(s,m,Object.assign(Object.assign({},this.rippleConfig),S)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),s))}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(Ws),t.Y36(np,8),t.Y36(t.QbO,8))},y.\u0275dir=t.lG2({type:y,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(s,m){2&s&&t.ekj("mat-ripple-unbounded",m.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),y})(),ah=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({imports:[[rs],rs]}),y})(),Lf=(()=>{class y{constructor(s){this._animationMode=s,this.state="unchecked",this.disabled=!1}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.QbO,8))},y.\u0275cmp=t.Xpm({type:y,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(s,m){2&s&&t.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===m.state)("mat-pseudo-checkbox-checked","checked"===m.state)("mat-pseudo-checkbox-disabled",m.disabled)("_mat-animation-noopable","NoopAnimations"===m._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(s,m){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),y})(),Ro=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({imports:[[rs]]}),y})();const rp=new t.OlP("MAT_OPTION_PARENT_COMPONENT"),kd=new t.OlP("MatOptgroup");let Cf=0;class Ef{constructor(v,s=!1){this.source=v,this.isUserInput=s}}let A_=(()=>{class y{constructor(s,m,S,j){this._element=s,this._changeDetectorRef=m,this._parent=S,this.group=j,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Cf++,this.onSelectionChange=new t.vpe,this._stateChanges=new Un.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(s){this._disabled=Jn(s)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(s,m){const S=this._getHostElement();"function"==typeof S.focus&&S.focus(m)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(s){(13===s.keyCode||32===s.keyCode)&&!Xc(s)&&(this._selectViaInteraction(),s.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const s=this.viewValue;s!==this._mostRecentViewValue&&(this._mostRecentViewValue=s,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(s=!1){this.onSelectionChange.emit(new Ef(this,s))}}return y.\u0275fac=function(s){t.$Z()},y.\u0275dir=t.lG2({type:y,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),y})(),oh=(()=>{class y extends A_{constructor(s,m,S,j){super(s,m,S,j)}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(rp,8),t.Y36(kd,8))},y.\u0275cmp=t.Xpm({type:y,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(s,m){1&s&&t.NdJ("click",function(){return m._selectViaInteraction()})("keydown",function(j){return m._handleKeydown(j)}),2&s&&(t.Ikx("id",m.id),t.uIk("tabindex",m._getTabIndex())("aria-selected",m._getAriaSelected())("aria-disabled",m.disabled.toString()),t.ekj("mat-selected",m.selected)("mat-option-multiple",m.multiple)("mat-active",m.active)("mat-option-disabled",m.disabled))},exportAs:["matOption"],features:[t.qOj],ngContentSelectors:T_,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(s,m){1&s&&(t.F$t(),t.YNc(0,w_,1,2,"mat-pseudo-checkbox",0),t.TgZ(1,"span",1),t.Hsn(2),t.qZA(),t.YNc(3,M_,2,1,"span",2),t._UZ(4,"div",3)),2&s&&(t.Q6J("ngIf",m.multiple),t.xp6(3),t.Q6J("ngIf",m.group&&m.group._inert),t.xp6(1),t.Q6J("matRippleTrigger",m._getHostElement())("matRippleDisabled",m.disabled||m.disableRipple))},dependencies:[Lf,A.O5,as],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),y})();function ap(y,v,s){if(s.length){let m=v.toArray(),S=s.toArray(),j=0;for(let ue=0;ue<y+1;ue++)m[ue].group&&m[ue].group===S[j]&&j++;return j}return 0}let op=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({imports:[[ah,A.ez,rs,Ro]]}),y})();var I_=se(1737),Af=se(567),Mc=se(7221),If=se(537),Pf=se(2474),lp=se(520),cp=se(2313);const P_=["*"];let lh;function Nu(y){var v;return(null===(v=function Of(){if(void 0===lh&&(lh=null,"undefined"!=typeof window)){const y=window;void 0!==y.trustedTypes&&(lh=y.trustedTypes.createPolicy("angular#components",{createHTML:v=>v}))}return lh}())||void 0===v?void 0:v.createHTML(y))||y}function Hu(y){return Error(`Unable to find icon with the name "${y}"`)}function up(y){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${y}".`)}function ol(y){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${y}".`)}class Tc{constructor(v,s,m){this.url=v,this.svgText=s,this.options=m}}let kc=(()=>{class y{constructor(s,m,S,j){this._httpClient=s,this._sanitizer=m,this._errorHandler=j,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=S}addSvgIcon(s,m,S){return this.addSvgIconInNamespace("",s,m,S)}addSvgIconLiteral(s,m,S){return this.addSvgIconLiteralInNamespace("",s,m,S)}addSvgIconInNamespace(s,m,S,j){return this._addSvgIconConfig(s,m,new Tc(S,null,j))}addSvgIconResolver(s){return this._resolvers.push(s),this}addSvgIconLiteralInNamespace(s,m,S,j){const ue=this._sanitizer.sanitize(t.q3G.HTML,S);if(!ue)throw ol(S);const Ce=Nu(ue);return this._addSvgIconConfig(s,m,new Tc("",Ce,j))}addSvgIconSet(s,m){return this.addSvgIconSetInNamespace("",s,m)}addSvgIconSetLiteral(s,m){return this.addSvgIconSetLiteralInNamespace("",s,m)}addSvgIconSetInNamespace(s,m,S){return this._addSvgIconSetConfig(s,new Tc(m,null,S))}addSvgIconSetLiteralInNamespace(s,m,S){const j=this._sanitizer.sanitize(t.q3G.HTML,m);if(!j)throw ol(m);const ue=Nu(j);return this._addSvgIconSetConfig(s,new Tc("",ue,S))}registerFontClassAlias(s,m=s){return this._fontCssClassesByAlias.set(s,m),this}classNameForFontAlias(s){return this._fontCssClassesByAlias.get(s)||s}setDefaultFontSetClass(s){return this._defaultFontSetClass=s,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(s){const m=this._sanitizer.sanitize(t.q3G.RESOURCE_URL,s);if(!m)throw up(s);const S=this._cachedIconsByUrl.get(m);return S?(0,Sl.of)(_u(S)):this._loadSvgIconFromConfig(new Tc(s,null)).pipe((0,Ru.b)(j=>this._cachedIconsByUrl.set(m,j)),(0,Il.U)(j=>_u(j)))}getNamedSvgIcon(s,m=""){const S=dp(m,s);let j=this._svgIconConfigs.get(S);if(j)return this._getSvgFromConfig(j);if(j=this._getIconConfigFromResolvers(m,s),j)return this._svgIconConfigs.set(S,j),this._getSvgFromConfig(j);const ue=this._iconSetConfigs.get(m);return ue?this._getSvgFromIconSetConfigs(s,ue):(0,I_._)(Hu(S))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(s){return s.svgText?(0,Sl.of)(_u(this._svgElementFromConfig(s))):this._loadSvgIconFromConfig(s).pipe((0,Il.U)(m=>_u(m)))}_getSvgFromIconSetConfigs(s,m){const S=this._extractIconWithNameFromAnySet(s,m);if(S)return(0,Sl.of)(S);const j=m.filter(ue=>!ue.svgText).map(ue=>this._loadSvgIconSetFromConfig(ue).pipe((0,Mc.K)(Ce=>{const nt=`Loading icon set URL: ${this._sanitizer.sanitize(t.q3G.RESOURCE_URL,ue.url)} failed: ${Ce.message}`;return this._errorHandler.handleError(new Error(nt)),(0,Sl.of)(null)})));return(0,Af.D)(j).pipe((0,Il.U)(()=>{const ue=this._extractIconWithNameFromAnySet(s,m);if(!ue)throw Hu(s);return ue}))}_extractIconWithNameFromAnySet(s,m){for(let S=m.length-1;S>=0;S--){const j=m[S];if(j.svgText&&j.svgText.toString().indexOf(s)>-1){const ue=this._svgElementFromConfig(j),Ce=this._extractSvgIconFromSet(ue,s,j.options);if(Ce)return Ce}}return null}_loadSvgIconFromConfig(s){return this._fetchIcon(s).pipe((0,Ru.b)(m=>s.svgText=m),(0,Il.U)(()=>this._svgElementFromConfig(s)))}_loadSvgIconSetFromConfig(s){return s.svgText?(0,Sl.of)(null):this._fetchIcon(s).pipe((0,Ru.b)(m=>s.svgText=m))}_extractSvgIconFromSet(s,m,S){const j=s.querySelector(`[id="${m}"]`);if(!j)return null;const ue=j.cloneNode(!0);if(ue.removeAttribute("id"),"svg"===ue.nodeName.toLowerCase())return this._setSvgAttributes(ue,S);if("symbol"===ue.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(ue),S);const Ce=this._svgElementFromString(Nu("<svg></svg>"));return Ce.appendChild(ue),this._setSvgAttributes(Ce,S)}_svgElementFromString(s){const m=this._document.createElement("DIV");m.innerHTML=s;const S=m.querySelector("svg");if(!S)throw Error("<svg> tag not found");return S}_toSvgElement(s){const m=this._svgElementFromString(Nu("<svg></svg>")),S=s.attributes;for(let j=0;j<S.length;j++){const{name:ue,value:Ce}=S[j];"id"!==ue&&m.setAttribute(ue,Ce)}for(let j=0;j<s.childNodes.length;j++)s.childNodes[j].nodeType===this._document.ELEMENT_NODE&&m.appendChild(s.childNodes[j].cloneNode(!0));return m}_setSvgAttributes(s,m){return s.setAttribute("fit",""),s.setAttribute("height","100%"),s.setAttribute("width","100%"),s.setAttribute("preserveAspectRatio","xMidYMid meet"),s.setAttribute("focusable","false"),m&&m.viewBox&&s.setAttribute("viewBox",m.viewBox),s}_fetchIcon(s){var m;const{url:S,options:j}=s,ue=null!==(m=null==j?void 0:j.withCredentials)&&void 0!==m&&m;if(!this._httpClient)throw function Rf(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==S)throw Error(`Cannot fetch icon from URL "${S}".`);const Ce=this._sanitizer.sanitize(t.q3G.RESOURCE_URL,S);if(!Ce)throw up(S);const Ne=this._inProgressUrlFetches.get(Ce);if(Ne)return Ne;const nt=this._httpClient.get(Ce,{responseType:"text",withCredentials:ue}).pipe((0,Il.U)(ht=>Nu(ht)),(0,If.x)(()=>this._inProgressUrlFetches.delete(Ce)),(0,Pf.B)());return this._inProgressUrlFetches.set(Ce,nt),nt}_addSvgIconConfig(s,m,S){return this._svgIconConfigs.set(dp(s,m),S),this}_addSvgIconSetConfig(s,m){const S=this._iconSetConfigs.get(s);return S?S.push(m):this._iconSetConfigs.set(s,[m]),this}_svgElementFromConfig(s){if(!s.svgElement){const m=this._svgElementFromString(s.svgText);this._setSvgAttributes(m,s.options),s.svgElement=m}return s.svgElement}_getIconConfigFromResolvers(s,m){for(let S=0;S<this._resolvers.length;S++){const j=this._resolvers[S](m,s);if(j)return ch(j)?new Tc(j.url,null,j.options):new Tc(j,null)}}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(lp.eN,8),t.LFG(cp.H7),t.LFG(A.K0,8),t.LFG(t.qLn))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function _u(y){return y.cloneNode(!0)}function dp(y,v){return y+":"+v}function ch(y){return!(!y.url||!y.options)}const uh=ih(class{constructor(y){this._elementRef=y}}),R_=new t.OlP("mat-icon-location",{providedIn:"root",factory:function F_(){const y=(0,t.f3M)(A.K0),v=y?y.location:null;return{getPathname:()=>v?v.pathname+v.search:""}}}),Ff=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Y_=Ff.map(y=>`[${y}]`).join(", "),z_=/^url\(['"]?#(.*?)['"]?\)$/;let Dc=(()=>{class y extends uh{constructor(s,m,S,j,ue){super(s),this._iconRegistry=m,this._location=j,this._errorHandler=ue,this._inline=!1,this._currentIconFetch=ka.w.EMPTY,S||s.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(s){this._inline=Jn(s)}get svgIcon(){return this._svgIcon}set svgIcon(s){s!==this._svgIcon&&(s?this._updateSvgIcon(s):this._svgIcon&&this._clearSvgElement(),this._svgIcon=s)}get fontSet(){return this._fontSet}set fontSet(s){const m=this._cleanupFontValue(s);m!==this._fontSet&&(this._fontSet=m,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(s){const m=this._cleanupFontValue(s);m!==this._fontIcon&&(this._fontIcon=m,this._updateFontIconClasses())}_splitIconName(s){if(!s)return["",""];const m=s.split(":");switch(m.length){case 1:return["",m[0]];case 2:return m;default:throw Error(`Invalid icon name: "${s}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const s=this._elementsWithExternalReferences;if(s&&s.size){const m=this._location.getPathname();m!==this._previousPath&&(this._previousPath=m,this._prependPathToReferences(m))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(s){this._clearSvgElement();const m=this._location.getPathname();this._previousPath=m,this._cacheChildrenWithExternalReferences(s),this._prependPathToReferences(m),this._elementRef.nativeElement.appendChild(s)}_clearSvgElement(){const s=this._elementRef.nativeElement;let m=s.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();m--;){const S=s.childNodes[m];(1!==S.nodeType||"svg"===S.nodeName.toLowerCase())&&S.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const s=this._elementRef.nativeElement,m=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();m!=this._previousFontSetClass&&(this._previousFontSetClass&&s.classList.remove(this._previousFontSetClass),m&&s.classList.add(m),this._previousFontSetClass=m),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&s.classList.remove(this._previousFontIconClass),this.fontIcon&&s.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(s){return"string"==typeof s?s.trim().split(" ")[0]:s}_prependPathToReferences(s){const m=this._elementsWithExternalReferences;m&&m.forEach((S,j)=>{S.forEach(ue=>{j.setAttribute(ue.name,`url('${s}#${ue.value}')`)})})}_cacheChildrenWithExternalReferences(s){const m=s.querySelectorAll(Y_),S=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let j=0;j<m.length;j++)Ff.forEach(ue=>{const Ce=m[j],Ne=Ce.getAttribute(ue),nt=Ne?Ne.match(z_):null;if(nt){let ht=S.get(Ce);ht||(ht=[],S.set(Ce,ht)),ht.push({name:ue,value:nt[1]})}})}_updateSvgIcon(s){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),s){const[m,S]=this._splitIconName(s);m&&(this._svgNamespace=m),S&&(this._svgName=S),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(S,m).pipe((0,co.q)(1)).subscribe(j=>this._setSvgElement(j),j=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${m}:${S}! ${j.message}`))})}}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.SBq),t.Y36(kc),t.$8M("aria-hidden"),t.Y36(R_),t.Y36(t.qLn))},y.\u0275cmp=t.Xpm({type:y,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(s,m){2&s&&(t.uIk("data-mat-icon-type",m._usingFontIcon()?"font":"svg")("data-mat-icon-name",m._svgName||m.fontIcon)("data-mat-icon-namespace",m._svgNamespace||m.fontSet),t.ekj("mat-icon-inline",m.inline)("mat-icon-no-color","primary"!==m.color&&"accent"!==m.color&&"warn"!==m.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[t.qOj],ngContentSelectors:P_,decls:1,vars:0,template:function(s,m){1&s&&(t.F$t(),t.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),y})(),Uu=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({imports:[[rs],rs]}),y})();const hp=["mat-button",""],B_=["*"],pp=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],H_=ih(Bu(xf(class{constructor(y){this._elementRef=y}})));let Ol=(()=>{class y extends H_{constructor(s,m,S){super(s),this._focusMonitor=m,this._animationMode=S,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const j of pp)this._hasHostAttributes(j)&&this._getHostElement().classList.add(j);s.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(s,m){s?this._focusMonitor.focusVia(this._getHostElement(),s,m):this._getHostElement().focus(m)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...s){return s.some(m=>this._getHostElement().hasAttribute(m))}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.SBq),t.Y36(yf),t.Y36(t.QbO,8))},y.\u0275cmp=t.Xpm({type:y,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(s,m){if(1&s&&t.Gf(as,5),2&s){let S;t.iGM(S=t.CRH())&&(m.ripple=S.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(s,m){2&s&&(t.uIk("disabled",m.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===m._animationMode)("mat-button-disabled",m.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:hp,ngContentSelectors:B_,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(s,m){1&s&&(t.F$t(),t.TgZ(0,"span",0),t.Hsn(1),t.qZA(),t._UZ(2,"span",1)(3,"span",2)),2&s&&(t.xp6(2),t.ekj("mat-button-ripple-round",m.isRoundButton||m.isIconButton),t.Q6J("matRippleDisabled",m._isRippleDisabled())("matRippleCentered",m.isIconButton)("matRippleTrigger",m._getHostElement()))},dependencies:[as],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),y})(),fp=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({imports:[[ah,rs],rs]}),y})();var Lc=se(6787),Dd=se(3753),ec=se(1059),Ni=se(1777);const Yf=["connectionContainer"],yu=["inputContainer"],V_=["label"];function eu(y,v){1&y&&(t.ynx(0),t.TgZ(1,"div",14),t._UZ(2,"div",15)(3,"div",16)(4,"div",17),t.qZA(),t.TgZ(5,"div",18),t._UZ(6,"div",15)(7,"div",16)(8,"div",17),t.qZA(),t.BQk())}function U_(y,v){if(1&y){const s=t.EpF();t.TgZ(0,"div",19),t.NdJ("cdkObserveContent",function(){t.CHM(s);const S=t.oxw();return t.KtG(S.updateOutlineGap())}),t.Hsn(1,1),t.qZA()}if(2&y){const s=t.oxw();t.Q6J("cdkObserveContentDisabled","outline"!=s.appearance)}}function Ld(y,v){if(1&y&&(t.ynx(0),t.Hsn(1,2),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.BQk()),2&y){const s=t.oxw(2);t.xp6(3),t.Oqu(s._control.placeholder)}}function Sd(y,v){1&y&&t.Hsn(0,3,["*ngSwitchCase","true"])}function Cd(y,v){1&y&&(t.TgZ(0,"span",23),t._uU(1," *"),t.qZA())}function Ed(y,v){if(1&y){const s=t.EpF();t.TgZ(0,"label",20,21),t.NdJ("cdkObserveContent",function(){t.CHM(s);const S=t.oxw();return t.KtG(S.updateOutlineGap())}),t.YNc(2,Ld,4,1,"ng-container",12),t.YNc(3,Sd,1,0,"ng-content",12),t.YNc(4,Cd,2,0,"span",22),t.qZA()}if(2&y){const s=t.oxw();t.ekj("mat-empty",s._control.empty&&!s._shouldAlwaysFloat())("mat-form-field-empty",s._control.empty&&!s._shouldAlwaysFloat())("mat-accent","accent"==s.color)("mat-warn","warn"==s.color),t.Q6J("cdkObserveContentDisabled","outline"!=s.appearance)("id",s._labelId)("ngSwitch",s._hasLabel()),t.uIk("for",s._control.id)("aria-owns",s._control.id),t.xp6(2),t.Q6J("ngSwitchCase",!1),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngIf",!s.hideRequiredMarker&&s._control.required&&!s._control.disabled)}}function dh(y,v){1&y&&(t.TgZ(0,"div",24),t.Hsn(1,4),t.qZA())}function W_(y,v){if(1&y&&(t.TgZ(0,"div",25),t._UZ(1,"span",26),t.qZA()),2&y){const s=t.oxw();t.xp6(1),t.ekj("mat-accent","accent"==s.color)("mat-warn","warn"==s.color)}}function G_(y,v){if(1&y&&(t.TgZ(0,"div"),t.Hsn(1,5),t.qZA()),2&y){const s=t.oxw();t.Q6J("@transitionMessages",s._subscriptAnimationState)}}function Wu(y,v){if(1&y&&(t.TgZ(0,"div",30),t._uU(1),t.qZA()),2&y){const s=t.oxw(2);t.Q6J("id",s._hintLabelId),t.xp6(1),t.Oqu(s.hintLabel)}}function hh(y,v){if(1&y&&(t.TgZ(0,"div",27),t.YNc(1,Wu,2,2,"div",28),t.Hsn(2,6),t._UZ(3,"div",29),t.Hsn(4,7),t.qZA()),2&y){const s=t.oxw();t.Q6J("@transitionMessages",s._subscriptAnimationState),t.xp6(1),t.Q6J("ngIf",s.hintLabel)}}const Z_=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],zf=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],$_=new t.OlP("MatError"),J_={transitionMessages:(0,Ni.X$)("transitionMessages",[(0,Ni.SB)("enter",(0,Ni.oB)({opacity:1,transform:"translateY(0%)"})),(0,Ni.eR)("void => enter",[(0,Ni.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Ni.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ad=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275dir=t.lG2({type:y}),y})();const ph=new t.OlP("MatHint");let tu=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275dir=t.lG2({type:y,selectors:[["mat-label"]]}),y})(),Q_=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275dir=t.lG2({type:y,selectors:[["mat-placeholder"]]}),y})();const _p=new t.OlP("MatPrefix"),Sc=new t.OlP("MatSuffix");let jf=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275dir=t.lG2({type:y,selectors:[["","matSuffix",""]],features:[t._Bn([{provide:Sc,useExisting:y}])]}),y})(),fh=0;const eg=ih(class{constructor(y){this._elementRef=y}},"primary"),tg=new t.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),mh=new t.OlP("MatFormField");let gp=(()=>{class y extends eg{constructor(s,m,S,j,ue,Ce,Ne){super(s),this._changeDetectorRef=m,this._dir=S,this._defaults=j,this._platform=ue,this._ngZone=Ce,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Un.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+fh++,this._labelId="mat-form-field-label-"+fh++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Ne,this.appearance=j&&j.appearance?j.appearance:"legacy",this._hideRequiredMarker=!(!j||null==j.hideRequiredMarker)&&j.hideRequiredMarker}get appearance(){return this._appearance}set appearance(s){const m=this._appearance;this._appearance=s||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&m!==s&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(s){this._hideRequiredMarker=Jn(s)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(s){this._hintLabel=s,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(s){s!==this._floatLabel&&(this._floatLabel=s||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(s){this._explicitFormFieldControl=s}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const s=this._control;s.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${s.controlType}`),s.stateChanges.pipe((0,ec.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),s.ngControl&&s.ngControl.valueChanges&&s.ngControl.valueChanges.pipe((0,is.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,is.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Lc.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,ec.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,ec.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,is.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(s){const m=this._control?this._control.ngControl:null;return m&&m[s]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,Dd.R)(this._label.nativeElement,"transitionend").pipe((0,co.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let s=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&s.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const m=this._hintChildren?this._hintChildren.find(j=>"start"===j.align):null,S=this._hintChildren?this._hintChildren.find(j=>"end"===j.align):null;m?s.push(m.id):this._hintLabel&&s.push(this._hintLabelId),S&&s.push(S.id)}else this._errorChildren&&s.push(...this._errorChildren.map(m=>m.id));this._control.setDescribedByIds(s)}}_validateControlChild(){}updateOutlineGap(){const s=this._label?this._label.nativeElement:null,m=this._connectionContainerRef.nativeElement,S=".mat-form-field-outline-start",j=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!s||!s.children.length||!s.textContent.trim()){const ht=m.querySelectorAll(`${S}, ${j}`);for(let Ht=0;Ht<ht.length;Ht++)ht[Ht].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let ue=0,Ce=0;const Ne=m.querySelectorAll(S),nt=m.querySelectorAll(j);if(this._label&&this._label.nativeElement.children.length){const ht=m.getBoundingClientRect();if(0===ht.width&&0===ht.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const Ht=this._getStartEnd(ht),ui=s.children,Qi=this._getStartEnd(ui[0].getBoundingClientRect());let Fi=0;for(let $i=0;$i<ui.length;$i++)Fi+=ui[$i].offsetWidth;ue=Math.abs(Qi-Ht)-5,Ce=Fi>0?.75*Fi+10:0}for(let ht=0;ht<Ne.length;ht++)Ne[ht].style.width=`${ue}px`;for(let ht=0;ht<nt.length;ht++)nt[ht].style.width=`${Ce}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(s){return this._dir&&"rtl"===this._dir.value?s.right:s.left}_isAttachedToDOM(){const s=this._elementRef.nativeElement;if(s.getRootNode){const m=s.getRootNode();return m&&m!==s}return document.documentElement.contains(s)}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(Tl,8),t.Y36(tg,8),t.Y36(Ws),t.Y36(t.R0b),t.Y36(t.QbO,8))},y.\u0275cmp=t.Xpm({type:y,selectors:[["mat-form-field"]],contentQueries:function(s,m,S){if(1&s&&(t.Suo(S,Ad,5),t.Suo(S,Ad,7),t.Suo(S,tu,5),t.Suo(S,tu,7),t.Suo(S,Q_,5),t.Suo(S,$_,5),t.Suo(S,ph,5),t.Suo(S,_p,5),t.Suo(S,Sc,5)),2&s){let j;t.iGM(j=t.CRH())&&(m._controlNonStatic=j.first),t.iGM(j=t.CRH())&&(m._controlStatic=j.first),t.iGM(j=t.CRH())&&(m._labelChildNonStatic=j.first),t.iGM(j=t.CRH())&&(m._labelChildStatic=j.first),t.iGM(j=t.CRH())&&(m._placeholderChild=j.first),t.iGM(j=t.CRH())&&(m._errorChildren=j),t.iGM(j=t.CRH())&&(m._hintChildren=j),t.iGM(j=t.CRH())&&(m._prefixChildren=j),t.iGM(j=t.CRH())&&(m._suffixChildren=j)}},viewQuery:function(s,m){if(1&s&&(t.Gf(Yf,7),t.Gf(yu,5),t.Gf(V_,5)),2&s){let S;t.iGM(S=t.CRH())&&(m._connectionContainerRef=S.first),t.iGM(S=t.CRH())&&(m._inputContainerRef=S.first),t.iGM(S=t.CRH())&&(m._label=S.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(s,m){2&s&&t.ekj("mat-form-field-appearance-standard","standard"==m.appearance)("mat-form-field-appearance-fill","fill"==m.appearance)("mat-form-field-appearance-outline","outline"==m.appearance)("mat-form-field-appearance-legacy","legacy"==m.appearance)("mat-form-field-invalid",m._control.errorState)("mat-form-field-can-float",m._canLabelFloat())("mat-form-field-should-float",m._shouldLabelFloat())("mat-form-field-has-label",m._hasFloatingLabel())("mat-form-field-hide-placeholder",m._hideControlPlaceholder())("mat-form-field-disabled",m._control.disabled)("mat-form-field-autofilled",m._control.autofilled)("mat-focused",m._control.focused)("ng-untouched",m._shouldForward("untouched"))("ng-touched",m._shouldForward("touched"))("ng-pristine",m._shouldForward("pristine"))("ng-dirty",m._shouldForward("dirty"))("ng-valid",m._shouldForward("valid"))("ng-invalid",m._shouldForward("invalid"))("ng-pending",m._shouldForward("pending"))("_mat-animation-noopable",!m._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[t._Bn([{provide:mh,useExisting:y}]),t.qOj],ngContentSelectors:zf,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(s,m){1&s&&(t.F$t(Z_),t.TgZ(0,"div",0)(1,"div",1,2),t.NdJ("click",function(j){return m._control.onContainerClick&&m._control.onContainerClick(j)}),t.YNc(3,eu,9,0,"ng-container",3),t.YNc(4,U_,2,1,"div",4),t.TgZ(5,"div",5,6),t.Hsn(7),t.TgZ(8,"span",7),t.YNc(9,Ed,5,16,"label",8),t.qZA()(),t.YNc(10,dh,2,0,"div",9),t.qZA(),t.YNc(11,W_,2,4,"div",10),t.TgZ(12,"div",11),t.YNc(13,G_,2,1,"div",12),t.YNc(14,hh,5,2,"div",13),t.qZA()()),2&s&&(t.xp6(3),t.Q6J("ngIf","outline"==m.appearance),t.xp6(1),t.Q6J("ngIf",m._prefixChildren.length),t.xp6(5),t.Q6J("ngIf",m._hasFloatingLabel()),t.xp6(1),t.Q6J("ngIf",m._suffixChildren.length),t.xp6(1),t.Q6J("ngIf","outline"!=m.appearance),t.xp6(1),t.Q6J("ngSwitch",m._getDisplayedMessages()),t.xp6(1),t.Q6J("ngSwitchCase","error"),t.xp6(1),t.Q6J("ngSwitchCase","hint"))},dependencies:[A.O5,Zh,A.RF,A.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[J_.transitionMessages]},changeDetection:0}),y})(),Gu=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({imports:[[A.ez,rs,gd],rs]}),y})();var ig=se(8896);const Zu=Gc({passive:!0});let ng=(()=>{class y{constructor(s,m){this._platform=s,this._ngZone=m,this._monitoredElements=new Map}monitor(s){if(!this._platform.isBrowser)return ig.E;const m=Oo(s),S=this._monitoredElements.get(m);if(S)return S.subject;const j=new Un.xQ,ue="cdk-text-field-autofilled",Ce=Ne=>{"cdk-text-field-autofill-start"!==Ne.animationName||m.classList.contains(ue)?"cdk-text-field-autofill-end"===Ne.animationName&&m.classList.contains(ue)&&(m.classList.remove(ue),this._ngZone.run(()=>j.next({target:Ne.target,isAutofilled:!1}))):(m.classList.add(ue),this._ngZone.run(()=>j.next({target:Ne.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{m.addEventListener("animationstart",Ce,Zu),m.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(m,{subject:j,unlisten:()=>{m.removeEventListener("animationstart",Ce,Zu)}}),j}stopMonitoring(s){const m=Oo(s),S=this._monitoredElements.get(m);S&&(S.unlisten(),S.subject.complete(),m.classList.remove("cdk-text-field-autofill-monitored"),m.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(m))}ngOnDestroy(){this._monitoredElements.forEach((s,m)=>this.stopMonitoring(m))}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(Ws),t.LFG(t.R0b))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Hf=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({}),y})();const Fo=new t.OlP("MAT_INPUT_VALUE_ACCESSOR"),tc=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let iu=0;const ic=ep(class{constructor(y,v,s,m){this._defaultErrorStateMatcher=y,this._parentForm=v,this._parentFormGroup=s,this.ngControl=m}});let nc=(()=>{class y extends ic{constructor(s,m,S,j,ue,Ce,Ne,nt,ht,Ht){super(Ce,j,ue,S),this._elementRef=s,this._platform=m,this._autofillMonitor=nt,this._formField=Ht,this._uid="mat-input-"+iu++,this.focused=!1,this.stateChanges=new Un.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Fi=>Vd().has(Fi)),this._iOSKeyupListener=Fi=>{const $i=Fi.target;!$i.value&&0===$i.selectionStart&&0===$i.selectionEnd&&($i.setSelectionRange(1,1),$i.setSelectionRange(0,0))};const ui=this._elementRef.nativeElement,Qi=ui.nodeName.toLowerCase();this._inputValueAccessor=Ne||ui,this._previousNativeValue=this.value,this.id=this.id,m.IOS&&ht.runOutsideAngular(()=>{s.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Qi,this._isTextarea="textarea"===Qi,this._isInFormField=!!Ht,this._isNativeSelect&&(this.controlType=ui.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(s){this._disabled=Jn(s),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(s){this._id=s||this._uid}get required(){var s,m,S,j;return null!==(j=null!==(s=this._required)&&void 0!==s?s:null===(S=null===(m=this.ngControl)||void 0===m?void 0:m.control)||void 0===S?void 0:S.hasValidator(Y.kI.required))&&void 0!==j&&j}set required(s){this._required=Jn(s)}get type(){return this._type}set type(s){this._type=s||"text",this._validateType(),!this._isTextarea&&Vd().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(s){s!==this.value&&(this._inputValueAccessor.value=s,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(s){this._readonly=Jn(s)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(s=>{this.autofilled=s.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(s){this._elementRef.nativeElement.focus(s)}_focusChanged(s){s!==this.focused&&(this.focused=s,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var s,m;const S=null!==(m=null===(s=this._formField)||void 0===s?void 0:s._hideControlPlaceholder)&&void 0!==m&&m.call(s)?null:this.placeholder;if(S!==this._previousPlaceholder){const j=this._elementRef.nativeElement;this._previousPlaceholder=S,S?j.setAttribute("placeholder",S):j.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const s=this._elementRef.nativeElement.value;this._previousNativeValue!==s&&(this._previousNativeValue=s,this.stateChanges.next())}_validateType(){tc.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let s=this._elementRef.nativeElement.validity;return s&&s.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const s=this._elementRef.nativeElement,m=s.options[0];return this.focused||s.multiple||!this.empty||!!(s.selectedIndex>-1&&m&&m.label)}return this.focused||!this.empty}setDescribedByIds(s){s.length?this._elementRef.nativeElement.setAttribute("aria-describedby",s.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const s=this._elementRef.nativeElement;return this._isNativeSelect&&(s.multiple||s.size>1)}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.SBq),t.Y36(Ws),t.Y36(Y.a5,10),t.Y36(Y.F,8),t.Y36(Y.sg,8),t.Y36(ip),t.Y36(Fo,10),t.Y36(ng),t.Y36(t.R0b),t.Y36(mh,8))},y.\u0275dir=t.lG2({type:y,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(s,m){1&s&&t.NdJ("focus",function(){return m._focusChanged(!0)})("blur",function(){return m._focusChanged(!1)})("input",function(){return m._onInput()}),2&s&&(t.Ikx("disabled",m.disabled)("required",m.required),t.uIk("id",m.id)("data-placeholder",m.placeholder)("name",m.name||null)("readonly",m.readonly&&!m._isNativeSelect||null)("aria-invalid",m.empty&&m.required?null:m.errorState)("aria-required",m.required),t.ekj("mat-input-server",m._isServer)("mat-native-select-inline",m._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[t._Bn([{provide:Ad,useExisting:y}]),t.qOj,t.TTD]}),y})(),_h=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({providers:[ip],imports:[[Hf,Gu,rs],Hf,Gu]}),y})();function Vf(y,v){if(1&y){const s=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"button",22),t.NdJ("click",function(){const j=t.CHM(s).$implicit,ue=t.oxw();return t.KtG(ue.editRouteForm(j))}),t.TgZ(5,"mat-icon"),t._uU(6,"edit"),t.qZA()()(),t.TgZ(7,"td")(8,"button",23),t.NdJ("click",function(){const j=t.CHM(s).$implicit,ue=t.oxw();return t.KtG(ue.deleteCustomer(j))}),t.TgZ(9,"mat-icon"),t._uU(10,"delete"),t.qZA()()()()}if(2&y){const s=v.$implicit;t.xp6(2),t.hij(" ",s.nombre," ")}}let Uf=(()=>{class y{constructor(s,m,S){this.apiService=s,this.fb=m,this.toastr=S,this.routeForm=this.createFomRoute()}ngOnInit(){this.getRoutes()}getRoutes(){this.apiService.get("rutas").subscribe(s=>{this.routesList=s.datos},s=>{console.error(s)})}createFomRoute(s){return this.fb.group({uid:(null==s?void 0:s.uid)||"",nombre:[(null==s?void 0:s.nombre)||"",[Y.kI.required]],descripcion:[(null==s?void 0:s.descripcion)||"",[Y.kI.required]],region:[(null==s?void 0:s.region)||"",[Y.kI.required]]})}formValidation(){this.routeForm.invalid?this.routeForm.markAllAsTouched():this.routeForm.controls.uid.value?this.updateRoute():this.saveRoute()}resetForm(){this.routeForm=this.createFomRoute()}editRouteForm(s){this.routeForm=this.createFomRoute(s)}deleteCustomer(s){Ka().fire({title:"\xbfEst\xe1 seguro de que quiere eliminar este registro?",text:"Puede que esta acci\xf3n no se pueda deshacer!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar"}).then(m=>{m.isConfirmed&&this.changeStateRoute(s)})}saveRoute(){const S=ql(this.routeForm.getRawValue(),["uid"]);this.apiService.post("rutas",Object.assign({},S)).subscribe(j=>{Ka().fire("EXITO","Ruta creada satisfactoriamente","success"),this.getRoutes()},j=>{console.error(j)})}updateRoute(){const s=this.routeForm.getRawValue(),{uid:m}=s,S=ql(s,["uid"]);this.apiService.post(`rutas/${m}`,Object.assign({},S)).subscribe(j=>{Ka().fire("EXITO","Ruta actualizada satisfactoriamente","success"),this.getRoutes()},j=>{console.error(j)})}changeStateRoute(s){s.estado=!1,this.apiService.put(`rutas/${s.uid}`,{data:s}).subscribe(m=>{this.toastr.success("La ruta ha sido removida satisfactoriamente","",{timeOut:8e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-success alert-with-icon",positionClass:"toast-top-right"}),this.getRoutes()},m=>{console.error(m)})}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(rd.s),t.Y36(Y.qu),t.Y36(uu._W))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-routes"]],decls:53,vars:2,consts:[[1,"panel-header","panel-header-sm"],[1,"main-content"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-header"],[1,"title"],[1,"card-body",3,"formGroup"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Ingrese nombre de Ruta","autocomplete","off","formControlName","nombre"],["matInput","","placeholder","Castillo Robles","autocomplete","off","formControlName","descripcion"],["matInput","","placeholder","Region de la ruta","autocomplete","off","formControlName","region"],[1,"col-6"],[1,"btn","btn-primary","mt-4",2,"width","100%",3,"click"],[1,"btn","btn-default","mt-4",2,"width","100%",3,"click"],[1,"card-title"],[1,"card-body"],[1,"table-responsive",2,"max-height","292px"],[1,"table"],[1,"fontTableBody"],[4,"ngFor","ngForOf"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn",3,"click"]],template:function(s,m){1&s&&(t._UZ(0,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),t._uU(7,"RUTAS"),t.qZA()(),t.TgZ(8,"div",7)(9,"div",2)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),t._uU(13,"Nombre ruta"),t.qZA(),t._UZ(14,"input",10),t.qZA()()(),t.TgZ(15,"div",2)(16,"div",8)(17,"mat-form-field",9)(18,"mat-label"),t._uU(19,"Descripcion de la ruta"),t.qZA(),t._UZ(20,"input",11),t.qZA()()(),t.TgZ(21,"div",2)(22,"div",8)(23,"mat-form-field",9)(24,"mat-label"),t._uU(25,"region"),t.qZA(),t._UZ(26,"input",12),t.qZA()()(),t.TgZ(27,"div",2)(28,"div",13)(29,"button",14),t.NdJ("click",function(){return m.formValidation()}),t._uU(30,"Guardar"),t.qZA()(),t.TgZ(31,"div",13)(32,"button",15),t.NdJ("click",function(){return m.resetForm()}),t._uU(33,"Limpiar"),t.qZA()()()()()(),t.TgZ(34,"div",3)(35,"div",4)(36,"div",5)(37,"h4",16),t._uU(38," Listado de Rutas"),t.qZA()(),t.TgZ(39,"div",17)(40,"div",2)(41,"div",8)(42,"div",18)(43,"table",19)(44,"thead")(45,"th"),t._uU(46,"Nombre Ruta"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"Editar"),t.qZA(),t.TgZ(49,"th"),t._uU(50,"Eliminar"),t.qZA()(),t.TgZ(51,"tbody",20),t.YNc(52,Vf,11,1,"tr",21),t.qZA()()()()()()()()()()),2&s&&(t.xp6(8),t.Q6J("formGroup",m.routeForm),t.xp6(44),t.Q6J("ngForOf",m.routesList))},dependencies:[A.sg,Y.Fj,Y.JJ,Y.JL,Y.sg,Y.u,Dc,Ol,gp,tu,nc],styles:[".content[_ngcontent-%COMP%]{display:flex;height:100%}.match-parent[_ngcontent-%COMP%]{width:50%;height:75%;margin:100px}.geocoder[_ngcontent-%COMP%]{position:absolute;z-index:1;width:75%;left:43%;margin-left:-25%;top:35px}.mapboxgl-ctrl-geocoder[_ngcontent-%COMP%]{min-width:100%}.full-width[_ngcontent-%COMP%]{width:100%}"]}),y})();var Wf=se(9898),vu=se.n(Wf),sg=se(2340),Gf=se(8545),Zf=se.n(Gf);function qf(y,v){if(1&y&&(t.TgZ(0,"option",32),t._uU(1),t.qZA()),2&y){const s=v.$implicit;t.Q6J("value",s.uid),t.xp6(1),t.Oqu(s.nombre)}}function $f(y,v){if(1&y){const s=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"button",33),t.NdJ("click",function(){const j=t.CHM(s).$implicit,ue=t.oxw();return t.KtG(ue.editCustomerForm(j))}),t.TgZ(7,"mat-icon"),t._uU(8,"edit"),t.qZA()()(),t.TgZ(9,"td")(10,"button",34),t.NdJ("click",function(){const j=t.CHM(s).$implicit,ue=t.oxw();return t.KtG(ue.deleteCustomer(j))}),t.TgZ(11,"mat-icon"),t._uU(12,"delete"),t.qZA()()()()}if(2&y){const s=v.$implicit;t.xp6(2),t.hij(" ",s.idcliente," "),t.xp6(2),t.hij(" ",s.razonSocial," ")}}let Xf=(()=>{class y{constructor(s,m,S){this.apiService=s,this.fb=m,this.toastr=S,this.style="mapbox://styles/mapbox/streets-v11",this.lat=14.642441,this.lng=-90.513072,this.customerForm=this.createFormCustomer(),this.customerForm.controls.idcliente.disable()}ngOnInit(){this.createMap(),this.getClients(),this.getRoutes()}createMap(){vu().accessToken=sg.N.mapboxAccessToken,this.map=new(vu().Map)({container:"map",style:"mapbox://styles/mapbox/streets-v12",center:[this.lng,this.lat],zoom:9}),this.map.addControl(new(vu().NavigationControl)),this.geocoding()}geocoding(){this.geocoder=new(Zf())({accessToken:vu().accessToken,mapboxgl:vu()}),document.getElementById("searchAddrress").appendChild(this.geocoder.onAdd(this.map)),this.getAddress()}getAddress(){this.geocoder.on("result",s=>{this.address=s.result.place_name,this.long=s.result.geometry.coordinates[0],this.latitude=s.result.geometry.coordinates[1],this.coordinates=s.result.geometry.coordinates})}getClients(){this.apiService.get("clientes").subscribe(s=>{this.customerList=s.datos},s=>{console.error(s)})}getRoutes(){this.apiService.get("rutas").subscribe(s=>{this.routesList=s.datos},s=>{console.error(s)})}createFormCustomer(s){return this.fb.group({_id:(null==s?void 0:s.uid)||"",idcliente:(null==s?void 0:s.idcliente)||"",nombreComercial:[(null==s?void 0:s.nombreComercial)||"",[Y.kI.required]],razonSocial:[(null==s?void 0:s.razonSocial)||"",[Y.kI.required]],nit:[(null==s?void 0:s.nit)||"",[Y.kI.required]],telefono1:[(null==s?void 0:s.telefono1)||"",[Y.kI.required]],telefono2:(null==s?void 0:s.telefono2)||"",correo1:[(null==s?void 0:s.correo1)||"",[Y.kI.required]],direccion:[(null==s?void 0:s.direccion)||"",[Y.kI.required]],ruta:[(null==s?void 0:s.ruta)||"",[Y.kI.required]]})}editCustomerForm(s){this.customerForm=this.createFormCustomer(s),this.lng=s.location.coordinates[0],this.lat=s.location.coordinates[1],this.coordinates=s.location.coordinates}resetForm(){this.customerForm=this.createFormCustomer()}changeStateCustomer(s){s.estado=!1,this.apiService.put(`clientes/${s.uid}`,{customer:s}).subscribe(m=>{this.toastr.success("El cliente ha sido removido satisfactoriamente","",{timeOut:8e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-success alert-with-icon",positionClass:"toast-top-right"}),this.getClients()},m=>{console.error(m)})}updateCustomer(){const s=this.customerForm.getRawValue(),{_id:m}=s,S=ql(s,["_id"]);this.apiService.put(`clientes/${m}`,Object.assign(Object.assign({},S),{location:{type:"Point",coordinates:this.coordinates}})).subscribe(j=>{Ka().fire("EXITO","Cliente actualizado satisfactoriamente","success"),this.getClients()},j=>{console.error(j)})}deleteCustomer(s){Ka().fire({title:"\xbfEst\xe1 seguro de que quiere eliminar este registro?",text:"Puede que esta acci\xf3n no se pueda deshacer!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar"}).then(m=>{m.isConfirmed&&this.changeStateCustomer(s)})}saveCustomer(){const j=ql(this.customerForm.getRawValue(),["_id","idcliente"]);this.apiService.post("clientes",Object.assign(Object.assign({},j),{location:{type:"Point",coordinates:this.coordinates}})).subscribe(ue=>{Ka().fire("EXITO","Cliente creado satisfactoriamente","success"),this.editCustomerForm(ue.cliente),this.getClients()},ue=>{console.error(ue)})}formValidation(){this.customerForm.invalid?this.customerForm.markAllAsTouched():this.address||this.customerForm.controls.idcliente.value?this.customerForm.controls.idcliente.value?this.updateCustomer():this.saveCustomer():Ka().fire("ERROR","Debe ingresar la ubicaci\xf3n o direcci\xf3n m\xe1s cercana,","error")}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(rd.s),t.Y36(Y.qu),t.Y36(uu._W))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-customers"]],decls:95,vars:3,consts:[[1,"panel-header","panel-header-sm"],[1,"main-content"],[1,"row"],[1,"col-md-6"],[1,"card",3,"formGroup"],[1,"card-header"],[1,"title"],[1,"card-body"],[1,"col-6"],[1,"form-group"],["type","text","formControlName","idcliente",1,"form-control"],["type","text","formControlName","nit","placeholder","Ingrese NIT",1,"form-control"],["type","text","formControlName","nombreComercial","placeholder","Ingrese nombre comercial",1,"form-control"],["type","text","formControlName","razonSocial","placeholder","Ingrese razon social",1,"form-control"],["formControlName","ruta",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","direccion","placeholder","N\xfamero de celular",1,"form-control"],[1,"col-3"],["type","text","formControlName","telefono1","placeholder","Telefono",1,"form-control"],["type","text","formControlName","telefono2","placeholder","Celular",1,"form-control"],["type","text","formControlName","correo1","placeholder","Ingrese correo principal",1,"form-control"],["id","searchAddrress",1,"geocoder",2,"width","100%"],[1,"btn","btn-primary","mt-4",2,"width","100%",3,"click"],[1,"btn","btn-default","mt-4",2,"width","100%",3,"click"],[1,"col"],["id","map",2,"width","100%","height","200px"],[1,"card"],[1,"card-title"],[1,"table-responsive"],[1,"table"],[1,"fontTableBody"],[4,"ngFor","ngForOf"],[3,"value"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn",3,"click"]],template:function(s,m){1&s&&(t._UZ(0,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),t._uU(7,"CLIENTES"),t.qZA()(),t.TgZ(8,"div",7)(9,"div",2)(10,"div",8)(11,"div",9)(12,"label"),t._uU(13,"Id Cliente"),t.qZA(),t._UZ(14,"input",10),t.qZA()(),t.TgZ(15,"div",8)(16,"div",9)(17,"label"),t._uU(18,"NIT"),t.qZA(),t._UZ(19,"input",11),t.qZA()()(),t.TgZ(20,"div",2)(21,"div",8)(22,"div",9)(23,"label"),t._uU(24,"Nombre Comercial"),t.qZA(),t._UZ(25,"input",12),t.qZA()(),t.TgZ(26,"div",8)(27,"div",9)(28,"label"),t._uU(29,"Razon Social"),t.qZA(),t._UZ(30,"input",13),t.qZA()()(),t.TgZ(31,"div",2)(32,"div",8)(33,"div",9)(34,"label"),t._uU(35,"Ruta"),t.qZA(),t.TgZ(36,"select",14),t.YNc(37,qf,2,2,"option",15),t.qZA()()(),t.TgZ(38,"div",8)(39,"div",9)(40,"label"),t._uU(41,"Direcci\xf3n"),t.qZA(),t._UZ(42,"input",16),t.qZA()()(),t.TgZ(43,"div",2)(44,"div",17)(45,"div",9)(46,"label"),t._uU(47,"Telefono"),t.qZA(),t._UZ(48,"input",18),t.qZA()(),t.TgZ(49,"div",17)(50,"div",9)(51,"label"),t._uU(52,"Celular"),t.qZA(),t._UZ(53,"input",19),t.qZA()(),t.TgZ(54,"div",8)(55,"div",9)(56,"label"),t._uU(57,"Correo"),t.qZA(),t._UZ(58,"input",20),t.qZA()()(),t.TgZ(59,"div",2)(60,"div",8)(61,"div",9)(62,"label"),t._uU(63,"Ubicaci\xf3n"),t.qZA(),t._UZ(64,"div",21),t.qZA()(),t.TgZ(65,"div",17)(66,"button",22),t.NdJ("click",function(){return m.formValidation()}),t._uU(67,"Guardar"),t.qZA()(),t.TgZ(68,"div",17)(69,"button",23),t.NdJ("click",function(){return m.resetForm()}),t._uU(70,"Limpiar"),t.qZA()()(),t.TgZ(71,"div",2)(72,"div",24),t._UZ(73,"div",25),t.qZA()()()()(),t.TgZ(74,"div",3)(75,"div",26)(76,"div",5)(77,"h4",27),t._uU(78," Listado de Clientes"),t.qZA()(),t.TgZ(79,"div",7)(80,"div",2)(81,"div",24)(82,"div",28)(83,"table",29)(84,"thead")(85,"th"),t._uU(86,"Id"),t.qZA(),t.TgZ(87,"th"),t._uU(88,"Razon Social"),t.qZA(),t.TgZ(89,"th"),t._uU(90,"Editar"),t.qZA(),t.TgZ(91,"th"),t._uU(92,"Eliminar"),t.qZA()(),t.TgZ(93,"tbody",30),t.YNc(94,$f,13,2,"tr",31),t.qZA()()()()()()()()()()),2&s&&(t.xp6(4),t.Q6J("formGroup",m.customerForm),t.xp6(33),t.Q6J("ngForOf",m.routesList),t.xp6(57),t.Q6J("ngForOf",m.customerList))},dependencies:[A.sg,Y.YN,Y.Kr,Y.Fj,Y.EJ,Y.JJ,Y.JL,Y.sg,Y.u,Dc,Ol],styles:[".fontTableBody[_ngcontent-%COMP%]{font-size:smaller}"]}),y})();var yp=se(6686),Cc=se(2268);new class Kf extends Cc.v{flush(v){this.active=!0,this.scheduled=void 0;const{actions:s}=this;let m,S=-1,j=s.length;v=v||s.shift();do{if(m=v.execute(v.state,v.delay))break}while(++S<j&&(v=s.shift()));if(this.active=!1,m){for(;++S<j&&(v=s.shift());)v.unsubscribe();throw m}}}(class Jf extends yp.o{constructor(v,s){super(v,s),this.scheduler=v,this.work=s}requestAsyncId(v,s,m=0){return null!==m&&m>0?super.requestAsyncId(v,s,m):(v.actions.push(this),v.scheduled||(v.scheduled=requestAnimationFrame(()=>v.flush(null))))}recycleAsyncId(v,s,m=0){if(null!==m&&m>0||null===m&&this.delay>0)return super.recycleAsyncId(v,s,m);0===v.actions.length&&(cancelAnimationFrame(s),v.scheduled=void 0)}});let gh=1;const lg=Promise.resolve(),Ec={};function yh(y){return y in Ec&&(delete Ec[y],!0)}const vh={setImmediate(y){const v=gh++;return Ec[v]=!0,lg.then(()=>yh(v)&&y()),v},clearImmediate(y){yh(y)}};new class bp extends Cc.v{flush(v){this.active=!0,this.scheduled=void 0;const{actions:s}=this;let m,S=-1,j=s.length;v=v||s.shift();do{if(m=v.execute(v.state,v.delay))break}while(++S<j&&(v=s.shift()));if(this.active=!1,m){for(;++S<j&&(v=s.shift());)v.unsubscribe();throw m}}}(class vp extends yp.o{constructor(v,s){super(v,s),this.scheduler=v,this.work=s}requestAsyncId(v,s,m=0){return null!==m&&m>0?super.requestAsyncId(v,s,m):(v.actions.push(this),v.scheduled||(v.scheduled=vh.setImmediate(v.flush.bind(v,null))))}recycleAsyncId(v,s,m=0){if(null!==m&&m>0||null===m&&this.delay>0)return super.recycleAsyncId(v,s,m);0===v.actions.length&&(vh.clearImmediate(s),v.scheduled=void 0)}});var bh=se(1177);class Pd{constructor(v){this.durationSelector=v}call(v,s){return s.subscribe(new xh(v,this.durationSelector))}}class xh extends bh.Ds{constructor(v,s){super(v),this.durationSelector=s,this.hasValue=!1}_next(v){if(this.value=v,this.hasValue=!0,!this.throttled){let s;try{const{durationSelector:S}=this;s=S(v)}catch(S){return this.destination.error(S)}const m=(0,bh.ft)(s,new bh.IY(this));!m||m.closed?this.clearThrottle():this.add(this.throttled=m)}}clearThrottle(){const{value:v,hasValue:s,throttled:m}=this;m&&(this.remove(m),this.throttled=void 0,m.unsubscribe()),s&&(this.value=void 0,this.hasValue=!1,this.destination.next(v))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var em=se(7739);function xp(y,v=fu.P){return function Qf(y){return function(s){return s.lift(new Pd(y))}}(()=>(0,em.H)(y,v))}let nm=(()=>{class y{constructor(s,m,S){this._ngZone=s,this._platform=m,this._scrolled=new Un.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=S}register(s){this.scrollContainers.has(s)||this.scrollContainers.set(s,s.elementScrolled().subscribe(()=>this._scrolled.next(s)))}deregister(s){const m=this.scrollContainers.get(s);m&&(m.unsubscribe(),this.scrollContainers.delete(s))}scrolled(s=20){return this._platform.isBrowser?new Xd.y(m=>{this._globalSubscription||this._addGlobalListener();const S=s>0?this._scrolled.pipe(xp(s)).subscribe(m):this._scrolled.subscribe(m);return this._scrolledCount++,()=>{S.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Sl.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((s,m)=>this.deregister(m)),this._scrolled.complete()}ancestorScrolled(s,m){const S=this.getAncestorScrollContainers(s);return this.scrolled(m).pipe((0,Jc.h)(j=>!j||S.indexOf(j)>-1))}getAncestorScrollContainers(s){const m=[];return this.scrollContainers.forEach((S,j)=>{this._scrollableContainsElement(j,s)&&m.push(j)}),m}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(s,m){let S=Oo(m),j=s.getElementRef().nativeElement;do{if(S==j)return!0}while(S=S.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const s=this._getWindow();return(0,Dd.R)(s.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(t.R0b),t.LFG(Ws),t.LFG(A.K0,8))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Od=(()=>{class y{constructor(s,m,S){this._platform=s,this._change=new Un.xQ,this._changeListener=j=>{this._change.next(j)},this._document=S,m.runOutsideAngular(()=>{if(s.isBrowser){const j=this._getWindow();j.addEventListener("resize",this._changeListener),j.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const s=this._getWindow();s.removeEventListener("resize",this._changeListener),s.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const s={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),s}getViewportRect(){const s=this.getViewportScrollPosition(),{width:m,height:S}=this.getViewportSize();return{top:s.top,left:s.left,bottom:s.top+S,right:s.left+m,height:S,width:m}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const s=this._document,m=this._getWindow(),S=s.documentElement,j=S.getBoundingClientRect();return{top:-j.top||s.body.scrollTop||m.scrollY||S.scrollTop||0,left:-j.left||s.body.scrollLeft||m.scrollX||S.scrollLeft||0}}change(s=20){return s>0?this._change.pipe(xp(s)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const s=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:s.innerWidth,height:s.innerHeight}:{width:0,height:0}}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(Ws),t.LFG(t.R0b),t.LFG(A.K0,8))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),e=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({}),y})(),n=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({imports:[[ku,e],ku,e]}),y})();class E{attach(v){return this._attachedHost=v,v.attach(this)}detach(){let v=this._attachedHost;null!=v&&(this._attachedHost=null,v.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(v){this._attachedHost=v}}class B extends E{constructor(v,s,m,S){super(),this.component=v,this.viewContainerRef=s,this.injector=m,this.componentFactoryResolver=S}}class V extends E{constructor(v,s,m){super(),this.templateRef=v,this.viewContainerRef=s,this.context=m}get origin(){return this.templateRef.elementRef}attach(v,s=this.context){return this.context=s,super.attach(v)}detach(){return this.context=void 0,super.detach()}}class Z extends E{constructor(v){super(),this.element=v instanceof t.SBq?v.nativeElement:v}}class ee{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(v){return v instanceof B?(this._attachedPortal=v,this.attachComponentPortal(v)):v instanceof V?(this._attachedPortal=v,this.attachTemplatePortal(v)):this.attachDomPortal&&v instanceof Z?(this._attachedPortal=v,this.attachDomPortal(v)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(v){this._disposeFn=v}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class le extends ee{constructor(v,s,m,S,j){super(),this.outletElement=v,this._componentFactoryResolver=s,this._appRef=m,this._defaultInjector=S,this.attachDomPortal=ue=>{const Ce=ue.element,Ne=this._document.createComment("dom-portal");Ce.parentNode.insertBefore(Ne,Ce),this.outletElement.appendChild(Ce),this._attachedPortal=ue,super.setDisposeFn(()=>{Ne.parentNode&&Ne.parentNode.replaceChild(Ce,Ne)})},this._document=j}attachComponentPortal(v){const m=(v.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(v.component);let S;return v.viewContainerRef?(S=v.viewContainerRef.createComponent(m,v.viewContainerRef.length,v.injector||v.viewContainerRef.injector),this.setDisposeFn(()=>S.destroy())):(S=m.create(v.injector||this._defaultInjector||t.zs3.NULL),this._appRef.attachView(S.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(S.hostView),S.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(S)),this._attachedPortal=v,S}attachTemplatePortal(v){let s=v.viewContainerRef,m=s.createEmbeddedView(v.templateRef,v.context);return m.rootNodes.forEach(S=>this.outletElement.appendChild(S)),m.detectChanges(),this.setDisposeFn(()=>{let S=s.indexOf(m);-1!==S&&s.remove(S)}),this._attachedPortal=v,m}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(v){return v.hostView.rootNodes[0]}}let we=(()=>{class y extends ee{constructor(s,m,S){super(),this._componentFactoryResolver=s,this._viewContainerRef=m,this._isInitialized=!1,this.attached=new t.vpe,this.attachDomPortal=j=>{const ue=j.element,Ce=this._document.createComment("dom-portal");j.setAttachedHost(this),ue.parentNode.insertBefore(Ce,ue),this._getRootNode().appendChild(ue),this._attachedPortal=j,super.setDisposeFn(()=>{Ce.parentNode&&Ce.parentNode.replaceChild(ue,Ce)})},this._document=S}get portal(){return this._attachedPortal}set portal(s){this.hasAttached()&&!s&&!this._isInitialized||(this.hasAttached()&&super.detach(),s&&super.attach(s),this._attachedPortal=s||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(s){s.setAttachedHost(this);const m=null!=s.viewContainerRef?s.viewContainerRef:this._viewContainerRef,j=(s.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(s.component),ue=m.createComponent(j,m.length,s.injector||m.injector);return m!==this._viewContainerRef&&this._getRootNode().appendChild(ue.hostView.rootNodes[0]),super.setDisposeFn(()=>ue.destroy()),this._attachedPortal=s,this._attachedRef=ue,this.attached.emit(ue),ue}attachTemplatePortal(s){s.setAttachedHost(this);const m=this._viewContainerRef.createEmbeddedView(s.templateRef,s.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=s,this._attachedRef=m,this.attached.emit(m),m}_getRootNode(){const s=this._viewContainerRef.element.nativeElement;return s.nodeType===s.ELEMENT_NODE?s:s.parentNode}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t._Vd),t.Y36(t.s_b),t.Y36(A.K0))},y.\u0275dir=t.lG2({type:y,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[t.qOj]}),y})(),Ie=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({}),y})();var Qe=se(4290);const $e=Ds();class dt{constructor(v,s){this._viewportRuler=v,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=s}attach(){}enable(){if(this._canBeEnabled()){const v=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=v.style.left||"",this._previousHTMLStyles.top=v.style.top||"",v.style.left=Vr(-this._previousScrollPosition.left),v.style.top=Vr(-this._previousScrollPosition.top),v.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const v=this._document.documentElement,m=v.style,S=this._document.body.style,j=m.scrollBehavior||"",ue=S.scrollBehavior||"";this._isEnabled=!1,m.left=this._previousHTMLStyles.left,m.top=this._previousHTMLStyles.top,v.classList.remove("cdk-global-scrollblock"),$e&&(m.scrollBehavior=S.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$e&&(m.scrollBehavior=j,S.scrollBehavior=ue)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const s=this._document.body,m=this._viewportRuler.getViewportSize();return s.scrollHeight>m.height||s.scrollWidth>m.width}}class it{constructor(v,s,m,S){this._scrollDispatcher=v,this._ngZone=s,this._viewportRuler=m,this._config=S,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(v){this._overlayRef=v}enable(){if(this._scrollSubscription)return;const v=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=v.subscribe(()=>{const s=this._viewportRuler.getViewportScrollPosition().top;Math.abs(s-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=v.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class mt{enable(){}disable(){}attach(){}}function ft(y,v){return v.some(s=>y.bottom<s.top||y.top>s.bottom||y.right<s.left||y.left>s.right)}function xt(y,v){return v.some(s=>y.top<s.top||y.bottom>s.bottom||y.left<s.left||y.right>s.right)}class Lt{constructor(v,s,m,S){this._scrollDispatcher=v,this._viewportRuler=s,this._ngZone=m,this._config=S,this._scrollSubscription=null}attach(v){this._overlayRef=v}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const s=this._overlayRef.overlayElement.getBoundingClientRect(),{width:m,height:S}=this._viewportRuler.getViewportSize();ft(s,[{width:m,height:S,bottom:S,right:m,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ct=(()=>{class y{constructor(s,m,S,j){this._scrollDispatcher=s,this._viewportRuler=m,this._ngZone=S,this.noop=()=>new mt,this.close=ue=>new it(this._scrollDispatcher,this._ngZone,this._viewportRuler,ue),this.block=()=>new dt(this._viewportRuler,this._document),this.reposition=ue=>new Lt(this._scrollDispatcher,this._viewportRuler,this._ngZone,ue),this._document=j}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(nm),t.LFG(Od),t.LFG(t.R0b),t.LFG(A.K0))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class Ft{constructor(v){if(this.scrollStrategy=new mt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,v){const s=Object.keys(v);for(const m of s)void 0!==v[m]&&(this[m]=v[m])}}}class _i{constructor(v,s){this.connectionPair=v,this.scrollableViewProperties=s}}class gi{constructor(v,s,m,S,j,ue,Ce,Ne,nt){this._portalOutlet=v,this._host=s,this._pane=m,this._config=S,this._ngZone=j,this._keyboardDispatcher=ue,this._document=Ce,this._location=Ne,this._outsideClickDispatcher=nt,this._backdropElement=null,this._backdropClick=new Un.xQ,this._attachments=new Un.xQ,this._detachments=new Un.xQ,this._locationChanges=ka.w.EMPTY,this._backdropClickHandler=ht=>this._backdropClick.next(ht),this._backdropTransitionendHandler=ht=>{this._disposeBackdrop(ht.target)},this._keydownEvents=new Un.xQ,this._outsidePointerEvents=new Un.xQ,S.scrollStrategy&&(this._scrollStrategy=S.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=S.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(v){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const s=this._portalOutlet.attach(v);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,co.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),s}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const v=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),v}dispose(){var v;const s=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(v=this._host)||void 0===v||v.remove(),this._previousHostParent=this._pane=this._host=null,s&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(v){v!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=v,this.hasAttached()&&(v.attach(this),this.updatePosition()))}updateSize(v){this._config=Object.assign(Object.assign({},this._config),v),this._updateElementSize()}setDirection(v){this._config=Object.assign(Object.assign({},this._config),{direction:v}),this._updateElementDirection()}addPanelClass(v){this._pane&&this._toggleClasses(this._pane,v,!0)}removePanelClass(v){this._pane&&this._toggleClasses(this._pane,v,!1)}getDirection(){const v=this._config.direction;return v?"string"==typeof v?v:v.value:"ltr"}updateScrollStrategy(v){v!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=v,this.hasAttached()&&(v.attach(this),v.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const v=this._pane.style;v.width=Vr(this._config.width),v.height=Vr(this._config.height),v.minWidth=Vr(this._config.minWidth),v.minHeight=Vr(this._config.minHeight),v.maxWidth=Vr(this._config.maxWidth),v.maxHeight=Vr(this._config.maxHeight)}_togglePointerEvents(v){this._pane.style.pointerEvents=v?"":"none"}_attachBackdrop(){const v="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(v)})}):this._backdropElement.classList.add(v)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const v=this._backdropElement;!v||(v.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{v.addEventListener("transitionend",this._backdropTransitionendHandler)}),v.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(v)},500)))}_toggleClasses(v,s,m){const S=af(s||[]).filter(j=>!!j);S.length&&(m?v.classList.add(...S):v.classList.remove(...S))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const v=this._ngZone.onStable.pipe((0,is.R)((0,Lc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),v.unsubscribe())})})}_disposeScrollStrategy(){const v=this._scrollStrategy;v&&(v.disable(),v.detach&&v.detach())}_disposeBackdrop(v){v&&(v.removeEventListener("click",this._backdropClickHandler),v.removeEventListener("transitionend",this._backdropTransitionendHandler),v.remove(),this._backdropElement===v&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Ki=(()=>{class y{constructor(s,m){this._platform=m,this._document=s}ngOnDestroy(){var s;null===(s=this._containerElement)||void 0===s||s.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const s="cdk-overlay-container";if(this._platform.isBrowser||Ph()){const S=this._document.querySelectorAll(`.${s}[platform="server"], .${s}[platform="test"]`);for(let j=0;j<S.length;j++)S[j].remove()}const m=this._document.createElement("div");m.classList.add(s),Ph()?m.setAttribute("platform","test"):this._platform.isBrowser||m.setAttribute("platform","server"),this._document.body.appendChild(m),this._containerElement=m}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(A.K0),t.LFG(Ws))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const fi="cdk-overlay-connected-position-bounding-box",Qt=/([A-Za-z%]+)$/;class An{constructor(v,s,m,S,j){this._viewportRuler=s,this._document=m,this._platform=S,this._overlayContainer=j,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Un.xQ,this._resizeSubscription=ka.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(v)}get positions(){return this._preferredPositions}attach(v){this._validatePositions(),v.hostElement.classList.add(fi),this._overlayRef=v,this._boundingBox=v.hostElement,this._pane=v.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const v=this._originRect,s=this._overlayRect,m=this._viewportRect,S=this._containerRect,j=[];let ue;for(let Ce of this._preferredPositions){let Ne=this._getOriginPoint(v,S,Ce),nt=this._getOverlayPoint(Ne,s,Ce),ht=this._getOverlayFit(nt,s,m,Ce);if(ht.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ce,Ne);this._canFitWithFlexibleDimensions(ht,nt,m)?j.push({position:Ce,origin:Ne,overlayRect:s,boundingBoxRect:this._calculateBoundingBoxRect(Ne,Ce)}):(!ue||ue.overlayFit.visibleArea<ht.visibleArea)&&(ue={overlayFit:ht,overlayPoint:nt,originPoint:Ne,position:Ce,overlayRect:s})}if(j.length){let Ce=null,Ne=-1;for(const nt of j){const ht=nt.boundingBoxRect.width*nt.boundingBoxRect.height*(nt.position.weight||1);ht>Ne&&(Ne=ht,Ce=nt)}return this._isPushed=!1,void this._applyPosition(Ce.position,Ce.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ue.position,ue.originPoint);this._applyPosition(ue.position,ue.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&li(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(fi),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const v=this._lastPosition;if(v){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const s=this._getOriginPoint(this._originRect,this._containerRect,v);this._applyPosition(v,s)}else this.apply()}withScrollableContainers(v){return this._scrollables=v,this}withPositions(v){return this._preferredPositions=v,-1===v.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(v){return this._viewportMargin=v,this}withFlexibleDimensions(v=!0){return this._hasFlexibleDimensions=v,this}withGrowAfterOpen(v=!0){return this._growAfterOpen=v,this}withPush(v=!0){return this._canPush=v,this}withLockedPosition(v=!0){return this._positionLocked=v,this}setOrigin(v){return this._origin=v,this}withDefaultOffsetX(v){return this._offsetX=v,this}withDefaultOffsetY(v){return this._offsetY=v,this}withTransformOriginOn(v){return this._transformOriginSelector=v,this}_getOriginPoint(v,s,m){let S,j;if("center"==m.originX)S=v.left+v.width/2;else{const ue=this._isRtl()?v.right:v.left,Ce=this._isRtl()?v.left:v.right;S="start"==m.originX?ue:Ce}return s.left<0&&(S-=s.left),j="center"==m.originY?v.top+v.height/2:"top"==m.originY?v.top:v.bottom,s.top<0&&(j-=s.top),{x:S,y:j}}_getOverlayPoint(v,s,m){let S,j;return S="center"==m.overlayX?-s.width/2:"start"===m.overlayX?this._isRtl()?-s.width:0:this._isRtl()?0:-s.width,j="center"==m.overlayY?-s.height/2:"top"==m.overlayY?0:-s.height,{x:v.x+S,y:v.y+j}}_getOverlayFit(v,s,m,S){const j=gn(s);let{x:ue,y:Ce}=v,Ne=this._getOffset(S,"x"),nt=this._getOffset(S,"y");Ne&&(ue+=Ne),nt&&(Ce+=nt);let ui=0-Ce,Qi=Ce+j.height-m.height,Fi=this._subtractOverflows(j.width,0-ue,ue+j.width-m.width),$i=this._subtractOverflows(j.height,ui,Qi),Xi=Fi*$i;return{visibleArea:Xi,isCompletelyWithinViewport:j.width*j.height===Xi,fitsInViewportVertically:$i===j.height,fitsInViewportHorizontally:Fi==j.width}}_canFitWithFlexibleDimensions(v,s,m){if(this._hasFlexibleDimensions){const S=m.bottom-s.y,j=m.right-s.x,ue=yi(this._overlayRef.getConfig().minHeight),Ce=yi(this._overlayRef.getConfig().minWidth),nt=v.fitsInViewportHorizontally||null!=Ce&&Ce<=j;return(v.fitsInViewportVertically||null!=ue&&ue<=S)&&nt}return!1}_pushOverlayOnScreen(v,s,m){if(this._previousPushAmount&&this._positionLocked)return{x:v.x+this._previousPushAmount.x,y:v.y+this._previousPushAmount.y};const S=gn(s),j=this._viewportRect,ue=Math.max(v.x+S.width-j.width,0),Ce=Math.max(v.y+S.height-j.height,0),Ne=Math.max(j.top-m.top-v.y,0),nt=Math.max(j.left-m.left-v.x,0);let ht=0,Ht=0;return ht=S.width<=j.width?nt||-ue:v.x<this._viewportMargin?j.left-m.left-v.x:0,Ht=S.height<=j.height?Ne||-Ce:v.y<this._viewportMargin?j.top-m.top-v.y:0,this._previousPushAmount={x:ht,y:Ht},{x:v.x+ht,y:v.y+Ht}}_applyPosition(v,s){if(this._setTransformOrigin(v),this._setOverlayElementStyles(s,v),this._setBoundingBoxStyles(s,v),v.panelClass&&this._addPanelClasses(v.panelClass),this._lastPosition=v,this._positionChanges.observers.length){const m=this._getScrollVisibility(),S=new _i(v,m);this._positionChanges.next(S)}this._isInitialRender=!1}_setTransformOrigin(v){if(!this._transformOriginSelector)return;const s=this._boundingBox.querySelectorAll(this._transformOriginSelector);let m,S=v.overlayY;m="center"===v.overlayX?"center":this._isRtl()?"start"===v.overlayX?"right":"left":"start"===v.overlayX?"left":"right";for(let j=0;j<s.length;j++)s[j].style.transformOrigin=`${m} ${S}`}_calculateBoundingBoxRect(v,s){const m=this._viewportRect,S=this._isRtl();let j,ue,Ce,ht,Ht,ui;if("top"===s.overlayY)ue=v.y,j=m.height-ue+this._viewportMargin;else if("bottom"===s.overlayY)Ce=m.height-v.y+2*this._viewportMargin,j=m.height-Ce+this._viewportMargin;else{const Qi=Math.min(m.bottom-v.y+m.top,v.y),Fi=this._lastBoundingBoxSize.height;j=2*Qi,ue=v.y-Qi,j>Fi&&!this._isInitialRender&&!this._growAfterOpen&&(ue=v.y-Fi/2)}if("end"===s.overlayX&&!S||"start"===s.overlayX&&S)ui=m.width-v.x+this._viewportMargin,ht=v.x-this._viewportMargin;else if("start"===s.overlayX&&!S||"end"===s.overlayX&&S)Ht=v.x,ht=m.right-v.x;else{const Qi=Math.min(m.right-v.x+m.left,v.x),Fi=this._lastBoundingBoxSize.width;ht=2*Qi,Ht=v.x-Qi,ht>Fi&&!this._isInitialRender&&!this._growAfterOpen&&(Ht=v.x-Fi/2)}return{top:ue,left:Ht,bottom:Ce,right:ui,width:ht,height:j}}_setBoundingBoxStyles(v,s){const m=this._calculateBoundingBoxRect(v,s);!this._isInitialRender&&!this._growAfterOpen&&(m.height=Math.min(m.height,this._lastBoundingBoxSize.height),m.width=Math.min(m.width,this._lastBoundingBoxSize.width));const S={};if(this._hasExactPosition())S.top=S.left="0",S.bottom=S.right=S.maxHeight=S.maxWidth="",S.width=S.height="100%";else{const j=this._overlayRef.getConfig().maxHeight,ue=this._overlayRef.getConfig().maxWidth;S.height=Vr(m.height),S.top=Vr(m.top),S.bottom=Vr(m.bottom),S.width=Vr(m.width),S.left=Vr(m.left),S.right=Vr(m.right),S.alignItems="center"===s.overlayX?"center":"end"===s.overlayX?"flex-end":"flex-start",S.justifyContent="center"===s.overlayY?"center":"bottom"===s.overlayY?"flex-end":"flex-start",j&&(S.maxHeight=Vr(j)),ue&&(S.maxWidth=Vr(ue))}this._lastBoundingBoxSize=m,li(this._boundingBox.style,S)}_resetBoundingBoxStyles(){li(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){li(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(v,s){const m={},S=this._hasExactPosition(),j=this._hasFlexibleDimensions,ue=this._overlayRef.getConfig();if(S){const ht=this._viewportRuler.getViewportScrollPosition();li(m,this._getExactOverlayY(s,v,ht)),li(m,this._getExactOverlayX(s,v,ht))}else m.position="static";let Ce="",Ne=this._getOffset(s,"x"),nt=this._getOffset(s,"y");Ne&&(Ce+=`translateX(${Ne}px) `),nt&&(Ce+=`translateY(${nt}px)`),m.transform=Ce.trim(),ue.maxHeight&&(S?m.maxHeight=Vr(ue.maxHeight):j&&(m.maxHeight="")),ue.maxWidth&&(S?m.maxWidth=Vr(ue.maxWidth):j&&(m.maxWidth="")),li(this._pane.style,m)}_getExactOverlayY(v,s,m){let S={top:"",bottom:""},j=this._getOverlayPoint(s,this._overlayRect,v);return this._isPushed&&(j=this._pushOverlayOnScreen(j,this._overlayRect,m)),"bottom"===v.overlayY?S.bottom=this._document.documentElement.clientHeight-(j.y+this._overlayRect.height)+"px":S.top=Vr(j.y),S}_getExactOverlayX(v,s,m){let ue,S={left:"",right:""},j=this._getOverlayPoint(s,this._overlayRect,v);return this._isPushed&&(j=this._pushOverlayOnScreen(j,this._overlayRect,m)),ue=this._isRtl()?"end"===v.overlayX?"left":"right":"end"===v.overlayX?"right":"left","right"===ue?S.right=this._document.documentElement.clientWidth-(j.x+this._overlayRect.width)+"px":S.left=Vr(j.x),S}_getScrollVisibility(){const v=this._getOriginRect(),s=this._pane.getBoundingClientRect(),m=this._scrollables.map(S=>S.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:xt(v,m),isOriginOutsideView:ft(v,m),isOverlayClipped:xt(s,m),isOverlayOutsideView:ft(s,m)}}_subtractOverflows(v,...s){return s.reduce((m,S)=>m-Math.max(S,0),v)}_getNarrowedViewportRect(){const v=this._document.documentElement.clientWidth,s=this._document.documentElement.clientHeight,m=this._viewportRuler.getViewportScrollPosition();return{top:m.top+this._viewportMargin,left:m.left+this._viewportMargin,right:m.left+v-this._viewportMargin,bottom:m.top+s-this._viewportMargin,width:v-2*this._viewportMargin,height:s-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(v,s){return"x"===s?null==v.offsetX?this._offsetX:v.offsetX:null==v.offsetY?this._offsetY:v.offsetY}_validatePositions(){}_addPanelClasses(v){this._pane&&af(v).forEach(s=>{""!==s&&-1===this._appliedPanelClasses.indexOf(s)&&(this._appliedPanelClasses.push(s),this._pane.classList.add(s))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(v=>{this._pane.classList.remove(v)}),this._appliedPanelClasses=[])}_getOriginRect(){const v=this._origin;if(v instanceof t.SBq)return v.nativeElement.getBoundingClientRect();if(v instanceof Element)return v.getBoundingClientRect();const s=v.width||0,m=v.height||0;return{top:v.y,bottom:v.y+m,left:v.x,right:v.x+s,height:m,width:s}}}function li(y,v){for(let s in v)v.hasOwnProperty(s)&&(y[s]=v[s]);return y}function yi(y){if("number"!=typeof y&&null!=y){const[v,s]=y.split(Qt);return s&&"px"!==s?null:parseFloat(v)}return y||null}function gn(y){return{top:Math.floor(y.top),right:Math.floor(y.right),bottom:Math.floor(y.bottom),left:Math.floor(y.left),width:Math.floor(y.width),height:Math.floor(y.height)}}const bn="cdk-global-overlay-wrapper";class In{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(v){const s=v.getConfig();this._overlayRef=v,this._width&&!s.width&&v.updateSize({width:this._width}),this._height&&!s.height&&v.updateSize({height:this._height}),v.hostElement.classList.add(bn),this._isDisposed=!1}top(v=""){return this._bottomOffset="",this._topOffset=v,this._alignItems="flex-start",this}left(v=""){return this._rightOffset="",this._leftOffset=v,this._justifyContent="flex-start",this}bottom(v=""){return this._topOffset="",this._bottomOffset=v,this._alignItems="flex-end",this}right(v=""){return this._leftOffset="",this._rightOffset=v,this._justifyContent="flex-end",this}width(v=""){return this._overlayRef?this._overlayRef.updateSize({width:v}):this._width=v,this}height(v=""){return this._overlayRef?this._overlayRef.updateSize({height:v}):this._height=v,this}centerHorizontally(v=""){return this.left(v),this._justifyContent="center",this}centerVertically(v=""){return this.top(v),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const v=this._overlayRef.overlayElement.style,s=this._overlayRef.hostElement.style,m=this._overlayRef.getConfig(),{width:S,height:j,maxWidth:ue,maxHeight:Ce}=m,Ne=!("100%"!==S&&"100vw"!==S||ue&&"100%"!==ue&&"100vw"!==ue),nt=!("100%"!==j&&"100vh"!==j||Ce&&"100%"!==Ce&&"100vh"!==Ce);v.position=this._cssPosition,v.marginLeft=Ne?"0":this._leftOffset,v.marginTop=nt?"0":this._topOffset,v.marginBottom=this._bottomOffset,v.marginRight=this._rightOffset,Ne?s.justifyContent="flex-start":"center"===this._justifyContent?s.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?s.justifyContent="flex-end":"flex-end"===this._justifyContent&&(s.justifyContent="flex-start"):s.justifyContent=this._justifyContent,s.alignItems=nt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const v=this._overlayRef.overlayElement.style,s=this._overlayRef.hostElement,m=s.style;s.classList.remove(bn),m.justifyContent=m.alignItems=v.marginTop=v.marginBottom=v.marginLeft=v.marginRight=v.position="",this._overlayRef=null,this._isDisposed=!0}}let xn=(()=>{class y{constructor(s,m,S,j){this._viewportRuler=s,this._document=m,this._platform=S,this._overlayContainer=j}global(){return new In}flexibleConnectedTo(s){return new An(s,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(Od),t.LFG(A.K0),t.LFG(Ws),t.LFG(Ki))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Gn=(()=>{class y{constructor(s){this._attachedOverlays=[],this._document=s}ngOnDestroy(){this.detach()}add(s){this.remove(s),this._attachedOverlays.push(s)}remove(s){const m=this._attachedOverlays.indexOf(s);m>-1&&this._attachedOverlays.splice(m,1),0===this._attachedOverlays.length&&this.detach()}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(A.K0))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),or=(()=>{class y extends Gn{constructor(s,m){super(s),this._ngZone=m,this._keydownListener=S=>{const j=this._attachedOverlays;for(let ue=j.length-1;ue>-1;ue--)if(j[ue]._keydownEvents.observers.length>0){const Ce=j[ue]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ce.next(S)):Ce.next(S);break}}}add(s){super.add(s),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(A.K0),t.LFG(t.R0b,8))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Lr=(()=>{class y extends Gn{constructor(s,m,S){super(s),this._platform=m,this._ngZone=S,this._cursorStyleIsSet=!1,this._pointerDownListener=j=>{this._pointerDownEventTarget=Qa(j)},this._clickListener=j=>{const ue=Qa(j),Ce="click"===j.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ue;this._pointerDownEventTarget=null;const Ne=this._attachedOverlays.slice();for(let nt=Ne.length-1;nt>-1;nt--){const ht=Ne[nt];if(ht._outsidePointerEvents.observers.length<1||!ht.hasAttached())continue;if(ht.overlayElement.contains(ue)||ht.overlayElement.contains(Ce))break;const Ht=ht._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Ht.next(j)):Ht.next(j)}}}add(s){if(super.add(s),!this._isAttached){const m=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(m)):this._addEventListeners(m),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=m.style.cursor,m.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const s=this._document.body;s.removeEventListener("pointerdown",this._pointerDownListener,!0),s.removeEventListener("click",this._clickListener,!0),s.removeEventListener("auxclick",this._clickListener,!0),s.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(s.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(s){s.addEventListener("pointerdown",this._pointerDownListener,!0),s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0)}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(A.K0),t.LFG(Ws),t.LFG(t.R0b,8))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),wn=0,Kn=(()=>{class y{constructor(s,m,S,j,ue,Ce,Ne,nt,ht,Ht,ui){this.scrollStrategies=s,this._overlayContainer=m,this._componentFactoryResolver=S,this._positionBuilder=j,this._keyboardDispatcher=ue,this._injector=Ce,this._ngZone=Ne,this._document=nt,this._directionality=ht,this._location=Ht,this._outsideClickDispatcher=ui}create(s){const m=this._createHostElement(),S=this._createPaneElement(m),j=this._createPortalOutlet(S),ue=new Ft(s);return ue.direction=ue.direction||this._directionality.value,new gi(j,m,S,ue,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(s){const m=this._document.createElement("div");return m.id="cdk-overlay-"+wn++,m.classList.add("cdk-overlay-pane"),s.appendChild(m),m}_createHostElement(){const s=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(s),s}_createPortalOutlet(s){return this._appRef||(this._appRef=this._injector.get(t.z2F)),new le(s,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(ct),t.LFG(Ki),t.LFG(t._Vd),t.LFG(xn),t.LFG(or),t.LFG(t.zs3),t.LFG(t.R0b),t.LFG(A.K0),t.LFG(Tl),t.LFG(A.Ye),t.LFG(Lr))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac}),y})();const Sr=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Qn=new t.OlP("cdk-connected-overlay-scroll-strategy");let rn=(()=>{class y{constructor(s){this.elementRef=s}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.SBq))},y.\u0275dir=t.lG2({type:y,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),y})(),mr=(()=>{class y{constructor(s,m,S,j,ue){this._overlay=s,this._dir=ue,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ka.w.EMPTY,this._attachSubscription=ka.w.EMPTY,this._detachSubscription=ka.w.EMPTY,this._positionSubscription=ka.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new t.vpe,this.positionChange=new t.vpe,this.attach=new t.vpe,this.detach=new t.vpe,this.overlayKeydown=new t.vpe,this.overlayOutsideClick=new t.vpe,this._templatePortal=new V(m,S),this._scrollStrategyFactory=j,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(s){this._offsetX=s,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(s){this._offsetY=s,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(s){this._hasBackdrop=Jn(s)}get lockPosition(){return this._lockPosition}set lockPosition(s){this._lockPosition=Jn(s)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(s){this._flexibleDimensions=Jn(s)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(s){this._growAfterOpen=Jn(s)}get push(){return this._push}set push(s){this._push=Jn(s)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(s){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),s.origin&&this.open&&this._position.apply()),s.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Sr);const s=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=s.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=s.detachments().subscribe(()=>this.detach.emit()),s.keydownEvents().subscribe(m=>{this.overlayKeydown.next(m),27===m.keyCode&&!this.disableClose&&!Xc(m)&&(m.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(m=>{this.overlayOutsideClick.next(m)})}_buildConfig(){const s=this._position=this.positionStrategy||this._createPositionStrategy(),m=new Ft({direction:this._dir,positionStrategy:s,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(m.width=this.width),(this.height||0===this.height)&&(m.height=this.height),(this.minWidth||0===this.minWidth)&&(m.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(m.minHeight=this.minHeight),this.backdropClass&&(m.backdropClass=this.backdropClass),this.panelClass&&(m.panelClass=this.panelClass),m}_updatePositionStrategy(s){const m=this.positions.map(S=>({originX:S.originX,originY:S.originY,overlayX:S.overlayX,overlayY:S.overlayY,offsetX:S.offsetX||this.offsetX,offsetY:S.offsetY||this.offsetY,panelClass:S.panelClass||void 0}));return s.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(m).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const s=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(s),s}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof rn?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(s=>{this.backdropClick.emit(s)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,Qe.o)(()=>this.positionChange.observers.length>0)).subscribe(s=>{this.positionChange.emit(s),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(Kn),t.Y36(t.Rgc),t.Y36(t.s_b),t.Y36(Qn),t.Y36(Tl,8))},y.\u0275dir=t.lG2({type:y,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[t.TTD]}),y})();const Ls={provide:Qn,deps:[Kn],useFactory:function Pn(y){return()=>y.scrollStrategies.reposition()}};let _r=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({providers:[Kn,Ls],imports:[[ku,Ie,n],n]}),y})();class Fd{constructor(v=!1,s,m=!0){this._multiple=v,this._emitChanges=m,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Un.xQ,s&&s.length&&(v?s.forEach(S=>this._markSelected(S)):this._markSelected(s[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...v){this._verifyValueAssignment(v),v.forEach(s=>this._markSelected(s)),this._emitChangeEvent()}deselect(...v){this._verifyValueAssignment(v),v.forEach(s=>this._unmarkSelected(s)),this._emitChangeEvent()}toggle(v){this.isSelected(v)?this.deselect(v):this.select(v)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(v){return this._selection.has(v)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(v){this._multiple&&this.selected&&this._selected.sort(v)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(v){this.isSelected(v)||(this._multiple||this._unmarkAll(),this._selection.add(v),this._emitChanges&&this._selectedToEmit.push(v))}_unmarkSelected(v){this.isSelected(v)&&(this._selection.delete(v),this._emitChanges&&this._deselectedToEmit.push(v))}_unmarkAll(){this.isEmpty()||this._selection.forEach(v=>this._unmarkSelected(v))}_verifyValueAssignment(v){}}var am=se(8514),Mp=se(7545);const Tp=["trigger"],kp=["panel"];function ac(y,v){if(1&y&&(t.TgZ(0,"span",8),t._uU(1),t.qZA()),2&y){const s=t.oxw();t.xp6(1),t.Oqu(s.placeholder)}}function sm(y,v){if(1&y&&(t.TgZ(0,"span",12),t._uU(1),t.qZA()),2&y){const s=t.oxw(2);t.xp6(1),t.Oqu(s.triggerValue)}}function bu(y,v){1&y&&t.Hsn(0,0,["*ngSwitchCase","true"])}function Dp(y,v){if(1&y&&(t.TgZ(0,"span",9),t.YNc(1,sm,2,1,"span",10),t.YNc(2,bu,1,0,"ng-content",11),t.qZA()),2&y){const s=t.oxw();t.Q6J("ngSwitch",!!s.customTrigger),t.xp6(2),t.Q6J("ngSwitchCase",!0)}}function Lp(y,v){if(1&y){const s=t.EpF();t.TgZ(0,"div",13)(1,"div",14,15),t.NdJ("@transformPanel.done",function(S){t.CHM(s);const j=t.oxw();return t.KtG(j._panelDoneAnimatingStream.next(S.toState))})("keydown",function(S){t.CHM(s);const j=t.oxw();return t.KtG(j._handleKeydown(S))}),t.Hsn(3,1),t.qZA()()}if(2&y){const s=t.oxw();t.Q6J("@transformPanelWrap",void 0),t.xp6(1),t.Gre("mat-select-panel ",s._getPanelTheme(),""),t.Udp("transform-origin",s._transformOrigin)("font-size",s._triggerFontSize,"px"),t.Q6J("ngClass",s.panelClass)("@transformPanel",s.multiple?"showing-multiple":"showing"),t.uIk("id",s.id+"-panel")("aria-multiselectable",s.multiple)("aria-label",s.ariaLabel||null)("aria-labelledby",s._getPanelAriaLabelledby())}}const nu=[[["mat-select-trigger"]],"*"],Sp=["mat-select-trigger","*"],om={transformPanelWrap:(0,Ni.X$)("transformPanelWrap",[(0,Ni.eR)("* => void",(0,Ni.IO)("@transformPanel",[(0,Ni.pV)()],{optional:!0}))]),transformPanel:(0,Ni.X$)("transformPanel",[(0,Ni.SB)("void",(0,Ni.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,Ni.SB)("showing",(0,Ni.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,Ni.SB)("showing-multiple",(0,Ni.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,Ni.eR)("void => *",(0,Ni.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,Ni.eR)("* => void",(0,Ni.jt)("100ms 25ms linear",(0,Ni.oB)({opacity:0})))])};let kh=0;const vy=new t.OlP("mat-select-scroll-strategy"),zy=new t.OlP("MAT_SELECT_CONFIG"),By={provide:vy,deps:[Kn],useFactory:function Yy(y){return()=>y.scrollStrategies.reposition()}};class jy{constructor(v,s){this.source=v,this.value=s}}const Ny=xf(wf(Bu(ep(class{constructor(y,v,s,m,S){this._elementRef=y,this._defaultErrorStateMatcher=v,this._parentForm=s,this._parentFormGroup=m,this.ngControl=S}})))),Hy=new t.OlP("MatSelectTrigger");let Vy=(()=>{class y extends Ny{constructor(s,m,S,j,ue,Ce,Ne,nt,ht,Ht,ui,Qi,Fi,$i){var Xi,lr,xu;super(ue,j,Ne,nt,Ht),this._viewportRuler=s,this._changeDetectorRef=m,this._ngZone=S,this._dir=Ce,this._parentFormField=ht,this._liveAnnouncer=Fi,this._defaultOptions=$i,this._panelOpen=!1,this._compareWith=(Ca,Zi)=>Ca===Zi,this._uid="mat-select-"+kh++,this._triggerAriaLabelledBy=null,this._destroy=new Un.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+kh++,this._panelDoneAnimatingStream=new Un.xQ,this._overlayPanelClass=(null===(Xi=this._defaultOptions)||void 0===Xi?void 0:Xi.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(xu=null===(lr=this._defaultOptions)||void 0===lr?void 0:lr.disableOptionCentering)&&void 0!==xu&&xu,this.ariaLabel="",this.optionSelectionChanges=(0,am.P)(()=>{const Ca=this.options;return Ca?Ca.changes.pipe((0,ec.O)(Ca),(0,Mp.w)(()=>(0,Lc.T)(...Ca.map(Zi=>Zi.onSelectionChange)))):this._ngZone.onStable.pipe((0,co.q)(1),(0,Mp.w)(()=>this.optionSelectionChanges))}),this.openedChange=new t.vpe,this._openedStream=this.openedChange.pipe((0,Jc.h)(Ca=>Ca),(0,Il.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Jc.h)(Ca=>!Ca),(0,Il.U)(()=>{})),this.selectionChange=new t.vpe,this.valueChange=new t.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==$i?void 0:$i.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=$i.typeaheadDebounceInterval),this._scrollStrategyFactory=Qi,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ui)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(s){this._placeholder=s,this.stateChanges.next()}get required(){var s,m,S,j;return null!==(j=null!==(s=this._required)&&void 0!==s?s:null===(S=null===(m=this.ngControl)||void 0===m?void 0:m.control)||void 0===S?void 0:S.hasValidator(Y.kI.required))&&void 0!==j&&j}set required(s){this._required=Jn(s),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(s){this._multiple=Jn(s)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(s){this._disableOptionCentering=Jn(s)}get compareWith(){return this._compareWith}set compareWith(s){this._compareWith=s,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(s){this._assignValue(s)&&this._onChange(s)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(s){this._typeaheadDebounceInterval=_d(s)}get id(){return this._id}set id(s){this._id=s||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Fd(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Uh.x)(),(0,is.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,is.R)(this._destroy)).subscribe(s=>{s.added.forEach(m=>m.select()),s.removed.forEach(m=>m.deselect())}),this.options.changes.pipe((0,ec.O)(null),(0,is.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const s=this._getTriggerAriaLabelledby(),m=this.ngControl;if(s!==this._triggerAriaLabelledBy){const S=this._elementRef.nativeElement;this._triggerAriaLabelledBy=s,s?S.setAttribute("aria-labelledby",s):S.removeAttribute("aria-labelledby")}m&&(this._previousControl!==m.control&&(void 0!==this._previousControl&&null!==m.disabled&&m.disabled!==this.disabled&&(this.disabled=m.disabled),this._previousControl=m.control),this.updateErrorState())}ngOnChanges(s){s.disabled&&this.stateChanges.next(),s.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(s){this._assignValue(s)}registerOnChange(s){this._onChange=s}registerOnTouched(s){this._onTouched=s}setDisabledState(s){this.disabled=s,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var s,m;return this.multiple?(null===(s=this._selectionModel)||void 0===s?void 0:s.selected)||[]:null===(m=this._selectionModel)||void 0===m?void 0:m.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const s=this._selectionModel.selected.map(m=>m.viewValue);return this._isRtl()&&s.reverse(),s.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(s){this.disabled||(this.panelOpen?this._handleOpenKeydown(s):this._handleClosedKeydown(s))}_handleClosedKeydown(s){const m=s.keyCode,S=40===m||38===m||37===m||39===m,j=13===m||32===m,ue=this._keyManager;if(!ue.isTyping()&&j&&!Xc(s)||(this.multiple||s.altKey)&&S)s.preventDefault(),this.open();else if(!this.multiple){const Ce=this.selected;ue.onKeydown(s);const Ne=this.selected;Ne&&Ce!==Ne&&this._liveAnnouncer.announce(Ne.viewValue,1e4)}}_handleOpenKeydown(s){const m=this._keyManager,S=s.keyCode,j=40===S||38===S,ue=m.isTyping();if(j&&s.altKey)s.preventDefault(),this.close();else if(ue||13!==S&&32!==S||!m.activeItem||Xc(s))if(!ue&&this._multiple&&65===S&&s.ctrlKey){s.preventDefault();const Ce=this.options.some(Ne=>!Ne.disabled&&!Ne.selected);this.options.forEach(Ne=>{Ne.disabled||(Ce?Ne.select():Ne.deselect())})}else{const Ce=m.activeItemIndex;m.onKeydown(s),this._multiple&&j&&s.shiftKey&&m.activeItem&&m.activeItemIndex!==Ce&&m.activeItem._selectViaInteraction()}else s.preventDefault(),m.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,co.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(s){if(this._selectionModel.selected.forEach(m=>m.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&s)Array.isArray(s),s.forEach(m=>this._selectOptionByValue(m)),this._sortValues();else{const m=this._selectOptionByValue(s);m?this._keyManager.updateActiveItem(m):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(s){const m=this.options.find(S=>{if(this._selectionModel.isSelected(S))return!1;try{return null!=S.value&&this._compareWith(S.value,s)}catch(j){return!1}});return m&&this._selectionModel.select(m),m}_assignValue(s){return!!(s!==this._value||this._multiple&&Array.isArray(s))&&(this.options&&this._setSelectionByValue(s),this._value=s,!0)}_initKeyManager(){this._keyManager=new s_(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,is.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,is.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const s=(0,Lc.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,is.R)(s)).subscribe(m=>{this._onSelect(m.source,m.isUserInput),m.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Lc.T)(...this.options.map(m=>m._stateChanges)).pipe((0,is.R)(s)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(s,m){const S=this._selectionModel.isSelected(s);null!=s.value||this._multiple?(S!==s.selected&&(s.selected?this._selectionModel.select(s):this._selectionModel.deselect(s)),m&&this._keyManager.setActiveItem(s),this.multiple&&(this._sortValues(),m&&this.focus())):(s.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(s.value)),S!==this._selectionModel.isSelected(s)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const s=this.options.toArray();this._selectionModel.sort((m,S)=>this.sortComparator?this.sortComparator(m,S,s):s.indexOf(m)-s.indexOf(S)),this.stateChanges.next()}}_propagateChanges(s){let m=null;m=this.multiple?this.selected.map(S=>S.value):this.selected?this.selected.value:s,this._value=m,this.valueChange.emit(m),this._onChange(m),this.selectionChange.emit(this._getChangeEvent(m)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var s;return!this._panelOpen&&!this.disabled&&(null===(s=this.options)||void 0===s?void 0:s.length)>0}focus(s){this._elementRef.nativeElement.focus(s)}_getPanelAriaLabelledby(){var s;if(this.ariaLabel)return null;const m=null===(s=this._parentFormField)||void 0===s?void 0:s.getLabelId();return this.ariaLabelledby?(m?m+" ":"")+this.ariaLabelledby:m}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var s;if(this.ariaLabel)return null;const m=null===(s=this._parentFormField)||void 0===s?void 0:s.getLabelId();let S=(m?m+" ":"")+this._valueId;return this.ariaLabelledby&&(S+=" "+this.ariaLabelledby),S}_panelDoneAnimating(s){this.openedChange.emit(s)}setDescribedByIds(s){this._ariaDescribedby=s.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(Od),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(ip),t.Y36(t.SBq),t.Y36(Tl,8),t.Y36(Y.F,8),t.Y36(Y.sg,8),t.Y36(mh,8),t.Y36(Y.a5,10),t.$8M("tabindex"),t.Y36(vy),t.Y36(v_),t.Y36(zy,8))},y.\u0275dir=t.lG2({type:y,viewQuery:function(s,m){if(1&s&&(t.Gf(Tp,5),t.Gf(kp,5),t.Gf(mr,5)),2&s){let S;t.iGM(S=t.CRH())&&(m.trigger=S.first),t.iGM(S=t.CRH())&&(m.panel=S.first),t.iGM(S=t.CRH())&&(m._overlayDir=S.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[t.qOj,t.TTD]}),y})(),by=(()=>{class y extends Vy{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(s,m,S){const j=this._getItemHeight();return Math.min(Math.max(0,j*s-m+j/2),S)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,is.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,co.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(s){const m=ap(s,this.options,this.optionGroups),S=this._getItemHeight();this.panel.nativeElement.scrollTop=0===s&&1===m?0:function sp(y,v,s,m){return y<s?y:y+v>s+m?Math.max(0,y-m+v):s}((s+m)*S,S,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(s){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(s)}_getChangeEvent(s){return new jy(this,s)}_calculateOverlayOffsetX(){const s=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),m=this._viewportRuler.getViewportSize(),S=this._isRtl(),j=this.multiple?56:32;let ue;if(this.multiple)ue=40;else if(this.disableOptionCentering)ue=16;else{let nt=this._selectionModel.selected[0]||this.options.first;ue=nt&&nt.group?32:16}S||(ue*=-1);const Ce=0-(s.left+ue-(S?j:0)),Ne=s.right+ue-m.width+(S?0:j);Ce>0?ue+=Ce+8:Ne>0&&(ue-=Ne+8),this._overlayDir.offsetX=Math.round(ue),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(s,m,S){const j=this._getItemHeight(),ue=(j-this._triggerRect.height)/2,Ce=Math.floor(256/j);let Ne;return this.disableOptionCentering?0:(Ne=0===this._scrollTop?s*j:this._scrollTop===S?(s-(this._getItemCount()-Ce))*j+(j-(this._getItemCount()*j-256)%j):m-j/2,Math.round(-1*Ne-ue))}_checkOverlayWithinViewport(s){const m=this._getItemHeight(),S=this._viewportRuler.getViewportSize(),j=this._triggerRect.top-8,ue=S.height-this._triggerRect.bottom-8,Ce=Math.abs(this._offsetY),nt=Math.min(this._getItemCount()*m,256)-Ce-this._triggerRect.height;nt>ue?this._adjustPanelUp(nt,ue):Ce>j?this._adjustPanelDown(Ce,j,s):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(s,m){const S=Math.round(s-m);this._scrollTop-=S,this._offsetY-=S,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(s,m,S){const j=Math.round(s-m);if(this._scrollTop+=j,this._offsetY+=j,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=S)return this._scrollTop=S,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const s=this._getItemHeight(),m=this._getItemCount(),S=Math.min(m*s,256),ue=m*s-S;let Ce;Ce=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),Ce+=ap(Ce,this.options,this.optionGroups);const Ne=S/2;this._scrollTop=this._calculateOverlayScroll(Ce,Ne,ue),this._offsetY=this._calculateOverlayOffsetY(Ce,Ne,ue),this._checkOverlayWithinViewport(ue)}_getOriginBasedOnOption(){const s=this._getItemHeight(),m=(s-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-m+s/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return y.\u0275fac=function(){let v;return function(m){return(v||(v=t.n5z(y)))(m||y)}}(),y.\u0275cmp=t.Xpm({type:y,selectors:[["mat-select"]],contentQueries:function(s,m,S){if(1&s&&(t.Suo(S,Hy,5),t.Suo(S,oh,5),t.Suo(S,kd,5)),2&s){let j;t.iGM(j=t.CRH())&&(m.customTrigger=j.first),t.iGM(j=t.CRH())&&(m.options=j),t.iGM(j=t.CRH())&&(m.optionGroups=j)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(s,m){1&s&&t.NdJ("keydown",function(j){return m._handleKeydown(j)})("focus",function(){return m._onFocus()})("blur",function(){return m._onBlur()}),2&s&&(t.uIk("id",m.id)("tabindex",m.tabIndex)("aria-controls",m.panelOpen?m.id+"-panel":null)("aria-expanded",m.panelOpen)("aria-label",m.ariaLabel||null)("aria-required",m.required.toString())("aria-disabled",m.disabled.toString())("aria-invalid",m.errorState)("aria-describedby",m._ariaDescribedby||null)("aria-activedescendant",m._getAriaActiveDescendant()),t.ekj("mat-select-disabled",m.disabled)("mat-select-invalid",m.errorState)("mat-select-required",m.required)("mat-select-empty",m.empty)("mat-select-multiple",m.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[t._Bn([{provide:Ad,useExisting:y},{provide:rp,useExisting:y}]),t.qOj],ngContentSelectors:Sp,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(s,m){if(1&s&&(t.F$t(nu),t.TgZ(0,"div",0,1),t.NdJ("click",function(){return m.toggle()}),t.TgZ(3,"div",2),t.YNc(4,ac,2,1,"span",3),t.YNc(5,Dp,3,2,"span",4),t.qZA(),t.TgZ(6,"div",5),t._UZ(7,"div",6),t.qZA()(),t.YNc(8,Lp,4,14,"ng-template",7),t.NdJ("backdropClick",function(){return m.close()})("attach",function(){return m._onAttached()})("detach",function(){return m.close()})),2&s){const S=t.MAs(1);t.uIk("aria-owns",m.panelOpen?m.id+"-panel":null),t.xp6(3),t.Q6J("ngSwitch",m.empty),t.uIk("id",m._valueId),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngSwitchCase",!1),t.xp6(3),t.Q6J("cdkConnectedOverlayPanelClass",m._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",m._scrollStrategy)("cdkConnectedOverlayOrigin",S)("cdkConnectedOverlayOpen",m.panelOpen)("cdkConnectedOverlayPositions",m._positions)("cdkConnectedOverlayMinWidth",null==m._triggerRect?null:m._triggerRect.width)("cdkConnectedOverlayOffsetY",m._offsetY)}},dependencies:[rn,A.RF,A.n9,A.ED,mr,A.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[om.transformPanelWrap,om.transformPanel]},changeDetection:0}),y})(),Uy=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({providers:[By],imports:[[A.ez,_r,op,rs],e,Gu,op,rs]}),y})();const Wy=["mat-calendar-body",""];function Gy(y,v){if(1&y&&(t.TgZ(0,"tr",2)(1,"td",3),t._uU(2),t.qZA()()),2&y){const s=t.oxw();t.xp6(1),t.Udp("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),t.uIk("colspan",s.numCols),t.xp6(1),t.hij(" ",s.label," ")}}function Zy(y,v){if(1&y&&(t.TgZ(0,"td",3),t._uU(1),t.qZA()),2&y){const s=t.oxw(2);t.Udp("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),t.uIk("colspan",s._firstRowOffset),t.xp6(1),t.hij(" ",s._firstRowOffset>=s.labelMinRequiredCells?s.label:""," ")}}function qy(y,v){if(1&y){const s=t.EpF();t.TgZ(0,"td",7)(1,"button",8),t.NdJ("click",function(S){const ue=t.CHM(s).$implicit,Ce=t.oxw(2);return t.KtG(Ce._cellClicked(ue,S))}),t.TgZ(2,"div",9),t._uU(3),t.qZA(),t._UZ(4,"div",10),t.qZA()()}if(2&y){const s=v.$implicit,m=v.index,S=t.oxw().index,j=t.oxw();t.Udp("width",j._cellWidth)("padding-top",j._cellPadding)("padding-bottom",j._cellPadding),t.uIk("data-mat-row",S)("data-mat-col",m),t.xp6(1),t.ekj("mat-calendar-body-disabled",!s.enabled)("mat-calendar-body-active",j._isActiveCell(S,m))("mat-calendar-body-range-start",j._isRangeStart(s.compareValue))("mat-calendar-body-range-end",j._isRangeEnd(s.compareValue))("mat-calendar-body-in-range",j._isInRange(s.compareValue))("mat-calendar-body-comparison-bridge-start",j._isComparisonBridgeStart(s.compareValue,S,m))("mat-calendar-body-comparison-bridge-end",j._isComparisonBridgeEnd(s.compareValue,S,m))("mat-calendar-body-comparison-start",j._isComparisonStart(s.compareValue))("mat-calendar-body-comparison-end",j._isComparisonEnd(s.compareValue))("mat-calendar-body-in-comparison-range",j._isInComparisonRange(s.compareValue))("mat-calendar-body-preview-start",j._isPreviewStart(s.compareValue))("mat-calendar-body-preview-end",j._isPreviewEnd(s.compareValue))("mat-calendar-body-in-preview",j._isInPreview(s.compareValue)),t.Q6J("ngClass",s.cssClasses)("tabindex",j._isActiveCell(S,m)?0:-1),t.uIk("aria-label",s.ariaLabel)("aria-disabled",!s.enabled||null)("aria-pressed",j._isSelected(s.compareValue))("aria-current",j.todayValue===s.compareValue?"date":null),t.xp6(1),t.ekj("mat-calendar-body-selected",j._isSelected(s.compareValue))("mat-calendar-body-comparison-identical",j._isComparisonIdentical(s.compareValue))("mat-calendar-body-today",j.todayValue===s.compareValue),t.xp6(1),t.hij(" ",s.displayValue," ")}}function $y(y,v){if(1&y&&(t.TgZ(0,"tr",4),t.YNc(1,Zy,2,6,"td",5),t.YNc(2,qy,5,47,"td",6),t.qZA()),2&y){const s=v.$implicit,m=v.index,S=t.oxw();t.xp6(1),t.Q6J("ngIf",0===m&&S._firstRowOffset),t.xp6(1),t.Q6J("ngForOf",s)}}function Xy(y,v){if(1&y&&(t.TgZ(0,"th",5)(1,"span",6),t._uU(2),t.qZA(),t.TgZ(3,"span",7),t._uU(4),t.qZA()()),2&y){const s=v.$implicit;t.xp6(2),t.Oqu(s.long),t.xp6(2),t.Oqu(s.narrow)}}const Jy=["*"];function Ky(y,v){}function Qy(y,v){if(1&y){const s=t.EpF();t.TgZ(0,"mat-month-view",5),t.NdJ("activeDateChange",function(S){t.CHM(s);const j=t.oxw();return t.KtG(j.activeDate=S)})("_userSelection",function(S){t.CHM(s);const j=t.oxw();return t.KtG(j._dateSelected(S))}),t.qZA()}if(2&y){const s=t.oxw();t.Q6J("activeDate",s.activeDate)("selected",s.selected)("dateFilter",s.dateFilter)("maxDate",s.maxDate)("minDate",s.minDate)("dateClass",s.dateClass)("comparisonStart",s.comparisonStart)("comparisonEnd",s.comparisonEnd)}}function ev(y,v){if(1&y){const s=t.EpF();t.TgZ(0,"mat-year-view",6),t.NdJ("activeDateChange",function(S){t.CHM(s);const j=t.oxw();return t.KtG(j.activeDate=S)})("monthSelected",function(S){t.CHM(s);const j=t.oxw();return t.KtG(j._monthSelectedInYearView(S))})("selectedChange",function(S){t.CHM(s);const j=t.oxw();return t.KtG(j._goToDateInView(S,"month"))}),t.qZA()}if(2&y){const s=t.oxw();t.Q6J("activeDate",s.activeDate)("selected",s.selected)("dateFilter",s.dateFilter)("maxDate",s.maxDate)("minDate",s.minDate)("dateClass",s.dateClass)}}function tv(y,v){if(1&y){const s=t.EpF();t.TgZ(0,"mat-multi-year-view",7),t.NdJ("activeDateChange",function(S){t.CHM(s);const j=t.oxw();return t.KtG(j.activeDate=S)})("yearSelected",function(S){t.CHM(s);const j=t.oxw();return t.KtG(j._yearSelectedInMultiYearView(S))})("selectedChange",function(S){t.CHM(s);const j=t.oxw();return t.KtG(j._goToDateInView(S,"year"))}),t.qZA()}if(2&y){const s=t.oxw();t.Q6J("activeDate",s.activeDate)("selected",s.selected)("dateFilter",s.dateFilter)("maxDate",s.maxDate)("minDate",s.minDate)("dateClass",s.dateClass)}}function iv(y,v){}const nv=["button"];function rv(y,v){1&y&&(t.O4$(),t.TgZ(0,"svg",3),t._UZ(1,"path",4),t.qZA())}const av=[[["","matDatepickerToggleIcon",""]]],sv=["[matDatepickerToggleIcon]"];class gg{constructor(v,s,m,S,j={},ue=v,Ce){this.value=v,this.displayValue=s,this.ariaLabel=m,this.enabled=S,this.cssClasses=j,this.compareValue=ue,this.rawValue=Ce}}let Dh=(()=>{class y{constructor(s,m){this._elementRef=s,this._ngZone=m,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new t.vpe,this.previewChange=new t.vpe,this._enterHandler=S=>{if(this._skipNextFocus&&"focus"===S.type)this._skipNextFocus=!1;else if(S.target&&this.isRange){const j=this._getCellFromElement(S.target);j&&this._ngZone.run(()=>this.previewChange.emit({value:j.enabled?j:null,event:S}))}},this._leaveHandler=S=>{null!==this.previewEnd&&this.isRange&&S.target&&this._getCellFromElement(S.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:S}))},m.runOutsideAngular(()=>{const S=s.nativeElement;S.addEventListener("mouseenter",this._enterHandler,!0),S.addEventListener("focus",this._enterHandler,!0),S.addEventListener("mouseleave",this._leaveHandler,!0),S.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(s,m){s.enabled&&this.selectedValueChange.emit({value:s.value,event:m})}_isSelected(s){return this.startValue===s||this.endValue===s}ngOnChanges(s){const m=s.numCols,{rows:S,numCols:j}=this;(s.rows||m)&&(this._firstRowOffset=S&&S.length&&S[0].length?j-S[0].length:0),(s.cellAspectRatio||m||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/j+"%"),(m||!this._cellWidth)&&(this._cellWidth=100/j+"%")}ngOnDestroy(){const s=this._elementRef.nativeElement;s.removeEventListener("mouseenter",this._enterHandler,!0),s.removeEventListener("focus",this._enterHandler,!0),s.removeEventListener("mouseleave",this._leaveHandler,!0),s.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(s,m){let S=s*this.numCols+m;return s&&(S-=this._firstRowOffset),S==this.activeCell}_focusActiveCell(s=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,co.q)(1)).subscribe(()=>{setTimeout(()=>{const m=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");m&&(s||(this._skipNextFocus=!0),m.focus())})})})}_isRangeStart(s){return yg(s,this.startValue,this.endValue)}_isRangeEnd(s){return vg(s,this.startValue,this.endValue)}_isInRange(s){return bg(s,this.startValue,this.endValue,this.isRange)}_isComparisonStart(s){return yg(s,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(s,m,S){if(!this._isComparisonStart(s)||this._isRangeStart(s)||!this._isInRange(s))return!1;let j=this.rows[m][S-1];if(!j){const ue=this.rows[m-1];j=ue&&ue[ue.length-1]}return j&&!this._isRangeEnd(j.compareValue)}_isComparisonBridgeEnd(s,m,S){if(!this._isComparisonEnd(s)||this._isRangeEnd(s)||!this._isInRange(s))return!1;let j=this.rows[m][S+1];if(!j){const ue=this.rows[m+1];j=ue&&ue[0]}return j&&!this._isRangeStart(j.compareValue)}_isComparisonEnd(s){return vg(s,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(s){return bg(s,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(s){return this.comparisonStart===this.comparisonEnd&&s===this.comparisonStart}_isPreviewStart(s){return yg(s,this.previewStart,this.previewEnd)}_isPreviewEnd(s){return vg(s,this.previewStart,this.previewEnd)}_isInPreview(s){return bg(s,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(s){let m;if(xy(s)?m=s:xy(s.parentNode)&&(m=s.parentNode),m){const S=m.getAttribute("data-mat-row"),j=m.getAttribute("data-mat-col");if(S&&j)return this.rows[parseInt(S)][parseInt(j)]}return null}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.SBq),t.Y36(t.R0b))},y.\u0275cmp=t.Xpm({type:y,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[t.TTD],attrs:Wy,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(s,m){1&s&&(t.YNc(0,Gy,3,6,"tr",0),t.YNc(1,$y,3,2,"tr",1)),2&s&&(t.Q6J("ngIf",m._firstRowOffset<m.labelMinRequiredCells),t.xp6(1),t.Q6J("ngForOf",m.rows))},dependencies:[A.O5,A.sg,A.mk],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),y})();function xy(y){return"TD"===y.nodeName}function yg(y,v,s){return null!==s&&v!==s&&y<s&&y===v}function vg(y,v,s){return null!==v&&v!==s&&y>=v&&y===s}function bg(y,v,s,m){return m&&null!==v&&null!==s&&v!==s&&y>=v&&y<=s}class cl{constructor(v,s){this.start=v,this.end=s}}let Xu=(()=>{class y{constructor(s,m){this.selection=s,this._adapter=m,this._selectionChanged=new Un.xQ,this.selectionChanged=this._selectionChanged,this.selection=s}updateSelection(s,m){const S=this.selection;this.selection=s,this._selectionChanged.next({selection:s,source:m,oldValue:S})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(s){return this._adapter.isDateInstance(s)&&this._adapter.isValid(s)}}return y.\u0275fac=function(s){t.$Z()},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac}),y})(),ov=(()=>{class y extends Xu{constructor(s){super(null,s)}add(s){super.updateSelection(s,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const s=new y(this._adapter);return s.updateSelection(this.selection,this),s}}return y.\u0275fac=function(s){return new(s||y)(t.LFG(La))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac}),y})();const wy={provide:Xu,deps:[[new t.FiY,new t.tp0,Xu],La],useFactory:function cv(y,v){return y||new ov(v)}},cm=new t.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let My=(()=>{class y{constructor(s,m,S,j,ue){this._changeDetectorRef=s,this._dateFormats=m,this._dateAdapter=S,this._dir=j,this._rangeStrategy=ue,this._rerenderSubscription=ka.w.EMPTY,this.selectedChange=new t.vpe,this._userSelection=new t.vpe,this.activeDateChange=new t.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(s){const m=this._activeDate,S=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(S,this.minDate,this.maxDate),this._hasSameMonthAndYear(m,this._activeDate)||this._init()}get selected(){return this._selected}set selected(s){this._selected=s instanceof cl?s:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(s){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s))}get maxDate(){return this._maxDate}set maxDate(s){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ec.O)(null)).subscribe(()=>this._init())}ngOnChanges(s){const m=s.comparisonStart||s.comparisonEnd;m&&!m.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(s){const m=s.value,S=this._dateAdapter.getYear(this.activeDate),j=this._dateAdapter.getMonth(this.activeDate),ue=this._dateAdapter.createDate(S,j,m);let Ce,Ne;this._selected instanceof cl?(Ce=this._getDateInCurrentMonth(this._selected.start),Ne=this._getDateInCurrentMonth(this._selected.end)):Ce=Ne=this._getDateInCurrentMonth(this._selected),(Ce!==m||Ne!==m)&&this.selectedChange.emit(ue),this._userSelection.emit({value:ue,event:s.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(s){const m=this._activeDate,S=this._isRtl();switch(s.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,S?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,S?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=s.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=s.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&s.preventDefault());case 27:return void(null!=this._previewEnd&&!Xc(s)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:s}),s.preventDefault(),s.stopPropagation()));default:return}this._dateAdapter.compareDate(m,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),s.preventDefault()}_handleCalendarBodyKeyup(s){(32===s.keyCode||13===s.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:s}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(s)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(s){this._matCalendarBody._focusActiveCell(s)}_previewChanged({event:s,value:m}){if(this._rangeStrategy){const j=this._rangeStrategy.createPreview(m?m.rawValue:null,this.selected,s);this._previewStart=this._getCellCompareValue(j.start),this._previewEnd=this._getCellCompareValue(j.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const s=this._dateAdapter.getFirstDayOfWeek(),m=this._dateAdapter.getDayOfWeekNames("narrow");let j=this._dateAdapter.getDayOfWeekNames("long").map((ue,Ce)=>({long:ue,narrow:m[Ce]}));this._weekdays=j.slice(s).concat(j.slice(0,s))}_createWeekCells(){const s=this._dateAdapter.getNumDaysInMonth(this.activeDate),m=this._dateAdapter.getDateNames();this._weeks=[[]];for(let S=0,j=this._firstWeekOffset;S<s;S++,j++){7==j&&(this._weeks.push([]),j=0);const ue=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),S+1),Ce=this._shouldEnableDate(ue),Ne=this._dateAdapter.format(ue,this._dateFormats.display.dateA11yLabel),nt=this.dateClass?this.dateClass(ue,"month"):void 0;this._weeks[this._weeks.length-1].push(new gg(S+1,m[S],Ne,Ce,nt,this._getCellCompareValue(ue),ue))}}_shouldEnableDate(s){return!!s&&(!this.minDate||this._dateAdapter.compareDate(s,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(s,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(s))}_getDateInCurrentMonth(s){return s&&this._hasSameMonthAndYear(s,this.activeDate)?this._dateAdapter.getDate(s):null}_hasSameMonthAndYear(s,m){return!(!s||!m||this._dateAdapter.getMonth(s)!=this._dateAdapter.getMonth(m)||this._dateAdapter.getYear(s)!=this._dateAdapter.getYear(m))}_getCellCompareValue(s){if(s){const m=this._dateAdapter.getYear(s),S=this._dateAdapter.getMonth(s),j=this._dateAdapter.getDate(s);return new Date(m,S,j).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(s){s instanceof cl?(this._rangeStart=this._getCellCompareValue(s.start),this._rangeEnd=this._getCellCompareValue(s.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(s),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(s){return!this.dateFilter||this.dateFilter(s)}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.sBO),t.Y36(Kc,8),t.Y36(La,8),t.Y36(Tl,8),t.Y36(cm,8))},y.\u0275cmp=t.Xpm({type:y,selectors:[["mat-month-view"]],viewQuery:function(s,m){if(1&s&&t.Gf(Dh,5),2&s){let S;t.iGM(S=t.CRH())&&(m._matCalendarBody=S.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[t.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(s,m){1&s&&(t.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),t.YNc(3,Xy,5,2,"th",2),t.qZA(),t.TgZ(4,"tr"),t._UZ(5,"th",3),t.qZA()(),t.TgZ(6,"tbody",4),t.NdJ("selectedValueChange",function(j){return m._dateSelected(j)})("previewChange",function(j){return m._previewChanged(j)})("keyup",function(j){return m._handleCalendarBodyKeyup(j)})("keydown",function(j){return m._handleCalendarBodyKeydown(j)}),t.qZA()()),2&s&&(t.xp6(3),t.Q6J("ngForOf",m._weekdays),t.xp6(3),t.Q6J("label",m._monthLabel)("rows",m._weeks)("todayValue",m._todayDate)("startValue",m._rangeStart)("endValue",m._rangeEnd)("comparisonStart",m._comparisonRangeStart)("comparisonEnd",m._comparisonRangeEnd)("previewStart",m._previewStart)("previewEnd",m._previewEnd)("isRange",m._isRange)("labelMinRequiredCells",3)("activeCell",m._dateAdapter.getDate(m.activeDate)-1))},dependencies:[Dh,A.sg],encapsulation:2,changeDetection:0}),y})(),Ty=(()=>{class y{constructor(s,m,S){this._changeDetectorRef=s,this._dateAdapter=m,this._dir=S,this._rerenderSubscription=ka.w.EMPTY,this.selectedChange=new t.vpe,this.yearSelected=new t.vpe,this.activeDateChange=new t.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(s){let m=this._activeDate;const S=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(S,this.minDate,this.maxDate),ky(this._dateAdapter,m,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(s){this._selected=s instanceof cl?s:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s)),this._setSelectedYear(s)}get minDate(){return this._minDate}set minDate(s){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s))}get maxDate(){return this._maxDate}set maxDate(s){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ec.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const m=this._dateAdapter.getYear(this._activeDate)-Cp(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let S=0,j=[];S<24;S++)j.push(m+S),4==j.length&&(this._years.push(j.map(ue=>this._createCellForYear(ue))),j=[]);this._changeDetectorRef.markForCheck()}_yearSelected(s){const m=s.value;this.yearSelected.emit(this._dateAdapter.createDate(m,0,1));let S=this._dateAdapter.getMonth(this.activeDate),j=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(m,S,1));this.selectedChange.emit(this._dateAdapter.createDate(m,S,Math.min(this._dateAdapter.getDate(this.activeDate),j)))}_handleCalendarBodyKeydown(s){const m=this._activeDate,S=this._isRtl();switch(s.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,S?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,S?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Cp(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Cp(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,s.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,s.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(m,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),s.preventDefault()}_handleCalendarBodyKeyup(s){(32===s.keyCode||13===s.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:s}),this._selectionKeyPressed=!1)}_getActiveCell(){return Cp(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(s){const m=this._dateAdapter.createDate(s,0,1),S=this._dateAdapter.getYearName(m),j=this.dateClass?this.dateClass(m,"multi-year"):void 0;return new gg(s,S,S,this._shouldEnableYear(s),j)}_shouldEnableYear(s){if(null==s||this.maxDate&&s>this._dateAdapter.getYear(this.maxDate)||this.minDate&&s<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let S=this._dateAdapter.createDate(s,0,1);this._dateAdapter.getYear(S)==s;S=this._dateAdapter.addCalendarDays(S,1))if(this.dateFilter(S))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(s){if(this._selectedYear=null,s instanceof cl){const m=s.start||s.end;m&&(this._selectedYear=this._dateAdapter.getYear(m))}else s&&(this._selectedYear=this._dateAdapter.getYear(s))}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.sBO),t.Y36(La,8),t.Y36(Tl,8))},y.\u0275cmp=t.Xpm({type:y,selectors:[["mat-multi-year-view"]],viewQuery:function(s,m){if(1&s&&t.Gf(Dh,5),2&s){let S;t.iGM(S=t.CRH())&&(m._matCalendarBody=S.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(s,m){1&s&&(t.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),t._UZ(3,"th",2),t.qZA()(),t.TgZ(4,"tbody",3),t.NdJ("selectedValueChange",function(j){return m._yearSelected(j)})("keyup",function(j){return m._handleCalendarBodyKeyup(j)})("keydown",function(j){return m._handleCalendarBodyKeydown(j)}),t.qZA()()),2&s&&(t.xp6(4),t.Q6J("rows",m._years)("todayValue",m._todayYear)("startValue",m._selectedYear)("endValue",m._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",m._getActiveCell()))},dependencies:[Dh],encapsulation:2,changeDetection:0}),y})();function ky(y,v,s,m,S){const j=y.getYear(v),ue=y.getYear(s),Ce=Dy(y,m,S);return Math.floor((j-Ce)/24)===Math.floor((ue-Ce)/24)}function Cp(y,v,s,m){return function pv(y,v){return(y%v+v)%v}(y.getYear(v)-Dy(y,s,m),24)}function Dy(y,v,s){let m=0;return s?m=y.getYear(s)-24+1:v&&(m=y.getYear(v)),m}let Ly=(()=>{class y{constructor(s,m,S,j){this._changeDetectorRef=s,this._dateFormats=m,this._dateAdapter=S,this._dir=j,this._rerenderSubscription=ka.w.EMPTY,this.selectedChange=new t.vpe,this.monthSelected=new t.vpe,this.activeDateChange=new t.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(s){let m=this._activeDate;const S=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(S,this.minDate,this.maxDate),this._dateAdapter.getYear(m)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(s){this._selected=s instanceof cl?s:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s)),this._setSelectedMonth(s)}get minDate(){return this._minDate}set minDate(s){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s))}get maxDate(){return this._maxDate}set maxDate(s){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ec.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(s){const m=s.value,S=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),m,1);this.monthSelected.emit(S);const j=this._dateAdapter.getNumDaysInMonth(S);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),m,Math.min(this._dateAdapter.getDate(this.activeDate),j)))}_handleCalendarBodyKeydown(s){const m=this._activeDate,S=this._isRtl();switch(s.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,S?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,S?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,s.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,s.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(m,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),s.preventDefault()}_handleCalendarBodyKeyup(s){(32===s.keyCode||13===s.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:s}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let s=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(m=>m.map(S=>this._createCellForMonth(S,s[S]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(s){return s&&this._dateAdapter.getYear(s)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(s):null}_createCellForMonth(s,m){const S=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),s,1),j=this._dateAdapter.format(S,this._dateFormats.display.monthYearA11yLabel),ue=this.dateClass?this.dateClass(S,"year"):void 0;return new gg(s,m.toLocaleUpperCase(),j,this._shouldEnableMonth(s),ue)}_shouldEnableMonth(s){const m=this._dateAdapter.getYear(this.activeDate);if(null==s||this._isYearAndMonthAfterMaxDate(m,s)||this._isYearAndMonthBeforeMinDate(m,s))return!1;if(!this.dateFilter)return!0;for(let j=this._dateAdapter.createDate(m,s,1);this._dateAdapter.getMonth(j)==s;j=this._dateAdapter.addCalendarDays(j,1))if(this.dateFilter(j))return!0;return!1}_isYearAndMonthAfterMaxDate(s,m){if(this.maxDate){const S=this._dateAdapter.getYear(this.maxDate),j=this._dateAdapter.getMonth(this.maxDate);return s>S||s===S&&m>j}return!1}_isYearAndMonthBeforeMinDate(s,m){if(this.minDate){const S=this._dateAdapter.getYear(this.minDate),j=this._dateAdapter.getMonth(this.minDate);return s<S||s===S&&m<j}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(s){this._selectedMonth=s instanceof cl?this._getMonthInCurrentYear(s.start)||this._getMonthInCurrentYear(s.end):this._getMonthInCurrentYear(s)}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.sBO),t.Y36(Kc,8),t.Y36(La,8),t.Y36(Tl,8))},y.\u0275cmp=t.Xpm({type:y,selectors:[["mat-year-view"]],viewQuery:function(s,m){if(1&s&&t.Gf(Dh,5),2&s){let S;t.iGM(S=t.CRH())&&(m._matCalendarBody=S.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(s,m){1&s&&(t.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),t._UZ(3,"th",2),t.qZA()(),t.TgZ(4,"tbody",3),t.NdJ("selectedValueChange",function(j){return m._monthSelected(j)})("keyup",function(j){return m._handleCalendarBodyKeyup(j)})("keydown",function(j){return m._handleCalendarBodyKeydown(j)}),t.qZA()()),2&s&&(t.xp6(4),t.Q6J("label",m._yearLabel)("rows",m._months)("todayValue",m._todayMonth)("startValue",m._selectedMonth)("endValue",m._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",m._dateAdapter.getMonth(m.activeDate)))},dependencies:[Dh],encapsulation:2,changeDetection:0}),y})(),Ep=(()=>{class y{constructor(){this.changes=new Un.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(s,m){return`${s} \u2013 ${m}`}}return y.\u0275fac=function(s){return new(s||y)},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),fv=0,mv=(()=>{class y{constructor(s,m,S,j,ue){this._intl=s,this.calendar=m,this._dateAdapter=S,this._dateFormats=j,this._buttonDescriptionId="mat-calendar-button-"+fv++,this.calendar.stateChanges.subscribe(()=>ue.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const m=this._dateAdapter.getYear(this.calendar.activeDate)-Cp(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),S=m+24-1,j=this._dateAdapter.getYearName(this._dateAdapter.createDate(m,0,1)),ue=this._dateAdapter.getYearName(this._dateAdapter.createDate(S,0,1));return this._intl.formatYearRange(j,ue)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(s,m){return"month"==this.calendar.currentView?this._dateAdapter.getYear(s)==this._dateAdapter.getYear(m)&&this._dateAdapter.getMonth(s)==this._dateAdapter.getMonth(m):"year"==this.calendar.currentView?this._dateAdapter.getYear(s)==this._dateAdapter.getYear(m):ky(this._dateAdapter,s,m,this.calendar.minDate,this.calendar.maxDate)}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(Ep),t.Y36((0,t.Gpc)(()=>Mg)),t.Y36(La,8),t.Y36(Kc,8),t.Y36(t.sBO))},y.\u0275cmp=t.Xpm({type:y,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Jy,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(s,m){1&s&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return m.currentPeriodClicked()}),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.O4$(),t.TgZ(5,"svg",3),t._UZ(6,"polygon",4),t.qZA()(),t.kcU(),t._UZ(7,"div",5),t.Hsn(8),t.TgZ(9,"button",6),t.NdJ("click",function(){return m.previousClicked()}),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return m.nextClicked()}),t.qZA()()()),2&s&&(t.xp6(2),t.uIk("aria-label",m.periodButtonLabel)("aria-describedby",m._buttonDescriptionId),t.xp6(1),t.uIk("id",m._buttonDescriptionId),t.xp6(1),t.Oqu(m.periodButtonText),t.xp6(1),t.ekj("mat-calendar-invert","month"!==m.calendar.currentView),t.xp6(4),t.Q6J("disabled",!m.previousEnabled()),t.uIk("aria-label",m.prevButtonLabel),t.xp6(1),t.Q6J("disabled",!m.nextEnabled()),t.uIk("aria-label",m.nextButtonLabel))},dependencies:[Ol],encapsulation:2,changeDetection:0}),y})(),Mg=(()=>{class y{constructor(s,m,S,j){this._dateAdapter=m,this._dateFormats=S,this._changeDetectorRef=j,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new t.vpe,this.yearSelected=new t.vpe,this.monthSelected=new t.vpe,this.viewChanged=new t.vpe(!0),this._userSelection=new t.vpe,this.stateChanges=new Un.xQ,this._intlChanges=s.changes.subscribe(()=>{j.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(s){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s))}get selected(){return this._selected}set selected(s){this._selected=s instanceof cl?s:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s))}get minDate(){return this._minDate}set minDate(s){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s))}get maxDate(){return this._maxDate}set maxDate(s){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s))}get activeDate(){return this._clampedActiveDate}set activeDate(s){this._clampedActiveDate=this._dateAdapter.clampDate(s,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(s){const m=this._currentView!==s?s:null;this._currentView=s,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),m&&this.viewChanged.emit(m)}ngAfterContentInit(){this._calendarHeaderPortal=new B(this.headerComponent||mv),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(s){const m=s.minDate&&!this._dateAdapter.sameDate(s.minDate.previousValue,s.minDate.currentValue)?s.minDate:void 0,S=s.maxDate&&!this._dateAdapter.sameDate(s.maxDate.previousValue,s.maxDate.currentValue)?s.maxDate:void 0,j=m||S||s.dateFilter;if(j&&!j.firstChange){const ue=this._getCurrentViewComponent();ue&&(this._changeDetectorRef.detectChanges(),ue._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(s){const m=s.value;(this.selected instanceof cl||m&&!this._dateAdapter.sameDate(m,this.selected))&&this.selectedChange.emit(m),this._userSelection.emit(s)}_yearSelectedInMultiYearView(s){this.yearSelected.emit(s)}_monthSelectedInYearView(s){this.monthSelected.emit(s)}_goToDateInView(s,m){this.activeDate=s,this.currentView=m}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(Ep),t.Y36(La,8),t.Y36(Kc,8),t.Y36(t.sBO))},y.\u0275cmp=t.Xpm({type:y,selectors:[["mat-calendar"]],viewQuery:function(s,m){if(1&s&&(t.Gf(My,5),t.Gf(Ly,5),t.Gf(Ty,5)),2&s){let S;t.iGM(S=t.CRH())&&(m.monthView=S.first),t.iGM(S=t.CRH())&&(m.yearView=S.first),t.iGM(S=t.CRH())&&(m.multiYearView=S.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[t._Bn([wy]),t.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(s,m){1&s&&(t.YNc(0,Ky,0,0,"ng-template",0),t.TgZ(1,"div",1),t.YNc(2,Qy,1,8,"mat-month-view",2),t.YNc(3,ev,1,6,"mat-year-view",3),t.YNc(4,tv,1,6,"mat-multi-year-view",4),t.qZA()),2&s&&(t.Q6J("cdkPortalOutlet",m._calendarHeaderPortal),t.xp6(1),t.Q6J("ngSwitch",m.currentView),t.xp6(1),t.Q6J("ngSwitchCase","month"),t.xp6(1),t.Q6J("ngSwitchCase","year"),t.xp6(1),t.Q6J("ngSwitchCase","multi-year"))},dependencies:[My,Ly,Ty,we,x_,A.RF,A.n9],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),y})();const Sy={transformPanel:(0,Ni.X$)("transformPanel",[(0,Ni.eR)("void => enter-dropdown",(0,Ni.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Ni.F4)([(0,Ni.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,Ni.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,Ni.eR)("void => enter-dialog",(0,Ni.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,Ni.F4)([(0,Ni.oB)({opacity:0,transform:"scale(0.7)"}),(0,Ni.oB)({transform:"none",opacity:1})]))),(0,Ni.eR)("* => void",(0,Ni.jt)("100ms linear",(0,Ni.oB)({opacity:0})))]),fadeInCalendar:(0,Ni.X$)("fadeInCalendar",[(0,Ni.SB)("void",(0,Ni.oB)({opacity:0})),(0,Ni.SB)("enter",(0,Ni.oB)({opacity:1})),(0,Ni.eR)("void => *",(0,Ni.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let _v=0;const Cy=new t.OlP("mat-datepicker-scroll-strategy"),yv={provide:Cy,deps:[Kn],useFactory:function gv(y){return()=>y.scrollStrategies.reposition()}},vv=ih(class{constructor(y){this._elementRef=y}});let bv=(()=>{class y extends vv{constructor(s,m,S,j,ue,Ce){super(s),this._changeDetectorRef=m,this._globalModel=S,this._dateAdapter=j,this._rangeSelectionStrategy=ue,this._subscriptions=new ka.w,this._animationDone=new Un.xQ,this._actionsPortal=null,this._closeButtonText=Ce.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(s){const m=this._model.selection,S=s.value,j=m instanceof cl;if(j&&this._rangeSelectionStrategy){const ue=this._rangeSelectionStrategy.selectionFinished(S,m,s.event);this._model.updateSelection(ue,this)}else S&&(j||!this._dateAdapter.sameDate(S,m))&&this._model.add(S);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(Xu),t.Y36(La),t.Y36(cm,8),t.Y36(Ep))},y.\u0275cmp=t.Xpm({type:y,selectors:[["mat-datepicker-content"]],viewQuery:function(s,m){if(1&s&&t.Gf(Mg,5),2&s){let S;t.iGM(S=t.CRH())&&(m._calendar=S.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(s,m){1&s&&t.WFA("@transformPanel.done",function(){return m._animationDone.next()}),2&s&&(t.d8E("@transformPanel",m._animationState),t.ekj("mat-datepicker-content-touch",m.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[t.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(s,m){if(1&s&&(t.TgZ(0,"div",0)(1,"mat-calendar",1),t.NdJ("yearSelected",function(j){return m.datepicker._selectYear(j)})("monthSelected",function(j){return m.datepicker._selectMonth(j)})("viewChanged",function(j){return m.datepicker._viewChanged(j)})("_userSelection",function(j){return m._handleUserSelection(j)}),t.qZA(),t.YNc(2,iv,0,0,"ng-template",2),t.TgZ(3,"button",3),t.NdJ("focus",function(){return m._closeButtonFocused=!0})("blur",function(){return m._closeButtonFocused=!1})("click",function(){return m.datepicker.close()}),t._uU(4),t.qZA()()),2&s){let S;t.ekj("mat-datepicker-content-container-with-custom-header",m.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",m._actionsPortal),t.uIk("aria-modal",!0)("aria-labelledby",null!==(S=m._dialogLabelId)&&void 0!==S?S:void 0),t.xp6(1),t.Q6J("id",m.datepicker.id)("ngClass",m.datepicker.panelClass)("startAt",m.datepicker.startAt)("startView",m.datepicker.startView)("minDate",m.datepicker._getMinDate())("maxDate",m.datepicker._getMaxDate())("dateFilter",m.datepicker._getDateFilter())("headerComponent",m.datepicker.calendarHeaderComponent)("selected",m._getSelected())("dateClass",m.datepicker.dateClass)("comparisonStart",m.comparisonStart)("comparisonEnd",m.comparisonEnd)("@fadeInCalendar","enter"),t.xp6(1),t.Q6J("cdkPortalOutlet",m._actionsPortal),t.xp6(1),t.ekj("cdk-visually-hidden",!m._closeButtonFocused),t.Q6J("color",m.color||"primary"),t.xp6(1),t.Oqu(m._closeButtonText)}},dependencies:[Mg,Ol,pf,A.mk,we],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[Sy.transformPanel,Sy.fadeInCalendar]},changeDetection:0}),y})(),Ey=(()=>{class y{constructor(s,m,S,j,ue,Ce,Ne){this._overlay=s,this._ngZone=m,this._viewContainerRef=S,this._dateAdapter=ue,this._dir=Ce,this._model=Ne,this._inputStateChanges=ka.w.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new t.vpe,this.monthSelected=new t.vpe,this.viewChanged=new t.vpe(!0),this.openedStream=new t.vpe,this.closedStream=new t.vpe,this._opened=!1,this.id="mat-datepicker-"+_v++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Un.xQ,this._scrollStrategy=j}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(s){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(s){this._color=s}get touchUi(){return this._touchUi}set touchUi(s){this._touchUi=Jn(s)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(s){const m=Jn(s);m!==this._disabled&&(this._disabled=m,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(s){this._restoreFocus=Jn(s)}get panelClass(){return this._panelClass}set panelClass(s){this._panelClass=function t_(y,v=/\s+/){const s=[];if(null!=y){const m=Array.isArray(y)?y:`${y}`.split(v);for(const S of m){const j=`${S}`.trim();j&&s.push(j)}}return s}(s)}get opened(){return this._opened}set opened(s){Jn(s)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(s){const m=s.xPosition||s.yPosition;if(m&&!m.firstChange&&this._overlayRef){const S=this._overlayRef.getConfig().positionStrategy;S instanceof An&&(this._setConnectedPositions(S),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(s){this._model.add(s)}_selectYear(s){this.yearSelected.emit(s)}_selectMonth(s){this.monthSelected.emit(s)}_viewChanged(s){this.viewChanged.emit(s)}registerInput(s){return this._inputStateChanges.unsubscribe(),this.datepickerInput=s,this._inputStateChanges=s.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(s){this._actionsPortal=s}removeActions(s){s===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=Lu(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const m=this._componentRef.instance;m._startExitAnimation(),m._animationDone.pipe((0,co.q)(1)).subscribe(()=>this._destroyOverlay())}const s=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(s)):s()}_applyPendingSelection(){var s,m;null===(m=null===(s=this._componentRef)||void 0===s?void 0:s.instance)||void 0===m||m._applyPendingSelection()}_forwardContentValues(s){s.datepicker=this,s.color=this.color,s._actionsPortal=this._actionsPortal,s._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const s=this.touchUi,m=new B(bv,this._viewContainerRef),S=this._overlayRef=this._overlay.create(new Ft({positionStrategy:s?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[s?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:s?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(s?"dialog":"popup")}));this._getCloseStream(S).subscribe(j=>{j&&j.preventDefault(),this.close()}),S.keydownEvents().subscribe(j=>{const ue=j.keyCode;(38===ue||40===ue||37===ue||39===ue||33===ue||34===ue)&&j.preventDefault()}),this._componentRef=S.attach(m),this._forwardContentValues(this._componentRef.instance),s||this._ngZone.onStable.pipe((0,co.q)(1)).subscribe(()=>S.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const s=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(s)}_setConnectedPositions(s){const m="end"===this.xPosition?"end":"start",S="start"===m?"end":"start",j="above"===this.yPosition?"bottom":"top",ue="top"===j?"bottom":"top";return s.withPositions([{originX:m,originY:ue,overlayX:m,overlayY:j},{originX:m,originY:j,overlayX:m,overlayY:ue},{originX:S,originY:ue,overlayX:S,overlayY:j},{originX:S,originY:j,overlayX:S,overlayY:ue}])}_getCloseStream(s){return(0,Lc.T)(s.backdropClick(),s.detachments(),s.keydownEvents().pipe((0,Jc.h)(m=>27===m.keyCode&&!Xc(m)||this.datepickerInput&&Xc(m,"altKey")&&38===m.keyCode)))}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(Kn),t.Y36(t.R0b),t.Y36(t.s_b),t.Y36(Cy),t.Y36(La,8),t.Y36(Tl,8),t.Y36(Xu))},y.\u0275dir=t.lG2({type:y,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[t.TTD]}),y})(),Ay=(()=>{class y extends Ey{}return y.\u0275fac=function(){let v;return function(m){return(v||(v=t.n5z(y)))(m||y)}}(),y.\u0275cmp=t.Xpm({type:y,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[t._Bn([wy,{provide:Ey,useExisting:y}]),t.qOj],decls:0,vars:0,template:function(s,m){},encapsulation:2,changeDetection:0}),y})();class um{constructor(v,s){this.target=v,this.targetElement=s,this.value=this.target.value}}let xv=(()=>{class y{constructor(s,m,S){this._elementRef=s,this._dateAdapter=m,this._dateFormats=S,this.dateChange=new t.vpe,this.dateInput=new t.vpe,this.stateChanges=new Un.xQ,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=ka.w.EMPTY,this._localeSubscription=ka.w.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=j=>{const ue=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j.value));return!ue||this._matchesFilter(ue)?null:{matDatepickerFilter:!0}},this._minValidator=j=>{const ue=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j.value)),Ce=this._getMinDate();return!Ce||!ue||this._dateAdapter.compareDate(Ce,ue)<=0?null:{matDatepickerMin:{min:Ce,actual:ue}}},this._maxValidator=j=>{const ue=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j.value)),Ce=this._getMaxDate();return!Ce||!ue||this._dateAdapter.compareDate(Ce,ue)>=0?null:{matDatepickerMax:{max:Ce,actual:ue}}},this._lastValueValid=!1,this._localeSubscription=m.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(s){this._assignValueProgrammatically(s)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(s){const m=Jn(s),S=this._elementRef.nativeElement;this._disabled!==m&&(this._disabled=m,this.stateChanges.next(void 0)),m&&this._isInitialized&&S.blur&&S.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(s){this._model=s,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(m=>{if(this._shouldHandleChangeEvent(m)){const S=this._getValueFromModel(m.selection);this._lastValueValid=this._isValidValue(S),this._cvaOnChange(S),this._onTouched(),this._formatValue(S),this.dateInput.emit(new um(this,this._elementRef.nativeElement)),this.dateChange.emit(new um(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(s){(function wv(y,v){const s=Object.keys(y);for(let m of s){const{previousValue:S,currentValue:j}=y[m];if(!v.isDateInstance(S)||!v.isDateInstance(j))return!0;if(!v.sameDate(S,j))return!0}return!1})(s,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(s){this._validatorOnChange=s}validate(s){return this._validator?this._validator(s):null}writeValue(s){this._assignValueProgrammatically(s)}registerOnChange(s){this._cvaOnChange=s}registerOnTouched(s){this._onTouched=s}setDisabledState(s){this.disabled=s}_onKeydown(s){s.altKey&&40===s.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),s.preventDefault())}_onInput(s){const m=this._lastValueValid;let S=this._dateAdapter.parse(s,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(S),S=this._dateAdapter.getValidDateOrNull(S);const j=!this._dateAdapter.sameDate(S,this.value);!S||j?this._cvaOnChange(S):(s&&!this.value&&this._cvaOnChange(S),m!==this._lastValueValid&&this._validatorOnChange()),j&&(this._assignValue(S),this.dateInput.emit(new um(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new um(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(s){this._elementRef.nativeElement.value=null!=s?this._dateAdapter.format(s,this._dateFormats.display.dateInput):""}_assignValue(s){this._model?(this._assignValueToModel(s),this._pendingValue=null):this._pendingValue=s}_isValidValue(s){return!s||this._dateAdapter.isValid(s)}_parentDisabled(){return!1}_assignValueProgrammatically(s){s=this._dateAdapter.deserialize(s),this._lastValueValid=this._isValidValue(s),s=this._dateAdapter.getValidDateOrNull(s),this._assignValue(s),this._formatValue(s)}_matchesFilter(s){const m=this._getDateFilter();return!m||m(s)}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.SBq),t.Y36(La,8),t.Y36(Kc,8))},y.\u0275dir=t.lG2({type:y,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[t.TTD]}),y})();const Mv={provide:Y.JU,useExisting:(0,t.Gpc)(()=>dm),multi:!0},Tv={provide:Y.Cf,useExisting:(0,t.Gpc)(()=>dm),multi:!0};let dm=(()=>{class y extends xv{constructor(s,m,S,j){super(s,m,S),this._formField=j,this._closedSubscription=ka.w.EMPTY,this._validator=Y.kI.compose(super._getValidators())}set matDatepicker(s){s&&(this._datepicker=s,this._closedSubscription=s.closedStream.subscribe(()=>this._onTouched()),this._registerModel(s.registerInput(this)))}get min(){return this._min}set min(s){const m=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s));this._dateAdapter.sameDate(m,this._min)||(this._min=m,this._validatorOnChange())}get max(){return this._max}set max(s){const m=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s));this._dateAdapter.sameDate(m,this._max)||(this._max=m,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(s){const m=this._matchesFilter(this.value);this._dateFilter=s,this._matchesFilter(this.value)!==m&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(s){return s}_assignValueToModel(s){this._model&&this._model.updateSelection(s,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(s){return s.source!==this}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(t.SBq),t.Y36(La,8),t.Y36(Kc,8),t.Y36(mh,8))},y.\u0275dir=t.lG2({type:y,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(s,m){1&s&&t.NdJ("input",function(j){return m._onInput(j.target.value)})("change",function(){return m._onChange()})("blur",function(){return m._onBlur()})("keydown",function(j){return m._onKeydown(j)}),2&s&&(t.Ikx("disabled",m.disabled),t.uIk("aria-haspopup",m._datepicker?"dialog":null)("aria-owns",(null==m._datepicker?null:m._datepicker.opened)&&m._datepicker.id||null)("min",m.min?m._dateAdapter.toIso8601(m.min):null)("max",m.max?m._dateAdapter.toIso8601(m.max):null)("data-mat-calendar",m._datepicker?m._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[t._Bn([Mv,Tv,{provide:Fo,useExisting:y}]),t.qOj]}),y})(),kv=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275dir=t.lG2({type:y,selectors:[["","matDatepickerToggleIcon",""]]}),y})(),Iy=(()=>{class y{constructor(s,m,S){this._intl=s,this._changeDetectorRef=m,this._stateChanges=ka.w.EMPTY;const j=Number(S);this.tabIndex=j||0===j?j:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(s){this._disabled=Jn(s)}ngOnChanges(s){s.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(s){this.datepicker&&!this.disabled&&(this.datepicker.open(),s.stopPropagation())}_watchStateChanges(){const s=this.datepicker?this.datepicker.stateChanges:(0,Sl.of)(),m=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,Sl.of)(),S=this.datepicker?(0,Lc.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,Sl.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Lc.T)(this._intl.changes,s,m,S).subscribe(()=>this._changeDetectorRef.markForCheck())}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(Ep),t.Y36(t.sBO),t.$8M("tabindex"))},y.\u0275cmp=t.Xpm({type:y,selectors:[["mat-datepicker-toggle"]],contentQueries:function(s,m,S){if(1&s&&t.Suo(S,kv,5),2&s){let j;t.iGM(j=t.CRH())&&(m._customIcon=j.first)}},viewQuery:function(s,m){if(1&s&&t.Gf(nv,5),2&s){let S;t.iGM(S=t.CRH())&&(m._button=S.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(s,m){1&s&&t.NdJ("click",function(j){return m._open(j)}),2&s&&(t.uIk("tabindex",null)("data-mat-calendar",m.datepicker?m.datepicker.id:null),t.ekj("mat-datepicker-toggle-active",m.datepicker&&m.datepicker.opened)("mat-accent",m.datepicker&&"accent"===m.datepicker.color)("mat-warn",m.datepicker&&"warn"===m.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[t.TTD],ngContentSelectors:sv,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(s,m){1&s&&(t.F$t(av),t.TgZ(0,"button",0,1),t.YNc(2,rv,2,0,"svg",2),t.Hsn(3),t.qZA()),2&s&&(t.Q6J("disabled",m.disabled)("disableRipple",m.disableRipple),t.uIk("aria-haspopup",m.datepicker?"dialog":null)("aria-label",m.ariaLabel||m._intl.openCalendarLabel)("tabindex",m.disabled?-1:m.tabIndex),t.xp6(2),t.Q6J("ngIf",!m._customIcon))},dependencies:[Ol,A.O5],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),y})(),Dv=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({providers:[Ep,yv],imports:[[A.ez,fp,_r,bf,Ie,rs],e]}),y})();function Lv(y,v){if(1&y&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&y){const s=v.$implicit;t.Q6J("value",s),t.xp6(1),t.hij(" ",s.nombreComercial," ")}}function Sv(y,v){if(1&y&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&y){const s=v.$implicit;t.Q6J("value",s.uid),t.xp6(1),t.AsE(" ",s.nombres,"(",s.puesto,") ")}}function Cv(y,v){if(1&y&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&y){const s=v.$implicit;t.Q6J("value",s.situacion),t.xp6(1),t.hij(" ",s.descripcion," ")}}function Ev(y,v){if(1&y){const s=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"button",29),t.NdJ("click",function(){const j=t.CHM(s).$implicit,ue=t.oxw();return t.KtG(ue.editPlannedForm(j))}),t.TgZ(9,"mat-icon"),t._uU(10,"edit"),t.qZA()()()()}if(2&y){const s=v.$implicit;t.xp6(2),t.hij(" ",s.idPlanned," "),t.xp6(2),t.hij(" ",s.idCliente," "),t.xp6(2),t.hij(" ",s.idCliente," ")}}let Av=(()=>{class y{constructor(s,m,S){this.apiService=s,this.fb=m,this.toastr=S,this.plannedState=[{situacion:"P",descripcion:"PENDIENTE"},{situacion:"E",descripcion:"EN PROCESO"},{situacion:"F",descripcion:"FINALIZADA"},{situacion:"C",descripcion:"CANCELAR"}],this.plannedForm=this.createPlannedForm(),this.plannedForm.controls.idPlanned.disable()}ngOnInit(){this.getCustomers(),this.getUsers(),this.getPlanneds()}createPlannedForm(s){let m;return null!=s&&s.cliente&&(m=this.customerList.find(S=>S.idcliente==s.idCliente)),this.fb.group({uid:(null==s?void 0:s.uid)||"",idPlanned:(null==s?void 0:s.idPlanned)||"",idCliente:(null==s?void 0:s.idCliente)||"",cliente:[m||"",[Y.kI.required]],usuario:[(null==s?void 0:s.usuario)||"",[Y.kI.required]],fecha_programada:[(null==s?void 0:s.fecha_programada)||"",[Y.kI.required]],situacion:[(null==s?void 0:s.situacion)||"",[Y.kI.required]]})}formValidation(){this.plannedForm.invalid?this.plannedForm.markAllAsTouched():this.plannedForm.controls.uid?this.updatePlanned():this.savePlanned()}resetForm(){this.plannedForm=this.createPlannedForm(),this.plannedForm.controls.idPlanned.disable()}editPlannedForm(s){this.plannedForm=this.createPlannedForm(s),this.plannedForm.controls.idPlanned.disable()}savePlanned(){const s=this.plannedForm.getRawValue(),{fecha_programada:S,situacion:j,usuario:ue}=s,Ce=ql(s,["uid","fecha_programada","situacion","usuario"]);this.apiService.post("planneds",{idCliente:Ce.cliente.idcliente,cliente:Ce.cliente.uid,usuario:ue,fecha_programada:S,situacion:j}).subscribe(Ne=>{this.toastr.success("SATISFACTORIO","REGISTRO GUARDADO EXISTOSAMENTE",{timeOut:8e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-success alert-with-icon",positionClass:"toast-top-right"}),this.getPlanneds()},Ne=>{console.error(Ne)})}updatePlanned(){const s=this.plannedForm.getRawValue(),{uid:m,fecha_programada:S,situacion:j,usuario:ue}=s,Ce=ql(s,["uid","fecha_programada","situacion","usuario"]);this.apiService.put(`planneds/${m}`,{idCliente:Ce.cliente.idcliente,cliente:Ce.cliente.uid,usuario:ue,fecha_programada:S,situacion:j}).subscribe(Ne=>{this.toastr.success("SATISFACTORIO","REGISTRO ACTUALIZADO EXISTOSAMENTE",{timeOut:8e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-success alert-with-icon",positionClass:"toast-top-right"}),this.getPlanneds()},Ne=>{console.error(Ne)})}getCustomers(){this.apiService.get("clientes").subscribe(s=>{this.customerList=s.datos},s=>{console.error(s)})}getUsers(){this.apiService.get("usuarios").subscribe(s=>{this.userList=s.usuarios},s=>{console.error(s)})}getPlanneds(){this.apiService.get("planneds").subscribe(s=>{this.plannedList=s.datos},s=>{console.error(s)})}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(rd.s),t.Y36(Y.qu),t.Y36(uu._W))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-planned"]],decls:73,vars:7,consts:[[1,"panel-header","panel-header-sm"],[1,"main-content"],[1,"row"],[1,"col-md-5"],[1,"card"],[1,"card-header"],[1,"title"],[1,"card-body",3,"formGroup"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Castillo Robles","autocomplete","off","formControlName","idPlanned"],["name","clientes","formControlName","cliente"],[3,"value",4,"ngFor","ngForOf"],["name","tecnicos","formControlName","usuario"],["matInput","","formControlName","fecha_programada",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["name","plannedStatus","formControlName","situacion"],[1,"col-6"],[1,"btn","btn-primary","mt-4",2,"width","100%",3,"click"],[1,"btn","btn-default","mt-4",2,"width","100%",3,"click"],[1,"col-md-7"],[1,"card-title"],[1,"card-body"],[1,"table-responsive",2,"max-height","420px"],[1,"table"],[1,"fontTableBody"],[4,"ngFor","ngForOf"],[3,"value"],["mat-icon-button","",3,"click"]],template:function(s,m){if(1&s&&(t._UZ(0,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),t._uU(7,"Planificaciones"),t.qZA()(),t.TgZ(8,"div",7)(9,"div",2)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),t._uU(13,"N\xfamero de Planificaci\xf3n"),t.qZA(),t._UZ(14,"input",10),t.qZA()()(),t.TgZ(15,"div",2)(16,"div",8)(17,"mat-form-field",9)(18,"mat-label"),t._uU(19,"Cliente a Asignar "),t.qZA(),t.TgZ(20,"mat-select",11),t.YNc(21,Lv,2,2,"mat-option",12),t.qZA()()()(),t.TgZ(22,"div",2)(23,"div",8)(24,"mat-form-field",9)(25,"mat-label"),t._uU(26,"T\xe9cnico a Asignar "),t.qZA(),t.TgZ(27,"mat-select",13),t.YNc(28,Sv,2,3,"mat-option",12),t.qZA()()()(),t.TgZ(29,"div",2)(30,"div",8)(31,"mat-form-field",9)(32,"mat-label"),t._uU(33,"Fecha Programacion"),t.qZA(),t._UZ(34,"input",14)(35,"mat-datepicker-toggle",15)(36,"mat-datepicker",null,16),t.qZA()()(),t.TgZ(38,"div",2)(39,"div",8)(40,"mat-form-field",9)(41,"mat-label"),t._uU(42,"Estado Planificacion "),t.qZA(),t.TgZ(43,"mat-select",17),t.YNc(44,Cv,2,2,"mat-option",12),t.qZA()()()(),t.TgZ(45,"div",2)(46,"div",18)(47,"button",19),t.NdJ("click",function(){return m.formValidation()}),t._uU(48,"Guardar"),t.qZA()(),t.TgZ(49,"div",18)(50,"button",20),t.NdJ("click",function(){return m.resetForm()}),t._uU(51,"Limpiar"),t.qZA()()()()()(),t.TgZ(52,"div",21)(53,"div",4)(54,"div",5)(55,"h4",22),t._uU(56," Listado de Planificaciones"),t.qZA()(),t.TgZ(57,"div",23)(58,"div",2)(59,"div",8)(60,"div",24)(61,"table",25)(62,"thead")(63,"th"),t._uU(64,"Planificaci\xf3n"),t.qZA(),t.TgZ(65,"th"),t._uU(66,"Cliente"),t.qZA(),t.TgZ(67,"th"),t._uU(68,"T\xe9cnico"),t.qZA(),t.TgZ(69,"th"),t._uU(70,"Editar"),t.qZA()(),t.TgZ(71,"tbody",26),t.YNc(72,Ev,11,3,"tr",27),t.qZA()()()()()()()()()()),2&s){const S=t.MAs(37);t.xp6(8),t.Q6J("formGroup",m.plannedForm),t.xp6(13),t.Q6J("ngForOf",m.customerList),t.xp6(7),t.Q6J("ngForOf",m.userList),t.xp6(6),t.Q6J("matDatepicker",S),t.xp6(1),t.Q6J("for",S),t.xp6(9),t.Q6J("ngForOf",m.plannedState),t.xp6(28),t.Q6J("ngForOf",m.plannedList)}},dependencies:[A.sg,Y.Fj,Y.JJ,Y.JL,Y.sg,Y.u,Dc,Ol,gp,tu,jf,nc,by,oh,Ay,dm,Iy],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]}),y})();function Iv(y,v){if(1&y&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&y){const s=v.$implicit;t.Q6J("value",s),t.xp6(1),t.hij(" ",s.idPlanned," ")}}function Pv(y,v){if(1&y&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&y){const s=v.$implicit;t.Q6J("value",s.situacion),t.xp6(1),t.hij(" ",s.descripcion," ")}}function Ov(y,v){if(1&y){const s=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td")(9,"button",33),t.NdJ("click",function(){const j=t.CHM(s).$implicit,ue=t.oxw();return t.KtG(ue.editHomeVisitForm(j))}),t.TgZ(10,"mat-icon"),t._uU(11,"edit"),t.qZA()()()()}if(2&y){const s=v.$implicit;t.xp6(2),t.hij(" ",s.idVisita," "),t.xp6(2),t.hij(" ",s.descripcion," "),t.xp6(2),t.hij(" ",t.xi3(7,3,s.fecha_inicio,"dd/MM/yyyy")," ")}}const Rv=[{path:"dashboard",component:Pp},{path:"routes",component:Uf},{path:"customers",component:Xf},{path:"planned",component:Av},{path:"homeVisits",component:(()=>{class y{constructor(s,m,S){this.apiService=s,this.fb=m,this.toastr=S,this.vistSituation=[{situacion:"P",descripcion:"PENDIENTE"},{situacion:"E",descripcion:"EN PROCESO"},{situacion:"F",descripcion:"FINALIZADA"},{situacion:"C",descripcion:"CANCELAR"}],this.homeVisitForm=this.createHomeVisit(),this.homeVisitForm.controls.idVisita.disable()}ngOnInit(){this.getPlanneds(),this.getHomeVisits()}createHomeVisit(s){let m;return null!=s&&s.planned&&(m=this.plannedList.find(S=>S.idPlanned==s.idPlanned)),this.fb.group({uid:(null==s?void 0:s.uid)||"",idVisita:(null==s?void 0:s.idVisita)||"",idPlanned:(null==s?void 0:s.idPlanned)||"",planned:[m||"",[Y.kI.required]],fecha_inicio:[(null==s?void 0:s.fecha_inicio)||"",[Y.kI.required]],fecha_fin:[(null==s?void 0:s.fecha_fin)||"",[Y.kI.required]],descripcion:[(null==s?void 0:s.descripcion)||"",[Y.kI.required]],observacion1:[(null==s?void 0:s.observacion1)||"",[Y.kI.required]],observacion2:[(null==s?void 0:s.observacion2)||"",[Y.kI.required]],situacion:[(null==s?void 0:s.situacion)||"",[Y.kI.required]]})}resetForm(){this.homeVisitForm=this.createHomeVisit(),this.homeVisitForm.controls.idVisita.disable()}formValidation(){this.homeVisitForm.invalid?this.homeVisitForm.markAllAsTouched():this.homeVisitForm.controls.uid.value?this.updateHomeVisit():this.saveHomeVisit()}editHomeVisitForm(s){this.homeVisitForm=this.createHomeVisit(s),this.homeVisitForm.controls.idVisita.disable()}getPlanneds(){this.apiService.get("planneds").subscribe(s=>{this.plannedList=s.datos},s=>{console.error(s)})}getHomeVisits(){this.apiService.get("visitas").subscribe(s=>{this.homeVisitList=s.datos},s=>{console.error(s)})}saveHomeVisit(){const s=this.homeVisitForm.getRawValue(),{planned:S}=s,ue=ql(s,["uid","planned","idPlanned"]);this.apiService.post("visitas",Object.assign(Object.assign({},ue),{idPlanned:S.idPlanned,planned:S.uid})).subscribe(Ce=>{this.toastr.success("SATISFACTORIO","REGISTRO GUARDADO EXISTOSAMENTE",{timeOut:8e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-success alert-with-icon",positionClass:"toast-top-right"}),this.getPlanneds()},Ce=>{console.error(Ce)})}updateHomeVisit(){const s=this.homeVisitForm.getRawValue(),{uid:m,planned:S}=s,ue=ql(s,["uid","planned","idPlanned"]);this.apiService.put(`visitas/${m}`,Object.assign(Object.assign({},ue),{idPlanned:S.idPlanned,planned:S.uid})).subscribe(Ce=>{this.toastr.success("SATISFACTORIO","REGISTRO ACTUALIZADO EXISTOSAMENTE",{timeOut:8e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-success alert-with-icon",positionClass:"toast-top-right"}),this.getPlanneds()},Ce=>{console.error(Ce)})}}return y.\u0275fac=function(s){return new(s||y)(t.Y36(rd.s),t.Y36(Y.qu),t.Y36(uu._W))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-home-visits"]],decls:92,vars:8,consts:[[1,"panel-header","panel-header-sm"],[1,"main-content"],[1,"row"],[1,"col-md-5"],[1,"card"],[1,"card-header"],[1,"title"],[1,"card-body",3,"formGroup"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","placeholder","","autocomplete","off","formControlName","idVisita"],["name","clientes","formControlName","planned"],[3,"value",4,"ngFor","ngForOf"],[1,"col-6"],["matInput","","formControlName","fecha_inicio",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","fecha_fin",3,"matDatepicker"],["picker2",""],["matInput","","placeholder","","autocomplete","off","formControlName","descripcion"],["matInput","","placeholder","","autocomplete","off","formControlName","observacion1"],["matInput","","placeholder","","autocomplete","off","formControlName","observacion2"],["name","plannedStatus","formControlName","situacion"],[1,"btn","btn-primary","mt-4",2,"width","100%",3,"click"],[1,"btn","btn-default","mt-4",2,"width","100%",3,"click"],[1,"col-md-7"],[1,"card-title"],[1,"card-body"],[1,"table-responsive",2,"max-height","420px"],[1,"table"],[1,"fontTableBody"],[4,"ngFor","ngForOf"],[3,"value"],["mat-icon-button","",3,"click"]],template:function(s,m){if(1&s&&(t._UZ(0,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),t._uU(7,"Visitas"),t.qZA()(),t.TgZ(8,"div",7)(9,"div",2)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),t._uU(13,"N\xfamero de visita"),t.qZA(),t._UZ(14,"input",10),t.qZA()()(),t.TgZ(15,"div",2)(16,"div",8)(17,"mat-form-field",9)(18,"mat-label"),t._uU(19,"Planaci\xf3n a Asignar "),t.qZA(),t.TgZ(20,"mat-select",11),t.YNc(21,Iv,2,2,"mat-option",12),t.qZA()()()(),t.TgZ(22,"div",2)(23,"div",13)(24,"mat-form-field",9)(25,"mat-label"),t._uU(26,"Fecha Inicio Visita"),t.qZA(),t._UZ(27,"input",14)(28,"mat-datepicker-toggle",15)(29,"mat-datepicker",null,16),t.qZA()(),t.TgZ(31,"div",13)(32,"mat-form-field",9)(33,"mat-label"),t._uU(34,"Fecha Fin Visita"),t.qZA(),t._UZ(35,"input",17)(36,"mat-datepicker-toggle",15)(37,"mat-datepicker",null,18),t.qZA()()(),t.TgZ(39,"div",2)(40,"div",8)(41,"mat-form-field",9)(42,"mat-label"),t._uU(43,"Asunto"),t.qZA(),t._UZ(44,"input",19),t.qZA()()(),t.TgZ(45,"div",2)(46,"div",8)(47,"mat-form-field",9)(48,"mat-label"),t._uU(49,"Descripcion Inconveniente"),t.qZA(),t._UZ(50,"input",20),t.qZA()()(),t.TgZ(51,"div",2)(52,"div",8)(53,"mat-form-field",9)(54,"mat-label"),t._uU(55,"Descripcion Soluci\xf3n"),t.qZA(),t._UZ(56,"input",21),t.qZA()()(),t.TgZ(57,"div",2)(58,"div",8)(59,"mat-form-field",9)(60,"mat-label"),t._uU(61,"Estado Visita "),t.qZA(),t.TgZ(62,"mat-select",22),t.YNc(63,Pv,2,2,"mat-option",12),t.qZA()()()(),t.TgZ(64,"div",2)(65,"div",13)(66,"button",23),t.NdJ("click",function(){return m.formValidation()}),t._uU(67,"Guardar"),t.qZA()(),t.TgZ(68,"div",13)(69,"button",24),t.NdJ("click",function(){return m.resetForm()}),t._uU(70,"Limpiar"),t.qZA()()()()()(),t.TgZ(71,"div",25)(72,"div",4)(73,"div",5)(74,"h4",26),t._uU(75," Listado de Visitas"),t.qZA()(),t.TgZ(76,"div",27)(77,"div",2)(78,"div",8)(79,"div",28)(80,"table",29)(81,"thead")(82,"th"),t._uU(83,"Visita"),t.qZA(),t.TgZ(84,"th"),t._uU(85,"Descripcion"),t.qZA(),t.TgZ(86,"th"),t._uU(87,"Fecha Inicio"),t.qZA(),t.TgZ(88,"th"),t._uU(89,"Editar"),t.qZA()(),t.TgZ(90,"tbody",30),t.YNc(91,Ov,12,6,"tr",31),t.qZA()()()()()()()()()()),2&s){const S=t.MAs(30),j=t.MAs(38);t.xp6(8),t.Q6J("formGroup",m.homeVisitForm),t.xp6(13),t.Q6J("ngForOf",m.plannedList),t.xp6(6),t.Q6J("matDatepicker",S),t.xp6(1),t.Q6J("for",S),t.xp6(7),t.Q6J("matDatepicker",j),t.xp6(1),t.Q6J("for",j),t.xp6(27),t.Q6J("ngForOf",m.vistSituation),t.xp6(28),t.Q6J("ngForOf",m.homeVisitList)}},dependencies:[A.sg,Y.Fj,Y.JJ,Y.JL,Y.sg,Y.u,Dc,Ol,gp,tu,jf,nc,by,oh,Ay,dm,Iy,A.uU],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]}),y})()}];let Fv=(()=>{class y{}return y.\u0275fac=function(s){return new(s||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({imports:[A.ez,te.Bz.forChild(Rv),Y.u5,Y.UX,Zl,td.IJ,uu.Rh.forRoot(),Uu,fp,Gu,_h,Uy,Dv,S_]}),y})()},2049:function(ze,Ye,se){var te;ze=se.nmd(ze),function(A){"object"==typeof global&&global;var J=function(Mt){this.message=Mt};(J.prototype=new Error).name="InvalidCharacterError";var Q=function(Mt){throw new J(Mt)},oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ye=/[\t\n\f\r ]/g,Te={encode:function(Mt){Mt=String(Mt),/[^\0-\xFF]/.test(Mt)&&Q("The string to be encoded contains characters outside of the Latin1 range.");for(var yt,Ke,Ve,He,qe=Mt.length%3,Me="",Je=-1,bt=Mt.length-qe;++Je<bt;)yt=Mt.charCodeAt(Je)<<16,Ke=Mt.charCodeAt(++Je)<<8,Ve=Mt.charCodeAt(++Je),Me+=oe.charAt((He=yt+Ke+Ve)>>18&63)+oe.charAt(He>>12&63)+oe.charAt(He>>6&63)+oe.charAt(63&He);return 2==qe?(yt=Mt.charCodeAt(Je)<<8,Ke=Mt.charCodeAt(++Je),Me+=oe.charAt((He=yt+Ke)>>10)+oe.charAt(He>>4&63)+oe.charAt(He<<2&63)+"="):1==qe&&(He=Mt.charCodeAt(Je),Me+=oe.charAt(He>>2)+oe.charAt(He<<4&63)+"=="),Me},decode:function(Mt){var qe=(Mt=String(Mt).replace(ye,"")).length;qe%4==0&&(qe=(Mt=Mt.replace(/==?$/,"")).length),(qe%4==1||/[^+a-zA-Z0-9/]/.test(Mt))&&Q("Invalid character: the string to be decoded is not correctly encoded.");for(var Je,yt,Me=0,Ke="",Ve=-1;++Ve<qe;)yt=oe.indexOf(Mt.charAt(Ve)),Je=Me%4?64*Je+yt:yt,Me++%4&&(Ke+=String.fromCharCode(255&Je>>(-2*Me&6)));return Ke},version:"0.1.0"};void 0!==(te=function(){return Te}.call(Ye,se,Ye,ze))&&(ze.exports=te)}()},8332:function(ze,Ye,se){ze.exports=function(te){"use strict";te=te&&te.hasOwnProperty("default")?te.default:te;var t={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},P=function A(a,l){return a(l={exports:{}},l.exports),l.exports}(function(a){var l={};for(var d in t)t.hasOwnProperty(d)&&(l[t[d]]=d);var p=a.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var b in p)if(p.hasOwnProperty(b)){if(!("channels"in p[b]))throw new Error("missing channels property: "+b);if(!("labels"in p[b]))throw new Error("missing channel labels property: "+b);if(p[b].labels.length!==p[b].channels)throw new Error("channel and label counts mismatch: "+b);var w=p[b].channels,D=p[b].labels;delete p[b].channels,delete p[b].labels,Object.defineProperty(p[b],"channels",{value:w}),Object.defineProperty(p[b],"labels",{value:D})}function O(C,z){return Math.pow(C[0]-z[0],2)+Math.pow(C[1]-z[1],2)+Math.pow(C[2]-z[2],2)}p.rgb.hsl=function(C){var ve,Ee,z=C[0]/255,U=C[1]/255,W=C[2]/255,ie=Math.min(z,U,W),ce=Math.max(z,U,W),pe=ce-ie;return ce===ie?ve=0:z===ce?ve=(U-W)/pe:U===ce?ve=2+(W-z)/pe:W===ce&&(ve=4+(z-U)/pe),(ve=Math.min(60*ve,360))<0&&(ve+=360),Ee=(ie+ce)/2,[ve,100*(ce===ie?0:Ee<=.5?pe/(ce+ie):pe/(2-ce-ie)),100*Ee]},p.rgb.hsv=function(C){var z,U,W,ie,ce,pe=C[0]/255,ve=C[1]/255,ge=C[2]/255,Ee=Math.max(pe,ve,ge),Re=Ee-Math.min(pe,ve,ge),Ze=function(je){return(Ee-je)/6/Re+.5};return 0===Re?ie=ce=0:(ce=Re/Ee,z=Ze(pe),U=Ze(ve),W=Ze(ge),pe===Ee?ie=W-U:ve===Ee?ie=1/3+z-W:ge===Ee&&(ie=2/3+U-z),ie<0?ie+=1:ie>1&&(ie-=1)),[360*ie,100*ce,100*Ee]},p.rgb.hwb=function(C){var z=C[0],U=C[1],W=C[2];return[p.rgb.hsl(C)[0],1/255*Math.min(z,Math.min(U,W))*100,100*(W=1-1/255*Math.max(z,Math.max(U,W)))]},p.rgb.cmyk=function(C){var ve,z=C[0]/255,U=C[1]/255,W=C[2]/255;return[100*((1-z-(ve=Math.min(1-z,1-U,1-W)))/(1-ve)||0),100*((1-U-ve)/(1-ve)||0),100*((1-W-ve)/(1-ve)||0),100*ve]},p.rgb.keyword=function(C){var z=l[C];if(z)return z;var W,U=1/0;for(var ie in t)if(t.hasOwnProperty(ie)){var pe=O(C,t[ie]);pe<U&&(U=pe,W=ie)}return W},p.keyword.rgb=function(C){return t[C]},p.rgb.xyz=function(C){var z=C[0]/255,U=C[1]/255,W=C[2]/255;return[100*(.4124*(z=z>.04045?Math.pow((z+.055)/1.055,2.4):z/12.92)+.3576*(U=U>.04045?Math.pow((U+.055)/1.055,2.4):U/12.92)+.1805*(W=W>.04045?Math.pow((W+.055)/1.055,2.4):W/12.92)),100*(.2126*z+.7152*U+.0722*W),100*(.0193*z+.1192*U+.9505*W)]},p.rgb.lab=function(C){var z=p.rgb.xyz(C),U=z[0],W=z[1],ie=z[2];return W/=100,ie/=108.883,U=(U/=95.047)>.008856?Math.pow(U,1/3):7.787*U+16/116,[116*(W=W>.008856?Math.pow(W,1/3):7.787*W+16/116)-16,500*(U-W),200*(W-(ie=ie>.008856?Math.pow(ie,1/3):7.787*ie+16/116))]},p.hsl.rgb=function(C){var ie,ce,pe,ve,ge,z=C[0]/360,U=C[1]/100,W=C[2]/100;if(0===U)return[ge=255*W,ge,ge];ie=2*W-(ce=W<.5?W*(1+U):W+U-W*U),ve=[0,0,0];for(var Ee=0;Ee<3;Ee++)(pe=z+1/3*-(Ee-1))<0&&pe++,pe>1&&pe--,ve[Ee]=255*(ge=6*pe<1?ie+6*(ce-ie)*pe:2*pe<1?ce:3*pe<2?ie+(ce-ie)*(2/3-pe)*6:ie);return ve},p.hsl.hsv=function(C){var z=C[0],U=C[1]/100,W=C[2]/100,ie=U,ce=Math.max(W,.01);return U*=(W*=2)<=1?W:2-W,ie*=ce<=1?ce:2-ce,[z,100*(0===W?2*ie/(ce+ie):2*U/(W+U)),(W+U)/2*100]},p.hsv.rgb=function(C){var z=C[0]/60,U=C[1]/100,W=C[2]/100,ie=Math.floor(z)%6,ce=z-Math.floor(z),pe=255*W*(1-U),ve=255*W*(1-U*ce),ge=255*W*(1-U*(1-ce));switch(W*=255,ie){case 0:return[W,ge,pe];case 1:return[ve,W,pe];case 2:return[pe,W,ge];case 3:return[pe,ve,W];case 4:return[ge,pe,W];case 5:return[W,pe,ve]}},p.hsv.hsl=function(C){var ce,pe,ve,z=C[0],U=C[1]/100,W=C[2]/100,ie=Math.max(W,.01);return ve=(2-U)*W,pe=U*ie,[z,100*(pe=(pe/=(ce=(2-U)*ie)<=1?ce:2-ce)||0),100*(ve/=2)]},p.hwb.rgb=function(C){var ce,pe,ve,ge,Ee,Re,Ze,z=C[0]/360,U=C[1]/100,W=C[2]/100,ie=U+W;switch(ie>1&&(U/=ie,W/=ie),ve=6*z-(ce=Math.floor(6*z)),0!=(1&ce)&&(ve=1-ve),ge=U+ve*((pe=1-W)-U),ce){default:case 6:case 0:Ee=pe,Re=ge,Ze=U;break;case 1:Ee=ge,Re=pe,Ze=U;break;case 2:Ee=U,Re=pe,Ze=ge;break;case 3:Ee=U,Re=ge,Ze=pe;break;case 4:Ee=ge,Re=U,Ze=pe;break;case 5:Ee=pe,Re=U,Ze=ge}return[255*Ee,255*Re,255*Ze]},p.cmyk.rgb=function(C){var U=C[1]/100,W=C[2]/100,ie=C[3]/100;return[255*(1-Math.min(1,C[0]/100*(1-ie)+ie)),255*(1-Math.min(1,U*(1-ie)+ie)),255*(1-Math.min(1,W*(1-ie)+ie))]},p.xyz.rgb=function(C){var ie,ce,pe,z=C[0]/100,U=C[1]/100,W=C[2]/100;return ce=-.9689*z+1.8758*U+.0415*W,pe=.0557*z+-.204*U+1.057*W,ie=(ie=3.2406*z+-1.5372*U+-.4986*W)>.0031308?1.055*Math.pow(ie,1/2.4)-.055:12.92*ie,ce=ce>.0031308?1.055*Math.pow(ce,1/2.4)-.055:12.92*ce,pe=pe>.0031308?1.055*Math.pow(pe,1/2.4)-.055:12.92*pe,[255*(ie=Math.min(Math.max(0,ie),1)),255*(ce=Math.min(Math.max(0,ce),1)),255*(pe=Math.min(Math.max(0,pe),1))]},p.xyz.lab=function(C){var z=C[0],U=C[1],W=C[2];return U/=100,W/=108.883,z=(z/=95.047)>.008856?Math.pow(z,1/3):7.787*z+16/116,[116*(U=U>.008856?Math.pow(U,1/3):7.787*U+16/116)-16,500*(z-U),200*(U-(W=W>.008856?Math.pow(W,1/3):7.787*W+16/116))]},p.lab.xyz=function(C){var ie,ce,pe;ie=C[1]/500+(ce=(C[0]+16)/116),pe=ce-C[2]/200;var ve=Math.pow(ce,3),ge=Math.pow(ie,3),Ee=Math.pow(pe,3);return ce=ve>.008856?ve:(ce-16/116)/7.787,ie=ge>.008856?ge:(ie-16/116)/7.787,pe=Ee>.008856?Ee:(pe-16/116)/7.787,[ie*=95.047,ce*=100,pe*=108.883]},p.lab.lch=function(C){var ce,z=C[0],U=C[1],W=C[2];return(ce=360*Math.atan2(W,U)/2/Math.PI)<0&&(ce+=360),[z,Math.sqrt(U*U+W*W),ce]},p.lch.lab=function(C){var pe,U=C[1];return pe=C[2]/360*2*Math.PI,[C[0],U*Math.cos(pe),U*Math.sin(pe)]},p.rgb.ansi16=function(C){var z=C[0],U=C[1],W=C[2],ie=1 in arguments?arguments[1]:p.rgb.hsv(C)[2];if(0===(ie=Math.round(ie/50)))return 30;var ce=30+(Math.round(W/255)<<2|Math.round(U/255)<<1|Math.round(z/255));return 2===ie&&(ce+=60),ce},p.hsv.ansi16=function(C){return p.rgb.ansi16(p.hsv.rgb(C),C[2])},p.rgb.ansi256=function(C){var z=C[0],U=C[1],W=C[2];return z===U&&U===W?z<8?16:z>248?231:Math.round((z-8)/247*24)+232:16+36*Math.round(z/255*5)+6*Math.round(U/255*5)+Math.round(W/255*5)},p.ansi16.rgb=function(C){var z=C%10;if(0===z||7===z)return C>50&&(z+=3.5),[z=z/10.5*255,z,z];var U=.5*(1+~~(C>50));return[(1&z)*U*255,(z>>1&1)*U*255,(z>>2&1)*U*255]},p.ansi256.rgb=function(C){if(C>=232){var z=10*(C-232)+8;return[z,z,z]}var U;return C-=16,[Math.floor(C/36)/5*255,Math.floor((U=C%36)/6)/5*255,U%6/5*255]},p.rgb.hex=function(C){var U=(((255&Math.round(C[0]))<<16)+((255&Math.round(C[1]))<<8)+(255&Math.round(C[2]))).toString(16).toUpperCase();return"000000".substring(U.length)+U},p.hex.rgb=function(C){var z=C.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!z)return[0,0,0];var U=z[0];3===z[0].length&&(U=U.split("").map(function(ve){return ve+ve}).join(""));var W=parseInt(U,16);return[W>>16&255,W>>8&255,255&W]},p.rgb.hcg=function(C){var ge,z=C[0]/255,U=C[1]/255,W=C[2]/255,ie=Math.max(Math.max(z,U),W),ce=Math.min(Math.min(z,U),W),pe=ie-ce;return ge=pe<=0?0:ie===z?(U-W)/pe%6:ie===U?2+(W-z)/pe:4+(z-U)/pe+4,ge/=6,[360*(ge%=1),100*pe,100*(pe<1?ce/(1-pe):0)]},p.hsl.hcg=function(C){var W,z=C[1]/100,U=C[2]/100,ie=0;return(W=U<.5?2*z*U:2*z*(1-U))<1&&(ie=(U-.5*W)/(1-W)),[C[0],100*W,100*ie]},p.hsv.hcg=function(C){var U=C[2]/100,W=C[1]/100*U,ie=0;return W<1&&(ie=(U-W)/(1-W)),[C[0],100*W,100*ie]},p.hcg.rgb=function(C){var U=C[1]/100,W=C[2]/100;if(0===U)return[255*W,255*W,255*W];var ge,ie=[0,0,0],ce=C[0]/360%1*6,pe=ce%1,ve=1-pe;switch(Math.floor(ce)){case 0:ie[0]=1,ie[1]=pe,ie[2]=0;break;case 1:ie[0]=ve,ie[1]=1,ie[2]=0;break;case 2:ie[0]=0,ie[1]=1,ie[2]=pe;break;case 3:ie[0]=0,ie[1]=ve,ie[2]=1;break;case 4:ie[0]=pe,ie[1]=0,ie[2]=1;break;default:ie[0]=1,ie[1]=0,ie[2]=ve}return[255*(U*ie[0]+(ge=(1-U)*W)),255*(U*ie[1]+ge),255*(U*ie[2]+ge)]},p.hcg.hsv=function(C){var z=C[1]/100,W=z+C[2]/100*(1-z),ie=0;return W>0&&(ie=z/W),[C[0],100*ie,100*W]},p.hcg.hsl=function(C){var z=C[1]/100,W=C[2]/100*(1-z)+.5*z,ie=0;return W>0&&W<.5?ie=z/(2*W):W>=.5&&W<1&&(ie=z/(2*(1-W))),[C[0],100*ie,100*W]},p.hcg.hwb=function(C){var z=C[1]/100,W=z+C[2]/100*(1-z);return[C[0],100*(W-z),100*(1-W)]},p.hwb.hcg=function(C){var W=1-C[2]/100,ie=W-C[1]/100,ce=0;return ie<1&&(ce=(W-ie)/(1-ie)),[C[0],100*ie,100*ce]},p.apple.rgb=function(C){return[C[0]/65535*255,C[1]/65535*255,C[2]/65535*255]},p.rgb.apple=function(C){return[C[0]/255*65535,C[1]/255*65535,C[2]/255*65535]},p.gray.rgb=function(C){return[C[0]/100*255,C[0]/100*255,C[0]/100*255]},p.gray.hsl=p.gray.hsv=function(C){return[0,0,C[0]]},p.gray.hwb=function(C){return[0,100,C[0]]},p.gray.cmyk=function(C){return[0,0,0,C[0]]},p.gray.lab=function(C){return[C[0],0,0]},p.gray.hex=function(C){var z=255&Math.round(C[0]/100*255),W=((z<<16)+(z<<8)+z).toString(16).toUpperCase();return"000000".substring(W.length)+W},p.rgb.gray=function(C){return[(C[0]+C[1]+C[2])/3/255*100]}});function He(a){var l=function ut(){for(var a={},l=Object.keys(P),d=l.length,p=0;p<d;p++)a[l[p]]={distance:-1,parent:null};return a}(),d=[a];for(l[a].distance=0;d.length;)for(var p=d.pop(),b=Object.keys(P[p]),w=b.length,D=0;D<w;D++){var O=b[D],C=l[O];-1===C.distance&&(C.distance=l[p].distance+1,C.parent=p,d.unshift(O))}return l}function bt(a,l){return function(d){return l(a(d))}}function Yt(a,l){for(var d=[l[a].parent,a],p=P[l[a].parent][a],b=l[a].parent;l[b].parent;)d.unshift(l[b].parent),p=bt(P[l[b].parent][b],p),b=l[b].parent;return p.conversion=d,p}var Wt={};Object.keys(P).forEach(function(a){Wt[a]={},Object.defineProperty(Wt[a],"channels",{value:P[a].channels}),Object.defineProperty(Wt[a],"labels",{value:P[a].labels});var l=function(a){for(var l=He(a),d={},p=Object.keys(l),b=p.length,w=0;w<b;w++){var D=p[w];null!==l[D].parent&&(d[D]=Yt(D,l))}return d}(a);Object.keys(l).forEach(function(p){var b=l[p];Wt[a][p]=function mi(a){var l=function(d){if(null==d)return d;arguments.length>1&&(d=Array.prototype.slice.call(arguments));var p=a(d);if("object"==typeof p)for(var b=p.length,w=0;w<b;w++)p[w]=Math.round(p[w]);return p};return"conversion"in a&&(l.conversion=a.conversion),l}(b),Wt[a][p].raw=function wi(a){var l=function(d){return null==d?d:(arguments.length>1&&(d=Array.prototype.slice.call(arguments)),a(d))};return"conversion"in a&&(l.conversion=a.conversion),l}(b)})});var gr=Wt,ei={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Mn={getRgba:on,getHsla:Tn,getRgb:function Li(a){var l=on(a);return l&&l.slice(0,3)},getHsl:function fn(a){var l=Tn(a);return l&&l.slice(0,3)},getHwb:On,getAlpha:function jn(a){var l=on(a);return l||(l=Tn(a))||(l=On(a))?l[3]:void 0},hexString:function Rn(a,d){return d=void 0!==d&&3===a.length?d:a[3],"#"+er(a[0])+er(a[1])+er(a[2])+(d>=0&&d<1?er(Math.round(255*d)):"")},rgbString:function Ut(a,l){return l<1||a[3]&&a[3]<1?Er(a,l):"rgb("+a[0]+", "+a[1]+", "+a[2]+")"},rgbaString:Er,percentString:function Yi(a,l){return l<1||a[3]&&a[3]<1?Wn(a,l):"rgb("+Math.round(a[0]/255*100)+"%, "+Math.round(a[1]/255*100)+"%, "+Math.round(a[2]/255*100)+"%)"},percentaString:Wn,hslString:function ii(a,l){return l<1||a[3]&&a[3]<1?Ur(a,l):"hsl("+a[0]+", "+a[1]+"%, "+a[2]+"%)"},hslaString:Ur,hwbString:function Fr(a,l){return void 0===l&&(l=void 0!==a[3]?a[3]:1),"hwb("+a[0]+", "+a[1]+"%, "+a[2]+"%"+(void 0!==l&&1!==l?", "+l:"")+")"},keyword:function Ss(a){return ho[a.slice(0,3)]}};function on(a){if(a){var D=[0,0,0],O=1,C=a.match(/^#([a-fA-F0-9]{3,4})$/i),z="";if(C){z=(C=C[1])[3];for(var U=0;U<D.length;U++)D[U]=parseInt(C[U]+C[U],16);z&&(O=Math.round(parseInt(z+z,16)/255*100)/100)}else if(C=a.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(z=C[2],C=C[1],U=0;U<D.length;U++)D[U]=parseInt(C.slice(2*U,2*U+2),16);z&&(O=Math.round(parseInt(z,16)/255*100)/100)}else if(C=a.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(U=0;U<D.length;U++)D[U]=parseInt(C[U+1]);O=parseFloat(C[4])}else if(C=a.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(U=0;U<D.length;U++)D[U]=Math.round(2.55*parseFloat(C[U+1]));O=parseFloat(C[4])}else if(C=a.match(/(\w+)/)){if("transparent"==C[1])return[0,0,0,0];if(!(D=ei[C[1]]))return}for(U=0;U<D.length;U++)D[U]=Pi(D[U],0,255);return O=O||0==O?Pi(O,0,1):1,D[3]=O,D}}function Tn(a){if(a){var d=a.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(d){var p=parseFloat(d[4]);return[Pi(parseInt(d[1]),0,360),Pi(parseFloat(d[2]),0,100),Pi(parseFloat(d[3]),0,100),Pi(isNaN(p)?1:p,0,1)]}}}function On(a){if(a){var d=a.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(d){var p=parseFloat(d[4]);return[Pi(parseInt(d[1]),0,360),Pi(parseFloat(d[2]),0,100),Pi(parseFloat(d[3]),0,100),Pi(isNaN(p)?1:p,0,1)]}}}function Er(a,l){return void 0===l&&(l=void 0!==a[3]?a[3]:1),"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+l+")"}function Wn(a,l){return"rgba("+Math.round(a[0]/255*100)+"%, "+Math.round(a[1]/255*100)+"%, "+Math.round(a[2]/255*100)+"%, "+(l||a[3]||1)+")"}function Ur(a,l){return void 0===l&&(l=void 0!==a[3]?a[3]:1),"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+l+")"}function Pi(a,l,d){return Math.min(Math.max(l,a),d)}function er(a){var l=a.toString(16).toUpperCase();return l.length<2?"0"+l:l}var ho={};for(var kn in ei)ho[ei[kn]]=kn;var Ui=function(a){return a instanceof Ui?a:this instanceof Ui?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof a?(l=Mn.getRgba(a))?this.setValues("rgb",l):(l=Mn.getHsla(a))?this.setValues("hsl",l):(l=Mn.getHwb(a))&&this.setValues("hwb",l):"object"==typeof a&&(void 0!==(l=a).r||void 0!==l.red?this.setValues("rgb",l):void 0!==l.l||void 0!==l.lightness?this.setValues("hsl",l):void 0!==l.v||void 0!==l.value?this.setValues("hsv",l):void 0!==l.w||void 0!==l.whiteness?this.setValues("hwb",l):(void 0!==l.c||void 0!==l.cyan)&&this.setValues("cmyk",l)))):new Ui(a);var l};Ui.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var a=this.values;return 1!==a.alpha?a.hwb.concat([a.alpha]):a.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var a=this.values;return a.rgb.concat([a.alpha])},hslaArray:function(){var a=this.values;return a.hsl.concat([a.alpha])},alpha:function(a){return void 0===a?this.values.alpha:(this.setValues("alpha",a),this)},red:function(a){return this.setChannel("rgb",0,a)},green:function(a){return this.setChannel("rgb",1,a)},blue:function(a){return this.setChannel("rgb",2,a)},hue:function(a){return a&&(a=(a%=360)<0?360+a:a),this.setChannel("hsl",0,a)},saturation:function(a){return this.setChannel("hsl",1,a)},lightness:function(a){return this.setChannel("hsl",2,a)},saturationv:function(a){return this.setChannel("hsv",1,a)},whiteness:function(a){return this.setChannel("hwb",1,a)},blackness:function(a){return this.setChannel("hwb",2,a)},value:function(a){return this.setChannel("hsv",2,a)},cyan:function(a){return this.setChannel("cmyk",0,a)},magenta:function(a){return this.setChannel("cmyk",1,a)},yellow:function(a){return this.setChannel("cmyk",2,a)},black:function(a){return this.setChannel("cmyk",3,a)},hexString:function(){return Mn.hexString(this.values.rgb)},rgbString:function(){return Mn.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return Mn.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return Mn.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return Mn.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return Mn.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return Mn.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return Mn.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var a=this.values.rgb;return a[0]<<16|a[1]<<8|a[2]},luminosity:function(){for(var a=this.values.rgb,l=[],d=0;d<a.length;d++){var p=a[d]/255;l[d]=p<=.03928?p/12.92:Math.pow((p+.055)/1.055,2.4)}return.2126*l[0]+.7152*l[1]+.0722*l[2]},contrast:function(a){var l=this.luminosity(),d=a.luminosity();return l>d?(l+.05)/(d+.05):(d+.05)/(l+.05)},level:function(a){var l=this.contrast(a);return l>=7.1?"AAA":l>=4.5?"AA":""},dark:function(){var a=this.values.rgb;return(299*a[0]+587*a[1]+114*a[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var a=[],l=0;l<3;l++)a[l]=255-this.values.rgb[l];return this.setValues("rgb",a),this},lighten:function(a){var l=this.values.hsl;return l[2]+=l[2]*a,this.setValues("hsl",l),this},darken:function(a){var l=this.values.hsl;return l[2]-=l[2]*a,this.setValues("hsl",l),this},saturate:function(a){var l=this.values.hsl;return l[1]+=l[1]*a,this.setValues("hsl",l),this},desaturate:function(a){var l=this.values.hsl;return l[1]-=l[1]*a,this.setValues("hsl",l),this},whiten:function(a){var l=this.values.hwb;return l[1]+=l[1]*a,this.setValues("hwb",l),this},blacken:function(a){var l=this.values.hwb;return l[2]+=l[2]*a,this.setValues("hwb",l),this},greyscale:function(){var a=this.values.rgb,l=.3*a[0]+.59*a[1]+.11*a[2];return this.setValues("rgb",[l,l,l]),this},clearer:function(a){var l=this.values.alpha;return this.setValues("alpha",l-l*a),this},opaquer:function(a){var l=this.values.alpha;return this.setValues("alpha",l+l*a),this},rotate:function(a){var l=this.values.hsl,d=(l[0]+a)%360;return l[0]=d<0?360+d:d,this.setValues("hsl",l),this},mix:function(a,l){var d=this,p=a,b=void 0===l?.5:l,w=2*b-1,D=d.alpha()-p.alpha(),O=((w*D==-1?w:(w+D)/(1+w*D))+1)/2,C=1-O;return this.rgb(O*d.red()+C*p.red(),O*d.green()+C*p.green(),O*d.blue()+C*p.blue()).alpha(d.alpha()*b+p.alpha()*(1-b))},toJSON:function(){return this.rgb()},clone:function(){var p,b,a=new Ui,l=this.values,d=a.values;for(var w in l)l.hasOwnProperty(w)&&("[object Array]"===(b={}.toString.call(p=l[w]))?d[w]=p.slice(0):"[object Number]"===b?d[w]=p:console.error("unexpected color value:",p));return a}},Ui.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Ui.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Ui.prototype.getValues=function(a){for(var l=this.values,d={},p=0;p<a.length;p++)d[a.charAt(p)]=l[a][p];return 1!==l.alpha&&(d.a=l.alpha),d},Ui.prototype.setValues=function(a,l){var D,C,d=this.values,p=this.spaces,b=this.maxes,w=1;if(this.valid=!0,"alpha"===a)w=l;else if(l.length)d[a]=l.slice(0,a.length),w=l[a.length];else if(void 0!==l[a.charAt(0)]){for(D=0;D<a.length;D++)d[a][D]=l[a.charAt(D)];w=l.a}else if(void 0!==l[p[a][0]]){var O=p[a];for(D=0;D<a.length;D++)d[a][D]=l[O[D]];w=l.alpha}if(d.alpha=Math.max(0,Math.min(1,void 0===w?d.alpha:w)),"alpha"===a)return!1;for(D=0;D<a.length;D++)C=Math.max(0,Math.min(b[a][D],d[a][D])),d[a][D]=Math.round(C);for(var z in p)z!==a&&(d[z]=gr[a][z](d[a]));return!0},Ui.prototype.setSpace=function(a,l){var d=l[0];return void 0===d?this.getValues(a):("number"==typeof d&&(d=Array.prototype.slice.call(l)),this.setValues(a,d),this)},Ui.prototype.setChannel=function(a,l,d){var p=this.values[a];return void 0===d?p[l]:(d===p[l]||(p[l]=d,this.setValues(a,p)),this)},"undefined"!=typeof window&&(window.Color=Ui);var Wr=Ui;function tr(a){return-1===["__proto__","prototype","constructor"].indexOf(a)}var a,ni={noop:function(){},uid:(a=0,function(){return a++}),isNullOrUndef:function(a){return null==a},isArray:function(a){if(Array.isArray&&Array.isArray(a))return!0;var l=Object.prototype.toString.call(a);return"[object"===l.substr(0,7)&&"Array]"===l.substr(-6)},isObject:function(a){return null!==a&&"[object Object]"===Object.prototype.toString.call(a)},isFinite:function(a){return("number"==typeof a||a instanceof Number)&&isFinite(a)},valueOrDefault:function(a,l){return void 0===a?l:a},valueAtIndexOrDefault:function(a,l,d){return ni.valueOrDefault(ni.isArray(a)?a[l]:a,d)},callback:function(a,l,d){if(a&&"function"==typeof a.call)return a.apply(d,l)},each:function(a,l,d,p){var b,w,D;if(ni.isArray(a))if(w=a.length,p)for(b=w-1;b>=0;b--)l.call(d,a[b],b);else for(b=0;b<w;b++)l.call(d,a[b],b);else if(ni.isObject(a))for(w=(D=Object.keys(a)).length,b=0;b<w;b++)l.call(d,a[D[b]],D[b])},arrayEquals:function(a,l){var d,p,b,w;if(!a||!l||a.length!==l.length)return!1;for(d=0,p=a.length;d<p;++d)if(w=l[d],(b=a[d])instanceof Array&&w instanceof Array){if(!ni.arrayEquals(b,w))return!1}else if(b!==w)return!1;return!0},clone:function(a){if(ni.isArray(a))return a.map(ni.clone);if(ni.isObject(a)){for(var l=Object.create(a),d=Object.keys(a),p=d.length,b=0;b<p;++b)l[d[b]]=ni.clone(a[d[b]]);return l}return a},_merger:function(a,l,d,p){if(tr(a)){var b=l[a],w=d[a];ni.isObject(b)&&ni.isObject(w)?ni.merge(b,w,p):l[a]=ni.clone(w)}},_mergerIf:function(a,l,d){if(tr(a)){var p=l[a],b=d[a];ni.isObject(p)&&ni.isObject(b)?ni.mergeIf(p,b):l.hasOwnProperty(a)||(l[a]=ni.clone(b))}},merge:function(a,l,d){var w,D,O,C,z,p=ni.isArray(l)?l:[l],b=p.length;if(!ni.isObject(a))return a;for(w=(d=d||{}).merger||ni._merger,D=0;D<b;++D)if(ni.isObject(l=p[D]))for(z=0,C=(O=Object.keys(l)).length;z<C;++z)w(O[z],a,l,d);return a},mergeIf:function(a,l){return ni.merge(a,l,{merger:ni._mergerIf})},extend:Object.assign||function(a){return ni.merge(a,[].slice.call(arguments,1),{merger:function(l,d,p){d[l]=p[l]}})},inherits:function(a){var l=this,d=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return l.apply(this,arguments)},p=function(){this.constructor=d};return p.prototype=l.prototype,d.prototype=new p,d.extend=ni.inherits,a&&ni.extend(d.prototype,a),d.__super__=l.prototype,d},_deprecated:function(a,l,d,p){void 0!==l&&console.warn(a+': "'+d+'" is deprecated. Please use "'+p+'" instead')}},zi=ni;ni.callCallback=ni.callback,ni.indexOf=function(a,l,d){return Array.prototype.indexOf.call(a,l,d)},ni.getValueOrDefault=ni.valueOrDefault,ni.getValueAtIndexOrDefault=ni.valueAtIndexOrDefault;var Fn={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-a*(a-2)},easeInOutQuad:function(a){return(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return(a-=1)*a*a+1},easeInOutCubic:function(a){return(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-((a-=1)*a*a*a-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return(a-=1)*a*a*a*a+1},easeInOutQuint:function(a){return(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return 1-Math.cos(a*(Math.PI/2))},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:1-Math.pow(2,-10*a)},easeInOutExpo:function(a){return 0===a?0:1===a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a))},easeInCirc:function(a){return a>=1?a:-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-(a-=1)*a)},easeInOutCirc:function(a){return(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){var l=1.70158,d=0,p=1;return 0===a?0:1===a?1:(d||(d=.3),p<1?(p=1,l=d/4):l=d/(2*Math.PI)*Math.asin(1/p),-p*Math.pow(2,10*(a-=1))*Math.sin((a-l)*(2*Math.PI)/d))},easeOutElastic:function(a){var l=1.70158,d=0,p=1;return 0===a?0:1===a?1:(d||(d=.3),p<1?(p=1,l=d/4):l=d/(2*Math.PI)*Math.asin(1/p),p*Math.pow(2,-10*a)*Math.sin((a-l)*(2*Math.PI)/d)+1)},easeInOutElastic:function(a){var l=1.70158,d=0,p=1;return 0===a?0:2==(a/=.5)?1:(d||(d=.45),p<1?(p=1,l=d/4):l=d/(2*Math.PI)*Math.asin(1/p),a<1?p*Math.pow(2,10*(a-=1))*Math.sin((a-l)*(2*Math.PI)/d)*-.5:p*Math.pow(2,-10*(a-=1))*Math.sin((a-l)*(2*Math.PI)/d)*.5+1)},easeInBack:function(a){var l=1.70158;return a*a*((l+1)*a-l)},easeOutBack:function(a){var l=1.70158;return(a-=1)*a*((l+1)*a+l)+1},easeInOutBack:function(a){var l=1.70158;return(a/=.5)<1?a*a*((1+(l*=1.525))*a-l)*.5:.5*((a-=2)*a*((1+(l*=1.525))*a+l)+2)},easeInBounce:function(a){return 1-Fn.easeOutBounce(1-a)},easeOutBounce:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInOutBounce:function(a){return a<.5?.5*Fn.easeInBounce(2*a):.5*Fn.easeOutBounce(2*a-1)+.5}},Si={effects:Fn};zi.easingEffects=Fn;var hn=Math.PI,Hi=hn/180,yr=2*hn,Bi=hn/2,Mi=hn/4,di=2*hn/3,cr={clear:function(a){a.ctx.clearRect(0,0,a.width,a.height)},roundedRect:function(a,l,d,p,b,w){if(w){var D=Math.min(w,b/2,p/2),O=l+D,C=d+D,z=l+p-D,U=d+b-D;a.moveTo(l,C),O<z&&C<U?(a.arc(O,C,D,-hn,-Bi),a.arc(z,C,D,-Bi,0),a.arc(z,U,D,0,Bi),a.arc(O,U,D,Bi,hn)):O<z?(a.moveTo(O,d),a.arc(z,C,D,-Bi,Bi),a.arc(O,C,D,Bi,hn+Bi)):C<U?(a.arc(O,C,D,-hn,0),a.arc(O,U,D,0,hn)):a.arc(O,C,D,-hn,hn),a.closePath(),a.moveTo(l,d)}else a.rect(l,d,p,b)},drawPoint:function(a,l,d,p,b,w){var D,O,C,z,U,W=(w||0)*Hi;if(l&&"object"==typeof l&&("[object HTMLImageElement]"===(D=l.toString())||"[object HTMLCanvasElement]"===D))return a.save(),a.translate(p,b),a.rotate(W),a.drawImage(l,-l.width/2,-l.height/2,l.width,l.height),void a.restore();if(!(isNaN(d)||d<=0)){switch(a.beginPath(),l){default:a.arc(p,b,d,0,yr),a.closePath();break;case"triangle":a.moveTo(p+Math.sin(W)*d,b-Math.cos(W)*d),W+=di,a.lineTo(p+Math.sin(W)*d,b-Math.cos(W)*d),W+=di,a.lineTo(p+Math.sin(W)*d,b-Math.cos(W)*d),a.closePath();break;case"rectRounded":z=d-(U=.516*d),O=Math.cos(W+Mi)*z,C=Math.sin(W+Mi)*z,a.arc(p-O,b-C,U,W-hn,W-Bi),a.arc(p+C,b-O,U,W-Bi,W),a.arc(p+O,b+C,U,W,W+Bi),a.arc(p-C,b+O,U,W+Bi,W+hn),a.closePath();break;case"rect":if(!w){z=Math.SQRT1_2*d,a.rect(p-z,b-z,2*z,2*z);break}W+=Mi;case"rectRot":O=Math.cos(W)*d,C=Math.sin(W)*d,a.moveTo(p-O,b-C),a.lineTo(p+C,b-O),a.lineTo(p+O,b+C),a.lineTo(p-C,b+O),a.closePath();break;case"crossRot":W+=Mi;case"cross":O=Math.cos(W)*d,C=Math.sin(W)*d,a.moveTo(p-O,b-C),a.lineTo(p+O,b+C),a.moveTo(p+C,b-O),a.lineTo(p-C,b+O);break;case"star":O=Math.cos(W)*d,C=Math.sin(W)*d,a.moveTo(p-O,b-C),a.lineTo(p+O,b+C),a.moveTo(p+C,b-O),a.lineTo(p-C,b+O),W+=Mi,O=Math.cos(W)*d,C=Math.sin(W)*d,a.moveTo(p-O,b-C),a.lineTo(p+O,b+C),a.moveTo(p+C,b-O),a.lineTo(p-C,b+O);break;case"line":O=Math.cos(W)*d,C=Math.sin(W)*d,a.moveTo(p-O,b-C),a.lineTo(p+O,b+C);break;case"dash":a.moveTo(p,b),a.lineTo(p+Math.cos(W)*d,b+Math.sin(W)*d)}a.fill(),a.stroke()}},_isPointInArea:function(a,l){var d=1e-6;return a.x>l.left-d&&a.x<l.right+d&&a.y>l.top-d&&a.y<l.bottom+d},clipArea:function(a,l){a.save(),a.beginPath(),a.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),a.clip()},unclipArea:function(a){a.restore()},lineTo:function(a,l,d,p){var b=d.steppedLine;if(b){if("middle"===b){var w=(l.x+d.x)/2;a.lineTo(w,p?d.y:l.y),a.lineTo(w,p?l.y:d.y)}else"after"===b&&!p||"after"!==b&&p?a.lineTo(l.x,d.y):a.lineTo(d.x,l.y);a.lineTo(d.x,d.y)}else d.tension?a.bezierCurveTo(p?l.controlPointPreviousX:l.controlPointNextX,p?l.controlPointPreviousY:l.controlPointNextY,p?d.controlPointNextX:d.controlPointPreviousX,p?d.controlPointNextY:d.controlPointPreviousY,d.x,d.y):a.lineTo(d.x,d.y)}},Yn=cr;zi.clear=cr.clear,zi.drawRoundedRectangle=function(a){a.beginPath(),cr.roundedRect.apply(cr,arguments)};var ma={_set:function(a,l){return zi.merge(this[a]||(this[a]={}),l)}};ma._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var Gt=ma,ea=zi.valueOrDefault;var ur={toLineHeight:function(a,l){var d=(""+a).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!d||"normal"===d[1])return 1.2*l;switch(a=+d[2],d[3]){case"px":return a;case"%":a/=100}return l*a},toPadding:function(a){var l,d,p,b;return zi.isObject(a)?(l=+a.top||0,d=+a.right||0,p=+a.bottom||0,b=+a.left||0):l=d=p=b=+a||0,{top:l,right:d,bottom:p,left:b,height:l+p,width:b+d}},_parseFont:function(a){var l=Gt.global,d=ea(a.fontSize,l.defaultFontSize),p={family:ea(a.fontFamily,l.defaultFontFamily),lineHeight:zi.options.toLineHeight(ea(a.lineHeight,l.defaultLineHeight),d),size:d,style:ea(a.fontStyle,l.defaultFontStyle),weight:null,string:""};return p.string=function vr(a){return!a||zi.isNullOrUndef(a.size)||zi.isNullOrUndef(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family}(p),p},resolve:function(a,l,d,p){var w,D,O,b=!0;for(w=0,D=a.length;w<D;++w)if(void 0!==(O=a[w])&&(void 0!==l&&"function"==typeof O&&(O=O(l),b=!1),void 0!==d&&zi.isArray(O)&&(O=O[d],b=!1),void 0!==O))return p&&!b&&(p.cacheable=!1),O}},ke={_factorize:function(a){var p,l=[],d=Math.sqrt(a);for(p=1;p<d;p++)a%p==0&&(l.push(p),l.push(a/p));return d===(0|d)&&l.push(d),l.sort(function(b,w){return b-w}).pop(),l},log10:Math.log10||function(a){var l=Math.log(a)*Math.LOG10E,d=Math.round(l);return a===Math.pow(10,d)?d:l}},he=ke;zi.log10=ke.log10;var X=zi,wt=Yn,St=ur,vt=he,ti={getRtlAdapter:function(a,l,d){return a?function(a,l){return{x:function(d){return a+a+l-d},setWidth:function(d){l=d},textAlign:function(d){return"center"===d?d:"right"===d?"left":"right"},xPlus:function(d,p){return d-p},leftForLtr:function(d,p){return d-p}}}(l,d):{x:function(a){return a},setWidth:function(a){},textAlign:function(a){return a},xPlus:function(a,l){return a+l},leftForLtr:function(a,l){return a}}},overrideTextDirection:function(a,l){var d,p;("ltr"===l||"rtl"===l)&&(p=[(d=a.canvas.style).getPropertyValue("direction"),d.getPropertyPriority("direction")],d.setProperty("direction",l,"important"),a.prevTextDirection=p)},restoreTextDirection:function(a){var l=a.prevTextDirection;void 0!==l&&(delete a.prevTextDirection,a.canvas.style.setProperty("direction",l[0],l[1]))}};X.easing=Si,X.canvas=wt,X.options=St,X.math=vt,X.rtl=ti;var Xt=function(a){X.extend(this,a),this.initialize.apply(this,arguments)};X.extend(Xt.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var a=this;return a._view||(a._view=X.extend({},a._model)),a._start={},a},transition:function(a){var l=this,d=l._model,p=l._start,b=l._view;return d&&1!==a?(b||(b=l._view={}),p||(p=l._start={}),function ri(a,l,d,p){var w,D,O,C,z,U,W,ie,ce,b=Object.keys(d);for(w=0,D=b.length;w<D;++w)if(U=d[O=b[w]],l.hasOwnProperty(O)||(l[O]=U),(C=l[O])!==U&&"_"!==O[0]){if(a.hasOwnProperty(O)||(a[O]=C),(W=typeof U)==typeof(z=a[O]))if("string"===W){if((ie=Wr(z)).valid&&(ce=Wr(U)).valid){l[O]=ce.mix(ie,p).rgbString();continue}}else if(X.isFinite(z)&&X.isFinite(U)){l[O]=z+(U-z)*p;continue}l[O]=U}}(p,b,d,a),l):(l._view=X.extend({},d),l._start=null,l)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return X.isNumber(this._model.x)&&X.isNumber(this._model.y)}}),Xt.extend=X.inherits;var _t=Xt,vi=_t.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),pn=vi;Object.defineProperty(vi.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(vi.prototype,"chartInstance",{get:function(){return this.chart},set:function(a){this.chart=a}}),Gt._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:X.noop,onComplete:X.noop}});var ji={animations:[],request:null,addAnimation:function(a,l,d,p){var w,D,b=this.animations;for(l.chart=a,l.startTime=Date.now(),l.duration=d,p||(a.animating=!0),w=0,D=b.length;w<D;++w)if(b[w].chart===a)return void(b[w]=l);b.push(l),1===b.length&&this.requestAnimationFrame()},cancelAnimation:function(a){var l=X.findIndex(this.animations,function(d){return d.chart===a});-1!==l&&(this.animations.splice(l,1),a.animating=!1)},requestAnimationFrame:function(){var a=this;null===a.request&&(a.request=X.requestAnimFrame.call(window,function(){a.request=null,a.startDigest()}))},startDigest:function(){var a=this;a.advance(),a.animations.length>0&&a.requestAnimationFrame()},advance:function(){for(var l,d,p,b,a=this.animations,w=0;w<a.length;)d=(l=a[w]).chart,p=l.numSteps,b=Math.floor((Date.now()-l.startTime)/l.duration*p)+1,l.currentStep=Math.min(b,p),X.callback(l.render,[d,l],d),X.callback(l.onAnimationProgress,[l],d),l.currentStep>=p?(X.callback(l.onAnimationComplete,[l],d),d.animating=!1,a.splice(w,1)):++w}},Dn=X.options.resolve,ai=["push","pop","shift","splice","unshift"];function Zn(a,l){var d=a._chartjs;if(d){var p=d.listeners,b=p.indexOf(l);-1!==b&&p.splice(b,1),!(p.length>0)&&(ai.forEach(function(w){delete a[w]}),delete a._chartjs)}}var qi=function(a,l){this.initialize(a,l)};X.extend(qi.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(a,l){var d=this;d.chart=a,d.index=l,d.linkScales(),d.addElements(),d._type=d.getMeta().type},updateIndex:function(a){this.index=a},linkScales:function(){var a=this,l=a.getMeta(),d=a.chart,p=d.scales,b=a.getDataset(),w=d.options.scales;(null===l.xAxisID||!(l.xAxisID in p)||b.xAxisID)&&(l.xAxisID=b.xAxisID||w.xAxes[0].id),(null===l.yAxisID||!(l.yAxisID in p)||b.yAxisID)&&(l.yAxisID=b.yAxisID||w.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(a){return this.chart.scales[a]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&Zn(this._data,this)},createMetaDataset:function(){var a=this,l=a.datasetElementType;return l&&new l({_chart:a.chart,_datasetIndex:a.index})},createMetaData:function(a){var l=this,d=l.dataElementType;return d&&new d({_chart:l.chart,_datasetIndex:l.index,_index:a})},addElements:function(){var b,w,a=this,l=a.getMeta(),d=a.getDataset().data||[],p=l.data;for(b=0,w=d.length;b<w;++b)p[b]=p[b]||a.createMetaData(b);l.dataset=l.dataset||a.createMetaDataset()},addElementAndReset:function(a){var l=this.createMetaData(a);this.getMeta().data.splice(a,0,l),this.updateElement(l,a,!0)},buildOrUpdateElements:function(){var a=this,l=a.getDataset(),d=l.data||(l.data=[]);a._data!==d&&(a._data&&Zn(a._data,a),d&&Object.isExtensible(d)&&function Ti(a,l){a._chartjs?a._chartjs.listeners.push(l):(Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[l]}}),ai.forEach(function(d){var p="onData"+d.charAt(0).toUpperCase()+d.slice(1),b=a[d];Object.defineProperty(a,d,{configurable:!0,enumerable:!1,value:function(){var w=Array.prototype.slice.call(arguments),D=b.apply(this,w);return X.each(a._chartjs.listeners,function(O){"function"==typeof O[p]&&O[p].apply(O,w)}),D}})}))}(d,a),a._data=d),a.resyncElements()},_configure:function(){var a=this;a._config=X.merge(Object.create(null),[a.chart.options.datasets[a._type],a.getDataset()],{merger:function(l,d,p){"_meta"!==l&&"data"!==l&&X._merger(l,d,p)}})},_update:function(a){var l=this;l._configure(),l._cachedDataOpts=null,l.update(a)},update:X.noop,transition:function(a){for(var l=this.getMeta(),d=l.data||[],p=d.length,b=0;b<p;++b)d[b].transition(a);l.dataset&&l.dataset.transition(a)},draw:function(){var a=this.getMeta(),l=a.data||[],d=l.length,p=0;for(a.dataset&&a.dataset.draw();p<d;++p)l[p].draw()},getStyle:function(a){var b,l=this,d=l.getMeta(),p=d.dataset;return l._configure(),(!1===(b=p&&void 0===a?l._resolveDatasetElementOptions(p||{}):l._resolveDataElementOptions(d.data[a=a||0]||{},a)).fill||null===b.fill)&&(b.backgroundColor=b.borderColor),b},_resolveDatasetElementOptions:function(a,l){var z,U,W,ie,d=this,p=d.chart,b=d._config,w=a.custom||{},D=p.options.elements[d.datasetElementType.prototype._type]||{},O=d._datasetElementOptions,C={},ce={chart:p,dataset:d.getDataset(),datasetIndex:d.index,hover:l};for(z=0,U=O.length;z<U;++z)W=O[z],ie=l?"hover"+W.charAt(0).toUpperCase()+W.slice(1):W,C[W]=Dn([w[ie],b[ie],D[ie]],ce);return C},_resolveDataElementOptions:function(a,l){var d=this,p=a&&a.custom,b=d._cachedDataOpts;if(b&&!p)return b;var ie,ce,pe,ve,w=d.chart,D=d._config,O=w.options.elements[d.dataElementType.prototype._type]||{},C=d._dataElementOptions,z={},U={chart:w,dataIndex:l,dataset:d.getDataset(),datasetIndex:d.index},W={cacheable:!p};if(p=p||{},X.isArray(C))for(ce=0,pe=C.length;ce<pe;++ce)z[ve=C[ce]]=Dn([p[ve],D[ve],O[ve]],U,l,W);else for(ce=0,pe=(ie=Object.keys(C)).length;ce<pe;++ce)z[ve=ie[ce]]=Dn([p[ve],D[C[ve]],D[ve],O[ve]],U,l,W);return W.cacheable&&(d._cachedDataOpts=Object.freeze(z)),z},removeHoverStyle:function(a){X.merge(a._model,a.$previousStyle||{}),delete a.$previousStyle},setHoverStyle:function(a){var l=this.chart.data.datasets[a._datasetIndex],d=a._index,p=a.custom||{},b=a._model,w=X.getHoverColor;a.$previousStyle={backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:b.borderWidth},b.backgroundColor=Dn([p.hoverBackgroundColor,l.hoverBackgroundColor,w(b.backgroundColor)],void 0,d),b.borderColor=Dn([p.hoverBorderColor,l.hoverBorderColor,w(b.borderColor)],void 0,d),b.borderWidth=Dn([p.hoverBorderWidth,l.hoverBorderWidth,b.borderWidth],void 0,d)},_removeDatasetHoverStyle:function(){var a=this.getMeta().dataset;a&&this.removeHoverStyle(a)},_setDatasetHoverStyle:function(){var d,p,b,w,D,O,a=this.getMeta().dataset,l={};if(a){for(O=a._model,D=this._resolveDatasetElementOptions(a,!0),d=0,p=(w=Object.keys(D)).length;d<p;++d)l[b=w[d]]=O[b],O[b]=D[b];a.$previousStyle=l}},resyncElements:function(){var a=this,l=a.getMeta(),d=a.getDataset().data,p=l.data.length,b=d.length;b<p?l.data.splice(b,p-b):b>p&&a.insertElements(p,b-p)},insertElements:function(a,l){for(var d=0;d<l;++d)this.addElementAndReset(a+d)},onDataPush:function(){var a=arguments.length;this.insertElements(this.getDataset().data.length-a,a)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(a,l){this.getMeta().data.splice(a,l),this.insertElements(a,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),qi.extend=X.inherits;var mn=qi,qn=2*Math.PI;function Nn(a,l){var d=l.startAngle,p=l.endAngle,b=l.pixelMargin,w=b/l.outerRadius,D=l.x,O=l.y;a.beginPath(),a.arc(D,O,l.outerRadius,d-w,p+w),l.innerRadius>b?a.arc(D,O,l.innerRadius-b,p+(w=b/l.innerRadius),d-w,!0):a.arc(D,O,b,p+Math.PI/2,d-Math.PI/2),a.closePath(),a.clip()}function Yr(a,l,d){var p="inner"===l.borderAlign;p?(a.lineWidth=2*l.borderWidth,a.lineJoin="round"):(a.lineWidth=l.borderWidth,a.lineJoin="bevel"),d.fullCircles&&function hi(a,l,d,p){var w,b=d.endAngle;for(p&&(d.endAngle=d.startAngle+qn,Nn(a,d),d.endAngle=b,d.endAngle===d.startAngle&&d.fullCircles&&(d.endAngle+=qn,d.fullCircles--)),a.beginPath(),a.arc(d.x,d.y,d.innerRadius,d.startAngle+qn,d.startAngle,!0),w=0;w<d.fullCircles;++w)a.stroke();for(a.beginPath(),a.arc(d.x,d.y,l.outerRadius,d.startAngle,d.startAngle+qn),w=0;w<d.fullCircles;++w)a.stroke()}(a,l,d,p),p&&Nn(a,d),a.beginPath(),a.arc(d.x,d.y,l.outerRadius,d.startAngle,d.endAngle),a.arc(d.x,d.y,d.innerRadius,d.endAngle,d.startAngle,!0),a.closePath(),a.stroke()}Gt._set("global",{elements:{arc:{backgroundColor:Gt.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var br=_t.extend({_type:"arc",inLabelRange:function(a){var l=this._view;return!!l&&Math.pow(a-l.x,2)<Math.pow(l.radius+l.hoverRadius,2)},inRange:function(a,l){var d=this._view;if(d){for(var p=X.getAngleFromPoint(d,{x:a,y:l}),b=p.angle,w=p.distance,D=d.startAngle,O=d.endAngle;O<D;)O+=qn;for(;b>O;)b-=qn;for(;b<D;)b+=qn;return b>=D&&b<=O&&w>=d.innerRadius&&w<=d.outerRadius}return!1},getCenterPoint:function(){var a=this._view,l=(a.startAngle+a.endAngle)/2,d=(a.innerRadius+a.outerRadius)/2;return{x:a.x+Math.cos(l)*d,y:a.y+Math.sin(l)*d}},getArea:function(){var a=this._view;return Math.PI*((a.endAngle-a.startAngle)/(2*Math.PI))*(Math.pow(a.outerRadius,2)-Math.pow(a.innerRadius,2))},tooltipPosition:function(){var a=this._view,l=a.startAngle+(a.endAngle-a.startAngle)/2,d=(a.outerRadius-a.innerRadius)/2+a.innerRadius;return{x:a.x+Math.cos(l)*d,y:a.y+Math.sin(l)*d}},draw:function(){var b,a=this._chart.ctx,l=this._view,d="inner"===l.borderAlign?.33:0,p={x:l.x,y:l.y,innerRadius:l.innerRadius,outerRadius:Math.max(l.outerRadius-d,0),pixelMargin:d,startAngle:l.startAngle,endAngle:l.endAngle,fullCircles:Math.floor(l.circumference/qn)};if(a.save(),a.fillStyle=l.backgroundColor,a.strokeStyle=l.borderColor,p.fullCircles){for(p.endAngle=p.startAngle+qn,a.beginPath(),a.arc(p.x,p.y,p.outerRadius,p.startAngle,p.endAngle),a.arc(p.x,p.y,p.innerRadius,p.endAngle,p.startAngle,!0),a.closePath(),b=0;b<p.fullCircles;++b)a.fill();p.endAngle=p.startAngle+l.circumference%qn}a.beginPath(),a.arc(p.x,p.y,p.outerRadius,p.startAngle,p.endAngle),a.arc(p.x,p.y,p.innerRadius,p.endAngle,p.startAngle,!0),a.closePath(),a.fill(),l.borderWidth&&Yr(a,l,p),a.restore()}}),po=X.valueOrDefault,zr=Gt.global.defaultColor;Gt._set("global",{elements:{line:{tension:.4,backgroundColor:zr,borderWidth:3,borderColor:zr,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var yn=_t.extend({_type:"line",draw:function(){var z,U,W,a=this,l=a._view,d=a._chart.ctx,p=l.spanGaps,b=a._children.slice(),w=Gt.global,D=w.elements.line,O=-1,C=a._loop;if(b.length){if(a._loop){for(z=0;z<b.length;++z)if(U=X.previousItem(b,z),!b[z]._view.skip&&U._view.skip){b=b.slice(z).concat(b.slice(0,z)),C=p;break}C&&b.push(b[0])}for(d.save(),d.lineCap=l.borderCapStyle||D.borderCapStyle,d.setLineDash&&d.setLineDash(l.borderDash||D.borderDash),d.lineDashOffset=po(l.borderDashOffset,D.borderDashOffset),d.lineJoin=l.borderJoinStyle||D.borderJoinStyle,d.lineWidth=po(l.borderWidth,D.borderWidth),d.strokeStyle=l.borderColor||w.defaultColor,d.beginPath(),(W=b[0]._view).skip||(d.moveTo(W.x,W.y),O=0),z=1;z<b.length;++z)W=b[z]._view,U=-1===O?X.previousItem(b,z):b[O],W.skip||(O!==z-1&&!p||-1===O?d.moveTo(W.x,W.y):X.canvas.lineTo(d,U._view,W),O=z);C&&d.closePath(),d.stroke(),d.restore()}}}),an=X.valueOrDefault,Cs=Gt.global.defaultColor;function Bo(a){var l=this._view;return!!l&&Math.abs(a-l.x)<l.radius+l.hitRadius}Gt._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Cs,borderColor:Cs,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var _a=_t.extend({_type:"point",inRange:function(a,l){var d=this._view;return!!d&&Math.pow(a-d.x,2)+Math.pow(l-d.y,2)<Math.pow(d.hitRadius+d.radius,2)},inLabelRange:Bo,inXRange:Bo,inYRange:function Ia(a){var l=this._view;return!!l&&Math.abs(a-l.y)<l.radius+l.hitRadius},getCenterPoint:function(){var a=this._view;return{x:a.x,y:a.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y,padding:a.radius+a.borderWidth}},draw:function(a){var l=this._view,d=this._chart.ctx,p=l.pointStyle,b=l.rotation,w=l.radius,D=l.x,O=l.y,C=Gt.global,z=C.defaultColor;l.skip||(void 0===a||X.canvas._isPointInArea(l,a))&&(d.strokeStyle=l.borderColor||z,d.lineWidth=an(l.borderWidth,C.elements.point.borderWidth),d.fillStyle=l.backgroundColor||z,X.canvas.drawPoint(d,p,w,D,O,b))}}),Pa=Gt.global.defaultColor;function at(a){return a&&void 0!==a.width}function ta(a){var l,d,p,b,w;return at(a)?(l=a.x-(w=a.width/2),d=a.x+w,p=Math.min(a.y,a.base),b=Math.max(a.y,a.base)):(w=a.height/2,l=Math.min(a.x,a.base),d=Math.max(a.x,a.base),p=a.y-w,b=a.y+w),{left:l,top:p,right:d,bottom:b}}function zn(a,l,d){return a===l?d:a===d?l:a}function Yl(a,l,d){var w,D,O,C,p=a.borderWidth,b=function $n(a){var l=a.borderSkipped,d={};return l&&(a.horizontal?a.base>a.x&&(l=zn(l,"left","right")):a.base<a.y&&(l=zn(l,"bottom","top")),d[l]=!0),d}(a);return X.isObject(p)?(w=+p.top||0,D=+p.right||0,O=+p.bottom||0,C=+p.left||0):w=D=O=C=+p||0,{t:b.top||w<0?0:w>d?d:w,r:b.right||D<0?0:D>l?l:D,b:b.bottom||O<0?0:O>d?d:O,l:b.left||C<0?0:C>l?l:C}}function ss(a,l,d){var p=null===l,b=null===d,w=!(!a||p&&b)&&ta(a);return w&&(p||l>=w.left&&l<=w.right)&&(b||d>=w.top&&d<=w.bottom)}Gt._set("global",{elements:{rectangle:{backgroundColor:Pa,borderColor:Pa,borderSkipped:"bottom",borderWidth:0}}});var zl=_t.extend({_type:"rectangle",draw:function(){var a=this._chart.ctx,l=this._view,d=function ia(a){var l=ta(a),d=l.right-l.left,p=l.bottom-l.top,b=Yl(a,d/2,p/2);return{outer:{x:l.left,y:l.top,w:d,h:p},inner:{x:l.left+b.l,y:l.top+b.t,w:d-b.l-b.r,h:p-b.t-b.b}}}(l),p=d.outer,b=d.inner;a.fillStyle=l.backgroundColor,a.fillRect(p.x,p.y,p.w,p.h),(p.w!==b.w||p.h!==b.h)&&(a.save(),a.beginPath(),a.rect(p.x,p.y,p.w,p.h),a.clip(),a.fillStyle=l.borderColor,a.rect(b.x,b.y,b.w,b.h),a.fill("evenodd"),a.restore())},height:function(){var a=this._view;return a.base-a.y},inRange:function(a,l){return ss(this._view,a,l)},inLabelRange:function(a,l){var d=this._view;return at(d)?ss(d,a,null):ss(d,null,l)},inXRange:function(a){return ss(this._view,a,null)},inYRange:function(a){return ss(this._view,null,a)},getCenterPoint:function(){var l,d,a=this._view;return at(a)?(l=a.x,d=(a.y+a.base)/2):(l=(a.x+a.base)/2,d=a.y),{x:l,y:d}},getArea:function(){var a=this._view;return at(a)?a.width*Math.abs(a.y-a.base):a.height*Math.abs(a.x-a.base)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y}}}),vn={},bi=yn,si=_a,Ar=zl;vn.Arc=br,vn.Line=bi,vn.Point=si,vn.Rectangle=Ar;var Hn=X._deprecated,oi=X.valueOrDefault;function Br(a,l,d){var O,C,p=d.barThickness,b=l.stackCount,w=l.pixels[a],D=X.isNullOrUndef(p)?function rr(a,l){var p,b,w,D,d=a._length;for(w=1,D=l.length;w<D;++w)d=Math.min(d,Math.abs(l[w]-l[w-1]));for(w=0,D=a.getTicks().length;w<D;++w)b=a.getPixelForTick(w),d=w>0?Math.min(d,Math.abs(b-p)):d,p=b;return d}(l.scale,l.pixels):-1;return X.isNullOrUndef(p)?(O=D*d.categoryPercentage,C=d.barPercentage):(O=p*b,C=1),{chunk:O/b,ratio:C,start:w-O/2}}Gt._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),Gt._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var ir=mn.extend({dataElementType:vn.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var l,d,a=this;mn.prototype.initialize.apply(a,arguments),(l=a.getMeta()).stack=a.getDataset().stack,l.bar=!0,d=a._getIndexScale().options,Hn("bar chart",d.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Hn("bar chart",d.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Hn("bar chart",d.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Hn("bar chart",a._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Hn("bar chart",d.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(a){var p,b,l=this,d=l.getMeta().data;for(l._ruler=l.getRuler(),p=0,b=d.length;p<b;++p)l.updateElement(d[p],p,a)},updateElement:function(a,l,d){var p=this,b=p.getMeta(),w=p.getDataset(),D=p._resolveDataElementOptions(a,l);a._xScale=p.getScaleForId(b.xAxisID),a._yScale=p.getScaleForId(b.yAxisID),a._datasetIndex=p.index,a._index=l,a._model={backgroundColor:D.backgroundColor,borderColor:D.borderColor,borderSkipped:D.borderSkipped,borderWidth:D.borderWidth,datasetLabel:w.label,label:p.chart.data.labels[l]},X.isArray(w.data[l])&&(a._model.borderSkipped=null),p._updateElementGeometry(a,l,d,D),a.pivot()},_updateElementGeometry:function(a,l,d,p){var b=this,w=a._model,D=b._getValueScale(),O=D.getBasePixel(),C=D.isHorizontal(),z=b._ruler||b.getRuler(),U=b.calculateBarValuePixels(b.index,l,p),W=b.calculateBarIndexPixels(b.index,l,z,p);w.horizontal=C,w.base=d?O:U.base,w.x=C?d?O:U.head:W.center,w.y=C?W.center:d?O:U.head,w.height=C?W.size:void 0,w.width=C?void 0:W.size},_getStacks:function(a){var O,C,d=this._getIndexScale(),p=d._getMatchingVisibleMetas(this._type),b=d.options.stacked,w=p.length,D=[];for(O=0;O<w&&(C=p[O],(!1===b||-1===D.indexOf(C.stack)||void 0===b&&void 0===C.stack)&&D.push(C.stack),C.index!==a);++O);return D},getStackCount:function(){return this._getStacks().length},getStackIndex:function(a,l){var d=this._getStacks(a),p=void 0!==l?d.indexOf(l):-1;return-1===p?d.length-1:p},getRuler:function(){var p,b,a=this,l=a._getIndexScale(),d=[];for(p=0,b=a.getMeta().data.length;p<b;++p)d.push(l.getPixelForValue(null,p,a.index));return{pixels:d,start:l._startPixel,end:l._endPixel,stackCount:a.getStackCount(),scale:l}},calculateBarValuePixels:function(a,l,d){var ge,Ee,Re,Ze,je,Ge,lt,p=this,b=p.chart,w=p._getValueScale(),D=w.isHorizontal(),O=b.data.datasets,C=w._getMatchingVisibleMetas(p._type),z=w._parseValue(O[a].data[l]),U=d.minBarLength,W=w.options.stacked,ie=p.getMeta().stack,ce=void 0===z.start?0:z.max>=0&&z.min>=0?z.min:z.max,pe=void 0===z.start?z.end:z.max>=0&&z.min>=0?z.max-z.min:z.min-z.max,ve=C.length;if(W||void 0===W&&void 0!==ie)for(ge=0;ge<ve&&(Ee=C[ge]).index!==a;++ge)Ee.stack===ie&&(Re=void 0===(lt=w._parseValue(O[Ee.index].data[l])).start?lt.end:lt.min>=0&&lt.max>=0?lt.max:lt.min,(z.min<0&&Re<0||z.max>=0&&Re>0)&&(ce+=Re));return Ze=w.getPixelForValue(ce),Ge=(je=w.getPixelForValue(ce+pe))-Ze,void 0!==U&&Math.abs(Ge)<U&&(Ge=U,je=pe>=0&&!D||pe<0&&D?Ze-U:Ze+U),{size:Ge,base:Ze,head:je,center:je+Ge/2}},calculateBarIndexPixels:function(a,l,d,p){var w="flex"===p.barThickness?function Oa(a,l,d){var C,p=l.pixels,b=p[a],w=a>0?p[a-1]:null,D=a<p.length-1?p[a+1]:null,O=d.categoryPercentage;return null===w&&(w=b-(null===D?l.end-l.start:D-b)),null===D&&(D=b+b-w),C=b-(b-Math.min(w,D))/2*O,{chunk:Math.abs(D-w)/2*O/l.stackCount,ratio:d.barPercentage,start:C}}(l,d,p):Br(l,d,p),D=this.getStackIndex(a,this.getMeta().stack),O=w.start+w.chunk*D+w.chunk/2,C=Math.min(oi(p.maxBarThickness,1/0),w.chunk*w.ratio);return{base:O-C/2,head:O+C/2,center:O,size:C}},draw:function(){var a=this,l=a.chart,d=a._getValueScale(),p=a.getMeta().data,b=a.getDataset(),w=p.length,D=0;for(X.canvas.clipArea(l.ctx,l.chartArea);D<w;++D){var O=d._parseValue(b.data[D]);!isNaN(O.min)&&!isNaN(O.max)&&p[D].draw()}X.canvas.unclipArea(l.ctx)},_resolveDataElementOptions:function(){var a=this,l=X.extend({},mn.prototype._resolveDataElementOptions.apply(a,arguments)),d=a._getIndexScale().options,p=a._getValueScale().options;return l.barPercentage=oi(d.barPercentage,l.barPercentage),l.barThickness=oi(d.barThickness,l.barThickness),l.categoryPercentage=oi(d.categoryPercentage,l.categoryPercentage),l.maxBarThickness=oi(d.maxBarThickness,l.maxBarThickness),l.minBarLength=oi(p.minBarLength,l.minBarLength),l}}),Ci=X.valueOrDefault,jo=X.options.resolve;Gt._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(a,l){return(l.datasets[a.datasetIndex].label||"")+": ("+a.xLabel+", "+a.yLabel+", "+l.datasets[a.datasetIndex].data[a.index].r+")"}}}});var Ra=mn.extend({dataElementType:vn.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(a){var l=this,d=l.getMeta();X.each(d.data,function(b,w){l.updateElement(b,w,a)})},updateElement:function(a,l,d){var p=this,b=p.getMeta(),w=a.custom||{},D=p.getScaleForId(b.xAxisID),O=p.getScaleForId(b.yAxisID),C=p._resolveDataElementOptions(a,l),z=p.getDataset().data[l],U=p.index,W=d?D.getPixelForDecimal(.5):D.getPixelForValue("object"==typeof z?z:NaN,l,U),ie=d?O.getBasePixel():O.getPixelForValue(z,l,U);a._xScale=D,a._yScale=O,a._options=C,a._datasetIndex=U,a._index=l,a._model={backgroundColor:C.backgroundColor,borderColor:C.borderColor,borderWidth:C.borderWidth,hitRadius:C.hitRadius,pointStyle:C.pointStyle,rotation:C.rotation,radius:d?0:C.radius,skip:w.skip||isNaN(W)||isNaN(ie),x:W,y:ie},a.pivot()},setHoverStyle:function(a){var l=a._model,d=a._options,p=X.getHoverColor;a.$previousStyle={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,radius:l.radius},l.backgroundColor=Ci(d.hoverBackgroundColor,p(d.backgroundColor)),l.borderColor=Ci(d.hoverBorderColor,p(d.borderColor)),l.borderWidth=Ci(d.hoverBorderWidth,d.borderWidth),l.radius=d.radius+d.hoverRadius},_resolveDataElementOptions:function(a,l){var d=this,p=d.chart,b=d.getDataset(),w=a.custom||{},D=b.data[l]||{},O=mn.prototype._resolveDataElementOptions.apply(d,arguments),C={chart:p,dataIndex:l,dataset:b,datasetIndex:d.index};return d._cachedDataOpts===O&&(O=X.extend({},O)),O.radius=jo([w.radius,D.r,d._config.radius,p.options.elements.point.radius],C,l),O}}),os=X.valueOrDefault,na=Math.PI,Gr=2*na,ls=na/2;Gt._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(a){var w,D,O,l=document.createElement("ul"),d=a.data,p=d.datasets,b=d.labels;if(l.setAttribute("class",a.id+"-legend"),p.length)for(w=0,D=p[0].data.length;w<D;++w)(O=l.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=p[0].backgroundColor[w],b[w]&&O.appendChild(document.createTextNode(b[w]));return l.outerHTML},legend:{labels:{generateLabels:function(a){var l=a.data;return l.labels.length&&l.datasets.length?l.labels.map(function(d,p){var b=a.getDatasetMeta(0),w=b.controller.getStyle(p);return{text:d,fillStyle:w.backgroundColor,strokeStyle:w.borderColor,lineWidth:w.borderWidth,hidden:isNaN(l.datasets[0].data[p])||b.data[p].hidden,index:p}}):[]}},onClick:function(a,l){var b,w,D,d=l.index,p=this.chart;for(b=0,w=(p.data.datasets||[]).length;b<w;++b)(D=p.getDatasetMeta(b)).data[d]&&(D.data[d].hidden=!D.data[d].hidden);p.update()}},cutoutPercentage:50,rotation:-ls,circumference:Gr,tooltips:{callbacks:{title:function(){return""},label:function(a,l){var d=l.labels[a.index],p=": "+l.datasets[a.datasetIndex].data[a.index];return X.isArray(d)?(d=d.slice())[0]+=p:d+=p,d}}}});var Fa=mn.extend({dataElementType:vn.Arc,linkScales:X.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(a){for(var l=0,d=0;d<a;++d)this.chart.isDatasetVisible(d)&&++l;return l},update:function(a){var ge,Ee,l=this,d=l.chart,p=d.chartArea,b=d.options,w=1,D=1,O=0,C=0,z=l.getMeta(),U=z.data,W=b.cutoutPercentage/100||0,ie=b.circumference,ce=l._getRingWeight(l.index);if(ie<Gr){var Re=b.rotation%Gr,Ze=(Re+=Re>=na?-Gr:Re<-na?Gr:0)+ie,je=Math.cos(Re),Ge=Math.sin(Re),lt=Math.cos(Ze),tt=Math.sin(Ze),ot=Re<=0&&Ze>=0||Ze>=Gr,Et=Re<=ls&&Ze>=ls||Ze>=Gr+ls,It=Re<=-ls&&Ze>=-ls||Ze>=na+ls,Dt=Re===-na||Ze>=na?-1:Math.min(je,je*W,lt,lt*W),Zt=It?-1:Math.min(Ge,Ge*W,tt,tt*W),ci=ot?1:Math.max(je,je*W,lt,lt*W),jt=Et?1:Math.max(Ge,Ge*W,tt,tt*W);w=(ci-Dt)/2,D=(jt-Zt)/2,O=-(ci+Dt)/2,C=-(jt+Zt)/2}for(ge=0,Ee=U.length;ge<Ee;++ge)U[ge]._options=l._resolveDataElementOptions(U[ge],ge);for(d.borderWidth=l.getMaxBorderWidth(),d.outerRadius=Math.max(Math.min((p.right-p.left-d.borderWidth)/w,(p.bottom-p.top-d.borderWidth)/D)/2,0),d.innerRadius=Math.max(d.outerRadius*W,0),d.radiusLength=(d.outerRadius-d.innerRadius)/(l._getVisibleDatasetWeightTotal()||1),d.offsetX=O*d.outerRadius,d.offsetY=C*d.outerRadius,z.total=l.calculateTotal(),l.outerRadius=d.outerRadius-d.radiusLength*l._getRingWeightOffset(l.index),l.innerRadius=Math.max(l.outerRadius-d.radiusLength*ce,0),ge=0,Ee=U.length;ge<Ee;++ge)l.updateElement(U[ge],ge,a)},updateElement:function(a,l,d){var p=this,b=p.chart,w=b.chartArea,D=b.options,O=D.animation,C=(w.left+w.right)/2,z=(w.top+w.bottom)/2,U=D.rotation,W=D.rotation,ie=p.getDataset(),ce=d&&O.animateRotate||a.hidden?0:p.calculateCircumference(ie.data[l])*(D.circumference/Gr),ge=a._options||{};X.extend(a,{_datasetIndex:p.index,_index:l,_model:{backgroundColor:ge.backgroundColor,borderColor:ge.borderColor,borderWidth:ge.borderWidth,borderAlign:ge.borderAlign,x:C+b.offsetX,y:z+b.offsetY,startAngle:U,endAngle:W,circumference:ce,outerRadius:d&&O.animateScale?0:p.outerRadius,innerRadius:d&&O.animateScale?0:p.innerRadius,label:X.valueAtIndexOrDefault(ie.label,l,b.data.labels[l])}});var Ee=a._model;(!d||!O.animateRotate)&&(Ee.startAngle=0===l?D.rotation:p.getMeta().data[l-1]._model.endAngle,Ee.endAngle=Ee.startAngle+Ee.circumference),a.pivot()},calculateTotal:function(){var p,a=this.getDataset(),l=this.getMeta(),d=0;return X.each(l.data,function(b,w){p=a.data[w],!isNaN(p)&&!b.hidden&&(d+=Math.abs(p))}),d},calculateCircumference:function(a){var l=this.getMeta().total;return l>0&&!isNaN(a)?Gr*(Math.abs(a)/l):0},getMaxBorderWidth:function(a){var b,w,D,O,C,z,U,W,d=0,p=this.chart;if(!a)for(b=0,w=p.data.datasets.length;b<w;++b)if(p.isDatasetVisible(b)){a=(D=p.getDatasetMeta(b)).data,b!==this.index&&(C=D.controller);break}if(!a)return 0;for(b=0,w=a.length;b<w;++b)O=a[b],C?(C._configure(),z=C._resolveDataElementOptions(O,b)):z=O._options,"inner"!==z.borderAlign&&(d=(W=z.hoverBorderWidth)>(d=(U=z.borderWidth)>d?U:d)?W:d);return d},setHoverStyle:function(a){var l=a._model,d=a._options,p=X.getHoverColor;a.$previousStyle={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth},l.backgroundColor=os(d.hoverBackgroundColor,p(d.backgroundColor)),l.borderColor=os(d.hoverBorderColor,p(d.borderColor)),l.borderWidth=os(d.hoverBorderWidth,d.borderWidth)},_getRingWeightOffset:function(a){for(var l=0,d=0;d<a;++d)this.chart.isDatasetVisible(d)&&(l+=this._getRingWeight(d));return l},_getRingWeight:function(a){return Math.max(os(this.chart.data.datasets[a].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});Gt._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),Gt._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Ya=ir.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Ir=X.valueOrDefault,Es=X.options.resolve,Bn=X.canvas._isPointInArea;function Ln(a,l){var d=a&&a.options.ticks||{},p=d.reverse,b=void 0===d.min?l:0,w=void 0===d.max?l:0;return{start:p?w:b,end:p?b:w}}function dl(a,l,d){var p=d/2,b=Ln(a,p),w=Ln(l,p);return{top:w.end,right:b.end,bottom:w.start,left:b.start}}function No(a){var l,d,p,b;return X.isObject(a)?(l=a.top,d=a.right,p=a.bottom,b=a.left):l=d=p=b=a,{top:l,right:d,bottom:p,left:b}}Gt._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var dr=mn.extend({datasetElementType:vn.Line,dataElementType:vn.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(a){var C,z,l=this,d=l.getMeta(),p=d.dataset,b=d.data||[],D=l._config,O=l._showLine=Ir(D.showLine,l.chart.options.showLines);for(l._xScale=l.getScaleForId(d.xAxisID),l._yScale=l.getScaleForId(d.yAxisID),O&&(void 0!==D.tension&&void 0===D.lineTension&&(D.lineTension=D.tension),p._scale=l._yScale,p._datasetIndex=l.index,p._children=b,p._model=l._resolveDatasetElementOptions(p),p.pivot()),C=0,z=b.length;C<z;++C)l.updateElement(b[C],C,a);for(O&&0!==p._model.tension&&l.updateBezierControlPoints(),C=0,z=b.length;C<z;++C)b[C].pivot()},updateElement:function(a,l,d){var ie,ce,p=this,b=p.getMeta(),w=a.custom||{},D=p.getDataset(),O=p.index,C=D.data[l],z=p._xScale,U=p._yScale,W=b.dataset._model,pe=p._resolveDataElementOptions(a,l);ie=z.getPixelForValue("object"==typeof C?C:NaN,l,O),ce=d?U.getBasePixel():p.calculatePointY(C,l,O),a._xScale=z,a._yScale=U,a._options=pe,a._datasetIndex=O,a._index=l,a._model={x:ie,y:ce,skip:w.skip||isNaN(ie)||isNaN(ce),radius:pe.radius,pointStyle:pe.pointStyle,rotation:pe.rotation,backgroundColor:pe.backgroundColor,borderColor:pe.borderColor,borderWidth:pe.borderWidth,tension:Ir(w.tension,W?W.tension:0),steppedLine:!!W&&W.steppedLine,hitRadius:pe.hitRadius}},_resolveDatasetElementOptions:function(a){var l=this,d=l._config,p=a.custom||{},b=l.chart.options,w=b.elements.line,D=mn.prototype._resolveDatasetElementOptions.apply(l,arguments);return D.spanGaps=Ir(d.spanGaps,b.spanGaps),D.tension=Ir(d.lineTension,w.tension),D.steppedLine=Es([p.steppedLine,d.steppedLine,w.stepped]),D.clip=No(Ir(d.clip,dl(l._xScale,l._yScale,D.borderWidth))),D},calculatePointY:function(a,l,d){var C,U,W,ie,ce,pe,b=this.chart,w=this._yScale,D=0,O=0;if(w.options.stacked){for(ie=+w.getRightValue(a),pe=(ce=b._getSortedVisibleDatasetMetas()).length,C=0;C<pe&&(U=ce[C]).index!==d;++C)"line"===U.type&&U.yAxisID===w.id&&((W=+w.getRightValue(b.data.datasets[U.index].data[l]))<0?O+=W||0:D+=W||0);return w.getPixelForValue(ie<0?O+ie:D+ie)}return w.getPixelForValue(a)},updateBezierControlPoints:function(){var D,O,C,z,l=this.chart,d=this.getMeta(),p=d.dataset._model,b=l.chartArea,w=d.data||[];function U(W,ie,ce){return Math.max(Math.min(W,ce),ie)}if(p.spanGaps&&(w=w.filter(function(W){return!W._model.skip})),"monotone"===p.cubicInterpolationMode)X.splineCurveMonotone(w);else for(D=0,O=w.length;D<O;++D)C=w[D]._model,z=X.splineCurve(X.previousItem(w,D)._model,C,X.nextItem(w,D)._model,p.tension),C.controlPointPreviousX=z.previous.x,C.controlPointPreviousY=z.previous.y,C.controlPointNextX=z.next.x,C.controlPointNextY=z.next.y;if(l.options.elements.line.capBezierPoints)for(D=0,O=w.length;D<O;++D)Bn(C=w[D]._model,b)&&(D>0&&Bn(w[D-1]._model,b)&&(C.controlPointPreviousX=U(C.controlPointPreviousX,b.left,b.right),C.controlPointPreviousY=U(C.controlPointPreviousY,b.top,b.bottom)),D<w.length-1&&Bn(w[D+1]._model,b)&&(C.controlPointNextX=U(C.controlPointNextX,b.left,b.right),C.controlPointNextY=U(C.controlPointNextY,b.top,b.bottom)))},draw:function(){var C,a=this,l=a.chart,d=a.getMeta(),p=d.data||[],b=l.chartArea,w=l.canvas,D=0,O=p.length;for(a._showLine&&(X.canvas.clipArea(l.ctx,{left:!1===(C=d.dataset._model.clip).left?0:b.left-C.left,right:!1===C.right?w.width:b.right+C.right,top:!1===C.top?0:b.top-C.top,bottom:!1===C.bottom?w.height:b.bottom+C.bottom}),d.dataset.draw(),X.canvas.unclipArea(l.ctx));D<O;++D)p[D].draw(b)},setHoverStyle:function(a){var l=a._model,d=a._options,p=X.getHoverColor;a.$previousStyle={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,radius:l.radius},l.backgroundColor=Ir(d.hoverBackgroundColor,p(d.backgroundColor)),l.borderColor=Ir(d.hoverBorderColor,p(d.borderColor)),l.borderWidth=Ir(d.hoverBorderWidth,d.borderWidth),l.radius=Ir(d.hoverRadius,d.radius)}}),Zr=X.options.resolve;Gt._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(a){var w,D,O,l=document.createElement("ul"),d=a.data,p=d.datasets,b=d.labels;if(l.setAttribute("class",a.id+"-legend"),p.length)for(w=0,D=p[0].data.length;w<D;++w)(O=l.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=p[0].backgroundColor[w],b[w]&&O.appendChild(document.createTextNode(b[w]));return l.outerHTML},legend:{labels:{generateLabels:function(a){var l=a.data;return l.labels.length&&l.datasets.length?l.labels.map(function(d,p){var b=a.getDatasetMeta(0),w=b.controller.getStyle(p);return{text:d,fillStyle:w.backgroundColor,strokeStyle:w.borderColor,lineWidth:w.borderWidth,hidden:isNaN(l.datasets[0].data[p])||b.data[p].hidden,index:p}}):[]}},onClick:function(a,l){var b,w,D,d=l.index,p=this.chart;for(b=0,w=(p.data.datasets||[]).length;b<w;++b)(D=p.getDatasetMeta(b)).data[d].hidden=!D.data[d].hidden;p.update()}},tooltips:{callbacks:{title:function(){return""},label:function(a,l){return l.labels[a.index]+": "+a.yLabel}}}});var Bl=mn.extend({dataElementType:vn.Arc,linkScales:X.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(a){var C,z,U,l=this,d=l.getDataset(),p=l.getMeta(),b=l.chart.options.startAngle||0,w=l._starts=[],D=l._angles=[],O=p.data;for(l._updateRadius(),p.count=l.countVisibleElements(),C=0,z=d.data.length;C<z;C++)w[C]=b,U=l._computeAngle(C),D[C]=U,b+=U;for(C=0,z=O.length;C<z;++C)O[C]._options=l._resolveDataElementOptions(O[C],C),l.updateElement(O[C],C,a)},_updateRadius:function(){var a=this,l=a.chart,d=l.chartArea,p=l.options,b=Math.min(d.right-d.left,d.bottom-d.top);l.outerRadius=Math.max(b/2,0),l.innerRadius=Math.max(p.cutoutPercentage?l.outerRadius/100*p.cutoutPercentage:1,0),l.radiusLength=(l.outerRadius-l.innerRadius)/l.getVisibleDatasetCount(),a.outerRadius=l.outerRadius-l.radiusLength*a.index,a.innerRadius=a.outerRadius-l.radiusLength},updateElement:function(a,l,d){var p=this,b=p.chart,w=p.getDataset(),D=b.options,O=D.animation,C=b.scale,z=b.data.labels,U=C.xCenter,W=C.yCenter,ie=D.startAngle,ce=a.hidden?0:C.getDistanceFromCenterForValue(w.data[l]),pe=p._starts[l],ve=pe+(a.hidden?0:p._angles[l]),ge=O.animateScale?0:C.getDistanceFromCenterForValue(w.data[l]),Ee=a._options||{};X.extend(a,{_datasetIndex:p.index,_index:l,_scale:C,_model:{backgroundColor:Ee.backgroundColor,borderColor:Ee.borderColor,borderWidth:Ee.borderWidth,borderAlign:Ee.borderAlign,x:U,y:W,innerRadius:0,outerRadius:d?ge:ce,startAngle:d&&O.animateRotate?ie:pe,endAngle:d&&O.animateRotate?ie:ve,label:X.valueAtIndexOrDefault(z,l,z[l])}}),a.pivot()},countVisibleElements:function(){var a=this.getDataset(),l=this.getMeta(),d=0;return X.each(l.data,function(p,b){!isNaN(a.data[b])&&!p.hidden&&d++}),d},setHoverStyle:function(a){var l=a._model,d=a._options,p=X.getHoverColor,b=X.valueOrDefault;a.$previousStyle={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth},l.backgroundColor=b(d.hoverBackgroundColor,p(d.backgroundColor)),l.borderColor=b(d.hoverBorderColor,p(d.borderColor)),l.borderWidth=b(d.hoverBorderWidth,d.borderWidth)},_computeAngle:function(a){var l=this,d=this.getMeta().count,p=l.getDataset(),b=l.getMeta();return isNaN(p.data[a])||b.data[a].hidden?0:Zr([l.chart.options.elements.arc.angle,2*Math.PI/d],{chart:l.chart,dataIndex:a,dataset:p,datasetIndex:l.index},a)}});Gt._set("pie",X.clone(Gt.doughnut)),Gt._set("pie",{cutoutPercentage:0});var fo=Fa,Vi=X.valueOrDefault;Gt._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var mo=mn.extend({datasetElementType:vn.Line,dataElementType:vn.Point,linkScales:X.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(a){var O,C,l=this,d=l.getMeta(),p=d.dataset,b=d.data||[],w=l.chart.scale,D=l._config;for(void 0!==D.tension&&void 0===D.lineTension&&(D.lineTension=D.tension),p._scale=w,p._datasetIndex=l.index,p._children=b,p._loop=!0,p._model=l._resolveDatasetElementOptions(p),p.pivot(),O=0,C=b.length;O<C;++O)l.updateElement(b[O],O,a);for(l.updateBezierControlPoints(),O=0,C=b.length;O<C;++O)b[O].pivot()},updateElement:function(a,l,d){var p=this,b=a.custom||{},w=p.getDataset(),D=p.chart.scale,O=D.getPointPositionForValue(l,w.data[l]),C=p._resolveDataElementOptions(a,l),z=p.getMeta().dataset._model,U=d?D.xCenter:O.x,W=d?D.yCenter:O.y;a._scale=D,a._options=C,a._datasetIndex=p.index,a._index=l,a._model={x:U,y:W,skip:b.skip||isNaN(U)||isNaN(W),radius:C.radius,pointStyle:C.pointStyle,rotation:C.rotation,backgroundColor:C.backgroundColor,borderColor:C.borderColor,borderWidth:C.borderWidth,tension:Vi(b.tension,z?z.tension:0),hitRadius:C.hitRadius}},_resolveDatasetElementOptions:function(){var a=this,l=a._config,d=a.chart.options,p=mn.prototype._resolveDatasetElementOptions.apply(a,arguments);return p.spanGaps=Vi(l.spanGaps,d.spanGaps),p.tension=Vi(l.lineTension,d.elements.line.tension),p},updateBezierControlPoints:function(){var b,w,D,O,l=this.getMeta(),d=this.chart.chartArea,p=l.data||[];function C(z,U,W){return Math.max(Math.min(z,W),U)}for(l.dataset._model.spanGaps&&(p=p.filter(function(z){return!z._model.skip})),b=0,w=p.length;b<w;++b)D=p[b]._model,O=X.splineCurve(X.previousItem(p,b,!0)._model,D,X.nextItem(p,b,!0)._model,D.tension),D.controlPointPreviousX=C(O.previous.x,d.left,d.right),D.controlPointPreviousY=C(O.previous.y,d.top,d.bottom),D.controlPointNextX=C(O.next.x,d.left,d.right),D.controlPointNextY=C(O.next.y,d.top,d.bottom)},setHoverStyle:function(a){var l=a._model,d=a._options,p=X.getHoverColor;a.$previousStyle={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,radius:l.radius},l.backgroundColor=Vi(d.hoverBackgroundColor,p(d.backgroundColor)),l.borderColor=Vi(d.hoverBorderColor,p(d.borderColor)),l.borderWidth=Vi(d.hoverBorderWidth,d.borderWidth),l.radius=Vi(d.hoverRadius,d.radius)}});Gt._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(a){return"("+a.xLabel+", "+a.yLabel+")"}}}}),Gt._set("global",{datasets:{scatter:{showLine:!1}}});var za={bar:ir,bubble:Ra,doughnut:Fa,horizontalBar:Ya,line:dr,polarArea:Bl,pie:fo,radar:mo,scatter:dr};function Sn(a,l){return a.native?{x:a.x,y:a.y}:X.getRelativePosition(a,l)}function xr(a,l){var p,b,w,D,O,C,d=a._getSortedVisibleDatasetMetas();for(b=0,D=d.length;b<D;++b)for(w=0,O=(p=d[b].data).length;w<O;++w)(C=p[w])._view.skip||l(C)}function $s(a,l){var d=[];return xr(a,function(p){p.inRange(l.x,l.y)&&d.push(p)}),d}function qr(a,l,d,p){var b=Number.POSITIVE_INFINITY,w=[];return xr(a,function(D){if(!d||D.inRange(l.x,l.y)){var O=D.getCenterPoint(),C=p(l,O);C<b?(w=[D],b=C):C===b&&w.push(D)}}),w}function ar(a){var l=-1!==a.indexOf("x"),d=-1!==a.indexOf("y");return function(p,b){var w=l?Math.abs(p.x-b.x):0,D=d?Math.abs(p.y-b.y):0;return Math.sqrt(Math.pow(w,2)+Math.pow(D,2))}}function cs(a,l,d){var p=Sn(l,a);d.axis=d.axis||"x";var b=ar(d.axis),w=d.intersect?$s(a,p):qr(a,p,!1,b),D=[];return w.length?(a._getSortedVisibleDatasetMetas().forEach(function(O){var C=O.data[w[0]._index];C&&!C._view.skip&&D.push(C)}),D):[]}var Xs={modes:{single:function(a,l){var d=Sn(l,a),p=[];return xr(a,function(b){if(b.inRange(d.x,d.y))return p.push(b),p}),p.slice(0,1)},label:cs,index:cs,dataset:function(a,l,d){var p=Sn(l,a);d.axis=d.axis||"xy";var b=ar(d.axis),w=d.intersect?$s(a,p):qr(a,p,!1,b);return w.length>0&&(w=a.getDatasetMeta(w[0]._datasetIndex).data),w},"x-axis":function(a,l){return cs(a,l,{intersect:!1})},point:function(a,l){return $s(a,Sn(l,a))},nearest:function(a,l,d){var p=Sn(l,a);d.axis=d.axis||"xy";var b=ar(d.axis);return qr(a,p,d.intersect,b)},x:function(a,l,d){var p=Sn(l,a),b=[],w=!1;return xr(a,function(D){D.inXRange(p.x)&&b.push(D),D.inRange(p.x,p.y)&&(w=!0)}),d.intersect&&!w&&(b=[]),b},y:function(a,l,d){var p=Sn(l,a),b=[],w=!1;return xr(a,function(D){D.inYRange(p.y)&&b.push(D),D.inRange(p.x,p.y)&&(w=!0)}),d.intersect&&!w&&(b=[]),b}}},As=X.extend;function $r(a,l){return X.where(a,function(d){return d.pos===l})}function nr(a,l){return a.sort(function(d,p){var b=l?p:d,w=l?d:p;return b.weight===w.weight?b.index-w.index:b.weight-w.weight})}function Ps(a,l,d,p){return Math.max(a[d],l[d])+Math.max(a[p],l[p])}function Wi(a,l,d){var w,D,p=d.box,b=a.maxPadding;if(d.size&&(a[d.pos]-=d.size),d.size=d.horizontal?p.height:p.width,a[d.pos]+=d.size,p.getPadding){var O=p.getPadding();b.top=Math.max(b.top,O.top),b.left=Math.max(b.left,O.left),b.bottom=Math.max(b.bottom,O.bottom),b.right=Math.max(b.right,O.right)}if(w=l.outerWidth-Ps(b,a,"left","right"),D=l.outerHeight-Ps(b,a,"top","bottom"),w!==a.w||D!==a.h){a.w=w,a.h=D;var C=d.horizontal?[w,a.w]:[D,a.h];return!(C[0]===C[1]||isNaN(C[0])&&isNaN(C[1]))}}function ga(a,l){var d=l.maxPadding;return function p(b){var w={left:0,top:0,right:0,bottom:0};return b.forEach(function(D){w[D]=Math.max(l[D],d[D])}),w}(a?["left","right"]:["top","bottom"])}function ds(a,l,d){var b,w,D,O,C,z,p=[];for(b=0,w=a.length;b<w;++b)(O=(D=a[b]).box).update(D.width||l.w,D.height||l.h,ga(D.horizontal,l)),Wi(l,d,D)&&(z=!0,p.length&&(C=!0)),O.fullWidth||p.push(D);return C&&ds(p,l,d)||z}function Ho(a,l,d){var D,O,C,z,p=d.padding,b=l.x,w=l.y;for(D=0,O=a.length;D<O;++D)z=(C=a[D]).box,C.horizontal?(z.left=z.fullWidth?p.left:l.left,z.right=z.fullWidth?d.outerWidth-p.right:l.left+l.w,z.top=w,z.bottom=w+z.height,z.width=z.right-z.left,w=z.bottom):(z.left=b,z.right=b+z.width,z.top=l.top,z.bottom=l.top+l.h,z.height=z.bottom-z.top,b=z.right);l.x=b,l.y=w}Gt._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var wr={defaults:{},addBox:function(a,l){a.boxes||(a.boxes=[]),l.fullWidth=l.fullWidth||!1,l.position=l.position||"top",l.weight=l.weight||0,l._layers=l._layers||function(){return[{z:0,draw:function(){l.draw.apply(l,arguments)}}]},a.boxes.push(l)},removeBox:function(a,l){var d=a.boxes?a.boxes.indexOf(l):-1;-1!==d&&a.boxes.splice(d,1)},configure:function(a,l,d){for(var D,p=["fullWidth","position","weight"],b=p.length,w=0;w<b;++w)d.hasOwnProperty(D=p[w])&&(l[D]=d[D])},update:function(a,l,d){if(a){var b=X.options.toPadding((a.options.layout||{}).padding),w=l-b.width,D=d-b.height,O=function Ba(a){var l=function hl(a){var d,p,b,l=[];for(d=0,p=(a||[]).length;d<p;++d)l.push({index:d,box:b=a[d],pos:b.position,horizontal:b.isHorizontal(),weight:b.weight});return l}(a),d=nr($r(l,"left"),!0),p=nr($r(l,"right")),b=nr($r(l,"top"),!0),w=nr($r(l,"bottom"));return{leftAndTop:d.concat(b),rightAndBottom:p.concat(w),chartArea:$r(l,"chartArea"),vertical:d.concat(p),horizontal:b.concat(w)}}(a.boxes),C=O.vertical,z=O.horizontal,U=Object.freeze({outerWidth:l,outerHeight:d,padding:b,availableWidth:w,vBoxMaxWidth:w/2/C.length,hBoxMaxHeight:D/2}),W=As({maxPadding:As({},b),w,h:D,x:b.left,y:b.top},b);(function Is(a,l){var d,p,b;for(d=0,p=a.length;d<p;++d)(b=a[d]).width=b.horizontal?b.box.fullWidth&&l.availableWidth:l.vBoxMaxWidth,b.height=b.horizontal&&l.hBoxMaxHeight})(C.concat(z),U),ds(C,W,U),ds(z,W,U)&&ds(C,W,U),function us(a){var l=a.maxPadding;function d(p){var b=Math.max(l[p]-a[p],0);return a[p]+=b,b}a.y+=d("top"),a.x+=d("left"),d("right"),d("bottom")}(W),Ho(O.leftAndTop,W,U),W.x+=W.w,W.y+=W.h,Ho(O.rightAndBottom,W,U),a.chartArea={left:W.left,top:W.top,right:W.left+W.w,bottom:W.top+W.h},X.each(O.chartArea,function(ie){var ce=ie.box;As(ce,a.chartArea),ce.update(W.w,W.h)})}}},Oi=function Y(a){return a&&a.default||a}(Object.freeze({__proto__:null,default:"/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n"})),Mr="$chartjs",Pr="chartjs-",Vo=Pr+"size-monitor",hs=Pr+"render-monitor",go=["animationstart","webkitAnimationStart"],ps={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function ra(a,l){var d=X.getStyle(a,l),p=d&&d.match(/^(\d+)(\.\d+)?px$/);return p?Number(p[1]):void 0}var ja=!!function(){var a=!1;try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("e",null,l)}catch(d){}return a}()&&{passive:!0};function Na(a,l,d){a.addEventListener(l,d,ja)}function Ks(a,l,d){a.removeEventListener(l,d,ja)}function ms(a,l,d,p,b){return{type:a,chart:l,native:b||null,x:void 0!==d?d:null,y:void 0!==p?p:null}}function Ha(a){var l=document.createElement("div");return l.className=a||"",l}function aa(a,l,d){var p=a[Mr]||(a[Mr]={}),b=p.resizer=function yo(a){var l=1e6,d=Ha(Vo),p=Ha(Vo+"-expand"),b=Ha(Vo+"-shrink");p.appendChild(Ha()),b.appendChild(Ha()),d.appendChild(p),d.appendChild(b),d._reset=function(){p.scrollLeft=l,p.scrollTop=l,b.scrollLeft=l,b.scrollTop=l};var w=function(){d._reset(),a()};return Na(p,"scroll",w.bind(p,"expand")),Na(b,"scroll",w.bind(b,"shrink")),d}(function ln(a,l){var d=!1,p=[];return function(){p=Array.prototype.slice.call(arguments),l=l||this,d||(d=!0,X.requestAnimFrame.call(window,function(){d=!1,a.apply(l,p)}))}}(function(){if(p.resizer){var w=d.options.maintainAspectRatio&&a.parentNode,D=w?w.clientWidth:0;l(ms("resize",d)),w&&w.clientWidth<D&&d.canvas&&l(ms("resize",d))}}));!function Va(a,l){var d=a[Mr]||(a[Mr]={}),p=d.renderProxy=function(b){"chartjs-render-animation"===b.animationName&&l()};X.each(go,function(b){Na(a,b,p)}),d.reflow=!!a.offsetParent,a.classList.add(hs)}(a,function(){if(p.resizer){var w=a.parentNode;w&&w!==b.parentNode&&w.insertBefore(b,w.firstChild),b._reset()}})}function Qs(a){var l=a[Mr]||{},d=l.resizer;delete l.resizer,function ki(a){var l=a[Mr]||{},d=l.renderProxy;d&&(X.each(go,function(p){Ks(a,p,d)}),delete l.renderProxy),a.classList.remove(hs)}(a),d&&d.parentNode&&d.parentNode.removeChild(d)}var to={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(a){if(!this.disableCSSInjection){var l=a.getRootNode?a.getRootNode():document;!function eo(a,l){var d=a[Mr]||(a[Mr]={});if(!d.containsStyles){d.containsStyles=!0,l="/* Chart.js */\n"+l;var p=document.createElement("style");p.setAttribute("type","text/css"),p.appendChild(document.createTextNode(l)),a.appendChild(p)}}(l.host?l:document.head,Oi)}},acquireContext:function(a,l){"string"==typeof a?a=document.getElementById(a):a.length&&(a=a[0]),a&&a.canvas&&(a=a.canvas);var d=a&&a.getContext&&a.getContext("2d");return d&&d.canvas===a?(this._ensureLoaded(a),function fs(a,l){var d=a.style,p=a.getAttribute("height"),b=a.getAttribute("width");if(a[Mr]={initial:{height:p,width:b,style:{display:d.display,height:d.height,width:d.width}}},d.display=d.display||"block",null===b||""===b){var w=ra(a,"width");void 0!==w&&(a.width=w)}if(null===p||""===p)if(""===a.style.height)a.height=a.width/(l.options.aspectRatio||2);else{var D=ra(a,"height");void 0!==w&&(a.height=D)}return a}(a,l),d):null},releaseContext:function(a){var l=a.canvas;if(l[Mr]){var d=l[Mr].initial;["height","width"].forEach(function(p){var b=d[p];X.isNullOrUndef(b)?l.removeAttribute(p):l.setAttribute(p,b)}),X.each(d.style||{},function(p,b){l.style[b]=p}),l.width=l.width,delete l[Mr]}},addEventListener:function(a,l,d){var p=a.canvas;if("resize"!==l){var b=d[Mr]||(d[Mr]={});Na(p,l,(b.proxies||(b.proxies={}))[a.id+"_"+l]=function(O){d(function Uo(a,l){var d=ps[a.type]||a.type,p=X.getRelativePosition(a,l);return ms(d,l,p.x,p.y,a)}(O,a))})}else aa(p,d,a)},removeEventListener:function(a,l,d){var p=a.canvas;if("resize"!==l){var D=((d[Mr]||{}).proxies||{})[a.id+"_"+l];!D||Ks(p,l,D)}else Qs(p)}};X.addEvent=Na,X.removeEvent=Ks;var Nr=X.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},to._enabled?to:{acquireContext:function(a){return a&&a.canvas&&(a=a.canvas),a&&a.getContext("2d")||null}});Gt._set("global",{plugins:{}});var cn={_plugins:[],_cacheId:0,register:function(a){var l=this._plugins;[].concat(a).forEach(function(d){-1===l.indexOf(d)&&l.push(d)}),this._cacheId++},unregister:function(a){var l=this._plugins;[].concat(a).forEach(function(d){var p=l.indexOf(d);-1!==p&&l.splice(p,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(a,l,d){var w,D,O,C,z,p=this.descriptors(a),b=p.length;for(w=0;w<b;++w)if("function"==typeof(z=(O=(D=p[w]).plugin)[l])&&((C=[a].concat(d||[])).push(D.options),!1===z.apply(O,C)))return!1;return!0},descriptors:function(a){var l=a.$plugins||(a.$plugins={});if(l.id===this._cacheId)return l.descriptors;var d=[],p=[],b=a&&a.config||{},w=b.options&&b.options.plugins||{};return this._plugins.concat(b.plugins||[]).forEach(function(D){if(-1===d.indexOf(D)){var C=D.id,z=w[C];!1!==z&&(!0===z&&(z=X.clone(Gt.global.plugins[C])),d.push(D),p.push({plugin:D,options:z||{}}))}}),l.descriptors=p,l.id=this._cacheId,p},_invalidate:function(a){delete a.$plugins}},vo={constructors:{},defaults:{},registerScaleType:function(a,l,d){this.constructors[a]=l,this.defaults[a]=X.clone(d)},getScaleConstructor:function(a){return this.constructors.hasOwnProperty(a)?this.constructors[a]:void 0},getScaleDefaults:function(a){return this.defaults.hasOwnProperty(a)?X.merge(Object.create(null),[Gt.scale,this.defaults[a]]):{}},updateScaleDefaults:function(a,l){var d=this;d.defaults.hasOwnProperty(a)&&(d.defaults[a]=X.extend(d.defaults[a],l))},addScalesToLayout:function(a){X.each(a.scales,function(l){l.fullWidth=l.options.fullWidth,l.position=l.options.position,l.weight=l.options.weight,wr.addBox(a,l)})}},Ua=X.valueOrDefault,Rs=X.rtl.getRtlAdapter;Gt._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:X.noop,title:function(a,l){var d="",p=l.labels,b=p?p.length:0;if(a.length>0){var w=a[0];w.label?d=w.label:w.xLabel?d=w.xLabel:b>0&&w.index<b&&(d=p[w.index])}return d},afterTitle:X.noop,beforeBody:X.noop,beforeLabel:X.noop,label:function(a,l){var d=l.datasets[a.datasetIndex].label||"";return d&&(d+=": "),X.isNullOrUndef(a.value)?d+=a.yLabel:d+=a.value,d},labelColor:function(a,l){var b=l.getDatasetMeta(a.datasetIndex).data[a.index]._view;return{borderColor:b.borderColor,backgroundColor:b.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:X.noop,afterBody:X.noop,beforeFooter:X.noop,footer:X.noop,afterFooter:X.noop}}});var Wo={average:function(a){if(!a.length)return!1;var l,d,p=0,b=0,w=0;for(l=0,d=a.length;l<d;++l){var D=a[l];if(D&&D.hasValue()){var O=D.tooltipPosition();p+=O.x,b+=O.y,++w}}return{x:p/w,y:b/w}},nearest:function(a,l){var w,D,O,d=l.x,p=l.y,b=Number.POSITIVE_INFINITY;for(w=0,D=a.length;w<D;++w){var C=a[w];if(C&&C.hasValue()){var z=C.getCenterPoint(),U=X.distanceBetweenPoints(l,z);U<b&&(b=U,O=C)}}if(O){var W=O.tooltipPosition();d=W.x,p=W.y}return{x:d,y:p}}};function Or(a,l){return l&&(X.isArray(l)?Array.prototype.push.apply(a,l):a.push(l)),a}function Ii(a){return("string"==typeof a||a instanceof String)&&a.indexOf("\n")>-1?a.split("\n"):a}function fl(a){var l=a._xScale,d=a._yScale||a._scale,p=a._index,b=a._datasetIndex,w=a._chart.getDatasetMeta(b).controller,D=w._getIndexScale(),O=w._getValueScale();return{xLabel:l?l.getLabelForIndex(p,b):"",yLabel:d?d.getLabelForIndex(p,b):"",label:D?""+D.getLabelForIndex(p,b):"",value:O?""+O.getLabelForIndex(p,b):"",index:p,datasetIndex:b,x:a._model.x,y:a._model.y}}function bo(a){var l=Gt.global;return{xPadding:a.xPadding,yPadding:a.yPadding,xAlign:a.xAlign,yAlign:a.yAlign,rtl:a.rtl,textDirection:a.textDirection,bodyFontColor:a.bodyFontColor,_bodyFontFamily:Ua(a.bodyFontFamily,l.defaultFontFamily),_bodyFontStyle:Ua(a.bodyFontStyle,l.defaultFontStyle),_bodyAlign:a.bodyAlign,bodyFontSize:Ua(a.bodyFontSize,l.defaultFontSize),bodySpacing:a.bodySpacing,titleFontColor:a.titleFontColor,_titleFontFamily:Ua(a.titleFontFamily,l.defaultFontFamily),_titleFontStyle:Ua(a.titleFontStyle,l.defaultFontStyle),titleFontSize:Ua(a.titleFontSize,l.defaultFontSize),_titleAlign:a.titleAlign,titleSpacing:a.titleSpacing,titleMarginBottom:a.titleMarginBottom,footerFontColor:a.footerFontColor,_footerFontFamily:Ua(a.footerFontFamily,l.defaultFontFamily),_footerFontStyle:Ua(a.footerFontStyle,l.defaultFontStyle),footerFontSize:Ua(a.footerFontSize,l.defaultFontSize),_footerAlign:a.footerAlign,footerSpacing:a.footerSpacing,footerMarginTop:a.footerMarginTop,caretSize:a.caretSize,cornerRadius:a.cornerRadius,backgroundColor:a.backgroundColor,opacity:0,legendColorBackground:a.multiKeyBackground,displayColors:a.displayColors,borderColor:a.borderColor,borderWidth:a.borderWidth}}function io(a,l){return"center"===l?a.x+a.width/2:"right"===l?a.x+a.width-a.xPadding:a.x+a.xPadding}function Hr(a){return Or([],Ii(a))}var ml=_t.extend({initialize:function(){this._model=bo(this._options),this._lastActive=[]},getTitle:function(){var a=this,d=a._options.callbacks,p=d.beforeTitle.apply(a,arguments),b=d.title.apply(a,arguments),w=d.afterTitle.apply(a,arguments),D=[];return D=Or(D,Ii(p)),D=Or(D,Ii(b)),Or(D,Ii(w))},getBeforeBody:function(){return Hr(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(a,l){var d=this,p=d._options.callbacks,b=[];return X.each(a,function(w){var D={before:[],lines:[],after:[]};Or(D.before,Ii(p.beforeLabel.call(d,w,l))),Or(D.lines,p.label.call(d,w,l)),Or(D.after,Ii(p.afterLabel.call(d,w,l))),b.push(D)}),b},getAfterBody:function(){return Hr(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var a=this,l=a._options.callbacks,d=l.beforeFooter.apply(a,arguments),p=l.footer.apply(a,arguments),b=l.afterFooter.apply(a,arguments),w=[];return w=Or(w,Ii(d)),w=Or(w,Ii(p)),Or(w,Ii(b))},update:function(a){var W,ie,l=this,d=l._options,p=l._model,b=l._model=bo(d),w=l._active,D=l._data,O={xAlign:p.xAlign,yAlign:p.yAlign},C={x:p.x,y:p.y},z={width:p.width,height:p.height},U={x:p.caretX,y:p.caretY};if(w.length){b.opacity=1;var ce=[],pe=[];U=Wo[d.position].call(l,w,l._eventPosition);var ve=[];for(W=0,ie=w.length;W<ie;++W)ve.push(fl(w[W]));d.filter&&(ve=ve.filter(function(ge){return d.filter(ge,D)})),d.itemSort&&(ve=ve.sort(function(ge,Ee){return d.itemSort(ge,Ee,D)})),X.each(ve,function(ge){ce.push(d.callbacks.labelColor.call(l,ge,l._chart)),pe.push(d.callbacks.labelTextColor.call(l,ge,l._chart))}),b.title=l.getTitle(ve,D),b.beforeBody=l.getBeforeBody(ve,D),b.body=l.getBody(ve,D),b.afterBody=l.getAfterBody(ve,D),b.footer=l.getFooter(ve,D),b.x=U.x,b.y=U.y,b.caretPadding=d.caretPadding,b.labelColors=ce,b.labelTextColors=pe,b.dataPoints=ve,C=function Fs(a,l,d,p){var b=a.x,w=a.y,O=a.caretPadding,z=d.xAlign,U=d.yAlign,W=a.caretSize+O,ie=a.cornerRadius+O;return"right"===z?b-=l.width:"center"===z&&((b-=l.width/2)+l.width>p.width&&(b=p.width-l.width),b<0&&(b=0)),"top"===U?w+=W:w-="bottom"===U?l.height+W:l.height/2,"center"===U?"left"===z?b+=W:"right"===z&&(b-=W):"left"===z?b-=ie:"right"===z&&(b+=ie),{x:b,y:w}}(b,z=function Go(a,l){var d=a._chart.ctx,p=2*l.yPadding,b=0,w=l.body,D=w.reduce(function(pe,ve){return pe+ve.before.length+ve.lines.length+ve.after.length},0),O=l.title.length,C=l.footer.length,z=l.titleFontSize,U=l.bodyFontSize,W=l.footerFontSize;p+=O*z,p+=O?(O-1)*l.titleSpacing:0,p+=O?l.titleMarginBottom:0,p+=(D+=l.beforeBody.length+l.afterBody.length)*U,p+=D?(D-1)*l.bodySpacing:0,p+=C?l.footerMarginTop:0,p+=C*W,p+=C?(C-1)*l.footerSpacing:0;var ie=0,ce=function(pe){b=Math.max(b,d.measureText(pe).width+ie)};return d.font=X.fontString(z,l._titleFontStyle,l._titleFontFamily),X.each(l.title,ce),d.font=X.fontString(U,l._bodyFontStyle,l._bodyFontFamily),X.each(l.beforeBody.concat(l.afterBody),ce),ie=l.displayColors?U+2:0,X.each(w,function(pe){X.each(pe.before,ce),X.each(pe.lines,ce),X.each(pe.after,ce)}),ie=0,d.font=X.fontString(W,l._footerFontStyle,l._footerFontFamily),X.each(l.footer,ce),{width:b+=2*l.xPadding,height:p}}(this,b),O=function xo(a,l){var d=a._model,p=a._chart,b=a._chart.chartArea,w="center",D="center";d.y<l.height?D="top":d.y>p.height-l.height&&(D="bottom");var O,C,z,U,W,ie=(b.left+b.right)/2,ce=(b.top+b.bottom)/2;"center"===D?(O=function(ve){return ve<=ie},C=function(ve){return ve>ie}):(O=function(ve){return ve<=l.width/2},C=function(ve){return ve>=p.width-l.width/2}),z=function(ve){return ve+l.width+d.caretSize+d.caretPadding>p.width},U=function(ve){return ve-l.width-d.caretSize-d.caretPadding<0},W=function(ve){return ve<=ce?"top":"bottom"},O(d.x)?(w="left",z(d.x)&&(w="center",D=W(d.y))):C(d.x)&&(w="right",U(d.x)&&(w="center",D=W(d.y)));var pe=a._options;return{xAlign:pe.xAlign?pe.xAlign:w,yAlign:pe.yAlign?pe.yAlign:D}}(this,z),l._chart)}else b.opacity=0;return b.xAlign=O.xAlign,b.yAlign=O.yAlign,b.x=C.x,b.y=C.y,b.width=z.width,b.height=z.height,b.caretX=U.x,b.caretY=U.y,l._model=b,a&&d.custom&&d.custom.call(l,b),l},drawCaret:function(a,l){var d=this._chart.ctx,b=this.getCaretPosition(a,l,this._view);d.lineTo(b.x1,b.y1),d.lineTo(b.x2,b.y2),d.lineTo(b.x3,b.y3)},getCaretPosition:function(a,l,d){var p,b,w,D,O,C,z=d.caretSize,U=d.cornerRadius,W=d.xAlign,ie=d.yAlign,ce=a.x,pe=a.y,ve=l.width,ge=l.height;if("center"===ie)O=pe+ge/2,"left"===W?(b=(p=ce)-z,w=p,D=O+z,C=O-z):(b=(p=ce+ve)+z,w=p,D=O-z,C=O+z);else if("left"===W?(p=(b=ce+U+z)-z,w=b+z):"right"===W?(p=(b=ce+ve-U-z)-z,w=b+z):(p=(b=d.caretX)-z,w=b+z),"top"===ie)O=(D=pe)-z,C=D;else{O=(D=pe+ge)+z,C=D;var Ee=w;w=p,p=Ee}return{x1:p,x2:b,x3:w,y1:D,y2:O,y3:C}},drawTitle:function(a,l,d){var w,D,O,p=l.title,b=p.length;if(b){var C=Rs(l.rtl,l.x,l.width);for(a.x=io(l,l._titleAlign),d.textAlign=C.textAlign(l._titleAlign),d.textBaseline="middle",w=l.titleFontSize,D=l.titleSpacing,d.fillStyle=l.titleFontColor,d.font=X.fontString(w,l._titleFontStyle,l._titleFontFamily),O=0;O<b;++O)d.fillText(p[O],C.x(a.x),a.y+w/2),a.y+=w+D,O+1===b&&(a.y+=l.titleMarginBottom-D)}},drawBody:function(a,l,d){var ie,ce,pe,ve,ge,Ee,Re,Ze,p=l.bodyFontSize,b=l.bodySpacing,w=l._bodyAlign,D=l.body,O=l.displayColors,C=0,z=O?io(l,"left"):0,U=Rs(l.rtl,l.x,l.width),W=function(lt){d.fillText(lt,U.x(a.x+C),a.y+p/2),a.y+=p+b},je=U.textAlign(w);for(d.textAlign=w,d.textBaseline="middle",d.font=X.fontString(p,l._bodyFontStyle,l._bodyFontFamily),a.x=io(l,je),d.fillStyle=l.bodyFontColor,X.each(l.beforeBody,W),C=O&&"right"!==je?"center"===w?p/2+1:p+2:0,ge=0,Re=D.length;ge<Re;++ge){for(ie=D[ge],pe=l.labelColors[ge],d.fillStyle=ce=l.labelTextColors[ge],X.each(ie.before,W),Ee=0,Ze=(ve=ie.lines).length;Ee<Ze;++Ee){if(O){var Ge=U.x(z);d.fillStyle=l.legendColorBackground,d.fillRect(U.leftForLtr(Ge,p),a.y,p,p),d.lineWidth=1,d.strokeStyle=pe.borderColor,d.strokeRect(U.leftForLtr(Ge,p),a.y,p,p),d.fillStyle=pe.backgroundColor,d.fillRect(U.leftForLtr(U.xPlus(Ge,1),p-2),a.y+1,p-2,p-2),d.fillStyle=ce}W(ve[Ee])}X.each(ie.after,W)}C=0,X.each(l.afterBody,W),a.y-=b},drawFooter:function(a,l,d){var w,D,p=l.footer,b=p.length;if(b){var O=Rs(l.rtl,l.x,l.width);for(a.x=io(l,l._footerAlign),a.y+=l.footerMarginTop,d.textAlign=O.textAlign(l._footerAlign),d.textBaseline="middle",w=l.footerFontSize,d.fillStyle=l.footerFontColor,d.font=X.fontString(w,l._footerFontStyle,l._footerFontFamily),D=0;D<b;++D)d.fillText(p[D],O.x(a.x),a.y+w/2),a.y+=w+l.footerSpacing}},drawBackground:function(a,l,d,p){d.fillStyle=l.backgroundColor,d.strokeStyle=l.borderColor,d.lineWidth=l.borderWidth;var b=l.xAlign,w=l.yAlign,D=a.x,O=a.y,C=p.width,z=p.height,U=l.cornerRadius;d.beginPath(),d.moveTo(D+U,O),"top"===w&&this.drawCaret(a,p),d.lineTo(D+C-U,O),d.quadraticCurveTo(D+C,O,D+C,O+U),"center"===w&&"right"===b&&this.drawCaret(a,p),d.lineTo(D+C,O+z-U),d.quadraticCurveTo(D+C,O+z,D+C-U,O+z),"bottom"===w&&this.drawCaret(a,p),d.lineTo(D+U,O+z),d.quadraticCurveTo(D,O+z,D,O+z-U),"center"===w&&"left"===b&&this.drawCaret(a,p),d.lineTo(D,O+U),d.quadraticCurveTo(D,O,D+U,O),d.closePath(),d.fill(),l.borderWidth>0&&d.stroke()},draw:function(){var a=this._chart.ctx,l=this._view;if(0!==l.opacity){var d={width:l.width,height:l.height},p={x:l.x,y:l.y},b=Math.abs(l.opacity<.001)?0:l.opacity;this._options.enabled&&(l.title.length||l.beforeBody.length||l.body.length||l.afterBody.length||l.footer.length)&&(a.save(),a.globalAlpha=b,this.drawBackground(p,l,a,d),p.y+=l.yPadding,X.rtl.overrideTextDirection(a,l.textDirection),this.drawTitle(p,l,a),this.drawBody(p,l,a),this.drawFooter(p,l,a),X.rtl.restoreTextDirection(a,l.textDirection),a.restore())}},handleEvent:function(a){var p,l=this,d=l._options;return l._lastActive=l._lastActive||[],"mouseout"===a.type?l._active=[]:(l._active=l._chart.getElementsAtEventForMode(a,d.mode,d),d.reverse&&l._active.reverse()),(p=!X.arrayEquals(l._active,l._lastActive))&&(l._lastActive=l._active,(d.enabled||d.custom)&&(l._eventPosition={x:a.x,y:a.y},l.update(!0),l.pivot())),p}}),no=ml;no.positioners=Wo;var _s=X.valueOrDefault;function Wa(){return X.merge(Object.create(null),[].slice.call(arguments),{merger:function(a,l,d,p){if("xAxes"===a||"yAxes"===a){var w,D,O,b=d[a].length;for(l[a]||(l[a]=[]),w=0;w<b;++w)D=_s((O=d[a][w]).type,"xAxes"===a?"category":"linear"),w>=l[a].length&&l[a].push({}),X.merge(l[a][w],!l[a][w].type||O.type&&O.type!==l[a][w].type?[vo.getScaleDefaults(D),O]:O)}else X._merger(a,l,d,p)}})}function Ys(){return X.merge(Object.create(null),[].slice.call(arguments),{merger:function(a,l,d,p){var b=l[a]||Object.create(null),w=d[a];"scales"===a?l[a]=Wa(b,w):"scale"===a?l[a]=X.merge(b,[vo.getScaleDefaults(w.type),w]):X._merger(a,l,d,p)}})}function Zo(a){var l=a.options;X.each(a.scales,function(d){wr.removeBox(a,d)}),l=Ys(Gt.global,Gt[a.config.type],l),a.options=a.config.options=l,a.ensureScalesHaveIDs(),a.buildOrUpdateScales(),a.tooltip._options=l.tooltips,a.tooltip.initialize()}function qo(a,l,d){var p,b=function(w){return w.id===p};do{p=l+d++}while(X.findIndex(a,b)>=0);return p}function gs(a){return"top"===a||"bottom"===a}function Ga(a,l){return function(d,p){return d[a]===p[a]?d[l]-p[l]:d[a]-p[a]}}Gt._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var sa=function(a,l){return this.construct(a,l),this};X.extend(sa.prototype,{construct:function(a,l){var d=this;l=function _l(a){var l=(a=a||Object.create(null)).data=a.data||{};return l.datasets=l.datasets||[],l.labels=l.labels||[],a.options=Ys(Gt.global,Gt[a.type],a.options||{}),a}(l);var p=Nr.acquireContext(a,l),b=p&&p.canvas,w=b&&b.height,D=b&&b.width;d.id=X.uid(),d.ctx=p,d.canvas=b,d.config=l,d.width=D,d.height=w,d.aspectRatio=w?D/w:null,d.options=l.options,d._bufferedRender=!1,d._layers=[],d.chart=d,d.controller=d,sa.instances[d.id]=d,Object.defineProperty(d,"data",{get:function(){return d.config.data},set:function(O){d.config.data=O}}),p&&b?(d.initialize(),d.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var a=this;return cn.notify(a,"beforeInit"),X.retinaScale(a,a.options.devicePixelRatio),a.bindEvents(),a.options.responsive&&a.resize(!0),a.initToolTip(),cn.notify(a,"afterInit"),a},clear:function(){return X.canvas.clear(this),this},stop:function(){return ji.cancelAnimation(this),this},resize:function(a){var l=this,d=l.options,p=l.canvas,b=d.maintainAspectRatio&&l.aspectRatio||null,w=Math.max(0,Math.floor(X.getMaximumWidth(p))),D=Math.max(0,Math.floor(b?w/b:X.getMaximumHeight(p)));if((l.width!==w||l.height!==D)&&(p.width=l.width=w,p.height=l.height=D,p.style.width=w+"px",p.style.height=D+"px",X.retinaScale(l,d.devicePixelRatio),!a)){var O={width:w,height:D};cn.notify(l,"resize",[O]),d.onResize&&d.onResize(l,O),l.stop(),l.update({duration:d.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var a=this.options,l=a.scales||{},d=a.scale;X.each(l.xAxes,function(p,b){p.id||(p.id=qo(l.xAxes,"x-axis-",b))}),X.each(l.yAxes,function(p,b){p.id||(p.id=qo(l.yAxes,"y-axis-",b))}),d&&(d.id=d.id||"scale")},buildOrUpdateScales:function(){var a=this,l=a.options,d=a.scales||{},p=[],b=Object.keys(d).reduce(function(w,D){return w[D]=!1,w},{});l.scales&&(p=p.concat((l.scales.xAxes||[]).map(function(w){return{options:w,dtype:"category",dposition:"bottom"}}),(l.scales.yAxes||[]).map(function(w){return{options:w,dtype:"linear",dposition:"left"}}))),l.scale&&p.push({options:l.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),X.each(p,function(w){var D=w.options,O=D.id,C=_s(D.type,w.dtype);gs(D.position)!==gs(w.dposition)&&(D.position=w.dposition),b[O]=!0;var z=null;if(O in d&&d[O].type===C)(z=d[O]).options=D,z.ctx=a.ctx,z.chart=a;else{var U=vo.getScaleConstructor(C);if(!U)return;z=new U({id:O,type:C,options:D,ctx:a.ctx,chart:a}),d[z.id]=z}z.mergeTicksOptions(),w.isDefault&&(a.scale=z)}),X.each(b,function(w,D){w||delete d[D]}),a.scales=d,vo.addScalesToLayout(this)},buildOrUpdateControllers:function(){var p,b,a=this,l=[],d=a.data.datasets;for(p=0,b=d.length;p<b;p++){var w=d[p],D=a.getDatasetMeta(p),O=w.type||a.config.type;if(D.type&&D.type!==O&&(a.destroyDatasetMeta(p),D=a.getDatasetMeta(p)),D.type=O,D.order=w.order||0,D.index=p,D.controller)D.controller.updateIndex(p),D.controller.linkScales();else{var C=za[D.type];if(void 0===C)throw new Error('"'+D.type+'" is not a chart type.');D.controller=new C(a,p),l.push(D.controller)}}return l},resetElements:function(){var a=this;X.each(a.data.datasets,function(l,d){a.getDatasetMeta(d).controller.reset()},a)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(a){var d,p,l=this;if((!a||"object"!=typeof a)&&(a={duration:a,lazy:arguments[1]}),Zo(l),cn._invalidate(l),!1!==cn.notify(l,"beforeUpdate")){l.tooltip._data=l.data;var b=l.buildOrUpdateControllers();for(d=0,p=l.data.datasets.length;d<p;d++)l.getDatasetMeta(d).controller.buildOrUpdateElements();l.updateLayout(),l.options.animation&&l.options.animation.duration&&X.each(b,function(w){w.reset()}),l.updateDatasets(),l.tooltip.initialize(),l.lastActive=[],cn.notify(l,"afterUpdate"),l._layers.sort(Ga("z","_idx")),l._bufferedRender?l._bufferedRequest={duration:a.duration,easing:a.easing,lazy:a.lazy}:l.render(a)}},updateLayout:function(){var a=this;!1!==cn.notify(a,"beforeLayout")&&(wr.update(this,this.width,this.height),a._layers=[],X.each(a.boxes,function(l){l._configure&&l._configure(),a._layers.push.apply(a._layers,l._layers())},a),a._layers.forEach(function(l,d){l._idx=d}),cn.notify(a,"afterScaleUpdate"),cn.notify(a,"afterLayout"))},updateDatasets:function(){var a=this;if(!1!==cn.notify(a,"beforeDatasetsUpdate")){for(var l=0,d=a.data.datasets.length;l<d;++l)a.updateDataset(l);cn.notify(a,"afterDatasetsUpdate")}},updateDataset:function(a){var l=this,d=l.getDatasetMeta(a),p={meta:d,index:a};!1!==cn.notify(l,"beforeDatasetUpdate",[p])&&(d.controller._update(),cn.notify(l,"afterDatasetUpdate",[p]))},render:function(a){var l=this;(!a||"object"!=typeof a)&&(a={duration:a,lazy:arguments[1]});var d=l.options.animation,p=_s(a.duration,d&&d.duration),b=a.lazy;if(!1!==cn.notify(l,"beforeRender")){var w=function(O){cn.notify(l,"afterRender"),X.callback(d&&d.onComplete,[O],l)};if(d&&p){var D=new pn({numSteps:p/16.66,easing:a.easing||d.easing,render:function(O,C){var U=C.currentStep,W=U/C.numSteps;O.draw((0,X.easing.effects[C.easing])(W),W,U)},onAnimationProgress:d.onProgress,onAnimationComplete:w});ji.addAnimation(l,D,p,b)}else l.draw(),w(new pn({numSteps:0,chart:l}));return l}},draw:function(a){var d,p,l=this;if(l.clear(),X.isNullOrUndef(a)&&(a=1),l.transition(a),!(l.width<=0||l.height<=0)&&!1!==cn.notify(l,"beforeDraw",[a])){for(p=l._layers,d=0;d<p.length&&p[d].z<=0;++d)p[d].draw(l.chartArea);for(l.drawDatasets(a);d<p.length;++d)p[d].draw(l.chartArea);l._drawTooltip(a),cn.notify(l,"afterDraw",[a])}},transition:function(a){for(var l=this,d=0,p=(l.data.datasets||[]).length;d<p;++d)l.isDatasetVisible(d)&&l.getDatasetMeta(d).controller.transition(a);l.tooltip.transition(a)},_getSortedDatasetMetas:function(a){var b,w,l=this,p=[];for(b=0,w=(l.data.datasets||[]).length;b<w;++b)(!a||l.isDatasetVisible(b))&&p.push(l.getDatasetMeta(b));return p.sort(Ga("order","index")),p},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(a){var d,p,l=this;if(!1!==cn.notify(l,"beforeDatasetsDraw",[a])){for(p=(d=l._getSortedVisibleDatasetMetas()).length-1;p>=0;--p)l.drawDataset(d[p],a);cn.notify(l,"afterDatasetsDraw",[a])}},drawDataset:function(a,l){var p={meta:a,index:a.index,easingValue:l};!1!==cn.notify(this,"beforeDatasetDraw",[p])&&(a.controller.draw(l),cn.notify(this,"afterDatasetDraw",[p]))},_drawTooltip:function(a){var l=this,d=l.tooltip,p={tooltip:d,easingValue:a};!1!==cn.notify(l,"beforeTooltipDraw",[p])&&(d.draw(),cn.notify(l,"afterTooltipDraw",[p]))},getElementAtEvent:function(a){return Xs.modes.single(this,a)},getElementsAtEvent:function(a){return Xs.modes.label(this,a,{intersect:!0})},getElementsAtXAxis:function(a){return Xs.modes["x-axis"](this,a,{intersect:!0})},getElementsAtEventForMode:function(a,l,d){var p=Xs.modes[l];return"function"==typeof p?p(this,a,d):[]},getDatasetAtEvent:function(a){return Xs.modes.dataset(this,a,{intersect:!0})},getDatasetMeta:function(a){var l=this,d=l.data.datasets[a];d._meta||(d._meta={});var p=d._meta[l.id];return p||(p=d._meta[l.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:d.order||0,index:a}),p},getVisibleDatasetCount:function(){for(var a=0,l=0,d=this.data.datasets.length;l<d;++l)this.isDatasetVisible(l)&&a++;return a},isDatasetVisible:function(a){var l=this.getDatasetMeta(a);return"boolean"==typeof l.hidden?!l.hidden:!this.data.datasets[a].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(a){var l=this.id,d=this.data.datasets[a],p=d._meta&&d._meta[l];p&&(p.controller.destroy(),delete d._meta[l])},destroy:function(){var d,p,a=this,l=a.canvas;for(a.stop(),d=0,p=a.data.datasets.length;d<p;++d)a.destroyDatasetMeta(d);l&&(a.unbindEvents(),X.canvas.clear(a),Nr.releaseContext(a.ctx),a.canvas=null,a.ctx=null),cn.notify(a,"destroy"),delete sa.instances[a.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var a=this;a.tooltip=new no({_chart:a,_chartInstance:a,_data:a.data,_options:a.options.tooltips},a)},bindEvents:function(){var a=this,l=a._listeners={},d=function(){a.eventHandler.apply(a,arguments)};X.each(a.options.events,function(p){Nr.addEventListener(a,p,d),l[p]=d}),a.options.responsive&&(d=function(){a.resize()},Nr.addEventListener(a,"resize",d),l.resize=d)},unbindEvents:function(){var a=this,l=a._listeners;!l||(delete a._listeners,X.each(l,function(d,p){Nr.removeEventListener(a,p,d)}))},updateHoverStyle:function(a,l,d){var b,w,D,p=d?"set":"remove";for(w=0,D=a.length;w<D;++w)(b=a[w])&&this.getDatasetMeta(b._datasetIndex).controller[p+"HoverStyle"](b);"dataset"===l&&this.getDatasetMeta(a[0]._datasetIndex).controller["_"+p+"DatasetHoverStyle"]()},eventHandler:function(a){var l=this,d=l.tooltip;if(!1!==cn.notify(l,"beforeEvent",[a])){l._bufferedRender=!0,l._bufferedRequest=null;var p=l.handleEvent(a);d&&(p=d._start?d.handleEvent(a):p|d.handleEvent(a)),cn.notify(l,"afterEvent",[a]);var b=l._bufferedRequest;return b?l.render(b):p&&!l.animating&&(l.stop(),l.render({duration:l.options.hover.animationDuration,lazy:!0})),l._bufferedRender=!1,l._bufferedRequest=null,l}},handleEvent:function(a){var b,l=this,d=l.options||{},p=d.hover;return l.lastActive=l.lastActive||[],l.active="mouseout"===a.type?[]:l.getElementsAtEventForMode(a,p.mode,p),X.callback(d.onHover||d.hover.onHover,[a.native,l.active],l),("mouseup"===a.type||"click"===a.type)&&d.onClick&&d.onClick.call(l,a.native,l.active),l.lastActive.length&&l.updateHoverStyle(l.lastActive,p.mode,!1),l.active.length&&p.mode&&l.updateHoverStyle(l.active,p.mode,!0),b=!X.arrayEquals(l.active,l.lastActive),l.lastActive=l.active,b}}),sa.instances={};var xi=sa;sa.Controller=sa,sa.types={},X.configMerge=Ys,X.scaleMerge=Wa;function xa(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function zs(a){this.options=a||{}}X.extend(zs.prototype,{formats:xa,parse:xa,format:xa,add:xa,diff:xa,startOf:xa,endOf:xa,_create:function(a){return a}}),zs.override=function(a){X.extend(zs.prototype,a)};var ro={_date:zs},ys={formatters:{values:function(a){return X.isArray(a)?a:""+a},linear:function(a,l,d){var p=d.length>3?d[2]-d[1]:d[1]-d[0];Math.abs(p)>1&&a!==Math.floor(a)&&(p=a-Math.floor(a));var b=X.log10(Math.abs(p)),w="";if(0!==a)if(Math.max(Math.abs(d[0]),Math.abs(d[d.length-1]))<1e-4){var O=X.log10(Math.abs(a)),C=Math.floor(O)-Math.floor(b);C=Math.max(Math.min(C,20),0),w=a.toExponential(C)}else{var z=-1*Math.floor(b);z=Math.max(Math.min(z,20),0),w=a.toFixed(z)}else w="0";return w},logarithmic:function(a,l,d){var p=a/Math.pow(10,Math.floor(X.log10(a)));return 0===a?"0":1===p||2===p||5===p||0===l||l===d.length-1?a.toExponential():""}}},vs=X.isArray,Xr=X.isNullOrUndef,bs=X.valueOrDefault,Bs=X.valueAtIndexOrDefault;function Nl(a,l,d){var z,p=a.getTicks().length,b=Math.min(l,p-1),w=a.getPixelForTick(b),D=a._startPixel,O=a._endPixel,C=1e-6;if(!(d&&(z=1===p?Math.max(w-D,O-w):0===l?(a.getPixelForTick(1)-w)/2:(w-a.getPixelForTick(b-1))/2,w+=b<l?z:-z,w<D-C||w>O+C)))return w}function xs(a,l,d,p){var U,W,ie,ce,pe,ve,ge,Ee,Re,Ze,je,Ge,lt,b=d.length,w=[],D=[],O=[],C=0,z=0;for(U=0;U<b;++U){if(ce=d[U].label,a.font=ve=(pe=d[U].major?l.major:l.minor).string,ge=p[ve]=p[ve]||{data:{},gc:[]},Ee=pe.lineHeight,Re=Ze=0,Xr(ce)||vs(ce)){if(vs(ce))for(W=0,ie=ce.length;W<ie;++W)!Xr(je=ce[W])&&!vs(je)&&(Re=X.measureText(a,ge.data,ge.gc,Re,je),Ze+=Ee)}else Re=X.measureText(a,ge.data,ge.gc,Re,ce),Ze=Ee;w.push(Re),D.push(Ze),O.push(Ee/2),C=Math.max(Re,C),z=Math.max(Ze,z)}function tt(ot){return{width:w[ot]||0,height:D[ot]||0,offset:O[ot]||0}}return function oa(a,l){X.each(a,function(d){var w,p=d.gc,b=p.length/2;if(b>l){for(w=0;w<b;++w)delete d.data[p[w]];p.splice(0,b)}})}(p,b),Ge=w.indexOf(C),lt=D.indexOf(z),{first:tt(0),last:tt(b-1),widest:tt(Ge),highest:tt(lt)}}function Za(a){return a.drawTicks?a.tickMarkLength:0}function ws(a){var l,d;return a.display?(l=X.options._parseFont(a),d=X.options.toPadding(a.padding),l.lineHeight+d.height):0}function $o(a,l){return X.extend(X.options._parseFont({fontFamily:bs(l.fontFamily,a.fontFamily),fontSize:bs(l.fontSize,a.fontSize),fontStyle:bs(l.fontStyle,a.fontStyle),lineHeight:bs(l.lineHeight,a.lineHeight)}),{color:X.options.resolve([l.fontColor,a.fontColor,Gt.global.defaultFontColor])})}function la(a){var l=$o(a,a.minor);return{minor:l,major:a.major.enabled?$o(a,a.major):l}}function Jr(a){var d,p,b,l=[];for(p=0,b=a.length;p<b;++p)void 0!==(d=a[p])._index&&l.push(d);return l}function wa(a,l,d,p){var O,C,z,U,b=bs(d,0),w=Math.min(bs(p,a.length),a.length),D=0;for(l=Math.ceil(l),p&&(l=(O=p-d)/Math.floor(O/l)),U=b;U<0;)D++,U=Math.round(b+D*l);for(C=Math.max(b,0);C<w;C++)z=a[C],C===U?(z._index=C,D++,U=Math.round(b+D*l)):delete z.label}Gt._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:ys.formatters.values,minor:{},major:{}}});var ca=_t.extend({zeroLineIndex:0,getPadding:function(){var a=this;return{left:a.paddingLeft||0,top:a.paddingTop||0,right:a.paddingRight||0,bottom:a.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){X.callback(this.options.beforeUpdate,[this])},update:function(a,l,d){var D,O,C,z,U,p=this,b=p.options.ticks,w=b.sampleSize;if(p.beforeUpdate(),p.maxWidth=a,p.maxHeight=l,p.margins=X.extend({left:0,right:0,top:0,bottom:0},d),p._ticks=null,p.ticks=null,p._labelSizes=null,p._maxLabelLines=0,p.longestLabelWidth=0,p.longestTextCache=p.longestTextCache||{},p._gridLineItems=null,p._labelItems=null,p.beforeSetDimensions(),p.setDimensions(),p.afterSetDimensions(),p.beforeDataLimits(),p.determineDataLimits(),p.afterDataLimits(),p.beforeBuildTicks(),z=p.buildTicks()||[],(!(z=p.afterBuildTicks(z)||z)||!z.length)&&p.ticks)for(z=[],D=0,O=p.ticks.length;D<O;++D)z.push({value:p.ticks[D],major:!1});return p._ticks=z,C=p._convertTicksToLabels((U=w<z.length)?function jl(a,l){for(var d=[],p=a.length/l,b=0,w=a.length;b<w;b+=p)d.push(a[Math.floor(b)]);return d}(z,w):z),p._configure(),p.beforeCalculateTickRotation(),p.calculateTickRotation(),p.afterCalculateTickRotation(),p.beforeFit(),p.fit(),p.afterFit(),p._ticksToDraw=b.display&&(b.autoSkip||"auto"===b.source)?p._autoSkip(z):z,U&&(C=p._convertTicksToLabels(p._ticksToDraw)),p.ticks=C,p.afterUpdate(),p.minSize},_configure:function(){var d,p,a=this,l=a.options.ticks.reverse;a.isHorizontal()?(d=a.left,p=a.right):(d=a.top,p=a.bottom,l=!l),a._startPixel=d,a._endPixel=p,a._reversePixels=l,a._length=p-d},afterUpdate:function(){X.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){X.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var a=this;a.isHorizontal()?(a.width=a.maxWidth,a.left=0,a.right=a.width):(a.height=a.maxHeight,a.top=0,a.bottom=a.height),a.paddingLeft=0,a.paddingTop=0,a.paddingRight=0,a.paddingBottom=0},afterSetDimensions:function(){X.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){X.callback(this.options.beforeDataLimits,[this])},determineDataLimits:X.noop,afterDataLimits:function(){X.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){X.callback(this.options.beforeBuildTicks,[this])},buildTicks:X.noop,afterBuildTicks:function(a){var l=this;return vs(a)&&a.length?X.callback(l.options.afterBuildTicks,[l,a]):(l.ticks=X.callback(l.options.afterBuildTicks,[l,l.ticks])||l.ticks,a)},beforeTickToLabelConversion:function(){X.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var a=this,l=a.options.ticks;a.ticks=a.ticks.map(l.userCallback||l.callback,this)},afterTickToLabelConversion:function(){X.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){X.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var O,C,z,U,W,ie,ce,a=this,l=a.options,d=l.ticks,p=a.getTicks().length,b=d.minRotation||0,w=d.maxRotation,D=b;!a._isVisible()||!d.display||b>=w||p<=1||!a.isHorizontal()?a.labelRotation=b:(C=(O=a._getLabelSizes()).widest.width,z=O.highest.height-O.highest.offset,U=Math.min(a.maxWidth,a.chart.width-C),C+6>(W=l.offset?a.maxWidth/p:U/(p-1))&&(W=U/(p-(l.offset?.5:1)),ie=a.maxHeight-Za(l.gridLines)-d.padding-ws(l.scaleLabel),ce=Math.sqrt(C*C+z*z),D=X.toDegrees(Math.min(Math.asin(Math.min((O.highest.height+6)/W,1)),Math.asin(Math.min(ie/ce,1))-Math.asin(z/ce))),D=Math.max(b,Math.min(w,D))),a.labelRotation=D)},afterCalculateTickRotation:function(){X.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){X.callback(this.options.beforeFit,[this])},fit:function(){var a=this,l=a.minSize={width:0,height:0},d=a.chart,p=a.options,b=p.ticks,w=p.scaleLabel,D=p.gridLines,O=a._isVisible(),C="bottom"===p.position,z=a.isHorizontal();if(z?l.width=a.maxWidth:O&&(l.width=Za(D)+ws(w)),z?O&&(l.height=Za(D)+ws(w)):l.height=a.maxHeight,b.display&&O){var U=la(b),W=a._getLabelSizes(),ie=W.first,ce=W.last,pe=W.widest,ve=W.highest,ge=.4*U.minor.lineHeight,Ee=b.padding;if(z){var Re=0!==a.labelRotation,Ze=X.toRadians(a.labelRotation),je=Math.cos(Ze),Ge=Math.sin(Ze);l.height=Math.min(a.maxHeight,l.height+(Ge*pe.width+je*(ve.height-(Re?ve.offset:0))+(Re?0:ge))+Ee);var Et,Vt,tt=a.getPixelForTick(0)-a.left,ot=a.right-a.getPixelForTick(a.getTicks().length-1);Re?(Et=C?je*ie.width+Ge*ie.offset:Ge*(ie.height-ie.offset),Vt=C?Ge*(ce.height-ce.offset):je*ce.width+Ge*ce.offset):(Et=ie.width/2,Vt=ce.width/2),a.paddingLeft=Math.max((Et-tt)*a.width/(a.width-tt),0)+3,a.paddingRight=Math.max((Vt-ot)*a.width/(a.width-ot),0)+3}else l.width=Math.min(a.maxWidth,l.width+(b.mirror?0:pe.width+Ee+ge)),a.paddingTop=ie.height/2,a.paddingBottom=ce.height/2}a.handleMargins(),z?(a.width=a._length=d.width-a.margins.left-a.margins.right,a.height=l.height):(a.width=l.width,a.height=a._length=d.height-a.margins.top-a.margins.bottom)},handleMargins:function(){var a=this;a.margins&&(a.margins.left=Math.max(a.paddingLeft,a.margins.left),a.margins.top=Math.max(a.paddingTop,a.margins.top),a.margins.right=Math.max(a.paddingRight,a.margins.right),a.margins.bottom=Math.max(a.paddingBottom,a.margins.bottom))},afterFit:function(){X.callback(this.options.afterFit,[this])},isHorizontal:function(){var a=this.options.position;return"top"===a||"bottom"===a},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(a){if(Xr(a))return NaN;if(("number"==typeof a||a instanceof Number)&&!isFinite(a))return NaN;if(a)if(this.isHorizontal()){if(void 0!==a.x)return this.getRightValue(a.x)}else if(void 0!==a.y)return this.getRightValue(a.y);return a},_convertTicksToLabels:function(a){var d,p,b,l=this;for(l.ticks=a.map(function(w){return w.value}),l.beforeTickToLabelConversion(),d=l.convertTicksToLabels(a)||l.ticks,l.afterTickToLabelConversion(),p=0,b=a.length;p<b;++p)a[p].label=d[p];return d},_getLabelSizes:function(){var a=this,l=a._labelSizes;return l||(a._labelSizes=l=xs(a.ctx,la(a.options.ticks),a.getTicks(),a.longestTextCache),a.longestLabelWidth=l.widest.width),l},_parseValue:function(a){var l,d,p,b;return vs(a)?(l=+this.getRightValue(a[0]),d=+this.getRightValue(a[1]),p=Math.min(l,d),b=Math.max(l,d)):(l=void 0,d=a=+this.getRightValue(a),p=a,b=a),{min:p,max:b,start:l,end:d}},_getScaleLabel:function(a){var l=this._parseValue(a);return void 0!==l.start?"["+l.start+", "+l.end+"]":+this.getRightValue(a)},getLabelForIndex:X.noop,getPixelForValue:X.noop,getValueForPixel:X.noop,getPixelForTick:function(a){var l=this,d=l.options.offset,p=l._ticks.length,b=1/Math.max(p-(d?0:1),1);return a<0||a>p-1?null:l.getPixelForDecimal(a*b+(d?b/2:0))},getPixelForDecimal:function(a){var l=this;return l._reversePixels&&(a=1-a),l._startPixel+a*l._length},getDecimalForPixel:function(a){var l=(a-this._startPixel)/this._length;return this._reversePixels?1-l:l},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var a=this,l=a.min,d=a.max;return a.beginAtZero?0:l<0&&d<0?d:l>0&&d>0?l:0},_autoSkip:function(a){var z,U,W,ie,l=this,d=l.options.ticks,p=l._length,b=d.maxTicksLimit||p/l._tickSize()+1,w=d.major.enabled?function To(a){var d,p,l=[];for(d=0,p=a.length;d<p;d++)a[d].major&&l.push(d);return l}(a):[],D=w.length,O=w[0],C=w[D-1];if(D>b)return function gl(a,l,d){var w,D,p=0,b=l[0];for(d=Math.ceil(d),w=0;w<a.length;w++)D=a[w],w===b?(D._index=w,b=l[++p*d]):delete D.label}(a,w,D/b),Jr(a);if(W=function Rr(a,l,d,p){var D,O,C,z,b=function Mo(a){var d,p,l=a.length;if(l<2)return!1;for(p=a[0],d=1;d<l;++d)if(a[d]-a[d-1]!==p)return!1;return p}(a),w=(l.length-1)/p;if(!b)return Math.max(w,1);for(C=0,z=(D=X.math._factorize(b)).length-1;C<z;C++)if((O=D[C])>w)return O;return Math.max(w,1)}(w,a,0,b),D>0){for(z=0,U=D-1;z<U;z++)wa(a,W,w[z],w[z+1]);return wa(a,W,X.isNullOrUndef(ie=D>1?(C-O)/(D-1):null)?0:O-ie,O),wa(a,W,C,X.isNullOrUndef(ie)?a.length:C+ie),Jr(a)}return wa(a,W),Jr(a)},_tickSize:function(){var a=this,l=a.options.ticks,d=X.toRadians(a.labelRotation),p=Math.abs(Math.cos(d)),b=Math.abs(Math.sin(d)),w=a._getLabelSizes(),D=l.autoSkipPadding||0,O=w?w.widest.width+D:0,C=w?w.highest.height+D:0;return a.isHorizontal()?C*p>O*b?O/p:C/b:C*b<O*p?C/p:O/b},_isVisible:function(){var p,b,w,a=this,l=a.chart,d=a.options.display;if("auto"!==d)return!!d;for(p=0,b=l.data.datasets.length;p<b;++p)if(l.isDatasetVisible(p)&&((w=l.getDatasetMeta(p)).xAxisID===a.id||w.yAxisID===a.id))return!0;return!1},_computeGridLineItems:function(a){var ge,Ee,Re,Ze,je,Ge,lt,tt,ot,Et,Vt,It,Dt,Zt,ci,jt,Ei,l=this,d=l.chart,p=l.options,b=p.gridLines,w=p.position,D=b.offsetGridLines,O=l.isHorizontal(),C=l._ticksToDraw,z=C.length+(D?1:0),U=Za(b),W=[],ie=b.drawBorder?Bs(b.lineWidth,0,0):0,ce=ie/2,pe=X._alignPixel,ve=function(Ji){return pe(d,Ji,ie)};for("top"===w?(ge=ve(l.bottom),lt=l.bottom-U,ot=ge-ce,Vt=ve(a.top)+ce,Dt=a.bottom):"bottom"===w?(ge=ve(l.top),Vt=a.top,Dt=ve(a.bottom)-ce,lt=ge+ce,ot=l.top+U):"left"===w?(ge=ve(l.right),Ge=l.right-U,tt=ge-ce,Et=ve(a.left)+ce,It=a.right):(ge=ve(l.left),Et=a.left,It=ve(a.right)-ce,Ge=ge+ce,tt=l.left+U),Ee=0;Ee<z;++Ee)!(Xr((Re=C[Ee]||{}).label)&&Ee<C.length)&&(Ee===l.zeroLineIndex&&p.offset===D?(Zt=b.zeroLineWidth,ci=b.zeroLineColor,jt=b.zeroLineBorderDash||[],Ei=b.zeroLineBorderDashOffset||0):(Zt=Bs(b.lineWidth,Ee,1),ci=Bs(b.color,Ee,"rgba(0,0,0,0.1)"),jt=b.borderDash||[],Ei=b.borderDashOffset||0),void 0!==(Ze=Nl(l,Re._index||Ee,D))&&(je=pe(d,Ze,Zt),O?Ge=tt=Et=It=je:lt=ot=Vt=Dt=je,W.push({tx1:Ge,ty1:lt,tx2:tt,ty2:ot,x1:Et,y1:Vt,x2:It,y2:Dt,width:Zt,color:ci,borderDash:jt,borderDashOffset:Ei})));return W.ticksLength=z,W.borderValue=ge,W},_computeLabelItems:function(){var ie,ce,pe,ve,ge,Ee,Re,Ze,je,Ge,lt,tt,a=this,l=a.options,d=l.ticks,p=l.position,b=d.mirror,w=a.isHorizontal(),D=a._ticksToDraw,O=la(d),C=d.padding,z=Za(l.gridLines),U=-X.toRadians(a.labelRotation),W=[];for("top"===p?(Ee=a.bottom-z-C,Re=U?"left":"center"):"bottom"===p?(Ee=a.top+z+C,Re=U?"right":"center"):"left"===p?(ge=a.right-(b?0:z)-C,Re=b?"left":"right"):(ge=a.left+(b?0:z)+C,Re=b?"right":"left"),ie=0,ce=D.length;ie<ce;++ie)!Xr(ve=(pe=D[ie]).label)&&(Ze=a.getPixelForTick(pe._index||ie)+d.labelOffset,Ge=(je=pe.major?O.major:O.minor).lineHeight,lt=vs(ve)?ve.length:1,w?(ge=Ze,tt="top"===p?((U?1:.5)-lt)*Ge:(U?0:.5)*Ge):(Ee=Ze,tt=(1-lt)*Ge/2),W.push({x:ge,y:Ee,rotation:U,label:ve,font:je,textOffset:tt,textAlign:Re}));return W},_drawGrid:function(a){var l=this,d=l.options.gridLines;if(d.display){var C,z,U,W,ie,p=l.ctx,b=l.chart,w=X._alignPixel,D=d.drawBorder?Bs(d.lineWidth,0,0):0,O=l._gridLineItems||(l._gridLineItems=l._computeGridLineItems(a));for(U=0,W=O.length;U<W;++U)z=(ie=O[U]).color,(C=ie.width)&&z&&(p.save(),p.lineWidth=C,p.strokeStyle=z,p.setLineDash&&(p.setLineDash(ie.borderDash),p.lineDashOffset=ie.borderDashOffset),p.beginPath(),d.drawTicks&&(p.moveTo(ie.tx1,ie.ty1),p.lineTo(ie.tx2,ie.ty2)),d.drawOnChartArea&&(p.moveTo(ie.x1,ie.y1),p.lineTo(ie.x2,ie.y2)),p.stroke(),p.restore());if(D){var ge,Ee,Re,Ze,ce=D,pe=Bs(d.lineWidth,O.ticksLength-1,1),ve=O.borderValue;l.isHorizontal()?(ge=w(b,l.left,ce)-ce/2,Ee=w(b,l.right,pe)+pe/2,Re=Ze=ve):(Re=w(b,l.top,ce)-ce/2,Ze=w(b,l.bottom,pe)+pe/2,ge=Ee=ve),p.lineWidth=D,p.strokeStyle=Bs(d.color,0),p.beginPath(),p.moveTo(ge,Re),p.lineTo(Ee,Ze),p.stroke()}}},_drawLabels:function(){var a=this;if(a.options.ticks.display){var b,w,D,O,C,z,U,W,d=a.ctx,p=a._labelItems||(a._labelItems=a._computeLabelItems());for(b=0,D=p.length;b<D;++b){if(z=(C=p[b]).font,d.save(),d.translate(C.x,C.y),d.rotate(C.rotation),d.font=z.string,d.fillStyle=z.color,d.textBaseline="middle",d.textAlign=C.textAlign,W=C.textOffset,vs(U=C.label))for(w=0,O=U.length;w<O;++w)d.fillText(""+U[w],0,W),W+=z.lineHeight;else d.fillText(U,0,W);d.restore()}}},_drawTitle:function(){var a=this,l=a.ctx,d=a.options,p=d.scaleLabel;if(p.display){var U,W,b=bs(p.fontColor,Gt.global.defaultFontColor),w=X.options._parseFont(p),D=X.options.toPadding(p.padding),O=w.lineHeight/2,C=d.position,z=0;if(a.isHorizontal())U=a.left+a.width/2,W="bottom"===C?a.bottom-O-D.bottom:a.top+O+D.top;else{var ie="left"===C;U=ie?a.left+O+D.top:a.right-O-D.top,W=a.top+a.height/2,z=ie?-.5*Math.PI:.5*Math.PI}l.save(),l.translate(U,W),l.rotate(z),l.textAlign="center",l.textBaseline="middle",l.fillStyle=b,l.font=w.string,l.fillText(p.labelString,0,0),l.restore()}},draw:function(a){var l=this;!l._isVisible()||(l._drawGrid(a),l._drawTitle(),l._drawLabels())},_layers:function(){var a=this,l=a.options,d=l.ticks&&l.ticks.z||0,p=l.gridLines&&l.gridLines.z||0;return a._isVisible()&&d!==p&&a.draw===a._draw?[{z:p,draw:function(){a._drawGrid.apply(a,arguments),a._drawTitle.apply(a,arguments)}},{z:d,draw:function(){a._drawLabels.apply(a,arguments)}}]:[{z:d,draw:function(){a.draw.apply(a,arguments)}}]},_getMatchingVisibleMetas:function(a){var l=this,d=l.isHorizontal();return l.chart._getSortedVisibleDatasetMetas().filter(function(p){return(!a||p.type===a)&&(d?p.xAxisID===l.id:p.yAxisID===l.id)})}});ca.prototype._draw=ca.prototype.draw;var sr=ca,ao=X.isNullOrUndef,hr=sr.extend({determineDataLimits:function(){var O,a=this,l=a._getLabels(),d=a.options.ticks,p=d.min,b=d.max,w=0,D=l.length-1;void 0!==p&&(O=l.indexOf(p))>=0&&(w=O),void 0!==b&&(O=l.indexOf(b))>=0&&(D=O),a.minIndex=w,a.maxIndex=D,a.min=l[w],a.max=l[D]},buildTicks:function(){var a=this,l=a._getLabels(),d=a.minIndex,p=a.maxIndex;a.ticks=0===d&&p===l.length-1?l:l.slice(d,p+1)},getLabelForIndex:function(a,l){var d=this,p=d.chart;return p.getDatasetMeta(l).controller._getValueScaleId()===d.id?d.getRightValue(p.data.datasets[l].data[a]):d._getLabels()[a]},_configure:function(){var a=this,l=a.options.offset,d=a.ticks;sr.prototype._configure.call(a),a.isHorizontal()||(a._reversePixels=!a._reversePixels),d&&(a._startValue=a.minIndex-(l?.5:0),a._valueRange=Math.max(d.length-(l?0:1),1))},getPixelForValue:function(a,l,d){var b,w,D,p=this;return!ao(l)&&!ao(d)&&(a=p.chart.data.datasets[d].data[l]),ao(a)||(b=p.isHorizontal()?a.x:a.y),(void 0!==b||void 0!==a&&isNaN(l))&&(w=p._getLabels(),a=X.valueOrDefault(b,a),l=-1!==(D=w.indexOf(a))?D:l,isNaN(l)&&(l=a)),p.getPixelForDecimal((l-p._startValue)/p._valueRange)},getPixelForTick:function(a){var l=this.ticks;return a<0||a>l.length-1?null:this.getPixelForValue(l[a],a+this.minIndex)},getValueForPixel:function(a){var l=this,d=Math.round(l._startValue+l.getDecimalForPixel(a)*l._valueRange);return Math.min(Math.max(d,0),l.ticks.length-1)},getBasePixel:function(){return this.bottom}});hr._defaults={position:"bottom"};var Kr=X.isNullOrUndef;var Ms=sr.extend({getRightValue:function(a){return"string"==typeof a?+a:sr.prototype.getRightValue.call(this,a)},handleTickRangeOptions:function(){var a=this,d=a.options.ticks;if(d.beginAtZero){var p=X.sign(a.min),b=X.sign(a.max);p<0&&b<0?a.max=0:p>0&&b>0&&(a.min=0)}var w=void 0!==d.min||void 0!==d.suggestedMin,D=void 0!==d.max||void 0!==d.suggestedMax;void 0!==d.min?a.min=d.min:void 0!==d.suggestedMin&&(a.min=null===a.min?d.suggestedMin:Math.min(a.min,d.suggestedMin)),void 0!==d.max?a.max=d.max:void 0!==d.suggestedMax&&(a.max=null===a.max?d.suggestedMax:Math.max(a.max,d.suggestedMax)),w!==D&&a.min>=a.max&&(w?a.max=a.min+1:a.min=a.max-1),a.min===a.max&&(a.max++,d.beginAtZero||a.min--)},getTickLimit:function(){var b,a=this,l=a.options.ticks,d=l.stepSize,p=l.maxTicksLimit;return d?b=Math.ceil(a.max/d)-Math.floor(a.min/d)+1:(b=a._computeTickLimit(),p=p||11),p&&(b=Math.min(p,b)),b},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:X.noop,buildTicks:function(){var a=this,d=a.options.ticks,p=a.getTickLimit(),b={maxTicks:p=Math.max(2,p),min:d.min,max:d.max,precision:d.precision,stepSize:X.valueOrDefault(d.fixedStepSize,d.stepSize)},w=a.ticks=function Hl(a,l){var ce,pe,ve,ge,d=[],b=a.stepSize,w=b||1,D=a.maxTicks-1,O=a.min,C=a.max,z=a.precision,U=l.min,W=l.max,ie=X.niceNum((W-U)/D/w)*w;if(ie<1e-14&&Kr(O)&&Kr(C))return[U,W];(ge=Math.ceil(W/ie)-Math.floor(U/ie))>D&&(ie=X.niceNum(ge*ie/D/w)*w),b||Kr(z)?ce=Math.pow(10,X._decimalPlaces(ie)):(ce=Math.pow(10,z),ie=Math.ceil(ie*ce)/ce),pe=Math.floor(U/ie)*ie,ve=Math.ceil(W/ie)*ie,b&&(!Kr(O)&&X.almostWhole(O/ie,ie/1e3)&&(pe=O),!Kr(C)&&X.almostWhole(C/ie,ie/1e3)&&(ve=C)),ge=X.almostEquals(ge=(ve-pe)/ie,Math.round(ge),ie/1e3)?Math.round(ge):Math.ceil(ge),pe=Math.round(pe*ce)/ce,ve=Math.round(ve*ce)/ce,d.push(Kr(O)?pe:O);for(var Ee=1;Ee<ge;++Ee)d.push(Math.round((pe+Ee*ie)*ce)/ce);return d.push(Kr(C)?ve:C),d}(b,a);a.handleDirectionalChanges(),a.max=X.max(w),a.min=X.min(w),d.reverse?(w.reverse(),a.start=a.max,a.end=a.min):(a.start=a.min,a.end=a.max)},convertTicksToLabels:function(){var a=this;a.ticksAsNumbers=a.ticks.slice(),a.zeroLineIndex=a.ticks.indexOf(0),sr.prototype.convertTicksToLabels.call(a)},_configure:function(){var b,a=this,l=a.getTicks(),d=a.min,p=a.max;sr.prototype._configure.call(a),a.options.offset&&l.length&&(d-=b=(p-d)/Math.max(l.length-1,1)/2,p+=b),a._startValue=d,a._endValue=p,a._valueRange=p-d}}),qa={position:"left",ticks:{callback:ys.formatters.linear}};function $a(a,l,d,p){var U,W,b=a.options,D=function js(a,l,d){var p=[d.type,void 0===l&&void 0===d.stack?d.index:"",d.stack].join(".");return void 0===a[p]&&(a[p]={pos:[],neg:[]}),a[p]}(l,b.stacked,d),O=D.pos,C=D.neg,z=p.length;for(U=0;U<z;++U)W=a._parseValue(p[U]),!(isNaN(W.min)||isNaN(W.max)||d.data[U].hidden)&&(O[U]=O[U]||0,C[U]=C[U]||0,b.relativePoints?O[U]=100:W.min<0||W.max<0?C[U]+=W.min:O[U]+=W.max)}function N(a,l,d){var b,w,p=d.length;for(b=0;b<p;++b)w=a._parseValue(d[b]),!(isNaN(w.min)||isNaN(w.max)||l.data[b].hidden)&&(a.min=Math.min(a.min,w.min),a.max=Math.max(a.max,w.max))}var G=Ms.extend({determineDataLimits:function(){var C,z,U,W,a=this,l=a.options,p=a.chart.data.datasets,b=a._getMatchingVisibleMetas(),w=l.stacked,D={},O=b.length;if(a.min=Number.POSITIVE_INFINITY,a.max=Number.NEGATIVE_INFINITY,void 0===w)for(C=0;!w&&C<O;++C)w=void 0!==(z=b[C]).stack;for(C=0;C<O;++C)U=p[(z=b[C]).index].data,w?$a(a,D,z,U):N(a,z,U);X.each(D,function(ie){W=ie.pos.concat(ie.neg),a.min=Math.min(a.min,X.min(W)),a.max=Math.max(a.max,X.max(W))}),a.min=X.isFinite(a.min)&&!isNaN(a.min)?a.min:0,a.max=X.isFinite(a.max)&&!isNaN(a.max)?a.max:1,a.handleTickRangeOptions()},_computeTickLimit:function(){var l,a=this;return a.isHorizontal()?Math.ceil(a.width/40):(l=X.options._parseFont(a.options.ticks),Math.ceil(a.height/l.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(a,l){return this._getScaleLabel(this.chart.data.datasets[l].data[a])},getPixelForValue:function(a){var l=this;return l.getPixelForDecimal((+l.getRightValue(a)-l._startValue)/l._valueRange)},getValueForPixel:function(a){return this._startValue+this.getDecimalForPixel(a)*this._valueRange},getPixelForTick:function(a){var l=this.ticksAsNumbers;return a<0||a>l.length-1?null:this.getPixelForValue(l[a])}});G._defaults=qa;var De=X.valueOrDefault,rt=X.math.log10;var pi={position:"left",ticks:{callback:ys.formatters.logarithmic}};function tn(a,l){return X.isFinite(a)&&a>=0?a:l}var Gi=sr.extend({determineDataLimits:function(){var D,O,C,z,U,W,a=this,l=a.options,d=a.chart,p=d.data.datasets,b=a.isHorizontal();function w(ge){return b?ge.xAxisID===a.id:ge.yAxisID===a.id}a.min=Number.POSITIVE_INFINITY,a.max=Number.NEGATIVE_INFINITY,a.minNotZero=Number.POSITIVE_INFINITY;var ie=l.stacked;if(void 0===ie)for(D=0;D<p.length;D++)if(O=d.getDatasetMeta(D),d.isDatasetVisible(D)&&w(O)&&void 0!==O.stack){ie=!0;break}if(l.stacked||ie){var ce={};for(D=0;D<p.length;D++){var pe=[(O=d.getDatasetMeta(D)).type,void 0===l.stacked&&void 0===O.stack?D:"",O.stack].join(".");if(d.isDatasetVisible(D)&&w(O))for(void 0===ce[pe]&&(ce[pe]=[]),U=0,W=(z=p[D].data).length;U<W;U++){var ve=ce[pe];C=a._parseValue(z[U]),!(isNaN(C.min)||isNaN(C.max)||O.data[U].hidden||C.min<0||C.max<0)&&(ve[U]=ve[U]||0,ve[U]+=C.max)}}X.each(ce,function(ge){if(ge.length>0){var Ee=X.min(ge),Re=X.max(ge);a.min=Math.min(a.min,Ee),a.max=Math.max(a.max,Re)}})}else for(D=0;D<p.length;D++)if(O=d.getDatasetMeta(D),d.isDatasetVisible(D)&&w(O))for(U=0,W=(z=p[D].data).length;U<W;U++)C=a._parseValue(z[U]),!(isNaN(C.min)||isNaN(C.max)||O.data[U].hidden||C.min<0||C.max<0)&&(a.min=Math.min(C.min,a.min),a.max=Math.max(C.max,a.max),0!==C.min&&(a.minNotZero=Math.min(C.min,a.minNotZero)));a.min=X.isFinite(a.min)?a.min:null,a.max=X.isFinite(a.max)?a.max:null,a.minNotZero=X.isFinite(a.minNotZero)?a.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var a=this,l=a.options.ticks;a.min=tn(l.min,a.min),a.max=tn(l.max,a.max),a.min===a.max&&(0!==a.min&&null!==a.min?(a.min=Math.pow(10,Math.floor(rt(a.min))-1),a.max=Math.pow(10,Math.floor(rt(a.max))+1)):(a.min=1,a.max=10)),null===a.min&&(a.min=Math.pow(10,Math.floor(rt(a.max))-1)),null===a.max&&(a.max=0!==a.min?Math.pow(10,Math.floor(rt(a.min))+1):10),null===a.minNotZero&&(a.minNotZero=a.min>0?a.min:a.max<1?Math.pow(10,Math.floor(rt(a.max))):1)},buildTicks:function(){var a=this,l=a.options.ticks,d=!a.isHorizontal(),p={min:tn(l.min),max:tn(l.max)},b=a.ticks=function st(a,l){var D,O,d=[],p=De(a.min,Math.pow(10,Math.floor(rt(l.min)))),b=Math.floor(rt(l.max)),w=Math.ceil(l.max/Math.pow(10,b));0===p?(D=Math.floor(rt(l.minNotZero)),O=Math.floor(l.minNotZero/Math.pow(10,D)),d.push(p),p=O*Math.pow(10,D)):(D=Math.floor(rt(p)),O=Math.floor(p/Math.pow(10,D)));var C=D<0?Math.pow(10,Math.abs(D)):1;do{d.push(p),10==++O&&(O=1,C=++D>=0?1:C),p=Math.round(O*Math.pow(10,D)*C)/C}while(D<b||D===b&&O<w);var z=De(a.max,p);return d.push(z),d}(p,a);a.max=X.max(b),a.min=X.min(b),l.reverse?(d=!d,a.start=a.max,a.end=a.min):(a.start=a.min,a.end=a.max),d&&b.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),sr.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(a,l){return this._getScaleLabel(this.chart.data.datasets[l].data[a])},getPixelForTick:function(a){var l=this.tickValues;return a<0||a>l.length-1?null:this.getPixelForValue(l[a])},_getFirstTickValue:function(a){var l=Math.floor(rt(a));return Math.floor(a/Math.pow(10,l))*Math.pow(10,l)},_configure:function(){var a=this,l=a.min,d=0;sr.prototype._configure.call(a),0===l&&(l=a._getFirstTickValue(a.minNotZero),d=De(a.options.ticks.fontSize,Gt.global.defaultFontSize)/a._length),a._startValue=rt(l),a._valueOffset=d,a._valueRange=(rt(a.max)-rt(l))/(1-d)},getPixelForValue:function(a){var l=this,d=0;return(a=+l.getRightValue(a))>l.min&&a>0&&(d=(rt(a)-l._startValue)/l._valueRange+l._valueOffset),l.getPixelForDecimal(d)},getValueForPixel:function(a){var l=this,d=l.getDecimalForPixel(a);return 0===d&&0===l.min?0:Math.pow(10,l._startValue+(d-l._valueOffset)*l._valueRange)}});Gi._defaults=pi;var un=X.valueOrDefault,Ns=X.valueAtIndexOrDefault,Ts=X.options.resolve,yl={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:ys.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(a){return a}}};function so(a){var l=a.ticks;return l.display&&a.display?un(l.fontSize,Gt.global.defaultFontSize)+2*l.backdropPaddingY:0}function lc(a,l,d){return X.isArray(d)?{w:X.longestText(a,a.font,d),h:d.length*l}:{w:a.measureText(d).width,h:l}}function Jo(a,l,d,p,b){return a===p||a===b?{start:l-d/2,end:l+d/2}:a<p||a>b?{start:l-d,end:l}:{start:l,end:l+d}}function cc(a){return 0===a||180===a?"center":a<180?"left":"right"}function au(a,l,d,p){var w,D,b=d.y+p/2;if(X.isArray(l))for(w=0,D=l.length;w<D;++w)a.fillText(l[w],d.x,b),b+=p;else a.fillText(l,d.x,b)}function Pc(a,l,d){90===a||270===a?d.y-=l.h/2:(a>270||a<90)&&(d.y-=l.h)}function oo(a){return X.isNumber(a)?a:0}var Vl=Ms.extend({setDimensions:function(){var a=this;a.width=a.maxWidth,a.height=a.maxHeight,a.paddingTop=so(a.options)/2,a.xCenter=Math.floor(a.width/2),a.yCenter=Math.floor((a.height-a.paddingTop)/2),a.drawingArea=Math.min(a.height-a.paddingTop,a.width)/2},determineDataLimits:function(){var a=this,l=a.chart,d=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY;X.each(l.data.datasets,function(b,w){if(l.isDatasetVisible(w)){var D=l.getDatasetMeta(w);X.each(b.data,function(O,C){var z=+a.getRightValue(O);isNaN(z)||D.data[C].hidden||(d=Math.min(z,d),p=Math.max(z,p))})}}),a.min=d===Number.POSITIVE_INFINITY?0:d,a.max=p===Number.NEGATIVE_INFINITY?0:p,a.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/so(this.options))},convertTicksToLabels:function(){var a=this;Ms.prototype.convertTicksToLabels.call(a),a.pointLabels=a.chart.data.labels.map(function(){var l=X.callback(a.options.pointLabels.callback,arguments,a);return l||0===l?l:""})},getLabelForIndex:function(a,l){return+this.getRightValue(this.chart.data.datasets[l].data[a])},fit:function(){var a=this,l=a.options;l.display&&l.pointLabels.display?function Ko(a){var b,w,D,l=X.options._parseFont(a.options.pointLabels),d={l:0,r:a.width,t:0,b:a.height-a.paddingTop},p={};a.ctx.font=l.string,a._pointLabelSizes=[];var O=a.chart.data.labels.length;for(b=0;b<O;b++){D=a.getPointPosition(b,a.drawingArea+5),w=lc(a.ctx,l.lineHeight,a.pointLabels[b]),a._pointLabelSizes[b]=w;var C=a.getIndexAngle(b),z=X.toDegrees(C)%360,U=Jo(z,D.x,w.w,0,180),W=Jo(z,D.y,w.h,90,270);U.start<d.l&&(d.l=U.start,p.l=C),U.end>d.r&&(d.r=U.end,p.r=C),W.start<d.t&&(d.t=W.start,p.t=C),W.end>d.b&&(d.b=W.end,p.b=C)}a.setReductions(a.drawingArea,d,p)}(a):a.setCenterPoint(0,0,0,0)},setReductions:function(a,l,d){var p=this,b=l.l/Math.sin(d.l),w=Math.max(l.r-p.width,0)/Math.sin(d.r),D=-l.t/Math.cos(d.t),O=-Math.max(l.b-(p.height-p.paddingTop),0)/Math.cos(d.b);b=oo(b),w=oo(w),D=oo(D),O=oo(O),p.drawingArea=Math.min(Math.floor(a-(b+w)/2),Math.floor(a-(D+O)/2)),p.setCenterPoint(b,w,D,O)},setCenterPoint:function(a,l,d,p){var b=this,O=d+b.drawingArea,C=b.height-b.paddingTop-p-b.drawingArea;b.xCenter=Math.floor((a+b.drawingArea+(b.width-l-b.drawingArea))/2+b.left),b.yCenter=Math.floor((O+C)/2+b.top+b.paddingTop)},getIndexAngle:function(a){var l=this.chart,w=(a*(360/l.data.labels.length)+((l.options||{}).startAngle||0))%360;return(w<0?w+360:w)*Math.PI*2/360},getDistanceFromCenterForValue:function(a){var l=this;if(X.isNullOrUndef(a))return NaN;var d=l.drawingArea/(l.max-l.min);return l.options.ticks.reverse?(l.max-a)*d:(a-l.min)*d},getPointPosition:function(a,l){var d=this,p=d.getIndexAngle(a)-Math.PI/2;return{x:Math.cos(p)*l+d.xCenter,y:Math.sin(p)*l+d.yCenter}},getPointPositionForValue:function(a,l){return this.getPointPosition(a,this.getDistanceFromCenterForValue(l))},getBasePosition:function(a){var l=this,d=l.min,p=l.max;return l.getPointPositionForValue(a||0,l.beginAtZero?0:d<0&&p<0?p:d>0&&p>0?d:0)},_drawGrid:function(){var O,C,z,a=this,l=a.ctx,d=a.options,p=d.gridLines,b=d.angleLines,w=un(b.lineWidth,p.lineWidth),D=un(b.color,p.color);if(d.pointLabels.display&&function Qo(a){var l=a.ctx,d=a.options,p=d.pointLabels,b=so(d),w=a.getDistanceFromCenterForValue(d.ticks.reverse?a.min:a.max),D=X.options._parseFont(p);l.save(),l.font=D.string,l.textBaseline="middle";for(var O=a.chart.data.labels.length-1;O>=0;O--){var z=a.getPointPosition(O,w+(0===O?b/2:0)+5),U=Ns(p.fontColor,O,Gt.global.defaultFontColor);l.fillStyle=U;var W=a.getIndexAngle(O),ie=X.toDegrees(W);l.textAlign=cc(ie),Pc(ie,a._pointLabelSizes[O],z),au(l,a.pointLabels[O],z,D.lineHeight)}l.restore()}(a),p.display&&X.each(a.ticks,function(U,W){0!==W&&(C=a.getDistanceFromCenterForValue(a.ticksAsNumbers[W]),function Hs(a,l,d,p){var z,b=a.ctx,w=l.circular,D=a.chart.data.labels.length,O=Ns(l.color,p-1),C=Ns(l.lineWidth,p-1);if((w||D)&&O&&C){if(b.save(),b.strokeStyle=O,b.lineWidth=C,b.setLineDash&&(b.setLineDash(l.borderDash||[]),b.lineDashOffset=l.borderDashOffset||0),b.beginPath(),w)b.arc(a.xCenter,a.yCenter,d,0,2*Math.PI);else{z=a.getPointPosition(0,d),b.moveTo(z.x,z.y);for(var U=1;U<D;U++)z=a.getPointPosition(U,d),b.lineTo(z.x,z.y)}b.closePath(),b.stroke(),b.restore()}}(a,p,C,W))}),b.display&&w&&D){for(l.save(),l.lineWidth=w,l.strokeStyle=D,l.setLineDash&&(l.setLineDash(Ts([b.borderDash,p.borderDash,[]])),l.lineDashOffset=Ts([b.borderDashOffset,p.borderDashOffset,0])),O=a.chart.data.labels.length-1;O>=0;O--)C=a.getDistanceFromCenterForValue(d.ticks.reverse?a.min:a.max),z=a.getPointPosition(O,C),l.beginPath(),l.moveTo(a.xCenter,a.yCenter),l.lineTo(z.x,z.y),l.stroke();l.restore()}},_drawLabels:function(){var a=this,l=a.ctx,p=a.options.ticks;if(p.display){var O,C,b=a.getIndexAngle(0),w=X.options._parseFont(p),D=un(p.fontColor,Gt.global.defaultFontColor);l.save(),l.font=w.string,l.translate(a.xCenter,a.yCenter),l.rotate(b),l.textAlign="center",l.textBaseline="middle",X.each(a.ticks,function(z,U){0===U&&!p.reverse||(O=a.getDistanceFromCenterForValue(a.ticksAsNumbers[U]),p.showLabelBackdrop&&(C=l.measureText(z).width,l.fillStyle=p.backdropColor,l.fillRect(-C/2-p.backdropPaddingX,-O-w.size/2-p.backdropPaddingY,C+2*p.backdropPaddingX,w.size+2*p.backdropPaddingY)),l.fillStyle=D,l.fillText(z,0,-O))}),l.restore()}},_drawTitle:X.noop});Vl._defaults=yl;var Lo=X._deprecated,el=X.options.resolve,uc=X.valueOrDefault,Wl=Number.MIN_SAFE_INTEGER||-9007199254740991,vl=Number.MAX_SAFE_INTEGER||9007199254740991,So={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xn=Object.keys(So);function dc(a,l){return a-l}function Rc(a){return X.valueOrDefault(a.time.min,a.ticks.min)}function hc(a){return X.valueOrDefault(a.time.max,a.ticks.max)}function Co(a,l,d,p){var b=function pc(a,l,d){for(var w,D,O,p=0,b=a.length-1;p>=0&&p<=b;){if(O=a[w=p+b>>1],!(D=a[w-1]||null))return{lo:null,hi:O};if(O[l]<d)p=w+1;else{if(!(D[l]>d))return{lo:D,hi:O};b=w-1}}return{lo:O,hi:null}}(a,l,d),w=b.lo?b.hi?b.lo:a[a.length-2]:a[0],D=b.lo?b.hi?b.hi:a[a.length-1]:a[1],O=D[l]-w[l];return w[p]+(D[p]-w[p])*(O?(d-w[l])/O:0)}function pr(a,l){var d=a._adapter,p=a.options.time,b=p.parser,w=b||p.format,D=l;return"function"==typeof b&&(D=b(D)),X.isFinite(D)||(D="string"==typeof w?d.parse(D,w):d.parse(D)),null!==D?+D:(!b&&"function"==typeof w&&(D=w(l),X.isFinite(D)||(D=d.parse(D))),D)}function Vs(a,l){if(X.isNullOrUndef(l))return null;var d=a.options.time,p=pr(a,a.getRightValue(l));return null===p||d.round&&(p=+a._adapter.startOf(p,d.round)),p}function il(a,l,d,p){var w,D,b=Xn.length;for(w=Xn.indexOf(a);w<b-1;++w)if((D=So[Xn[w]]).common&&Math.ceil((d-l)/((D.steps?D.steps:vl)*D.size))<=p)return Xn[w];return Xn[b-1]}function Ta(a,l,d){var D,O,p=[],b={},w=l.length;for(D=0;D<w;++D)b[O=l[D]]=D,p.push({value:O,major:!1});return 0!==w&&d?function lu(a,l,d,p){var O,C,b=a._adapter,w=+b.startOf(l[0].value,p),D=l[l.length-1].value;for(O=w;O<=D;O=+b.add(O,1,p))(C=d[O])>=0&&(l[C].major=!0);return l}(a,p,b,d):p}var lo=sr.extend({initialize:function(){this.mergeTicksOptions(),sr.prototype.initialize.call(this)},update:function(){var a=this,l=a.options,d=l.time||(l.time={}),p=a._adapter=new ro._date(l.adapters.date);return Lo("time scale",d.format,"time.format","time.parser"),Lo("time scale",d.min,"time.min","ticks.min"),Lo("time scale",d.max,"time.max","ticks.max"),X.mergeIf(d.displayFormats,p.formats()),sr.prototype.update.apply(a,arguments)},getRightValue:function(a){return a&&void 0!==a.t&&(a=a.t),sr.prototype.getRightValue.call(this,a)},determineDataLimits:function(){var U,W,ie,ce,pe,ve,ge,a=this,l=a.chart,d=a._adapter,p=a.options,b=p.time.unit||"day",w=vl,D=Wl,O=[],C=[],z=[],Ee=a._getLabels();for(U=0,ie=Ee.length;U<ie;++U)z.push(Vs(a,Ee[U]));for(U=0,ie=(l.data.datasets||[]).length;U<ie;++U)if(l.isDatasetVisible(U))if(X.isObject((pe=l.data.datasets[U].data)[0]))for(C[U]=[],W=0,ce=pe.length;W<ce;++W)ve=Vs(a,pe[W]),O.push(ve),C[U][W]=ve;else C[U]=z.slice(0),ge||(O=O.concat(z),ge=!0);else C[U]=[];z.length&&(w=Math.min(w,z[0]),D=Math.max(D,z[z.length-1])),O.length&&(O=ie>1?function Oc(a){var p,b,w,l={},d=[];for(p=0,b=a.length;p<b;++p)l[w=a[p]]||(l[w]=!0,d.push(w));return d}(O).sort(dc):O.sort(dc),w=Math.min(w,O[0]),D=Math.max(D,O[O.length-1])),w=Vs(a,Rc(p))||w,D=Vs(a,hc(p))||D,w=w===vl?+d.startOf(Date.now(),b):w,D=D===Wl?+d.endOf(Date.now(),b)+1:D,a.min=Math.min(w,D),a.max=Math.max(w+1,D),a._table=[],a._timestamps={data:O,datasets:C,labels:z}},buildTicks:function(){var W,ie,ce,a=this,l=a.min,d=a.max,p=a.options,b=p.ticks,w=p.time,D=a._timestamps,O=[],C=a.getLabelCapacity(l),z=b.source,U=p.distribution;for(D="data"===z||"auto"===z&&"series"===U?D.data:"labels"===z?D.labels:function Ma(a,l,d,p){var ie,b=a._adapter,w=a.options,D=w.time,O=D.unit||il(D.minUnit,l,d,p),C=el([D.stepSize,D.unitStepSize,1]),z="week"===O&&D.isoWeekday,U=l,W=[];if(z&&(U=+b.startOf(U,"isoWeek",z)),U=+b.startOf(U,z?"day":O),b.diff(d,l,O)>1e5*C)throw l+" and "+d+" are too far apart with stepSize of "+C+" "+O;for(ie=U;ie<d;ie=+b.add(ie,C,O))W.push(ie);return(ie===d||"ticks"===w.bounds)&&W.push(ie),W}(a,l,d,C),"ticks"===p.bounds&&D.length&&(l=D[0],d=D[D.length-1]),l=Vs(a,Rc(p))||l,d=Vs(a,hc(p))||d,W=0,ie=D.length;W<ie;++W)(ce=D[W])>=l&&ce<=d&&O.push(ce);return a.min=l,a.max=d,a._unit=w.unit||(b.autoSkip?il(w.minUnit,a.min,a.max,C):function su(a,l,d,p,b){var w,D;for(w=Xn.length-1;w>=Xn.indexOf(d);w--)if(So[D=Xn[w]].common&&a._adapter.diff(b,p,D)>=l-1)return D;return Xn[d?Xn.indexOf(d):0]}(a,O.length,w.minUnit,a.min,a.max)),a._majorUnit=b.major.enabled&&"year"!==a._unit?function ou(a){for(var l=Xn.indexOf(a)+1,d=Xn.length;l<d;++l)if(So[Xn[l]].common)return Xn[l]}(a._unit):void 0,a._table=function tl(a,l,d,p){if("linear"===p||!a.length)return[{time:l,pos:0},{time:d,pos:1}];var D,O,C,z,U,b=[],w=[l];for(D=0,O=a.length;D<O;++D)(z=a[D])>l&&z<d&&w.push(z);for(w.push(d),D=0,O=w.length;D<O;++D)U=w[D+1],z=w[D],(void 0===(C=w[D-1])||void 0===U||Math.round((U+C)/2)!==z)&&b.push({time:z,pos:D/(O-1)});return b}(a._timestamps.data,l,d,U),a._offsets=function Fc(a,l,d,p,b){var O,C,w=0,D=0;return b.offset&&l.length&&(O=Co(a,"time",l[0],"pos"),w=1===l.length?1-O:(Co(a,"time",l[1],"pos")-O)/2,C=Co(a,"time",l[l.length-1],"pos"),D=1===l.length?C:(C-Co(a,"time",l[l.length-2],"pos"))/2),{start:w,end:D,factor:1/(w+1+D)}}(a._table,O,0,0,p),b.reverse&&O.reverse(),Ta(a,O,a._majorUnit)},getLabelForIndex:function(a,l){var d=this,p=d._adapter,b=d.chart.data,w=d.options.time,D=b.labels&&a<b.labels.length?b.labels[a]:"",O=b.datasets[l].data[a];return X.isObject(O)&&(D=d.getRightValue(O)),w.tooltipFormat?p.format(pr(d,D),w.tooltipFormat):"string"==typeof D?D:p.format(pr(d,D),w.displayFormats.datetime)},tickFormatFunction:function(a,l,d,p){var b=this,D=b.options,O=D.time.displayFormats,z=b._majorUnit,U=O[z],W=d[l],ie=D.ticks,ce=z&&U&&W&&W.major,pe=b._adapter.format(a,p||(ce?U:O[b._unit])),ve=ce?ie.major:ie.minor,ge=el([ve.callback,ve.userCallback,ie.callback,ie.userCallback]);return ge?ge(pe,l,d):pe},convertTicksToLabels:function(a){var d,p,l=[];for(d=0,p=a.length;d<p;++d)l.push(this.tickFormatFunction(a[d].value,d,a));return l},getPixelForOffset:function(a){var l=this,d=l._offsets,p=Co(l._table,"time",a,"pos");return l.getPixelForDecimal((d.start+p)*d.factor)},getPixelForValue:function(a,l,d){var p=this,b=null;if(void 0!==l&&void 0!==d&&(b=p._timestamps.datasets[d][l]),null===b&&(b=Vs(p,a)),null!==b)return p.getPixelForOffset(b)},getPixelForTick:function(a){var l=this.getTicks();return a>=0&&a<l.length?this.getPixelForOffset(l[a].value):null},getValueForPixel:function(a){var l=this,d=l._offsets,p=l.getDecimalForPixel(a)/d.factor-d.end,b=Co(l._table,"pos",p,"time");return l._adapter._create(b)},_getLabelSize:function(a){var l=this,d=l.options.ticks,p=l.ctx.measureText(a).width,b=X.toRadians(l.isHorizontal()?d.maxRotation:d.minRotation),w=Math.cos(b),D=Math.sin(b),O=uc(d.fontSize,Gt.global.defaultFontSize);return{w:p*w+O*D,h:p*D+O*w}},getLabelWidth:function(a){return this._getLabelSize(a).w},getLabelCapacity:function(a){var l=this,d=l.options.time,p=d.displayFormats,b=p[d.unit]||p.millisecond,w=l.tickFormatFunction(a,0,Ta(l,[a],l._majorUnit),b),D=l._getLabelSize(w),O=Math.floor(l.isHorizontal()?l.width/D.w:l.height/D.h);return l.options.offset&&O--,O>0?O:1}});lo._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var Bt={category:hr,linear:G,logarithmic:Gi,radialLinear:Vl,time:lo},fc={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};ro._date.override("function"==typeof te?{_id:"moment",formats:function(){return fc},parse:function(a,l){return"string"==typeof a&&"string"==typeof l?a=te(a,l):a instanceof te||(a=te(a)),a.isValid()?a.valueOf():null},format:function(a,l){return te(a).format(l)},add:function(a,l,d){return te(a).add(l,d).valueOf()},diff:function(a,l,d){return te(a).diff(te(l),d)},startOf:function(a,l,d){return a=te(a),"isoWeek"===l?a.isoWeekday(d).valueOf():a.startOf(l).valueOf()},endOf:function(a,l){return te(a).endOf(l).valueOf()},_create:function(a){return te(a)}}:{}),Gt._set("global",{plugins:{filler:{propagate:!0}}});var mc={dataset:function(a){var l=a.fill,d=a.chart,p=d.getDatasetMeta(l),w=p&&d.isDatasetVisible(l)&&p.dataset._children||[],D=w.length||0;return D?function(O,C){return C<D&&w[C]._view||null}:null},boundary:function(a){var l=a.boundary,d=l?l.x:null,p=l?l.y:null;return X.isArray(l)?function(b,w){return l[w]}:function(b){return{x:null===d?b.x:d,y:null===p?b.y:p}}}};function nl(a,l,d){var w,p=a._model||{},b=p.fill;if(void 0===b&&(b=!!p.backgroundColor),!1===b||null===b)return!1;if(!0===b)return"origin";if(w=parseFloat(b,10),isFinite(w)&&Math.floor(w)===w)return("-"===b[0]||"+"===b[0])&&(w=l+w),!(w===l||w<0||w>=d)&&w;switch(b){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return b;default:return!1}}function _c(a){return(a.el._scale||{}).getPointPositionForValue?function Rt(a){var D,O,C,z,U,l=a.el._scale,d=l.options,p=l.chart.data.labels.length,b=a.fill,w=[];if(!p)return null;for(O=d.ticks.reverse?l.min:l.max,C=l.getPointPositionForValue(0,D=d.ticks.reverse?l.max:l.min),z=0;z<p;++z)U="start"===b||"end"===b?l.getPointPositionForValue(z,"start"===b?D:O):l.getBasePosition(z),d.gridLines.circular&&(U.cx=C.x,U.cy=C.y,U.angle=l.getIndexAngle(z)-Math.PI/2),w.push(U);return w}(a):function Qr(a){var w,l=a.el._model||{},d=a.el._scale||{},p=a.fill,b=null;if(isFinite(p))return null;if("start"===p?b=void 0===l.scaleBottom?d.bottom:l.scaleBottom:"end"===p?b=void 0===l.scaleTop?d.top:l.scaleTop:void 0!==l.scaleZero?b=l.scaleZero:d.getBasePixel&&(b=d.getBasePixel()),null!=b){if(void 0!==b.x&&void 0!==b.y)return b;if(X.isFinite(b))return{x:(w=d.isHorizontal())?b:null,y:w?null:b}}return null}(a)}function cu(a,l,d){var D,b=a[l].fill,w=[l];if(!d)return b;for(;!1!==b&&-1===w.indexOf(b);){if(!isFinite(b))return b;if(!(D=a[b]))return!1;if(D.visible)return b;w.push(b),b=D.fill}return!1}function Yc(a){var l=a.fill,d="dataset";return!1===l?null:(isFinite(l)||(d="boundary"),mc[d](a))}function At(a){return a&&!a.skip}function gc(a,l,d,p,b){var w,D,O,C;if(p&&b){for(a.moveTo(l[0].x,l[0].y),w=1;w<p;++w)X.canvas.lineTo(a,l[w-1],l[w]);if(void 0!==d[0].angle){for(D=d[0].cx,O=d[0].cy,C=Math.sqrt(Math.pow(d[0].x-D,2)+Math.pow(d[0].y-O,2)),w=b-1;w>0;--w)a.arc(D,O,C,d[w].angle,d[w-1].angle,!0);return}for(a.lineTo(d[b-1].x,d[b-1].y),w=b-1;w>0;--w)X.canvas.lineTo(a,d[w],d[w-1],!0)}}function zc(a,l,d,p,b,w){var ie,ce,pe,ve,ge,Ee,Re,Ze,D=l.length,O=p.spanGaps,C=[],z=[],U=0,W=0;for(a.beginPath(),ie=0,ce=D;ie<ce;++ie)ge=d(ve=l[pe=ie%D]._view,pe,p),Ee=At(ve),Re=At(ge),w&&void 0===Ze&&Ee&&(ce=D+(Ze=ie+1)),Ee&&Re?(U=C.push(ve),W=z.push(ge)):U&&W&&(O?(Ee&&C.push(ve),Re&&z.push(ge)):(gc(a,C,z,U,W),U=W=0,C=[],z=[]));gc(a,C,z,U,W),a.closePath(),a.fillStyle=b,a.fill()}var yc={id:"filler",afterDatasetsUpdate:function(a,l){var w,D,O,C,d=(a.data.datasets||[]).length,p=l.propagate,b=[];for(D=0;D<d;++D)C=null,(O=(w=a.getDatasetMeta(D)).dataset)&&O._model&&O instanceof vn.Line&&(C={visible:a.isDatasetVisible(D),fill:nl(O,D,d),chart:a,el:O}),w.$filler=C,b.push(C);for(D=0;D<d;++D)(C=b[D])&&(C.fill=cu(b,D,p),C.boundary=_c(C),C.mapper=Yc(C))},beforeDatasetsDraw:function(a){var p,b,w,D,O,C,z,l=a._getSortedVisibleDatasetMetas(),d=a.ctx;for(b=l.length-1;b>=0;--b)(p=l[b].$filler)&&p.visible&&(O=(w=p.el)._children||[],z=(D=w._view).backgroundColor||Gt.global.defaultColor,(C=p.mapper)&&z&&O.length&&(X.canvas.clipArea(d,a.chartArea),zc(d,O,C,D,z,w._loop),X.canvas.unclipArea(d)))}},nn=X.rtl.getRtlAdapter,ua=X.noop,Ja=X.valueOrDefault;function Eo(a,l){return a.usePointStyle&&a.boxWidth>l?l:a.boxWidth}Gt._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(a,l){var d=l.datasetIndex,p=this.chart,b=p.getDatasetMeta(d);b.hidden=null===b.hidden?!p.data.datasets[d].hidden:null,p.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(a){var l=a.data.datasets,d=a.options.legend||{},p=d.labels&&d.labels.usePointStyle;return a._getSortedDatasetMetas().map(function(b){var w=b.controller.getStyle(p?0:void 0);return{text:l[b.index].label,fillStyle:w.backgroundColor,hidden:!a.isDatasetVisible(b.index),lineCap:w.borderCapStyle,lineDash:w.borderDash,lineDashOffset:w.borderDashOffset,lineJoin:w.borderJoinStyle,lineWidth:w.borderWidth,strokeStyle:w.borderColor,pointStyle:w.pointStyle,rotation:w.rotation,datasetIndex:b.index}},this)}}},legendCallback:function(a){var p,b,w,l=document.createElement("ul"),d=a.data.datasets;for(l.setAttribute("class",a.id+"-legend"),p=0,b=d.length;p<b;p++)(w=l.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=d[p].backgroundColor,d[p].label&&w.appendChild(document.createTextNode(d[p].label));return l.outerHTML}});var Ao=_t.extend({initialize:function(a){var l=this;X.extend(l,a),l.legendHitBoxes=[],l._hoveredItem=null,l.doughnutMode=!1},beforeUpdate:ua,update:function(a,l,d){var p=this;return p.beforeUpdate(),p.maxWidth=a,p.maxHeight=l,p.margins=d,p.beforeSetDimensions(),p.setDimensions(),p.afterSetDimensions(),p.beforeBuildLabels(),p.buildLabels(),p.afterBuildLabels(),p.beforeFit(),p.fit(),p.afterFit(),p.afterUpdate(),p.minSize},afterUpdate:ua,beforeSetDimensions:ua,setDimensions:function(){var a=this;a.isHorizontal()?(a.width=a.maxWidth,a.left=0,a.right=a.width):(a.height=a.maxHeight,a.top=0,a.bottom=a.height),a.paddingLeft=0,a.paddingTop=0,a.paddingRight=0,a.paddingBottom=0,a.minSize={width:0,height:0}},afterSetDimensions:ua,beforeBuildLabels:ua,buildLabels:function(){var a=this,l=a.options.labels||{},d=X.callback(l.generateLabels,[a.chart],a)||[];l.filter&&(d=d.filter(function(p){return l.filter(p,a.chart.data)})),a.options.reverse&&d.reverse(),a.legendItems=d},afterBuildLabels:ua,beforeFit:ua,fit:function(){var a=this,l=a.options,d=l.labels,p=l.display,b=a.ctx,w=X.options._parseFont(d),D=w.size,O=a.legendHitBoxes=[],C=a.minSize,z=a.isHorizontal();if(z?(C.width=a.maxWidth,C.height=p?10:0):(C.width=p?10:0,C.height=a.maxHeight),p){if(b.font=w.string,z){var U=a.lineWidths=[0],W=0;b.textAlign="left",b.textBaseline="middle",X.each(a.legendItems,function(Re,Ze){var Ge=Eo(d,D)+D/2+b.measureText(Re.text).width;(0===Ze||U[U.length-1]+Ge+2*d.padding>C.width)&&(W+=D+d.padding,U[U.length-(Ze>0?0:1)]=0),O[Ze]={left:0,top:0,width:Ge,height:D},U[U.length-1]+=Ge+d.padding}),C.height+=W}else{var ie=d.padding,ce=a.columnWidths=[],pe=a.columnHeights=[],ve=d.padding,ge=0,Ee=0;X.each(a.legendItems,function(Re,Ze){var Ge=Eo(d,D)+D/2+b.measureText(Re.text).width;Ze>0&&Ee+D+2*ie>C.height&&(ve+=ge+d.padding,ce.push(ge),pe.push(Ee),ge=0,Ee=0),ge=Math.max(ge,Ge),Ee+=D+ie,O[Ze]={left:0,top:0,width:Ge,height:D}}),ve+=ge,ce.push(ge),pe.push(Ee),C.width+=ve}a.width=C.width,a.height=C.height}else a.width=C.width=a.height=C.height=0},afterFit:ua,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var a=this,l=a.options,d=l.labels,p=Gt.global,b=p.defaultColor,w=p.elements.line,D=a.height,O=a.columnHeights,C=a.width,z=a.lineWidths;if(l.display){var ve,U=nn(l.rtl,a.left,a.minSize.width),W=a.ctx,ie=Ja(d.fontColor,p.defaultFontColor),ce=X.options._parseFont(d),pe=ce.size;W.textAlign=U.textAlign("left"),W.textBaseline="middle",W.lineWidth=.5,W.strokeStyle=ie,W.fillStyle=ie,W.font=ce.string;var ge=Eo(d,pe),Ee=a.legendHitBoxes,je=function(tt,ot){switch(l.align){case"start":return d.padding;case"end":return tt-ot;default:return(tt-ot+d.padding)/2}},Ge=a.isHorizontal();ve=Ge?{x:a.left+je(C,z[0]),y:a.top+d.padding,line:0}:{x:a.left+d.padding,y:a.top+je(D,O[0]),line:0},X.rtl.overrideTextDirection(a.ctx,l.textDirection);var lt=pe+d.padding;X.each(a.legendItems,function(tt,ot){var Et=W.measureText(tt.text).width,Vt=ge+pe/2+Et,It=ve.x,Dt=ve.y;U.setWidth(a.minSize.width),Ge?ot>0&&It+Vt+d.padding>a.left+a.minSize.width&&(Dt=ve.y+=lt,ve.line++,It=ve.x=a.left+je(C,z[ve.line])):ot>0&&Dt+lt>a.top+a.minSize.height&&(It=ve.x=It+a.columnWidths[ve.line]+d.padding,ve.line++,Dt=ve.y=a.top+je(D,O[ve.line]));var Zt=U.x(It);(function(tt,ot,Et){if(!(isNaN(ge)||ge<=0)){W.save();var Vt=Ja(Et.lineWidth,w.borderWidth);if(W.fillStyle=Ja(Et.fillStyle,b),W.lineCap=Ja(Et.lineCap,w.borderCapStyle),W.lineDashOffset=Ja(Et.lineDashOffset,w.borderDashOffset),W.lineJoin=Ja(Et.lineJoin,w.borderJoinStyle),W.lineWidth=Vt,W.strokeStyle=Ja(Et.strokeStyle,b),W.setLineDash&&W.setLineDash(Ja(Et.lineDash,w.borderDash)),d&&d.usePointStyle){var It=ge*Math.SQRT2/2,Dt=U.xPlus(tt,ge/2);X.canvas.drawPoint(W,Et.pointStyle,It,Dt,ot+pe/2,Et.rotation)}else W.fillRect(U.leftForLtr(tt,ge),ot,ge,pe),0!==Vt&&W.strokeRect(U.leftForLtr(tt,ge),ot,ge,pe);W.restore()}})(Zt,Dt,tt),Ee[ot].left=U.leftForLtr(Zt,Ee[ot].width),Ee[ot].top=Dt,function(tt,ot,Et,Vt){var It=pe/2,Dt=U.xPlus(tt,ge+It),Zt=ot+It;W.fillText(Et.text,Dt,Zt),Et.hidden&&(W.beginPath(),W.lineWidth=2,W.moveTo(Dt,Zt),W.lineTo(U.xPlus(Dt,Vt),Zt),W.stroke())}(Zt,Dt,tt,Et),Ge?ve.x+=Vt+d.padding:ve.y+=lt}),X.rtl.restoreTextDirection(a.ctx,l.textDirection)}},_getLegendItemAt:function(a,l){var p,b,w,d=this;if(a>=d.left&&a<=d.right&&l>=d.top&&l<=d.bottom)for(w=d.legendHitBoxes,p=0;p<w.length;++p)if(a>=(b=w[p]).left&&a<=b.left+b.width&&l>=b.top&&l<=b.top+b.height)return d.legendItems[p];return null},handleEvent:function(a){var b,l=this,d=l.options,p="mouseup"===a.type?"click":a.type;if("mousemove"===p){if(!d.onHover&&!d.onLeave)return}else{if("click"!==p)return;if(!d.onClick)return}b=l._getLegendItemAt(a.x,a.y),"click"===p?b&&d.onClick&&d.onClick.call(l,a.native,b):(d.onLeave&&b!==l._hoveredItem&&(l._hoveredItem&&d.onLeave.call(l,a.native,l._hoveredItem),l._hoveredItem=b),d.onHover&&b&&d.onHover.call(l,a.native,b))}});function h(a,l){var d=new Ao({ctx:a.ctx,options:l,chart:a});wr.configure(a,d,l),wr.addBox(a,d),a.legend=d}var r={id:"legend",_element:Ao,beforeInit:function(a){var l=a.options.legend;l&&h(a,l)},beforeUpdate:function(a){var l=a.options.legend,d=a.legend;l?(X.mergeIf(l,Gt.global.legend),d?(wr.configure(a,d,l),d.options=l):h(a,l)):d&&(wr.removeBox(a,d),delete a.legend)},afterEvent:function(a,l){var d=a.legend;d&&d.handleEvent(l)}},c=X.noop;Gt._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var _=_t.extend({initialize:function(a){X.extend(this,a),this.legendHitBoxes=[]},beforeUpdate:c,update:function(a,l,d){var p=this;return p.beforeUpdate(),p.maxWidth=a,p.maxHeight=l,p.margins=d,p.beforeSetDimensions(),p.setDimensions(),p.afterSetDimensions(),p.beforeBuildLabels(),p.buildLabels(),p.afterBuildLabels(),p.beforeFit(),p.fit(),p.afterFit(),p.afterUpdate(),p.minSize},afterUpdate:c,beforeSetDimensions:c,setDimensions:function(){var a=this;a.isHorizontal()?(a.width=a.maxWidth,a.left=0,a.right=a.width):(a.height=a.maxHeight,a.top=0,a.bottom=a.height),a.paddingLeft=0,a.paddingTop=0,a.paddingRight=0,a.paddingBottom=0,a.minSize={width:0,height:0}},afterSetDimensions:c,beforeBuildLabels:c,buildLabels:c,afterBuildLabels:c,beforeFit:c,fit:function(){var w,a=this,l=a.options,d=a.minSize={},p=a.isHorizontal();l.display?(w=(X.isArray(l.text)?l.text.length:1)*X.options._parseFont(l).lineHeight+2*l.padding,a.width=d.width=p?a.maxWidth:w,a.height=d.height=p?w:a.maxHeight):a.width=d.width=a.height=d.height=0},afterFit:c,isHorizontal:function(){var a=this.options.position;return"top"===a||"bottom"===a},draw:function(){var a=this,l=a.ctx,d=a.options;if(d.display){var W,ie,ce,p=X.options._parseFont(d),b=p.lineHeight,w=b/2+d.padding,D=0,O=a.top,C=a.left,z=a.bottom,U=a.right;l.fillStyle=X.valueOrDefault(d.fontColor,Gt.global.defaultFontColor),l.font=p.string,a.isHorizontal()?(ie=C+(U-C)/2,ce=O+w,W=U-C):(ie="left"===d.position?C+w:U-w,ce=O+(z-O)/2,W=z-O,D=Math.PI*("left"===d.position?-.5:.5)),l.save(),l.translate(ie,ce),l.rotate(D),l.textAlign="center",l.textBaseline="middle";var pe=d.text;if(X.isArray(pe))for(var ve=0,ge=0;ge<pe.length;++ge)l.fillText(pe[ge],0,ve,W),ve+=b;else l.fillText(pe,0,0,W);l.restore()}}});function x(a,l){var d=new _({ctx:a.ctx,options:l,chart:a});wr.configure(a,d,l),wr.addBox(a,d),a.titleBlock=d}var I={},R=yc,H=r,$={id:"title",_element:_,beforeInit:function(a){var l=a.options.title;l&&x(a,l)},beforeUpdate:function(a){var l=a.options.title,d=a.titleBlock;l?(X.mergeIf(l,Gt.global.title),d?(wr.configure(a,d,l),d.options=l):x(a,l)):d&&(wr.removeBox(a,d),delete a.titleBlock)}};for(var q in I.filler=R,I.legend=H,I.title=$,xi.helpers=X,function(){function a(p,b,w){var D;return"string"==typeof p?(D=parseInt(p,10),-1!==p.indexOf("%")&&(D=D/100*b.parentNode[w])):D=p,D}function l(p){return null!=p&&"none"!==p}function d(p,b,w){var D=document.defaultView,O=X._getParentNode(p),C=D.getComputedStyle(p)[b],z=D.getComputedStyle(O)[b],U=l(C),W=l(z),ie=Number.POSITIVE_INFINITY;return U||W?Math.min(U?a(C,p,w):ie,W?a(z,O,w):ie):"none"}X.where=function(p,b){if(X.isArray(p)&&Array.prototype.filter)return p.filter(b);var w=[];return X.each(p,function(D){b(D)&&w.push(D)}),w},X.findIndex=Array.prototype.findIndex?function(p,b,w){return p.findIndex(b,w)}:function(p,b,w){w=void 0===w?p:w;for(var D=0,O=p.length;D<O;++D)if(b.call(w,p[D],D,p))return D;return-1},X.findNextWhere=function(p,b,w){X.isNullOrUndef(w)&&(w=-1);for(var D=w+1;D<p.length;D++){var O=p[D];if(b(O))return O}},X.findPreviousWhere=function(p,b,w){X.isNullOrUndef(w)&&(w=p.length);for(var D=w-1;D>=0;D--){var O=p[D];if(b(O))return O}},X.isNumber=function(p){return!isNaN(parseFloat(p))&&isFinite(p)},X.almostEquals=function(p,b,w){return Math.abs(p-b)<w},X.almostWhole=function(p,b){var w=Math.round(p);return w-b<=p&&w+b>=p},X.max=function(p){return p.reduce(function(b,w){return isNaN(w)?b:Math.max(b,w)},Number.NEGATIVE_INFINITY)},X.min=function(p){return p.reduce(function(b,w){return isNaN(w)?b:Math.min(b,w)},Number.POSITIVE_INFINITY)},X.sign=Math.sign?function(p){return Math.sign(p)}:function(p){return 0==(p=+p)||isNaN(p)?p:p>0?1:-1},X.toRadians=function(p){return p*(Math.PI/180)},X.toDegrees=function(p){return p*(180/Math.PI)},X._decimalPlaces=function(p){if(X.isFinite(p)){for(var b=1,w=0;Math.round(p*b)/b!==p;)b*=10,w++;return w}},X.getAngleFromPoint=function(p,b){var w=b.x-p.x,D=b.y-p.y,O=Math.sqrt(w*w+D*D),C=Math.atan2(D,w);return C<-.5*Math.PI&&(C+=2*Math.PI),{angle:C,distance:O}},X.distanceBetweenPoints=function(p,b){return Math.sqrt(Math.pow(b.x-p.x,2)+Math.pow(b.y-p.y,2))},X.aliasPixel=function(p){return p%2==0?0:.5},X._alignPixel=function(p,b,w){var D=p.currentDevicePixelRatio,O=w/2;return Math.round((b-O)*D)/D+O},X.splineCurve=function(p,b,w,D){var O=p.skip?b:p,C=b,z=w.skip?b:w,U=Math.sqrt(Math.pow(C.x-O.x,2)+Math.pow(C.y-O.y,2)),W=Math.sqrt(Math.pow(z.x-C.x,2)+Math.pow(z.y-C.y,2)),ie=U/(U+W),ce=W/(U+W),pe=D*(ie=isNaN(ie)?0:ie),ve=D*(ce=isNaN(ce)?0:ce);return{previous:{x:C.x-pe*(z.x-O.x),y:C.y-pe*(z.y-O.y)},next:{x:C.x+ve*(z.x-O.x),y:C.y+ve*(z.y-O.y)}}},X.EPSILON=Number.EPSILON||1e-14,X.splineCurveMonotone=function(p){var D,O,C,z,W,ie,ce,pe,ve,b=(p||[]).map(function(ge){return{model:ge._model,deltaK:0,mK:0}}),w=b.length;for(D=0;D<w;++D)if(!(C=b[D]).model.skip){if(O=D>0?b[D-1]:null,(z=D<w-1?b[D+1]:null)&&!z.model.skip){var U=z.model.x-C.model.x;C.deltaK=0!==U?(z.model.y-C.model.y)/U:0}C.mK=!O||O.model.skip?C.deltaK:!z||z.model.skip?O.deltaK:this.sign(O.deltaK)!==this.sign(C.deltaK)?0:(O.deltaK+C.deltaK)/2}for(D=0;D<w-1;++D)if(z=b[D+1],!(C=b[D]).model.skip&&!z.model.skip){if(X.almostEquals(C.deltaK,0,this.EPSILON)){C.mK=z.mK=0;continue}W=C.mK/C.deltaK,ie=z.mK/C.deltaK,!((pe=Math.pow(W,2)+Math.pow(ie,2))<=9)&&(ce=3/Math.sqrt(pe),C.mK=W*ce*C.deltaK,z.mK=ie*ce*C.deltaK)}for(D=0;D<w;++D)!(C=b[D]).model.skip&&(z=D<w-1?b[D+1]:null,(O=D>0?b[D-1]:null)&&!O.model.skip&&(C.model.controlPointPreviousX=C.model.x-(ve=(C.model.x-O.model.x)/3),C.model.controlPointPreviousY=C.model.y-ve*C.mK),z&&!z.model.skip&&(C.model.controlPointNextX=C.model.x+(ve=(z.model.x-C.model.x)/3),C.model.controlPointNextY=C.model.y+ve*C.mK))},X.nextItem=function(p,b,w){return w?b>=p.length-1?p[0]:p[b+1]:b>=p.length-1?p[p.length-1]:p[b+1]},X.previousItem=function(p,b,w){return w?b<=0?p[p.length-1]:p[b-1]:b<=0?p[0]:p[b-1]},X.niceNum=function(p,b){var w=Math.floor(X.log10(p)),D=p/Math.pow(10,w);return(b?D<1.5?1:D<3?2:D<7?5:10:D<=1?1:D<=2?2:D<=5?5:10)*Math.pow(10,w)},X.requestAnimFrame="undefined"==typeof window?function(p){p()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(p){return window.setTimeout(p,1e3/60)},X.getRelativePosition=function(p,b){var w,D,O=p.originalEvent||p,C=p.target||p.srcElement,z=C.getBoundingClientRect(),U=O.touches;U&&U.length>0?(w=U[0].clientX,D=U[0].clientY):(w=O.clientX,D=O.clientY);var W=parseFloat(X.getStyle(C,"padding-left")),ie=parseFloat(X.getStyle(C,"padding-top")),ce=parseFloat(X.getStyle(C,"padding-right")),pe=parseFloat(X.getStyle(C,"padding-bottom")),ge=z.bottom-z.top-ie-pe;return{x:w=Math.round((w-z.left-W)/(z.right-z.left-W-ce)*C.width/b.currentDevicePixelRatio),y:D=Math.round((D-z.top-ie)/ge*C.height/b.currentDevicePixelRatio)}},X.getConstraintWidth=function(p){return d(p,"max-width","clientWidth")},X.getConstraintHeight=function(p){return d(p,"max-height","clientHeight")},X._calculatePadding=function(p,b,w){return(b=X.getStyle(p,b)).indexOf("%")>-1?w*parseInt(b,10)/100:parseInt(b,10)},X._getParentNode=function(p){var b=p.parentNode;return b&&"[object ShadowRoot]"===b.toString()&&(b=b.host),b},X.getMaximumWidth=function(p){var b=X._getParentNode(p);if(!b)return p.clientWidth;var w=b.clientWidth,C=w-X._calculatePadding(b,"padding-left",w)-X._calculatePadding(b,"padding-right",w),z=X.getConstraintWidth(p);return isNaN(z)?C:Math.min(C,z)},X.getMaximumHeight=function(p){var b=X._getParentNode(p);if(!b)return p.clientHeight;var w=b.clientHeight,C=w-X._calculatePadding(b,"padding-top",w)-X._calculatePadding(b,"padding-bottom",w),z=X.getConstraintHeight(p);return isNaN(z)?C:Math.min(C,z)},X.getStyle=function(p,b){return p.currentStyle?p.currentStyle[b]:document.defaultView.getComputedStyle(p,null).getPropertyValue(b)},X.retinaScale=function(p,b){var w=p.currentDevicePixelRatio=b||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==w){var D=p.canvas,O=p.height,C=p.width;D.height=O*w,D.width=C*w,p.ctx.scale(w,w),!D.style.height&&!D.style.width&&(D.style.height=O+"px",D.style.width=C+"px")}},X.fontString=function(p,b,w){return b+" "+p+"px "+w},X.longestText=function(p,b,w,D){var O=(D=D||{}).data=D.data||{},C=D.garbageCollect=D.garbageCollect||[];D.font!==b&&(O=D.data={},C=D.garbageCollect=[],D.font=b),p.font=b;var W,ie,ce,pe,ve,z=0,U=w.length;for(W=0;W<U;W++)if(null!=(pe=w[W])&&!0!==X.isArray(pe))z=X.measureText(p,O,C,z,pe);else if(X.isArray(pe))for(ie=0,ce=pe.length;ie<ce;ie++)null!=(ve=pe[ie])&&!X.isArray(ve)&&(z=X.measureText(p,O,C,z,ve));var ge=C.length/2;if(ge>w.length){for(W=0;W<ge;W++)delete O[C[W]];C.splice(0,ge)}return z},X.measureText=function(p,b,w,D,O){var C=b[O];return C||(C=b[O]=p.measureText(O).width,w.push(O)),C>D&&(D=C),D},X.numberOfLabelLines=function(p){var b=1;return X.each(p,function(w){X.isArray(w)&&w.length>b&&(b=w.length)}),b},X.color=Wr?function(p){return p instanceof CanvasGradient&&(p=Gt.global.defaultColor),Wr(p)}:function(p){return console.error("Color.js not found!"),p},X.getHoverColor=function(p){return p instanceof CanvasPattern||p instanceof CanvasGradient?p:X.color(p).saturate(.5).darken(.1).rgbString()}}(),xi._adapters=ro,xi.Animation=pn,xi.animationService=ji,xi.controllers=za,xi.DatasetController=mn,xi.defaults=Gt,xi.Element=_t,xi.elements=vn,xi.Interaction=Xs,xi.layouts=wr,xi.platform=Nr,xi.plugins=cn,xi.Scale=sr,xi.scaleService=vo,xi.Ticks=ys,xi.Tooltip=no,xi.helpers.each(Bt,function(a,l){xi.scaleService.registerScaleType(l,a,a._defaults)}),I)I.hasOwnProperty(q)&&xi.plugins.register(I[q]);xi.platform.initialize();var ae=xi;return"undefined"!=typeof window&&(window.Chart=xi),xi.Chart=xi,xi.Legend=I.legend._element,xi.Title=I.title._element,xi.pluginService=xi.plugins,xi.PluginBase=xi.Element.extend({}),xi.canvasHelpers=xi.helpers.canvas,xi.layoutService=xi.layouts,xi.LinearScaleBase=Ms,xi.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(a){xi[a]=function(l,d){return new xi(l,xi.helpers.merge(d||{},{type:a.charAt(0).toLowerCase()+a.slice(1)}))}}),ae}(function(){try{return se(5439)}catch(Y){}}())},9069:ze=>{"use strict";var te,Ye="object"==typeof Reflect?Reflect:null,se=Ye&&"function"==typeof Ye.apply?Ye.apply:function(Ve,ut,He){return Function.prototype.apply.call(Ve,ut,He)};te=Ye&&"function"==typeof Ye.ownKeys?Ye.ownKeys:Object.getOwnPropertySymbols?function(Ve){return Object.getOwnPropertyNames(Ve).concat(Object.getOwnPropertySymbols(Ve))}:function(Ve){return Object.getOwnPropertyNames(Ve)};var Y=Number.isNaN||function(Ve){return Ve!=Ve};function t(){t.init.call(this)}ze.exports=t,ze.exports.once=function Me(Ke,Ve){return new Promise(function(ut,He){function bt(kt){Ke.removeListener(Ve,Yt),He(kt)}function Yt(){"function"==typeof Ke.removeListener&&Ke.removeListener("error",bt),ut([].slice.call(arguments))}yt(Ke,Ve,Yt,{once:!0}),"error"!==Ve&&function Je(Ke,Ve,ut){"function"==typeof Ke.on&&yt(Ke,"error",Ve,ut)}(Ke,bt,{once:!0})})},t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var P=10;function J(Ke){if("function"!=typeof Ke)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Ke)}function Q(Ke){return void 0===Ke._maxListeners?t.defaultMaxListeners:Ke._maxListeners}function oe(Ke,Ve,ut,He){var bt,Yt,kt;if(J(ut),void 0===(Yt=Ke._events)?(Yt=Ke._events=Object.create(null),Ke._eventsCount=0):(void 0!==Yt.newListener&&(Ke.emit("newListener",Ve,ut.listener?ut.listener:ut),Yt=Ke._events),kt=Yt[Ve]),void 0===kt)kt=Yt[Ve]=ut,++Ke._eventsCount;else if("function"==typeof kt?kt=Yt[Ve]=He?[ut,kt]:[kt,ut]:He?kt.unshift(ut):kt.push(ut),(bt=Q(Ke))>0&&kt.length>bt&&!kt.warned){kt.warned=!0;var Wt=new Error("Possible EventEmitter memory leak detected. "+kt.length+" "+String(Ve)+" listeners added. Use emitter.setMaxListeners() to increase limit");Wt.name="MaxListenersExceededWarning",Wt.emitter=Ke,Wt.type=Ve,Wt.count=kt.length,function A(Ke){console&&console.warn&&console.warn(Ke)}(Wt)}return Ke}function ye(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Fe(Ke,Ve,ut){var He={fired:!1,wrapFn:void 0,target:Ke,type:Ve,listener:ut},bt=ye.bind(He);return bt.listener=ut,He.wrapFn=bt,bt}function pt(Ke,Ve,ut){var He=Ke._events;if(void 0===He)return[];var bt=He[Ve];return void 0===bt?[]:"function"==typeof bt?ut?[bt.listener||bt]:[bt]:ut?function qe(Ke){for(var Ve=new Array(Ke.length),ut=0;ut<Ve.length;++ut)Ve[ut]=Ke[ut].listener||Ke[ut];return Ve}(bt):gt(bt,bt.length)}function Te(Ke){var Ve=this._events;if(void 0!==Ve){var ut=Ve[Ke];if("function"==typeof ut)return 1;if(void 0!==ut)return ut.length}return 0}function gt(Ke,Ve){for(var ut=new Array(Ve),He=0;He<Ve;++He)ut[He]=Ke[He];return ut}function yt(Ke,Ve,ut,He){if("function"==typeof Ke.on)He.once?Ke.once(Ve,ut):Ke.on(Ve,ut);else{if("function"!=typeof Ke.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Ke);Ke.addEventListener(Ve,function bt(Yt){He.once&&Ke.removeEventListener(Ve,bt),ut(Yt)})}}Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return P},set:function(Ke){if("number"!=typeof Ke||Ke<0||Y(Ke))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Ke+".");P=Ke}}),t.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(Ve){if("number"!=typeof Ve||Ve<0||Y(Ve))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Ve+".");return this._maxListeners=Ve,this},t.prototype.getMaxListeners=function(){return Q(this)},t.prototype.emit=function(Ve){for(var ut=[],He=1;He<arguments.length;He++)ut.push(arguments[He]);var bt="error"===Ve,Yt=this._events;if(void 0!==Yt)bt=bt&&void 0===Yt.error;else if(!bt)return!1;if(bt){var kt;if(ut.length>0&&(kt=ut[0]),kt instanceof Error)throw kt;var Wt=new Error("Unhandled error."+(kt?" ("+kt.message+")":""));throw Wt.context=kt,Wt}var en=Yt[Ve];if(void 0===en)return!1;if("function"==typeof en)se(en,this,ut);else{var wi=en.length,mi=gt(en,wi);for(He=0;He<wi;++He)se(mi[He],this,ut)}return!0},t.prototype.on=t.prototype.addListener=function(Ve,ut){return oe(this,Ve,ut,!1)},t.prototype.prependListener=function(Ve,ut){return oe(this,Ve,ut,!0)},t.prototype.once=function(Ve,ut){return J(ut),this.on(Ve,Fe(this,Ve,ut)),this},t.prototype.prependOnceListener=function(Ve,ut){return J(ut),this.prependListener(Ve,Fe(this,Ve,ut)),this},t.prototype.off=t.prototype.removeListener=function(Ve,ut){var He,bt,Yt,kt,Wt;if(J(ut),void 0===(bt=this._events))return this;if(void 0===(He=bt[Ve]))return this;if(He===ut||He.listener===ut)0==--this._eventsCount?this._events=Object.create(null):(delete bt[Ve],bt.removeListener&&this.emit("removeListener",Ve,He.listener||ut));else if("function"!=typeof He){for(Yt=-1,kt=He.length-1;kt>=0;kt--)if(He[kt]===ut||He[kt].listener===ut){Wt=He[kt].listener,Yt=kt;break}if(Yt<0)return this;0===Yt?He.shift():function Mt(Ke,Ve){for(;Ve+1<Ke.length;Ve++)Ke[Ve]=Ke[Ve+1];Ke.pop()}(He,Yt),1===He.length&&(bt[Ve]=He[0]),void 0!==bt.removeListener&&this.emit("removeListener",Ve,Wt||ut)}return this},t.prototype.removeAllListeners=function(Ve){var ut,He,bt;if(void 0===(He=this._events))return this;if(void 0===He.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==He[Ve]&&(0==--this._eventsCount?this._events=Object.create(null):delete He[Ve]),this;if(0===arguments.length){var kt,Yt=Object.keys(He);for(bt=0;bt<Yt.length;++bt)"removeListener"!==(kt=Yt[bt])&&this.removeAllListeners(kt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ut=He[Ve]))this.removeListener(Ve,ut);else if(void 0!==ut)for(bt=ut.length-1;bt>=0;bt--)this.removeListener(Ve,ut[bt]);return this},t.prototype.listeners=function(Ve){return pt(this,Ve,!0)},t.prototype.rawListeners=function(Ve){return pt(this,Ve,!1)},t.listenerCount=function(Ke,Ve){return"function"==typeof Ke.listenerCount?Ke.listenerCount(Ve):Te.call(Ke,Ve)},t.prototype.listenerCount=Te,t.prototype.eventNames=function(){return this._eventsCount>0?te(this._events):[]}},5780:ze=>{var se;ze.exports=se={},se.simpleFilter=function(te,A){return A.filter(function(Y){return se.test(te,Y)})},se.test=function(te,A){return null!==se.match(te,A)},se.match=function(te,A,Y){var Te,t=0,P=[],J=A.length,Q=0,oe=0,ye=(Y=Y||{}).pre||"",Fe=Y.post||"",pt=Y.caseSensitive&&A||A.toLowerCase();te=Y.caseSensitive&&te||te.toLowerCase();for(var gt=0;gt<J;gt++)Te=A[gt],pt[gt]===te[t]?(Te=ye+Te+Fe,t+=1,oe+=1+oe):oe=0,Q+=oe,P[P.length]=Te;return t===te.length?(Q=pt===te?1/0:Q,{rendered:P.join(""),score:Q}):null},se.filter=function(te,A,Y){return A&&0!==A.length?"string"!=typeof te?A:(Y=Y||{},A.reduce(function(t,P,J,Q){var oe=P;Y.extract&&(oe=Y.extract(P));var ye=se.match(te,oe,Y);return null!=ye&&(t[t.length]={string:ye.rendered,score:ye.score,index:J,original:P}),t},[]).sort(function(t,P){return P.score-t.score||t.index-P.index})):[]}},3082:ze=>{var A=/^\s+|\s+$/g,Y=/^[-+]0x[0-9a-f]+$/i,t=/^0b[01]+$/i,P=/^0o[0-7]+$/i,J=parseInt,Q="object"==typeof global&&global&&global.Object===Object&&global,oe="object"==typeof self&&self&&self.Object===Object&&self,ye=Q||oe||Function("return this")(),pt=Object.prototype.toString,Te=Math.max,gt=Math.min,Mt=function(){return ye.Date.now()};function Me(Ve){var ut=typeof Ve;return!!Ve&&("object"==ut||"function"==ut)}function Ke(Ve){if("number"==typeof Ve)return Ve;if(function yt(Ve){return"symbol"==typeof Ve||function Je(Ve){return!!Ve&&"object"==typeof Ve}(Ve)&&"[object Symbol]"==pt.call(Ve)}(Ve))return NaN;if(Me(Ve)){var ut="function"==typeof Ve.valueOf?Ve.valueOf():Ve;Ve=Me(ut)?ut+"":ut}if("string"!=typeof Ve)return 0===Ve?Ve:+Ve;Ve=Ve.replace(A,"");var He=t.test(Ve);return He||P.test(Ve)?J(Ve.slice(2),He?2:8):Y.test(Ve)?NaN:+Ve}ze.exports=function qe(Ve,ut,He){var bt,Yt,kt,Wt,en,wi,mi=0,gr=!1,ei=!1,Mn=!0;if("function"!=typeof Ve)throw new TypeError("Expected a function");function on(Yi){var Wn=bt,ii=Yt;return bt=Yt=void 0,mi=Yi,Wt=Ve.apply(ii,Wn)}function Tn(Yi){return mi=Yi,en=setTimeout(fn,ut),gr?on(Yi):Wt}function Li(Yi){var Wn=Yi-wi;return void 0===wi||Wn>=ut||Wn<0||ei&&Yi-mi>=kt}function fn(){var Yi=Mt();if(Li(Yi))return jn(Yi);en=setTimeout(fn,function On(Yi){var Ur=ut-(Yi-wi);return ei?gt(Ur,kt-(Yi-mi)):Ur}(Yi))}function jn(Yi){return en=void 0,Mn&&bt?on(Yi):(bt=Yt=void 0,Wt)}function Er(){var Yi=Mt(),Wn=Li(Yi);if(bt=arguments,Yt=this,wi=Yi,Wn){if(void 0===en)return Tn(wi);if(ei)return en=setTimeout(fn,ut),on(wi)}return void 0===en&&(en=setTimeout(fn,ut)),Wt}return ut=Ke(ut)||0,Me(He)&&(gr=!!He.leading,kt=(ei="maxWait"in He)?Te(Ke(He.maxWait)||0,ut):kt,Mn="trailing"in He?!!He.trailing:Mn),Er.cancel=function Rn(){void 0!==en&&clearTimeout(en),mi=0,bt=wi=Yt=en=void 0},Er.flush=function Ut(){return void 0===en?Wt:jn(Mt())},Er}},9898:function(ze){ze.exports=function(){"use strict";var Ye,se,te;function A(t,P){if(Ye)if(se){var J="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+Ye+")(sharedChunk); ("+se+")(sharedChunk); self.onerror = null;",Q={};Ye(Q),te=P(Q),"undefined"!=typeof window&&window&&window.URL&&window.URL.createObjectURL&&(te.workerUrl=window.URL.createObjectURL(new Blob([J],{type:"text/javascript"})))}else se=P;else Ye=P}return A(0,function(t){var P="undefined"!=typeof self?self:{},J="2.15.0";let Q;const oe={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==Q){const i=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{Q=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):i}catch(e){Q=i}}return Q},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!oe.API_URL)return null;try{const i=new URL(oe.API_URL);return"api.mapbox.cn"===i.hostname?"https://events.mapbox.cn/events/v2":"api.mapbox.com"===i.hostname?"https://events.mapbox.com/events/v2":null}catch(i){return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ye={supported:!1,testSupport:function(i){!Te&&pt&&(gt?Mt(i):Fe=i)}};let Fe,pt,Te=!1,gt=!1;function Mt(i){const e=i.createTexture();i.bindTexture(i.TEXTURE_2D,e);try{if(i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,pt),i.isContextLost())return;ye.supported=!0}catch(n){}i.deleteTexture(e),Te=!0}P.document&&(pt=P.document.createElement("img"),pt.onload=function(){Fe&&Mt(Fe),Fe=null,gt=!0},pt.onerror=function(){Te=!0,Fe=null},pt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const qe="01";function Me(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Je=yt;function yt(i,e,n,o){this.cx=3*i,this.bx=3*(n-i)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(o-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=i,this.p1y=e,this.p2x=n,this.p2y=o}yt.prototype={sampleCurveX:function(i){return((this.ax*i+this.bx)*i+this.cx)*i},sampleCurveY:function(i){return((this.ay*i+this.by)*i+this.cy)*i},sampleCurveDerivativeX:function(i){return(3*this.ax*i+2*this.bx)*i+this.cx},solveCurveX:function(i,e){if(void 0===e&&(e=1e-6),i<0)return 0;if(i>1)return 1;for(var n=i,o=0;o<8;o++){var u=this.sampleCurveX(n)-i;if(Math.abs(u)<e)return n;var f=this.sampleCurveDerivativeX(n);if(Math.abs(f)<1e-6)break;n-=u/f}var g=0,M=1;for(n=i,o=0;o<20&&(u=this.sampleCurveX(n),!(Math.abs(u-i)<e));o++)i>u?g=n:M=n,n=.5*(M-g)+g;return n},solve:function(i,e){return this.sampleCurveY(this.solveCurveX(i,e))}};var Ke=Me(Je),Ve=ut;function ut(i,e){this.x=i,this.y=e}ut.prototype={clone:function(){return new ut(this.x,this.y)},add:function(i){return this.clone()._add(i)},sub:function(i){return this.clone()._sub(i)},multByPoint:function(i){return this.clone()._multByPoint(i)},divByPoint:function(i){return this.clone()._divByPoint(i)},mult:function(i){return this.clone()._mult(i)},div:function(i){return this.clone()._div(i)},rotate:function(i){return this.clone()._rotate(i)},rotateAround:function(i,e){return this.clone()._rotateAround(i,e)},matMult:function(i){return this.clone()._matMult(i)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(i){return this.x===i.x&&this.y===i.y},dist:function(i){return Math.sqrt(this.distSqr(i))},distSqr:function(i){var e=i.x-this.x,n=i.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(i){return Math.atan2(this.y-i.y,this.x-i.x)},angleWith:function(i){return this.angleWithSep(i.x,i.y)},angleWithSep:function(i,e){return Math.atan2(this.x*e-this.y*i,this.x*i+this.y*e)},_matMult:function(i){var e=i[2]*this.x+i[3]*this.y;return this.x=i[0]*this.x+i[1]*this.y,this.y=e,this},_add:function(i){return this.x+=i.x,this.y+=i.y,this},_sub:function(i){return this.x-=i.x,this.y-=i.y,this},_mult:function(i){return this.x*=i,this.y*=i,this},_div:function(i){return this.x/=i,this.y/=i,this},_multByPoint:function(i){return this.x*=i.x,this.y*=i.y,this},_divByPoint:function(i){return this.x/=i.x,this.y/=i.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var i=this.y;return this.y=this.x,this.x=-i,this},_rotate:function(i){var e=Math.cos(i),n=Math.sin(i),o=n*this.x+e*this.y;return this.x=e*this.x-n*this.y,this.y=o,this},_rotateAround:function(i,e){var n=Math.cos(i),o=Math.sin(i),u=e.y+o*(this.x-e.x)+n*(this.y-e.y);return this.x=e.x+n*(this.x-e.x)-o*(this.y-e.y),this.y=u,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},ut.convert=function(i){return i instanceof ut?i:Array.isArray(i)?new ut(i[0],i[1]):i};var He=Me(Ve);const bt=Math.PI/180,Yt=180/Math.PI;function kt(i){return i*bt}function Wt(i){return i*Yt}const en=[[0,0],[1,0],[1,1],[0,1]];function wi(i){if(i<=0)return 0;if(i>=1)return 1;const e=i*i,n=e*i;return 4*(i<.5?n:3*(i-e)+n-.75)}function mi(i,e,n,o){const u=new Ke(i,e,n,o);return function(f){return u.solve(f)}}const gr=mi(.25,.1,.25,1);function ei(i,e,n){return Math.min(n,Math.max(e,i))}function Mn(i,e,n){return(n=ei((n-i)/(e-i),0,1))*n*(3-2*n)}function on(i,e,n){const o=n-e,u=((i-e)%o+o)%o+e;return u===e?n:u}function Tn(i,e,n){if(!i.length)return n(null,[]);let o=i.length;const u=new Array(i.length);let f=null;i.forEach((g,M)=>{e(g,(L,E)=>{L&&(f=L),u[M]=E,0==--o&&n(f,u)})})}function On(i){const e=[];for(const n in i)e.push(i[n]);return e}function Li(i,...e){for(const n of e)for(const o in n)i[o]=n[o];return i}let fn=1;function jn(){return fn++}function Rn(){return function i(e){return e?(e^Math.random()*(16>>e/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,i)}()}function Ut(i){return i<=1?1:Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function Er(i){return!!i&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(i)}function Yi(i,e){i.forEach(n=>{e[n]&&(e[n]=e[n].bind(e))})}function Wn(i,e){return-1!==i.indexOf(e,i.length-e.length)}function ii(i,e,n){const o={};for(const u in i)o[u]=e.call(n||this,i[u],u,i);return o}function Ur(i,e,n){const o={};for(const u in i)e.call(n||this,i[u],u,i)&&(o[u]=i[u]);return o}function Fr(i){return Array.isArray(i)?i.map(Fr):"object"==typeof i&&i?ii(i,Fr):i}const Ss={};function Pi(i){Ss[i]||("undefined"!=typeof console&&console.warn(i),Ss[i]=!0)}function er(i,e,n){return(n.y-i.y)*(e.x-i.x)>(e.y-i.y)*(n.x-i.x)}function ho(i){let e=0;for(let n,o,u=0,f=i.length,g=f-1;u<f;g=u++)n=i[u],o=i[g],e+=(o.x-n.x)*(n.y+o.y);return e}function kn(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function Ui(i){const e={};if(i.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(n,o,u,f)=>{const g=u||f;return e[o]=!g||g.toLowerCase(),""}),e["max-age"]){const n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}let Wr=null;function tr(i){if(null==Wr){const e=i.navigator?i.navigator.userAgent:null;Wr=!!i.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return Wr}function ni(i){try{const e=P[i];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(e){return!1}}function zi(i,e){return[i[4*e],i[4*e+1],i[4*e+2],i[4*e+3]]}const Fn="mapbox-tiles";let Hi,yr,Si=500,hn=50;function Bi(){try{return P.caches}catch(i){}}function Mi(){Bi()&&!Hi&&(Hi=P.caches.open(Fn))}function di(i){const e=i.indexOf("?");if(e<0)return i;const o=function(u){const f=u.indexOf("?");return f>0?u.slice(f+1).split("&"):[]}(i).filter(u=>{const f=u.split("=");return"language"===f[0]||"worldview"===f[0]});return o.length?`${i.slice(0,e)}?${o.join("&")}`:i.slice(0,e)}let cr=1/0;const Yn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(Yn);class ma extends Error{constructor(e,n,o){401===n&&We(o)&&(e+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(e),this.status=n,this.url=o}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Gt=kn()?()=>self.worker&&self.worker.referrer:()=>("blob:"===P.location.protocol?P.parent:P).location.href,ea=function(i,e){if(!(/^file:/.test(n=i.url)||/^file:/.test(Gt())&&!/^\w+:/.test(n))){if(P.fetch&&P.Request&&P.AbortController&&P.Request.prototype.hasOwnProperty("signal"))return function(o,u){const f=new P.AbortController,g=new P.Request(o.url,{method:o.method||"GET",body:o.body,credentials:o.credentials,headers:o.headers,referrer:Gt(),referrerPolicy:o.referrerPolicy,signal:f.signal});let M=!1,L=!1;const E=(B=g.url).indexOf("sku=")>0&&We(B);var B;"json"===o.type&&g.headers.set("Accept","application/json");const V=(ee,ne,le)=>{if(L)return;if(ee&&"SecurityError"!==ee.message&&Pi(ee.toString()),ne&&le)return Z(ne);const _e=Date.now();P.fetch(g).then(xe=>{if(xe.ok){const Se=E?xe.clone():null;return Z(xe,Se,_e)}return u(new ma(xe.statusText,xe.status,o.url))}).catch(xe=>{"AbortError"!==xe.name&&u(new Error(`${xe.message} ${o.url}`))})},Z=(ee,ne,le)=>{("arrayBuffer"===o.type?ee.arrayBuffer():"json"===o.type?ee.json():ee.text()).then(_e=>{L||(ne&&le&&function(xe,Se,we){if(Mi(),!Hi)return;const Le={status:Se.status,statusText:Se.statusText,headers:new P.Headers};Se.headers.forEach((Qe,$e)=>Le.headers.set($e,Qe));const Ie=Ui(Se.headers.get("Cache-Control")||"");if(Ie["no-store"])return;Ie["max-age"]&&Le.headers.set("Expires",new Date(we+1e3*Ie["max-age"]).toUTCString());const Pe=Le.headers.get("Expires");Pe&&(new Date(Pe).getTime()-we<42e4||function(Qe,$e){if(void 0===yr)try{new Response(new ReadableStream),yr=!0}catch(dt){yr=!1}yr?$e(Qe.body):Qe.blob().then($e)}(Se,Qe=>{const $e=new P.Response(Qe,Le);Mi(),Hi&&Hi.then(dt=>dt.put(di(xe.url),$e)).catch(dt=>Pi(dt.message))}))}(g,ne,le),M=!0,u(null,_e,ee.headers.get("Cache-Control"),ee.headers.get("Expires")))}).catch(_e=>{L||u(new Error(_e.message))})};return E?function(ee,ne){if(Mi(),!Hi)return ne(null);const le=di(ee.url);Hi.then(_e=>{_e.match(le).then(xe=>{const Se=function(we){if(!we)return!1;const Le=new Date(we.headers.get("Expires")||0),Ie=Ui(we.headers.get("Cache-Control")||"");return Le>Date.now()&&!Ie["no-cache"]}(xe);_e.delete(le),Se&&_e.put(le,xe.clone()),ne(null,xe,Se)}).catch(ne)}).catch(ne)}(g,V):V(null,null),{cancel:()=>{L=!0,M||f.abort()}}}(i,e);if(kn()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",i,e,void 0,!0)}var n;return function(o,u){const f=new P.XMLHttpRequest;f.open(o.method||"GET",o.url,!0),"arrayBuffer"===o.type&&(f.responseType="arraybuffer");for(const g in o.headers)f.setRequestHeader(g,o.headers[g]);return"json"===o.type&&(f.responseType="text",f.setRequestHeader("Accept","application/json")),f.withCredentials="include"===o.credentials,f.onerror=()=>{u(new Error(f.statusText))},f.onload=()=>{if((f.status>=200&&f.status<300||0===f.status)&&null!==f.response){let g=f.response;if("json"===o.type)try{g=JSON.parse(f.response)}catch(M){return u(M)}u(null,g,f.getResponseHeader("Cache-Control"),f.getResponseHeader("Expires"))}else u(new ma(f.statusText,f.status,o.url))},f.send(o.body),{cancel:()=>f.abort()}}(i,e)},vr=function(i,e){return ea(Li(i,{type:"arrayBuffer"}),e)};function ur(i){const e=P.document.createElement("a");return e.href=i,e.protocol===P.document.location.protocol&&e.host===P.document.location.host}const ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let he,fe;he=[],fe=0;const be=function(i,e){if(ye.supported&&(i.headers||(i.headers={}),i.headers.accept="image/webp,*/*"),fe>=oe.MAX_PARALLEL_IMAGE_REQUESTS){const f={requestParameters:i,callback:e,cancelled:!1,cancel(){this.cancelled=!0}};return he.push(f),f}fe++;let n=!1;const o=()=>{if(!n)for(n=!0,fe--;he.length&&fe<oe.MAX_PARALLEL_IMAGE_REQUESTS;){const f=he.shift(),{requestParameters:g,callback:M,cancelled:L}=f;L||(f.cancel=be(g,M).cancel)}},u=vr(i,(f,g,M,L)=>{o(),f?e(f):g&&(P.createImageBitmap?function(E,B){const V=new P.Blob([new Uint8Array(E)],{type:"image/png"});P.createImageBitmap(V).then(Z=>{B(null,Z)}).catch(Z=>{B(new Error(`Could not load image because of ${Z.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(g,(E,B)=>e(E,B,M,L)):function(E,B){const V=new P.Image,Z=P.URL;V.onload=()=>{B(null,V),Z.revokeObjectURL(V.src),V.onload=null,P.requestAnimationFrame(()=>{V.src=ke})},V.onerror=()=>B(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const ee=new P.Blob([new Uint8Array(E)],{type:"image/png"});V.src=E.byteLength?Z.createObjectURL(ee):ke}(g,(E,B)=>e(E,B,M,L)))});return{cancel:()=>{u.cancel(),o()}}},Ae="NO_ACCESS_TOKEN";function Be(i){return 0===i.indexOf("mapbox:")}function We(i){return oe.API_URL_REGEX.test(i)}function Ue(i){return oe.API_CDN_URL_REGEX.test(i)}function X(i){return oe.API_STYLE_REGEX.test(i)&&!Xe(i)}function Xe(i){return oe.API_SPRITE_REGEX.test(i)}const wt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function St(i){const e=i.match(wt);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function vt(i){const e=i.params.length?`?${i.params.join("&")}`:"";return`${i.protocol}://${i.authority}${i.path}${e}`}const ti="mapbox.eventData";function ri(i){if(!i)return null;const e=i.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(P.atob(e[1]).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(n){return null}}class Xt{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){const n=ri(oe.ACCESS_TOKEN);let o="";return o=n&&n.u?P.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(u,f)=>String.fromCharCode(Number("0x"+f)))):oe.ACCESS_TOKEN||"",e?`${ti}.${e}:${o}`:`${ti}:${o}`}fetchEventData(){const e=ni("localStorage"),n=this.getStorageKey(),o=this.getStorageKey("uuid");if(e)try{const u=P.localStorage.getItem(n);u&&(this.eventData=JSON.parse(u));const f=P.localStorage.getItem(o);f&&(this.anonId=f)}catch(u){Pi("Unable to read from LocalStorage")}}saveEventData(){const e=ni("localStorage"),n=this.getStorageKey(),o=this.getStorageKey("uuid");if(e)try{P.localStorage.setItem(o,this.anonId),Object.keys(this.eventData).length>=1&&P.localStorage.setItem(n,JSON.stringify(this.eventData))}catch(u){Pi("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,n,o,u){if(!oe.EVENTS_URL)return;const f=St(oe.EVENTS_URL);f.params.push(`access_token=${u||oe.ACCESS_TOKEN||""}`);const g={event:this.type,created:new Date(e).toISOString()},M=n?Li(g,n):g,L={url:vt(f),headers:{"Content-Type":"text/plain"},body:JSON.stringify([M])};var B;this.pendingRequest=(B=E=>{this.pendingRequest=null,o(E),this.saveEventData(),this.processRequests(u)},ea(Li(L,{method:"POST"}),B))}queueRequest(e,n){this.queue.push(e),this.processRequests(n)}}const _t=new class extends Xt{constructor(i){super("appUserTurnstile"),this._customAccessToken=i}postTurnstileEvent(i,e){oe.EVENTS_URL&&oe.ACCESS_TOKEN&&Array.isArray(i)&&i.some(n=>Be(n)||We(n))&&this.queueRequest(Date.now(),e)}processRequests(i){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const e=ri(oe.ACCESS_TOKEN),n=e?e.u:oe.ACCESS_TOKEN;let o=n!==this.eventData.tokenU;Er(this.anonId)||(this.anonId=Rn(),o=!0);const u=this.queue.shift();if(this.eventData.lastSuccess){const f=new Date(this.eventData.lastSuccess),g=new Date(u),M=(u-this.eventData.lastSuccess)/864e5;o=o||M>=1||M<-1||f.getDate()!==g.getDate()}else o=!0;o?this.postEvent(u,{sdkIdentifier:"mapbox-gl-js",sdkVersion:J,skuId:qe,"enabled.telemetry":!1,userId:this.anonId},f=>{f||(this.eventData.lastSuccess=u,this.eventData.tokenU=n)},i):this.processRequests()}},vi=_t.postTurnstileEvent.bind(_t),pn=new class extends Xt{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(i,e,n,o){this.skuToken=e,this.errorCb=o,oe.EVENTS_URL&&(n||oe.ACCESS_TOKEN?this.queueRequest({id:i,timestamp:Date.now()},n):this.errorCb(new Error(Ae)))}processRequests(i){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:n}=this.queue.shift();e&&this.success[e]||(this.anonId||this.fetchEventData(),Er(this.anonId)||(this.anonId=Rn()),this.postEvent(n,{sdkIdentifier:"mapbox-gl-js",sdkVersion:J,skuId:qe,skuToken:this.skuToken,userId:this.anonId},o=>{o?this.errorCb(o):e&&(this.success[e]=!0)},i))}},ji=pn.postMapLoadEvent.bind(pn),Dn=new class extends Xt{constructor(){super("gljs.performance")}postPerformanceEvent(i,e){oe.EVENTS_URL&&(i||oe.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:e},i)}processRequests(i){if(this.pendingRequest||0===this.queue.length)return;const{timestamp:e,performanceData:n}=this.queue.shift(),o=function(u){const f=P.performance.getEntriesByType("resource"),g=P.performance.getEntriesByType("mark"),M=function(Z){const ee={};if(Z)for(const ne in Z)if("other"!==ne)for(const le of Z[ne]){const _e=`${ne}ResolveRangeMin`,xe=`${ne}ResolveRangeMax`,Se=`${ne}RequestCount`,we=`${ne}RequestCachedCount`;ee[_e]=Math.min(ee[_e]||1/0,le.startTime),ee[xe]=Math.max(ee[xe]||-1/0,le.responseEnd);const Le=Ie=>{void 0===ee[Ie]&&(ee[Ie]=0),++ee[Ie]};void 0!==le.transferSize&&0===le.transferSize&&Le(we),Le(Se)}return ee}(function(Z,ee){const ne={};if(Z)for(const le of Z){const _e=ee(le);void 0===ne[_e]&&(ne[_e]=[]),ne[_e].push(le)}return ne}(f,Nn)),L=P.devicePixelRatio,E=P.navigator.connection||P.navigator.mozConnection||P.navigator.webkitConnection,B={counters:[],metadata:[],attributes:[]},V=(Z,ee,ne)=>{null!=ne&&Z.push({name:ee,value:ne.toString()})};for(const Z in M)V(B.counters,Z,M[Z]);if(u.interactionRange[0]!==1/0&&u.interactionRange[1]!==-1/0&&(V(B.counters,"interactionRangeMin",u.interactionRange[0]),V(B.counters,"interactionRangeMax",u.interactionRange[1])),g)for(const Z of Object.keys(mn)){const ee=mn[Z],ne=g.find(le=>le.name===ee);ne&&V(B.counters,ee,ne.startTime)}return V(B.counters,"visibilityHidden",u.visibilityHidden),V(B.attributes,"style",function(Z){if(Z)for(const ee of Z){const ne=ee.name.split("?")[0];if(X(ne)){const le=ne.split("/").slice(-2);if(2===le.length)return`mapbox://styles/${le[0]}/${le[1]}`}}}(f)),V(B.attributes,"terrainEnabled",u.terrainEnabled?"true":"false"),V(B.attributes,"fogEnabled",u.fogEnabled?"true":"false"),V(B.attributes,"projection",u.projection),V(B.attributes,"zoom",u.zoom),V(B.metadata,"devicePixelRatio",L),V(B.metadata,"connectionEffectiveType",E?E.effectiveType:void 0),V(B.metadata,"navigatorUserAgent",P.navigator.userAgent),V(B.metadata,"screenWidth",P.screen.width),V(B.metadata,"screenHeight",P.screen.height),V(B.metadata,"windowWidth",P.innerWidth),V(B.metadata,"windowHeight",P.innerHeight),V(B.metadata,"mapWidth",u.width/L),V(B.metadata,"mapHeight",u.height/L),V(B.metadata,"webglRenderer",u.renderer),V(B.metadata,"webglVendor",u.vendor),V(B.metadata,"sdkVersion",J),V(B.metadata,"sdkIdentifier","mapbox-gl-js"),B}(n);for(const u of o.metadata);for(const u of o.counters);for(const u of o.attributes);this.postEvent(e,o,()=>{},i)}},ai=Dn.postPerformanceEvent.bind(Dn),Ti=new class extends Xt{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(i,e,n,o){if(!oe.API_URL||!oe.SESSION_PATH)return;const u=St(oe.API_URL+oe.SESSION_PATH);u.params.push(`sku=${e||""}`),u.params.push(`access_token=${o||oe.ACCESS_TOKEN||""}`);const f={url:vt(u),headers:{"Content-Type":"text/plain"}};var M;this.pendingRequest=(M=g=>{this.pendingRequest=null,n(g),this.saveEventData(),this.processRequests(o)},ea(Li(f,{method:"GET"}),M))}getSessionAPI(i,e,n,o){this.skuToken=e,this.errorCb=o,oe.SESSION_PATH&&oe.API_URL&&(n||oe.ACCESS_TOKEN?this.queueRequest({id:i,timestamp:Date.now()},n):this.errorCb(new Error(Ae)))}processRequests(i){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:n}=this.queue.shift();e&&this.success[e]||this.getSession(n,this.skuToken,o=>{o?this.errorCb(o):e&&(this.success[e]=!0)},i)}},Zn=Ti.getSessionAPI.bind(Ti),qi=new Set,mn={create:"create",load:"load",fullLoad:"fullLoad"},qn={mark(i){P.performance.mark(i)},measure(i,e,n){P.performance.measure(i,e,n)}};function Nn(i){const e=i.name.split("?")[0];return Ue(e)&&e.includes("mapbox-gl.js")?"javascript":Ue(e)&&e.includes("mapbox-gl.css")?"css":oe.API_FONTS_REGEX.test(e)?"fontRange":Xe(e)?"sprite":X(e)?"style":oe.API_TILEJSON_REGEX.test(e)?"tilejson":"other"}const hi=P.performance;function Yr(i){const e=i?i.url.toString():void 0;return hi.getEntriesByName(e)}let br,po,zr,yn;const an={now:()=>void 0!==zr?zr:P.performance.now(),setNow(i){zr=i},restoreNow(){zr=void 0},frame(i){const e=P.requestAnimationFrame(i);return{cancel:()=>P.cancelAnimationFrame(e)}},getImageData(i,e=0){const{width:n,height:o}=i;yn||(yn=P.document.createElement("canvas"));const u=yn.getContext("2d",{willReadFrequently:!0});if(!u)throw new Error("failed to create canvas 2d context");return(n>yn.width||o>yn.height)&&(yn.width=n,yn.height=o),u.clearRect(-e,-e,n+2*e,o+2*e),u.drawImage(i,0,0,n,o),u.getImageData(-e,-e,n+2*e,o+2*e)},resolveURL:i=>(br||(br=P.document.createElement("a")),br.href=i,br.href),get devicePixelRatio(){return P.devicePixelRatio},get prefersReducedMotion(){return!!P.matchMedia&&(null==po&&(po=P.matchMedia("(prefers-reduced-motion: reduce)")),po.matches)}};function Cs(i,e,n){n[i]&&-1!==n[i].indexOf(e)||(n[i]=n[i]||[],n[i].push(e))}function Bo(i,e,n){if(n&&n[i]){const o=n[i].indexOf(e);-1!==o&&n[i].splice(o,1)}}class Ia{constructor(e,n={}){Li(this,n),this.type=e}}class _a extends Ia{constructor(e,n={}){super("error",Li({error:e},n))}}class Pa{on(e,n){return this._listeners=this._listeners||{},Cs(e,n,this._listeners),this}off(e,n){return Bo(e,n,this._listeners),Bo(e,n,this._oneTimeListeners),this}once(e,n){return n?(this._oneTimeListeners=this._oneTimeListeners||{},Cs(e,n,this._oneTimeListeners),this):new Promise(o=>this.once(e,o))}fire(e,n){"string"==typeof e&&(e=new Ia(e,n||{}));const o=e.type;if(this.listens(o)){e.target=this;const u=this._listeners&&this._listeners[o]?this._listeners[o].slice():[];for(const M of u)M.call(this,e);const f=this._oneTimeListeners&&this._oneTimeListeners[o]?this._oneTimeListeners[o].slice():[];for(const M of f)Bo(o,M,this._oneTimeListeners),M.call(this,e);const g=this._eventedParent;g&&(Li(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),g.fire(e))}else e instanceof _a&&console.error(e.error);return this}listens(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,n){return this._eventedParent=e,this._eventedParentData=n,this}}var at=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function ta(i,...e){for(const n of e)for(const o in n)i[o]=n[o];return i}function zn(i){return i instanceof Number||i instanceof String||i instanceof Boolean?i.valueOf():i}function $n(i){if(Array.isArray(i))return i.map($n);if(i instanceof Object&&!(i instanceof Number||i instanceof String||i instanceof Boolean)){const e={};for(const n in i)e[n]=$n(i[n]);return e}return zn(i)}class Yl extends Error{constructor(e,n){super(n),this.message=n,this.key=e}}var ia=Yl;class ss{constructor(e,n=[]){this.parent=e,this.bindings={};for(const[o,u]of n)this.bindings[o]=u}concat(e){return new ss(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var zl=ss;const vn={kind:"null"},Ot={kind:"number"},bi={kind:"string"},si={kind:"boolean"},Ar={kind:"color"},Hn={kind:"object"},oi={kind:"value"},rr={kind:"collator"},Br={kind:"formatted"},Oa={kind:"resolvedImage"};function ir(i,e){return{kind:"array",itemType:i,N:e}}function Ci(i){if("array"===i.kind){const e=Ci(i.itemType);return"number"==typeof i.N?`array<${e}, ${i.N}>`:"value"===i.itemType.kind?"array":`array<${e}>`}return i.kind}const jo=[vn,Ot,bi,si,Ar,Br,Hn,ir(oi),Oa];function Ra(i,e){if("error"===e.kind)return null;if("array"===i.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!Ra(i.itemType,e.itemType))&&("number"!=typeof i.N||i.N===e.N))return null}else{if(i.kind===e.kind)return null;if("value"===i.kind)for(const n of jo)if(!Ra(n,e))return null}return`Expected ${Ci(i)} but found ${Ci(e)} instead.`}function os(i,e){return e.some(n=>n.kind===i.kind)}function na(i,e){return e.some(n=>"null"===n?null===i:"array"===n?Array.isArray(i):"object"===n?i&&!Array.isArray(i)&&"object"==typeof i:n===typeof i)}var Gr,ls={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Fa(i){return(i=Math.round(i))<0?0:i>255?255:i}function Ya(i){return Fa("%"===i[i.length-1]?parseFloat(i)/100*255:parseInt(i))}function Ir(i){return(e="%"===i[i.length-1]?parseFloat(i)/100:parseFloat(i))<0?0:e>1?1:e;var e}function Es(i,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?i+(e-i)*n*6:2*n<1?e:3*n<2?i+(e-i)*(2/3-n)*6:i}try{Gr={}.parseCSSColor=function(i){var e,n=i.replace(/ /g,"").toLowerCase();if(n in ls)return ls[n].slice();if("#"===n[0])return 4===n.length?(e=parseInt(n.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===n.length&&(e=parseInt(n.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var o=n.indexOf("("),u=n.indexOf(")");if(-1!==o&&u+1===n.length){var f=n.substr(0,o),g=n.substr(o+1,u-(o+1)).split(","),M=1;switch(f){case"rgba":if(4!==g.length)return null;M=Ir(g.pop());case"rgb":return 3!==g.length?null:[Ya(g[0]),Ya(g[1]),Ya(g[2]),M];case"hsla":if(4!==g.length)return null;M=Ir(g.pop());case"hsl":if(3!==g.length)return null;var L=(parseFloat(g[0])%360+360)%360/360,E=Ir(g[1]),B=Ir(g[2]),V=B<=.5?B*(E+1):B+E-B*E,Z=2*B-V;return[Fa(255*Es(Z,V,L+1/3)),Fa(255*Es(Z,V,L)),Fa(255*Es(Z,V,L-1/3)),M];default:return null}}return null}}catch(i){}class Bn{constructor(e,n,o,u=1){this.r=e,this.g=n,this.b=o,this.a=u}static parse(e){if(!e)return;if(e instanceof Bn)return e;if("string"!=typeof e)return;const n=Gr(e);return n?new Bn(n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3]):void 0}toString(){const[e,n,o,u]=this.toArray();return`rgba(${Math.round(e)},${Math.round(n)},${Math.round(o)},${u})`}toArray(){const{r:e,g:n,b:o,a:u}=this;return 0===u?[0,0,0,0]:[255*e/u,255*n/u,255*o/u,u]}toArray01(){const{r:e,g:n,b:o,a:u}=this;return 0===u?[0,0,0,0]:[e/u,n/u,o/u,u]}toArray01PremultipliedAlpha(){const{r:e,g:n,b:o,a:u}=this;return[e,n,o,u]}}Bn.black=new Bn(0,0,0,1),Bn.white=new Bn(1,1,1,1),Bn.transparent=new Bn(0,0,0,0),Bn.red=new Bn(1,0,0,1),Bn.blue=new Bn(0,0,1,1);var Ln=Bn;class dl{constructor(e,n,o){this.sensitivity=e?n?"variant":"case":n?"accent":"base",this.locale=o,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,n){return this.collator.compare(e,n)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class No{constructor(e,n,o,u,f){this.text=e.normalize?e.normalize():e,this.image=n,this.scale=o,this.fontStack=u,this.textColor=f}}class dr{constructor(e){this.sections=e}static fromString(e){return new dr([new No(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof dr?e:dr.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const n of this.sections){if(n.image){e.push(["image",n.image.name]);continue}e.push(n.text);const o={};n.fontStack&&(o["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(o["font-scale"]=n.scale),n.textColor&&(o["text-color"]=["rgba"].concat(n.textColor.toArray())),e.push(o)}return e}}class Zr{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Zr({name:e,available:!1}):null}serialize(){return["image",this.name]}}function Bl(i,e,n,o){return"number"==typeof i&&i>=0&&i<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===o||"number"==typeof o&&o>=0&&o<=1?null:`Invalid rgba value [${[i,e,n,o].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof o?[i,e,n,o]:[i,e,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function fo(i){if(null===i||"string"==typeof i||"boolean"==typeof i||"number"==typeof i||i instanceof Ln||i instanceof dl||i instanceof dr||i instanceof Zr)return!0;if(Array.isArray(i)){for(const e of i)if(!fo(e))return!1;return!0}if("object"==typeof i){for(const e in i)if(!fo(i[e]))return!1;return!0}return!1}function Vi(i){if(null===i)return vn;if("string"==typeof i)return bi;if("boolean"==typeof i)return si;if("number"==typeof i)return Ot;if(i instanceof Ln)return Ar;if(i instanceof dl)return rr;if(i instanceof dr)return Br;if(i instanceof Zr)return Oa;if(Array.isArray(i)){const e=i.length;let n;for(const o of i){const u=Vi(o);if(n){if(n===u)continue;n=oi;break}n=u}return ir(n||oi,e)}return Hn}function mo(i){const e=typeof i;return null===i?"":"string"===e||"number"===e||"boolean"===e?String(i):i instanceof Ln||i instanceof dr||i instanceof Zr?i.toString():JSON.stringify(i)}class _o{constructor(e,n){this.type=e,this.value=n}static parse(e,n){if(2!==e.length)return n.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!fo(e[1]))return n.error("invalid value");const o=e[1];let u=Vi(o);const f=n.expectedType;return"array"!==u.kind||0!==u.N||!f||"array"!==f.kind||"number"==typeof f.N&&0!==f.N||(u=f),new _o(u,o)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Ln?["rgba"].concat(this.value.toArray()):this.value instanceof dr?this.value.serialize():this.value}}var za=_o,Sn=class{constructor(i){this.name="ExpressionEvaluationError",this.message=i}toJSON(){return this.message}};const xr={string:bi,number:Ot,boolean:si,object:Hn};class $s{constructor(e,n){this.type=e,this.args=n}static parse(e,n){if(e.length<2)return n.error("Expected at least one argument.");let o,u=1;const f=e[0];if("array"===f){let M,L;if(e.length>2){const E=e[1];if("string"!=typeof E||!(E in xr)||"object"===E)return n.error('The item type argument of "array" must be one of string, number, boolean',1);M=xr[E],u++}else M=oi;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return n.error('The length argument to "array" must be a positive integer literal',2);L=e[2],u++}o=ir(M,L)}else o=xr[f];const g=[];for(;u<e.length;u++){const M=n.parse(e[u],u,oi);if(!M)return null;g.push(M)}return new $s(o,g)}evaluate(e){for(let n=0;n<this.args.length;n++){const o=this.args[n].evaluate(e);if(!Ra(this.type,Vi(o)))return o;if(n===this.args.length-1)throw new Sn(`Expected value to be of type ${Ci(this.type)}, but found ${Ci(Vi(o))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,n=[e.kind];if("array"===e.kind){const o=e.itemType;if("string"===o.kind||"number"===o.kind||"boolean"===o.kind){n.push(o.kind);const u=e.N;("number"==typeof u||this.args.length>1)&&n.push(u)}}return n.concat(this.args.map(o=>o.serialize()))}}var qr=$s;class ar{constructor(e){this.type=Br,this.sections=e}static parse(e,n){if(e.length<2)return n.error("Expected at least one argument.");const o=e[1];if(!Array.isArray(o)&&"object"==typeof o)return n.error("First argument must be an image or text section.");const u=[];let f=!1;for(let g=1;g<=e.length-1;++g){const M=e[g];if(f&&"object"==typeof M&&!Array.isArray(M)){f=!1;let L=null;if(M["font-scale"]&&(L=n.parse(M["font-scale"],1,Ot),!L))return null;let E=null;if(M["text-font"]&&(E=n.parse(M["text-font"],1,ir(bi)),!E))return null;let B=null;if(M["text-color"]&&(B=n.parse(M["text-color"],1,Ar),!B))return null;const V=u[u.length-1];V.scale=L,V.font=E,V.textColor=B}else{const L=n.parse(e[g],1,oi);if(!L)return null;const E=L.type.kind;if("string"!==E&&"value"!==E&&"null"!==E&&"resolvedImage"!==E)return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");f=!0,u.push({content:L,scale:null,font:null,textColor:null})}}return new ar(u)}evaluate(e){return new dr(this.sections.map(n=>{const o=n.content.evaluate(e);return Vi(o)===Oa?new No("",o,null,null,null):new No(mo(o),null,n.scale?n.scale.evaluate(e):null,n.font?n.font.evaluate(e).join(","):null,n.textColor?n.textColor.evaluate(e):null)}))}eachChild(e){for(const n of this.sections)e(n.content),n.scale&&e(n.scale),n.font&&e(n.font),n.textColor&&e(n.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const n of this.sections){e.push(n.content.serialize());const o={};n.scale&&(o["font-scale"]=n.scale.serialize()),n.font&&(o["text-font"]=n.font.serialize()),n.textColor&&(o["text-color"]=n.textColor.serialize()),e.push(o)}return e}}class cs{constructor(e){this.type=Oa,this.input=e}static parse(e,n){if(2!==e.length)return n.error("Expected two arguments.");const o=n.parse(e[1],1,bi);return o?new cs(o):n.error("No image name provided.")}evaluate(e){const n=this.input.evaluate(e),o=Zr.fromString(n);return o&&e.availableImages&&(o.available=e.availableImages.indexOf(n)>-1),o}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Xs={"to-boolean":si,"to-color":Ar,"to-number":Ot,"to-string":bi};class As{constructor(e,n){this.type=e,this.args=n}static parse(e,n){if(e.length<2)return n.error("Expected at least one argument.");const o=e[0];if(("to-boolean"===o||"to-string"===o)&&2!==e.length)return n.error("Expected one argument.");const u=Xs[o],f=[];for(let g=1;g<e.length;g++){const M=n.parse(e[g],g,oi);if(!M)return null;f.push(M)}return new As(u,f)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let n,o;for(const u of this.args){if(n=u.evaluate(e),o=null,n instanceof Ln)return n;if("string"==typeof n){const f=e.parseColor(n);if(f)return f}else if(Array.isArray(n)&&(o=n.length<3||n.length>4?`Invalid rbga value ${JSON.stringify(n)}: expected an array containing either three or four numeric values.`:Bl(n[0],n[1],n[2],n[3]),!o))return new Ln(n[0]/255,n[1]/255,n[2]/255,n[3])}throw new Sn(o||`Could not parse color from value '${"string"==typeof n?n:String(JSON.stringify(n))}'`)}if("number"===this.type.kind){let n=null;for(const o of this.args){if(n=o.evaluate(e),null===n)return 0;const u=Number(n);if(!isNaN(u))return u}throw new Sn(`Could not convert ${JSON.stringify(n)} to number.`)}return"formatted"===this.type.kind?dr.fromString(mo(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Zr.fromString(mo(this.args[0].evaluate(e))):mo(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if("formatted"===this.type.kind)return new ar([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new cs(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild(n=>{e.push(n.serialize())}),e}}var $r=As;const nr=["Unknown","Point","LineString","Polygon"];var hl=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?nr[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const i=this.featureDistanceData.center,e=this.featureDistanceData.scale,{x:n,y:o}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(n*e-i[0])+this.featureDistanceData.bearing[1]*(o*e-i[1])}return 0}parseColor(i){let e=this._parseColorCache[i];return e||(e=this._parseColorCache[i]=Ln.parse(i)),e}};class Is{constructor(e,n,o,u){this.name=e,this.type=n,this._evaluate=o,this.args=u}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,n){const o=e[0],u=Is.definitions[o];if(!u)return n.error(`Unknown expression "${o}". If you wanted a literal array, use ["literal", [...]].`,0);const f=Array.isArray(u)?u[0]:u.type,g=Array.isArray(u)?[[u[1],u[2]]]:u.overloads,M=g.filter(([E])=>!Array.isArray(E)||E.length===e.length-1);let L=null;for(const[E,B]of M){L=new Uo(n.registry,n.path,null,n.scope);const V=[];let Z=!1;for(let ee=1;ee<e.length;ee++){const ne=e[ee],le=Array.isArray(E)?E[ee-1]:E.type,_e=L.parse(ne,1+V.length,le);if(!_e){Z=!0;break}V.push(_e)}if(!Z)if(Array.isArray(E)&&E.length!==V.length)L.error(`Expected ${E.length} arguments, but found ${V.length} instead.`);else{for(let ee=0;ee<V.length;ee++){const ne=Array.isArray(E)?E[ee]:E.type,le=V[ee];L.concat(ee+1).checkSubtype(ne,le.type)}if(0===L.errors.length)return new Is(o,f,B,V)}}if(1===M.length)n.errors.push(...L.errors);else{const E=(M.length?M:g).map(([V])=>{return Z=V,Array.isArray(Z)?`(${Z.map(Ci).join(", ")})`:`(${Ci(Z.type)}...)`;var Z}).join(" | "),B=[];for(let V=1;V<e.length;V++){const Z=n.parse(e[V],1+B.length);if(!Z)return null;B.push(Ci(Z.type))}n.error(`Expected arguments of type ${E}, but found (${B.join(", ")}) instead.`)}return null}static register(e,n){Is.definitions=n;for(const o in n)e[o]=Is}}var Ba=Is;class Ps{constructor(e,n,o){this.type=rr,this.locale=o,this.caseSensitive=e,this.diacriticSensitive=n}static parse(e,n){if(2!==e.length)return n.error("Expected one argument.");const o=e[1];if("object"!=typeof o||Array.isArray(o))return n.error("Collator options argument must be an object.");const u=n.parse(void 0!==o["case-sensitive"]&&o["case-sensitive"],1,si);if(!u)return null;const f=n.parse(void 0!==o["diacritic-sensitive"]&&o["diacritic-sensitive"],1,si);if(!f)return null;let g=null;return o.locale&&(g=n.parse(o.locale,1,bi),!g)?null:new Ps(u,f,g)}evaluate(e){return new dl(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const Wi=8192;function us(i,e){i[0]=Math.min(i[0],e[0]),i[1]=Math.min(i[1],e[1]),i[2]=Math.max(i[2],e[0]),i[3]=Math.max(i[3],e[1])}function ga(i,e){return!(i[0]<=e[0]||i[2]>=e[2]||i[1]<=e[1]||i[3]>=e[3])}function ds(i,e){const n=(180+i[0])/360,o=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i[1]*Math.PI/360)))/360,u=Math.pow(2,e.z);return[Math.round(n*u*Wi),Math.round(o*u*Wi)]}function Ho(i,e,n){const o=i[0]-e[0],u=i[1]-e[1],f=i[0]-n[0],g=i[1]-n[1];return o*g-f*u==0&&o*f<=0&&u*g<=0}function wr(i,e){let n=!1;for(let g=0,M=e.length;g<M;g++){const L=e[g];for(let E=0,B=L.length;E<B-1;E++){if(Ho(i,L[E],L[E+1]))return!1;(u=L[E])[1]>(o=i)[1]!=(f=L[E+1])[1]>o[1]&&o[0]<(f[0]-u[0])*(o[1]-u[1])/(f[1]-u[1])+u[0]&&(n=!n)}}var o,u,f;return n}function Js(i,e){for(let n=0;n<e.length;n++)if(wr(i,e[n]))return!0;return!1}function Os(i,e,n,o){const u=o[0]-n[0],f=o[1]-n[1],g=(i[0]-n[0])*f-u*(i[1]-n[1]),M=(e[0]-n[0])*f-u*(e[1]-n[1]);return g>0&&M<0||g<0&&M>0}function jr(i,e,n){for(const E of n)for(let B=0;B<E.length-1;++B)if((M=[(g=E[B+1])[0]-(f=E[B])[0],g[1]-f[1]])[0]*(L=[(u=e)[0]-(o=i)[0],u[1]-o[1]])[1]-M[1]*L[0]!=0&&Os(o,u,f,g)&&Os(f,g,o,u))return!0;var o,u,f,g,M,L;return!1}function Oi(i,e){for(let n=0;n<i.length;++n)if(!wr(i[n],e))return!1;for(let n=0;n<i.length-1;++n)if(jr(i[n],i[n+1],e))return!1;return!0}function Mr(i,e){for(let n=0;n<e.length;n++)if(Oi(i,e[n]))return!0;return!1}function Pr(i,e,n){const o=[];for(let u=0;u<i.length;u++){const f=[];for(let g=0;g<i[u].length;g++){const M=ds(i[u][g],n);us(e,M),f.push(M)}o.push(f)}return o}function Vo(i,e,n){const o=[];for(let u=0;u<i.length;u++){const f=Pr(i[u],e,n);o.push(f)}return o}function hs(i,e,n,o){if(i[0]<n[0]||i[0]>n[2]){const u=.5*o;let f=i[0]-n[0]>u?-o:n[0]-i[0]>u?o:0;0===f&&(f=i[0]-n[2]>u?-o:n[2]-i[0]>u?o:0),i[0]+=f}us(e,i)}function pl(i,e,n,o){const u=Math.pow(2,o.z)*Wi,f=[o.x*Wi,o.y*Wi],g=[];if(!i)return g;for(const M of i)for(const L of M){const E=[L.x+f[0],L.y+f[1]];hs(E,e,n,u),g.push(E)}return g}function go(i,e,n,o){const u=Math.pow(2,o.z)*Wi,f=[o.x*Wi,o.y*Wi],g=[];if(!i)return g;for(const L of i){const E=[];for(const B of L){const V=[B.x+f[0],B.y+f[1]];us(e,V),E.push(V)}g.push(E)}if(e[2]-e[0]<=u/2){(M=e)[0]=M[1]=1/0,M[2]=M[3]=-1/0;for(const L of g)for(const E of L)hs(E,e,n,u)}var M;return g}class ps{constructor(e,n){this.type=si,this.geojson=e,this.geometries=n}static parse(e,n){if(2!==e.length)return n.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(fo(e[1])){const o=e[1];if("FeatureCollection"===o.type)for(let u=0;u<o.features.length;++u){const f=o.features[u].geometry.type;if("Polygon"===f||"MultiPolygon"===f)return new ps(o,o.features[u].geometry)}else if("Feature"===o.type){const u=o.geometry.type;if("Polygon"===u||"MultiPolygon"===u)return new ps(o,o.geometry)}else if("Polygon"===o.type||"MultiPolygon"===o.type)return new ps(o,o)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(n,o){const u=[1/0,1/0,-1/0,-1/0],f=[1/0,1/0,-1/0,-1/0],g=n.canonicalID();if(!g)return!1;if("Polygon"===o.type){const M=Pr(o.coordinates,f,g),L=pl(n.geometry(),u,f,g);if(!ga(u,f))return!1;for(const E of L)if(!wr(E,M))return!1}if("MultiPolygon"===o.type){const M=Vo(o.coordinates,f,g),L=pl(n.geometry(),u,f,g);if(!ga(u,f))return!1;for(const E of L)if(!Js(E,M))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(n,o){const u=[1/0,1/0,-1/0,-1/0],f=[1/0,1/0,-1/0,-1/0],g=n.canonicalID();if(!g)return!1;if("Polygon"===o.type){const M=Pr(o.coordinates,f,g),L=go(n.geometry(),u,f,g);if(!ga(u,f))return!1;for(const E of L)if(!Oi(E,M))return!1}if("MultiPolygon"===o.type){const M=Vo(o.coordinates,f,g),L=go(n.geometry(),u,f,g);if(!ga(u,f))return!1;for(const E of L)if(!Mr(E,M))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var ra=ps;function fs(i){if(i instanceof Ba&&("get"===i.name&&1===i.args.length||"feature-state"===i.name||"has"===i.name&&1===i.args.length||"properties"===i.name||"geometry-type"===i.name||"id"===i.name||/^filter-/.test(i.name))||i instanceof ra)return!1;let e=!0;return i.eachChild(n=>{e&&!fs(n)&&(e=!1)}),e}function ya(i){if(i instanceof Ba&&"feature-state"===i.name)return!1;let e=!0;return i.eachChild(n=>{e&&!ya(n)&&(e=!1)}),e}function ja(i,e){if(i instanceof Ba&&e.indexOf(i.name)>=0)return!1;let n=!0;return i.eachChild(o=>{n&&!ja(o,e)&&(n=!1)}),n}class Na{constructor(e,n){this.type=n.type,this.name=e,this.boundExpression=n}static parse(e,n){if(2!==e.length||"string"!=typeof e[1])return n.error("'var' expression requires exactly one string literal argument.");const o=e[1];return n.scope.has(o)?new Na(o,n.scope.get(o)):n.error(`Unknown variable "${o}". Make sure "${o}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Ks=Na;class ms{constructor(e,n=[],o,u=new zl,f=[]){this.registry=e,this.path=n,this.key=n.map(g=>`[${g}]`).join(""),this.scope=u,this.errors=f,this.expectedType=o}parse(e,n,o,u,f={}){return n?this.concat(n,o,u)._parse(e,f):this._parse(e,f)}_parse(e,n){function o(u,f,g){return"assert"===g?new qr(f,[u]):"coerce"===g?new $r(f,[u]):u}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const u=e[0];if("string"!=typeof u)return this.error(`Expression name must be a string, but found ${typeof u} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const f=this.registry[u];if(f){let g=f.parse(e,this);if(!g)return null;if(this.expectedType){const M=this.expectedType,L=g.type;if("string"!==M.kind&&"number"!==M.kind&&"boolean"!==M.kind&&"object"!==M.kind&&"array"!==M.kind||"value"!==L.kind)if("color"!==M.kind&&"formatted"!==M.kind&&"resolvedImage"!==M.kind||"value"!==L.kind&&"string"!==L.kind){if(this.checkSubtype(M,L))return null}else g=o(g,M,n.typeAnnotation||"coerce");else g=o(g,M,n.typeAnnotation||"assert")}if(!(g instanceof za)&&"resolvedImage"!==g.type.kind&&ln(g)){const M=new hl;try{g=new za(g.type,g.evaluate(M))}catch(L){return this.error(L.message),null}}return g}return this.error(`Unknown expression "${u}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,n,o){const u="number"==typeof e?this.path.concat(e):this.path,f=o?this.scope.concat(o):this.scope;return new ms(this.registry,u,n||null,f,this.errors)}error(e,...n){const o=`${this.key}${n.map(u=>`[${u}]`).join("")}`;this.errors.push(new ia(o,e))}checkSubtype(e,n){const o=Ra(e,n);return o&&this.error(o),o}}var Uo=ms;function ln(i){if(i instanceof Ks)return ln(i.boundExpression);if(i instanceof Ba&&"error"===i.name||i instanceof Ps||i instanceof ra)return!1;const e=i instanceof $r||i instanceof qr;let n=!0;return i.eachChild(o=>{n=e?n&&ln(o):n&&o instanceof za}),!!n&&fs(i)&&ja(i,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Ha(i,e){const n=i.length-1;let o,u,f=0,g=n,M=0;for(;f<=g;)if(M=Math.floor((f+g)/2),o=i[M],u=i[M+1],o<=e){if(M===n||e<u)return M;f=M+1}else{if(!(o>e))throw new Sn("Input is not a number.");g=M-1}return 0}class yo{constructor(e,n,o){this.type=e,this.input=n,this.labels=[],this.outputs=[];for(const[u,f]of o)this.labels.push(u),this.outputs.push(f)}static parse(e,n){if(e.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return n.error("Expected an even number of arguments.");const o=n.parse(e[1],1,Ot);if(!o)return null;const u=[];let f=null;n.expectedType&&"value"!==n.expectedType.kind&&(f=n.expectedType);for(let g=1;g<e.length;g+=2){const M=1===g?-1/0:e[g],L=e[g+1],E=g,B=g+1;if("number"!=typeof M)return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',E);if(u.length&&u[u.length-1][0]>=M)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',E);const V=n.parse(L,B,f);if(!V)return null;f=f||V.type,u.push([M,V])}return new yo(f,o,u)}evaluate(e){const n=this.labels,o=this.outputs;if(1===n.length)return o[0].evaluate(e);const u=this.input.evaluate(e);if(u<=n[0])return o[0].evaluate(e);const f=n.length;return u>=n[f-1]?o[f-1].evaluate(e):o[Ha(n,u)].evaluate(e)}eachChild(e){e(this.input);for(const n of this.outputs)e(n)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let n=0;n<this.labels.length;n++)n>0&&e.push(this.labels[n]),e.push(this.outputs[n].serialize());return e}}var Va=yo;function ki(i,e,n){return i*(1-n)+e*n}var aa=Object.freeze({__proto__:null,array:function(i,e,n){return i.map((o,u)=>ki(o,e[u],n))},color:function(i,e,n){return new Ln(ki(i.r,e.r,n),ki(i.g,e.g,n),ki(i.b,e.b,n),ki(i.a,e.a,n))},number:ki});const to=4/29,va=6/29,Nr=3*va*va,vo=Math.PI/180,Ua=180/Math.PI;function Rs(i){return i>.008856451679035631?Math.pow(i,1/3):i/Nr+to}function Wo(i){return i>va?i*i*i:Nr*(i-to)}function Or(i){return 255*(i<=.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055)}function Ii(i){return(i/=255)<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}function fl(i){const e=Ii(i.r),n=Ii(i.g),o=Ii(i.b),u=Rs((.4124564*e+.3575761*n+.1804375*o)/.95047),f=Rs((.2126729*e+.7151522*n+.072175*o)/1);return{l:116*f-16,a:500*(u-f),b:200*(f-Rs((.0193339*e+.119192*n+.9503041*o)/1.08883)),alpha:i.a}}function bo(i){let e=(i.l+16)/116,n=isNaN(i.a)?e:e+i.a/500,o=isNaN(i.b)?e:e-i.b/200;return e=1*Wo(e),n=.95047*Wo(n),o=1.08883*Wo(o),new Ln(Or(3.2404542*n-1.5371385*e-.4985314*o),Or(-.969266*n+1.8760108*e+.041556*o),Or(.0556434*n-.2040259*e+1.0572252*o),i.alpha)}function Go(i,e,n){const o=e-i;return i+n*(o>180||o<-180?o-360*Math.round(o/360):o)}const xo={forward:fl,reverse:bo,interpolate:function(i,e,n){return{l:ki(i.l,e.l,n),a:ki(i.a,e.a,n),b:ki(i.b,e.b,n),alpha:ki(i.alpha,e.alpha,n)}}},Fs={forward:function(i){const{l:e,a:n,b:o}=fl(i),u=Math.atan2(o,n)*Ua;return{h:u<0?u+360:u,c:Math.sqrt(n*n+o*o),l:e,alpha:i.a}},reverse:function(i){const e=i.h*vo,n=i.c;return bo({l:i.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:i.alpha})},interpolate:function(i,e,n){return{h:Go(i.h,e.h,n),c:ki(i.c,e.c,n),l:ki(i.l,e.l,n),alpha:ki(i.alpha,e.alpha,n)}}};var io=Object.freeze({__proto__:null,hcl:Fs,lab:xo});class Hr{constructor(e,n,o,u,f){this.type=e,this.operator=n,this.interpolation=o,this.input=u,this.labels=[],this.outputs=[];for(const[g,M]of f)this.labels.push(g),this.outputs.push(M)}static interpolationFactor(e,n,o,u){let f=0;if("exponential"===e.name)f=ml(n,e.base,o,u);else if("linear"===e.name)f=ml(n,1,o,u);else if("cubic-bezier"===e.name){const g=e.controlPoints;f=new Ke(g[0],g[1],g[2],g[3]).solve(ml(n,1,o,u))}return f}static parse(e,n){let[o,u,f,...g]=e;if(!Array.isArray(u)||0===u.length)return n.error("Expected an interpolation type expression.",1);if("linear"===u[0])u={name:"linear"};else if("exponential"===u[0]){const E=u[1];if("number"!=typeof E)return n.error("Exponential interpolation requires a numeric base.",1,1);u={name:"exponential",base:E}}else{if("cubic-bezier"!==u[0])return n.error(`Unknown interpolation type ${String(u[0])}`,1,0);{const E=u.slice(1);if(4!==E.length||E.some(B=>"number"!=typeof B||B<0||B>1))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);u={name:"cubic-bezier",controlPoints:E}}}if(e.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return n.error("Expected an even number of arguments.");if(f=n.parse(f,2,Ot),!f)return null;const M=[];let L=null;"interpolate-hcl"===o||"interpolate-lab"===o?L=Ar:n.expectedType&&"value"!==n.expectedType.kind&&(L=n.expectedType);for(let E=0;E<g.length;E+=2){const B=g[E],V=g[E+1],Z=E+3,ee=E+4;if("number"!=typeof B)return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Z);if(M.length&&M[M.length-1][0]>=B)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Z);const ne=n.parse(V,ee,L);if(!ne)return null;L=L||ne.type,M.push([B,ne])}return"number"===L.kind||"color"===L.kind||"array"===L.kind&&"number"===L.itemType.kind&&"number"==typeof L.N?new Hr(L,o,u,f,M):n.error(`Type ${Ci(L)} is not interpolatable.`)}evaluate(e){const n=this.labels,o=this.outputs;if(1===n.length)return o[0].evaluate(e);const u=this.input.evaluate(e);if(u<=n[0])return o[0].evaluate(e);const f=n.length;if(u>=n[f-1])return o[f-1].evaluate(e);const g=Ha(n,u),M=Hr.interpolationFactor(this.interpolation,u,n[g],n[g+1]),L=o[g].evaluate(e),E=o[g+1].evaluate(e);return"interpolate"===this.operator?aa[this.type.kind.toLowerCase()](L,E,M):"interpolate-hcl"===this.operator?Fs.reverse(Fs.interpolate(Fs.forward(L),Fs.forward(E),M)):xo.reverse(xo.interpolate(xo.forward(L),xo.forward(E),M))}eachChild(e){e(this.input);for(const n of this.outputs)e(n)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const n=[this.operator,e,this.input.serialize()];for(let o=0;o<this.labels.length;o++)n.push(this.labels[o],this.outputs[o].serialize());return n}}function ml(i,e,n,o){const u=o-n,f=i-n;return 0===u?0:1===e?f/u:(Math.pow(e,f)-1)/(Math.pow(e,u)-1)}var ba=Hr;class no{constructor(e,n){this.type=e,this.args=n}static parse(e,n){if(e.length<2)return n.error("Expectected at least one argument.");let o=null;const u=n.expectedType;u&&"value"!==u.kind&&(o=u);const f=[];for(const M of e.slice(1)){const L=n.parse(M,1+f.length,o,void 0,{typeAnnotation:"omit"});if(!L)return null;o=o||L.type,f.push(L)}const g=u&&f.some(M=>Ra(u,M.type));return new no(g?oi:o,f)}evaluate(e){let n,o=null,u=0;for(const f of this.args){if(u++,o=f.evaluate(e),o&&o instanceof Zr&&!o.available&&(n||(n=o),o=null,u===this.args.length))return n;if(null!==o)break}return o}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(n=>{e.push(n.serialize())}),e}}var _s=no;class Wa{constructor(e,n){this.type=n.type,this.bindings=[].concat(e),this.result=n}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const n of this.bindings)e(n[1]);e(this.result)}static parse(e,n){if(e.length<4)return n.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const o=[];for(let f=1;f<e.length-1;f+=2){const g=e[f];if("string"!=typeof g)return n.error(`Expected string, but found ${typeof g} instead.`,f);if(/[^a-zA-Z0-9_]/.test(g))return n.error("Variable names must contain only alphanumeric characters or '_'.",f);const M=n.parse(e[f+1],f+1);if(!M)return null;o.push([g,M])}const u=n.parse(e[e.length-1],e.length-1,n.expectedType,o);return u?new Wa(o,u):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[n,o]of this.bindings)e.push(n,o.serialize());return e.push(this.result.serialize()),e}}var Ys=Wa;class _l{constructor(e,n,o){this.type=e,this.index=n,this.input=o}static parse(e,n){if(3!==e.length)return n.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const o=n.parse(e[1],1,Ot),u=n.parse(e[2],2,ir(n.expectedType||oi));return o&&u?new _l(u.type.itemType,o,u):null}evaluate(e){const n=this.index.evaluate(e),o=this.input.evaluate(e);if(n<0)throw new Sn(`Array index out of bounds: ${n} < 0.`);if(n>=o.length)throw new Sn(`Array index out of bounds: ${n} > ${o.length-1}.`);if(n!==Math.floor(n))throw new Sn(`Array index must be an integer, but found ${n} instead.`);return o[n]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Zo=_l;class qo{constructor(e,n){this.type=si,this.needle=e,this.haystack=n}static parse(e,n){if(3!==e.length)return n.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const o=n.parse(e[1],1,oi),u=n.parse(e[2],2,oi);return o&&u?os(o.type,[si,bi,Ot,vn,oi])?new qo(o,u):n.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ci(o.type)} instead`):null}evaluate(e){const n=this.needle.evaluate(e),o=this.haystack.evaluate(e);if(null==o)return!1;if(!na(n,["boolean","string","number","null"]))throw new Sn(`Expected first argument to be of type boolean, string, number or null, but found ${Ci(Vi(n))} instead.`);if(!na(o,["string","array"]))throw new Sn(`Expected second argument to be of type array or string, but found ${Ci(Vi(o))} instead.`);return o.indexOf(n)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var gs=qo;class Ga{constructor(e,n,o){this.type=Ot,this.needle=e,this.haystack=n,this.fromIndex=o}static parse(e,n){if(e.length<=2||e.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const o=n.parse(e[1],1,oi),u=n.parse(e[2],2,oi);if(!o||!u)return null;if(!os(o.type,[si,bi,Ot,vn,oi]))return n.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ci(o.type)} instead`);if(4===e.length){const f=n.parse(e[3],3,Ot);return f?new Ga(o,u,f):null}return new Ga(o,u)}evaluate(e){const n=this.needle.evaluate(e),o=this.haystack.evaluate(e);if(!na(n,["boolean","string","number","null"]))throw new Sn(`Expected first argument to be of type boolean, string, number or null, but found ${Ci(Vi(n))} instead.`);if(!na(o,["string","array"]))throw new Sn(`Expected second argument to be of type array or string, but found ${Ci(Vi(o))} instead.`);if(this.fromIndex){const u=this.fromIndex.evaluate(e);return o.indexOf(n,u)}return o.indexOf(n)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var sa=Ga;class xi{constructor(e,n,o,u,f,g){this.inputType=e,this.type=n,this.input=o,this.cases=u,this.outputs=f,this.otherwise=g}static parse(e,n){if(e.length<5)return n.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return n.error("Expected an even number of arguments.");let o,u;n.expectedType&&"value"!==n.expectedType.kind&&(u=n.expectedType);const f={},g=[];for(let E=2;E<e.length-1;E+=2){let B=e[E];const V=e[E+1];Array.isArray(B)||(B=[B]);const Z=n.concat(E);if(0===B.length)return Z.error("Expected at least one branch label.");for(const ne of B){if("number"!=typeof ne&&"string"!=typeof ne)return Z.error("Branch labels must be numbers or strings.");if("number"==typeof ne&&Math.abs(ne)>Number.MAX_SAFE_INTEGER)return Z.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof ne&&Math.floor(ne)!==ne)return Z.error("Numeric branch labels must be integer values.");if(o){if(Z.checkSubtype(o,Vi(ne)))return null}else o=Vi(ne);if(void 0!==f[String(ne)])return Z.error("Branch labels must be unique.");f[String(ne)]=g.length}const ee=n.parse(V,E,u);if(!ee)return null;u=u||ee.type,g.push(ee)}const M=n.parse(e[1],1,oi);if(!M)return null;const L=n.parse(e[e.length-1],e.length-1,u);return L?"value"!==M.type.kind&&n.concat(1).checkSubtype(o,M.type)?null:new xi(o,u,M,f,g,L):null}evaluate(e){const n=this.input.evaluate(e);return(Vi(n)===this.inputType&&this.outputs[this.cases[n]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],n=Object.keys(this.cases).sort(),o=[],u={};for(const g of n){const M=u[this.cases[g]];void 0===M?(u[this.cases[g]]=o.length,o.push([this.cases[g],[g]])):o[M][1].push(g)}const f=g=>"number"===this.inputType.kind?Number(g):g;for(const[g,M]of o)e.push(1===M.length?f(M[0]):M.map(f)),e.push(this.outputs[g].serialize());return e.push(this.otherwise.serialize()),e}}var oc=xi;class xa{constructor(e,n,o){this.type=e,this.branches=n,this.otherwise=o}static parse(e,n){if(e.length<4)return n.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return n.error("Expected an odd number of arguments.");let o;n.expectedType&&"value"!==n.expectedType.kind&&(o=n.expectedType);const u=[];for(let g=1;g<e.length-1;g+=2){const M=n.parse(e[g],g,si);if(!M)return null;const L=n.parse(e[g+1],g+1,o);if(!L)return null;u.push([M,L]),o=o||L.type}const f=n.parse(e[e.length-1],e.length-1,o);return f?new xa(o,u,f):null}evaluate(e){for(const[n,o]of this.branches)if(n.evaluate(e))return o.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[n,o]of this.branches)e(n),e(o);e(this.otherwise)}outputDefined(){return this.branches.every(([e,n])=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(n=>{e.push(n.serialize())}),e}}var zs=xa;class wo{constructor(e,n,o,u){this.type=e,this.input=n,this.beginIndex=o,this.endIndex=u}static parse(e,n){if(e.length<=2||e.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const o=n.parse(e[1],1,oi),u=n.parse(e[2],2,Ot);if(!o||!u)return null;if(!os(o.type,[ir(oi),bi,oi]))return n.error(`Expected first argument to be of type array or string, but found ${Ci(o.type)} instead`);if(4===e.length){const f=n.parse(e[3],3,Ot);return f?new wo(o.type,o,u,f):null}return new wo(o.type,o,u)}evaluate(e){const n=this.input.evaluate(e),o=this.beginIndex.evaluate(e);if(!na(n,["string","array"]))throw new Sn(`Expected first argument to be of type array or string, but found ${Ci(Vi(n))} instead.`);if(this.endIndex){const u=this.endIndex.evaluate(e);return n.slice(o,u)}return n.slice(o)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var ro=wo;function ys(i,e){return"=="===i||"!="===i?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function vs(i,e,n,o){return 0===o.compare(e,n)}function Xr(i,e,n){const o="=="!==i&&"!="!==i;return class Oy{constructor(f,g,M){this.type=si,this.lhs=f,this.rhs=g,this.collator=M,this.hasUntypedArgument="value"===f.type.kind||"value"===g.type.kind}static parse(f,g){if(3!==f.length&&4!==f.length)return g.error("Expected two or three arguments.");const M=f[0];let L=g.parse(f[1],1,oi);if(!L)return null;if(!ys(M,L.type))return g.concat(1).error(`"${M}" comparisons are not supported for type '${Ci(L.type)}'.`);let E=g.parse(f[2],2,oi);if(!E)return null;if(!ys(M,E.type))return g.concat(2).error(`"${M}" comparisons are not supported for type '${Ci(E.type)}'.`);if(L.type.kind!==E.type.kind&&"value"!==L.type.kind&&"value"!==E.type.kind)return g.error(`Cannot compare types '${Ci(L.type)}' and '${Ci(E.type)}'.`);o&&("value"===L.type.kind&&"value"!==E.type.kind?L=new qr(E.type,[L]):"value"!==L.type.kind&&"value"===E.type.kind&&(E=new qr(L.type,[E])));let B=null;if(4===f.length){if("string"!==L.type.kind&&"string"!==E.type.kind&&"value"!==L.type.kind&&"value"!==E.type.kind)return g.error("Cannot use collator to compare non-string types.");if(B=g.parse(f[3],3,rr),!B)return null}return new Oy(L,E,B)}evaluate(f){const g=this.lhs.evaluate(f),M=this.rhs.evaluate(f);if(o&&this.hasUntypedArgument){const L=Vi(g),E=Vi(M);if(L.kind!==E.kind||"string"!==L.kind&&"number"!==L.kind)throw new Sn(`Expected arguments for "${i}" to be (string, string) or (number, number), but found (${L.kind}, ${E.kind}) instead.`)}if(this.collator&&!o&&this.hasUntypedArgument){const L=Vi(g),E=Vi(M);if("string"!==L.kind||"string"!==E.kind)return e(f,g,M)}return this.collator?n(f,g,M,this.collator.evaluate(f)):e(f,g,M)}eachChild(f){f(this.lhs),f(this.rhs),this.collator&&f(this.collator)}outputDefined(){return!0}serialize(){const f=[i];return this.eachChild(g=>{f.push(g.serialize())}),f}}}const bs=Xr("==",function(i,e,n){return e===n},vs),Bs=Xr("!=",function(i,e,n){return e!==n},function(i,e,n,o){return!vs(0,e,n,o)}),jl=Xr("<",function(i,e,n){return e<n},function(i,e,n,o){return o.compare(e,n)<0}),Nl=Xr(">",function(i,e,n){return e>n},function(i,e,n,o){return o.compare(e,n)>0}),oa=Xr("<=",function(i,e,n){return e<=n},function(i,e,n,o){return o.compare(e,n)<=0}),xs=Xr(">=",function(i,e,n){return e>=n},function(i,e,n,o){return o.compare(e,n)>=0});class Za{constructor(e,n,o,u,f,g){this.type=bi,this.number=e,this.locale=n,this.currency=o,this.unit=u,this.minFractionDigits=f,this.maxFractionDigits=g}static parse(e,n){if(3!==e.length)return n.error("Expected two arguments.");const o=n.parse(e[1],1,Ot);if(!o)return null;const u=e[2];if("object"!=typeof u||Array.isArray(u))return n.error("NumberFormat options argument must be an object.");let f=null;if(u.locale&&(f=n.parse(u.locale,1,bi),!f))return null;let g=null;if(u.currency&&(g=n.parse(u.currency,1,bi),!g))return null;let M=null;if(u.unit&&(M=n.parse(u.unit,1,bi),!M))return null;let L=null;if(u["min-fraction-digits"]&&(L=n.parse(u["min-fraction-digits"],1,Ot),!L))return null;let E=null;return u["max-fraction-digits"]&&(E=n.parse(u["max-fraction-digits"],1,Ot),!E)?null:new Za(o,f,g,M,L,E)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class ws{constructor(e){this.type=Ot,this.input=e}static parse(e,n){if(2!==e.length)return n.error(`Expected 1 argument, but found ${e.length-1} instead.`);const o=n.parse(e[1],1);return o?"array"!==o.type.kind&&"string"!==o.type.kind&&"value"!==o.type.kind?n.error(`Expected argument of type string or array, but found ${Ci(o.type)} instead.`):new ws(o):null}evaluate(e){const n=this.input.evaluate(e);if("string"==typeof n||Array.isArray(n))return n.length;throw new Sn(`Expected value to be of type string or array, but found ${Ci(Vi(n))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(n=>{e.push(n.serialize())}),e}}const $o={"==":bs,"!=":Bs,">":Nl,"<":jl,">=":xs,"<=":oa,array:qr,at:Zo,boolean:qr,case:zs,coalesce:_s,collator:Ps,format:ar,image:cs,in:gs,"index-of":sa,interpolate:ba,"interpolate-hcl":ba,"interpolate-lab":ba,length:ws,let:Ys,literal:za,match:oc,number:qr,"number-format":Za,object:qr,slice:ro,step:Va,string:qr,"to-boolean":$r,"to-color":$r,"to-number":$r,"to-string":$r,var:Ks,within:ra};function la(i,[e,n,o,u]){e=e.evaluate(i),n=n.evaluate(i),o=o.evaluate(i);const f=u?u.evaluate(i):1,g=Bl(e,n,o,f);if(g)throw new Sn(g);return new Ln(e/255*f,n/255*f,o/255*f,f)}function Jr(i,e){return i in e}function Mo(i,e){const n=e[i];return void 0===n?null:n}function Rr(i){return{type:i}}Ba.register($o,{error:[{kind:"error"},[bi],(i,[e])=>{throw new Sn(e.evaluate(i))}],typeof:[bi,[oi],(i,[e])=>Ci(Vi(e.evaluate(i)))],"to-rgba":[ir(Ot,4),[Ar],(i,[e])=>e.evaluate(i).toArray()],rgb:[Ar,[Ot,Ot,Ot],la],rgba:[Ar,[Ot,Ot,Ot,Ot],la],has:{type:si,overloads:[[[bi],(i,[e])=>Jr(e.evaluate(i),i.properties())],[[bi,Hn],(i,[e,n])=>Jr(e.evaluate(i),n.evaluate(i))]]},get:{type:oi,overloads:[[[bi],(i,[e])=>Mo(e.evaluate(i),i.properties())],[[bi,Hn],(i,[e,n])=>Mo(e.evaluate(i),n.evaluate(i))]]},"feature-state":[oi,[bi],(i,[e])=>Mo(e.evaluate(i),i.featureState||{})],properties:[Hn,[],i=>i.properties()],"geometry-type":[bi,[],i=>i.geometryType()],id:[oi,[],i=>i.id()],zoom:[Ot,[],i=>i.globals.zoom],pitch:[Ot,[],i=>i.globals.pitch||0],"distance-from-center":[Ot,[],i=>i.distanceFromCenter()],"heatmap-density":[Ot,[],i=>i.globals.heatmapDensity||0],"line-progress":[Ot,[],i=>i.globals.lineProgress||0],"sky-radial-progress":[Ot,[],i=>i.globals.skyRadialProgress||0],accumulated:[oi,[],i=>void 0===i.globals.accumulated?null:i.globals.accumulated],"+":[Ot,Rr(Ot),(i,e)=>{let n=0;for(const o of e)n+=o.evaluate(i);return n}],"*":[Ot,Rr(Ot),(i,e)=>{let n=1;for(const o of e)n*=o.evaluate(i);return n}],"-":{type:Ot,overloads:[[[Ot,Ot],(i,[e,n])=>e.evaluate(i)-n.evaluate(i)],[[Ot],(i,[e])=>-e.evaluate(i)]]},"/":[Ot,[Ot,Ot],(i,[e,n])=>e.evaluate(i)/n.evaluate(i)],"%":[Ot,[Ot,Ot],(i,[e,n])=>e.evaluate(i)%n.evaluate(i)],ln2:[Ot,[],()=>Math.LN2],pi:[Ot,[],()=>Math.PI],e:[Ot,[],()=>Math.E],"^":[Ot,[Ot,Ot],(i,[e,n])=>Math.pow(e.evaluate(i),n.evaluate(i))],sqrt:[Ot,[Ot],(i,[e])=>Math.sqrt(e.evaluate(i))],log10:[Ot,[Ot],(i,[e])=>Math.log(e.evaluate(i))/Math.LN10],ln:[Ot,[Ot],(i,[e])=>Math.log(e.evaluate(i))],log2:[Ot,[Ot],(i,[e])=>Math.log(e.evaluate(i))/Math.LN2],sin:[Ot,[Ot],(i,[e])=>Math.sin(e.evaluate(i))],cos:[Ot,[Ot],(i,[e])=>Math.cos(e.evaluate(i))],tan:[Ot,[Ot],(i,[e])=>Math.tan(e.evaluate(i))],asin:[Ot,[Ot],(i,[e])=>Math.asin(e.evaluate(i))],acos:[Ot,[Ot],(i,[e])=>Math.acos(e.evaluate(i))],atan:[Ot,[Ot],(i,[e])=>Math.atan(e.evaluate(i))],min:[Ot,Rr(Ot),(i,e)=>Math.min(...e.map(n=>n.evaluate(i)))],max:[Ot,Rr(Ot),(i,e)=>Math.max(...e.map(n=>n.evaluate(i)))],abs:[Ot,[Ot],(i,[e])=>Math.abs(e.evaluate(i))],round:[Ot,[Ot],(i,[e])=>{const n=e.evaluate(i);return n<0?-Math.round(-n):Math.round(n)}],floor:[Ot,[Ot],(i,[e])=>Math.floor(e.evaluate(i))],ceil:[Ot,[Ot],(i,[e])=>Math.ceil(e.evaluate(i))],"filter-==":[si,[bi,oi],(i,[e,n])=>i.properties()[e.value]===n.value],"filter-id-==":[si,[oi],(i,[e])=>i.id()===e.value],"filter-type-==":[si,[bi],(i,[e])=>i.geometryType()===e.value],"filter-<":[si,[bi,oi],(i,[e,n])=>{const o=i.properties()[e.value],u=n.value;return typeof o==typeof u&&o<u}],"filter-id-<":[si,[oi],(i,[e])=>{const n=i.id(),o=e.value;return typeof n==typeof o&&n<o}],"filter->":[si,[bi,oi],(i,[e,n])=>{const o=i.properties()[e.value],u=n.value;return typeof o==typeof u&&o>u}],"filter-id->":[si,[oi],(i,[e])=>{const n=i.id(),o=e.value;return typeof n==typeof o&&n>o}],"filter-<=":[si,[bi,oi],(i,[e,n])=>{const o=i.properties()[e.value],u=n.value;return typeof o==typeof u&&o<=u}],"filter-id-<=":[si,[oi],(i,[e])=>{const n=i.id(),o=e.value;return typeof n==typeof o&&n<=o}],"filter->=":[si,[bi,oi],(i,[e,n])=>{const o=i.properties()[e.value],u=n.value;return typeof o==typeof u&&o>=u}],"filter-id->=":[si,[oi],(i,[e])=>{const n=i.id(),o=e.value;return typeof n==typeof o&&n>=o}],"filter-has":[si,[oi],(i,[e])=>e.value in i.properties()],"filter-has-id":[si,[],i=>null!==i.id()&&void 0!==i.id()],"filter-type-in":[si,[ir(bi)],(i,[e])=>e.value.indexOf(i.geometryType())>=0],"filter-id-in":[si,[ir(oi)],(i,[e])=>e.value.indexOf(i.id())>=0],"filter-in-small":[si,[bi,ir(oi)],(i,[e,n])=>n.value.indexOf(i.properties()[e.value])>=0],"filter-in-large":[si,[bi,ir(oi)],(i,[e,n])=>function(o,u,f,g){for(;f<=g;){const M=f+g>>1;if(u[M]===o)return!0;u[M]>o?g=M-1:f=M+1}return!1}(i.properties()[e.value],n.value,0,n.value.length-1)],all:{type:si,overloads:[[[si,si],(i,[e,n])=>e.evaluate(i)&&n.evaluate(i)],[Rr(si),(i,e)=>{for(const n of e)if(!n.evaluate(i))return!1;return!0}]]},any:{type:si,overloads:[[[si,si],(i,[e,n])=>e.evaluate(i)||n.evaluate(i)],[Rr(si),(i,e)=>{for(const n of e)if(n.evaluate(i))return!0;return!1}]]},"!":[si,[si],(i,[e])=>!e.evaluate(i)],"is-supported-script":[si,[bi],(i,[e])=>{const n=i.globals&&i.globals.isSupportedScript;return!n||n(e.evaluate(i))}],upcase:[bi,[bi],(i,[e])=>e.evaluate(i).toUpperCase()],downcase:[bi,[bi],(i,[e])=>e.evaluate(i).toLowerCase()],concat:[bi,Rr(oi),(i,e)=>e.map(n=>mo(n.evaluate(i))).join("")],"resolved-locale":[bi,[rr],(i,[e])=>e.evaluate(i).resolvedLocale()]});var To=$o;function gl(i){return{result:"success",value:i}}function wa(i){return{result:"error",value:i}}function ca(i){return"data-driven"===i["property-type"]}function sr(i){return!!i.expression&&i.expression.parameters.indexOf("zoom")>-1}function ao(i){return!!i.expression&&i.expression.interpolated}function Ri(i){return i instanceof Number?"number":i instanceof String?"string":i instanceof Boolean?"boolean":Array.isArray(i)?"array":null===i?"null":typeof i}function hr(i){return"object"==typeof i&&null!==i&&!Array.isArray(i)}function ko(i){return i}function _n(i,e){const n="color"===e.type,o=i.stops&&"object"==typeof i.stops[0][0],u=o||!(o||void 0!==i.property),f=i.type||(ao(e)?"exponential":"interval");if(n&&((i=ta({},i)).stops&&(i.stops=i.stops.map(E=>[E[0],Ln.parse(E[1])])),i.default=Ln.parse(i.default?i.default:e.default)),i.colorSpace&&"rgb"!==i.colorSpace&&!io[i.colorSpace])throw new Error(`Unknown color space: ${i.colorSpace}`);let g,M,L;if("exponential"===f)g=qa;else if("interval"===f)g=Ms;else if("categorical"===f){g=Hl,M=Object.create(null);for(const E of i.stops)M[E[0]]=E[1];L=typeof i.stops[0][0]}else{if("identity"!==f)throw new Error(`Unknown function type "${f}"`);g=Do}if(o){const E={},B=[];for(let ee=0;ee<i.stops.length;ee++){const ne=i.stops[ee],le=ne[0].zoom;void 0===E[le]&&(E[le]={zoom:le,type:i.type,property:i.property,default:i.default,stops:[]},B.push(le)),E[le].stops.push([ne[0].value,ne[1]])}const V=[];for(const ee of B)V.push([E[ee].zoom,_n(E[ee],e)]);const Z={name:"linear"};return{kind:"composite",interpolationType:Z,interpolationFactor:ba.interpolationFactor.bind(void 0,Z),zoomStops:V.map(ee=>ee[0]),evaluate:({zoom:ee},ne)=>qa({stops:V,base:i.base},e,ee).evaluate(ee,ne)}}if(u){const E="exponential"===f?{name:"exponential",base:void 0!==i.base?i.base:1}:null;return{kind:"camera",interpolationType:E,interpolationFactor:ba.interpolationFactor.bind(void 0,E),zoomStops:i.stops.map(B=>B[0]),evaluate:({zoom:B})=>g(i,e,B,M,L)}}return{kind:"source",evaluate(E,B){const V=B&&B.properties?B.properties[i.property]:void 0;return void 0===V?Kr(i.default,e.default):g(i,e,V,M,L)}}}function Kr(i,e,n){return void 0!==i?i:void 0!==e?e:void 0!==n?n:void 0}function Hl(i,e,n,o,u){return Kr(typeof n===u?o[n]:void 0,i.default,e.default)}function Ms(i,e,n){if("number"!==Ri(n))return Kr(i.default,e.default);const o=i.stops.length;if(1===o||n<=i.stops[0][0])return i.stops[0][1];if(n>=i.stops[o-1][0])return i.stops[o-1][1];const u=Ha(i.stops.map(f=>f[0]),n);return i.stops[u][1]}function qa(i,e,n){const o=void 0!==i.base?i.base:1;if("number"!==Ri(n))return Kr(i.default,e.default);const u=i.stops.length;if(1===u||n<=i.stops[0][0])return i.stops[0][1];if(n>=i.stops[u-1][0])return i.stops[u-1][1];const f=Ha(i.stops.map(B=>B[0]),n),g=function(B,V,Z,ee){const ne=ee-Z,le=B-Z;return 0===ne?0:1===V?le/ne:(Math.pow(V,le)-1)/(Math.pow(V,ne)-1)}(n,o,i.stops[f][0],i.stops[f+1][0]),M=i.stops[f][1],L=i.stops[f+1][1];let E=aa[e.type]||ko;if(i.colorSpace&&"rgb"!==i.colorSpace){const B=io[i.colorSpace];E=(V,Z)=>B.reverse(B.interpolate(B.forward(V),B.forward(Z),g))}return"function"==typeof M.evaluate?{evaluate(...B){const V=M.evaluate.apply(void 0,B),Z=L.evaluate.apply(void 0,B);if(void 0!==V&&void 0!==Z)return E(V,Z,g)}}:E(M,L,g)}function Do(i,e,n){return"color"===e.type?n=Ln.parse(n):"formatted"===e.type?n=dr.fromString(n.toString()):"resolvedImage"===e.type?n=Zr.fromString(n.toString()):Ri(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),Kr(n,i.default,e.default)}class Xo{constructor(e,n){var o;this.expression=e,this._warningHistory={},this._evaluator=new hl,this._defaultValue=n?"color"===(o=n).type&&(hr(o.default)||Array.isArray(o.default))?new Ln(0,0,0,0):"color"===o.type?Ln.parse(o.default)||null:void 0===o.default?null:o.default:null,this._enumValues=n&&"enum"===n.type?n.values:null}evaluateWithoutErrorHandling(e,n,o,u,f,g,M,L){return this._evaluator.globals=e,this._evaluator.feature=n,this._evaluator.featureState=o,this._evaluator.canonical=u||null,this._evaluator.availableImages=f||null,this._evaluator.formattedSection=g,this._evaluator.featureTileCoord=M||null,this._evaluator.featureDistanceData=L||null,this.expression.evaluate(this._evaluator)}evaluate(e,n,o,u,f,g,M,L){this._evaluator.globals=e,this._evaluator.feature=n||null,this._evaluator.featureState=o||null,this._evaluator.canonical=u||null,this._evaluator.availableImages=f||null,this._evaluator.formattedSection=g||null,this._evaluator.featureTileCoord=M||null,this._evaluator.featureDistanceData=L||null;try{const E=this.expression.evaluate(this._evaluator);if(null==E||"number"==typeof E&&E!=E)return this._defaultValue;if(this._enumValues&&!(E in this._enumValues))throw new Sn(`Expected value to be one of ${Object.keys(this._enumValues).map(B=>JSON.stringify(B)).join(", ")}, but found ${JSON.stringify(E)} instead.`);return E}catch(E){return this._warningHistory[E.message]||(this._warningHistory[E.message]=!0,"undefined"!=typeof console&&console.warn(E.message)),this._defaultValue}}}function js(i){return Array.isArray(i)&&i.length>0&&"string"==typeof i[0]&&i[0]in To}function $a(i,e){const n=new Uo(To,[],e?function(u){const f={color:Ar,string:bi,number:Ot,enum:bi,boolean:si,formatted:Br,resolvedImage:Oa};return"array"===u.type?ir(f[u.value]||oi,u.length):f[u.type]}(e):void 0),o=n.parse(i,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return o?gl(new Xo(o,e)):wa(n.errors)}class N{constructor(e,n){this.kind=e,this._styleExpression=n,this.isStateDependent="constant"!==e&&!ya(n.expression)}evaluateWithoutErrorHandling(e,n,o,u,f,g){return this._styleExpression.evaluateWithoutErrorHandling(e,n,o,u,f,g)}evaluate(e,n,o,u,f,g){return this._styleExpression.evaluate(e,n,o,u,f,g)}}class G{constructor(e,n,o,u){this.kind=e,this.zoomStops=o,this._styleExpression=n,this.isStateDependent="camera"!==e&&!ya(n.expression),this.interpolationType=u}evaluateWithoutErrorHandling(e,n,o,u,f,g){return this._styleExpression.evaluateWithoutErrorHandling(e,n,o,u,f,g)}evaluate(e,n,o,u,f,g){return this._styleExpression.evaluate(e,n,o,u,f,g)}interpolationFactor(e,n,o){return this.interpolationType?ba.interpolationFactor(this.interpolationType,e,n,o):0}}function de(i,e){if("error"===(i=$a(i,e)).result)return i;const n=i.value.expression,o=fs(n);if(!o&&!ca(e))return wa([new ia("","data expressions not supported")]);const u=ja(n,["zoom","pitch","distance-from-center"]);if(!u&&!sr(e))return wa([new ia("","zoom expressions not supported")]);const f=rt(n);return f||u?f instanceof ia?wa([f]):f instanceof ba&&!ao(e)?wa([new ia("",'"interpolate" expressions cannot be used with this property')]):gl(f?new G(o?"camera":"composite",i.value,f.labels,f instanceof ba?f.interpolation:void 0):new N(o?"constant":"source",i.value)):wa([new ia("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class De{constructor(e,n){this._parameters=e,this._specification=n,ta(this,_n(this._parameters,this._specification))}static deserialize(e){return new De(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function rt(i){let e=null;if(i instanceof Ys)e=rt(i.result);else if(i instanceof _s){for(const n of i.args)if(e=rt(n),e)break}else(i instanceof Va||i instanceof ba)&&i.input instanceof Ba&&"zoom"===i.input.name&&(e=i);return e instanceof ia||i.eachChild(n=>{const o=rt(n);o instanceof ia?e=o:!e&&o?e=new ia("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&o&&e!==o&&(e=new ia("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}class st{constructor(e,n,o,u){this.message=(e?`${e}: `:"")+o,u&&(this.identifier=u),null!=n&&n.__line__&&(this.line=n.__line__)}}function pi(i){const e=i.key,n=i.value,o=i.valueSpec||{},u=i.objectElementValidators||{},f=i.style,g=i.styleSpec;let M=[];const L=Ri(n);if("object"!==L)return[new st(e,n,`object expected, ${L} found`)];for(const E in n){const B=E.split(".")[0];let V;u[B]?V=u[B]:o[B]?V=pr:u["*"]?V=u["*"]:o["*"]&&(V=pr),V?M=M.concat(V({key:(e&&`${e}.`)+E,value:n[E],valueSpec:o[B]||o["*"],style:f,styleSpec:g,object:n,objectKey:E},n)):M.push(new st(e,n[E],`unknown property "${E}"`))}for(const E in o)u[E]||o[E].required&&void 0===o[E].default&&void 0===n[E]&&M.push(new st(e,n,`missing required property "${E}"`));return M}function tn(i){const e=i.value,n=i.valueSpec,o=i.style,u=i.styleSpec,f=i.key,g=i.arrayElementValidator||pr;if("array"!==Ri(e))return[new st(f,e,`array expected, ${Ri(e)} found`)];if(n.length&&e.length!==n.length)return[new st(f,e,`array length ${n.length} expected, length ${e.length} found`)];if(n["min-length"]&&e.length<n["min-length"])return[new st(f,e,`array length at least ${n["min-length"]} expected, length ${e.length} found`)];let M={type:n.value,values:n.values,minimum:n.minimum,maximum:n.maximum,function:void 0};u.$version<7&&(M.function=n.function),"object"===Ri(n.value)&&(M=n.value);let L=[];for(let E=0;E<e.length;E++)L=L.concat(g({array:e,arrayIndex:E,value:e[E],valueSpec:M,style:o,styleSpec:u,key:`${f}[${E}]`}));return L}function Gi(i){const e=i.key,n=i.value,o=i.valueSpec;let u=Ri(n);if("number"===u&&n!=n&&(u="NaN"),"number"!==u)return[new st(e,n,`number expected, ${u} found`)];if("minimum"in o){let f=o.minimum;if("array"===Ri(o.minimum)&&(f=o.minimum[i.arrayIndex]),n<f)return[new st(e,n,`${n} is less than the minimum value ${f}`)]}if("maximum"in o){let f=o.maximum;if("array"===Ri(o.maximum)&&(f=o.maximum[i.arrayIndex]),n>f)return[new st(e,n,`${n} is greater than the maximum value ${f}`)]}return[]}function Tr(i){const e=i.valueSpec,n=zn(i.value.type);let o,u,f,g={};const M="categorical"!==n&&void 0===i.value.property,L=!M,E="array"===Ri(i.value.stops)&&"array"===Ri(i.value.stops[0])&&"object"===Ri(i.value.stops[0][0]),B=pi({key:i.key,value:i.value,valueSpec:i.styleSpec.function,style:i.style,styleSpec:i.styleSpec,objectElementValidators:{stops:function(ee){if("identity"===n)return[new st(ee.key,ee.value,'identity function may not have a "stops" property')];let ne=[];const le=ee.value;return ne=ne.concat(tn({key:ee.key,value:le,valueSpec:ee.valueSpec,style:ee.style,styleSpec:ee.styleSpec,arrayElementValidator:V})),"array"===Ri(le)&&0===le.length&&ne.push(new st(ee.key,le,"array must have at least one stop")),ne},default:function(ee){return pr({key:ee.key,value:ee.value,valueSpec:e,style:ee.style,styleSpec:ee.styleSpec})}}});return"identity"===n&&M&&B.push(new st(i.key,i.value,'missing required property "property"')),"identity"===n||i.value.stops||B.push(new st(i.key,i.value,'missing required property "stops"')),"exponential"===n&&i.valueSpec.expression&&!ao(i.valueSpec)&&B.push(new st(i.key,i.value,"exponential functions not supported")),i.styleSpec.$version>=8&&(L&&!ca(i.valueSpec)?B.push(new st(i.key,i.value,"property functions not supported")):M&&!sr(i.valueSpec)&&B.push(new st(i.key,i.value,"zoom functions not supported"))),"categorical"!==n&&!E||void 0!==i.value.property||B.push(new st(i.key,i.value,'"property" property is required')),B;function V(ee){let ne=[];const le=ee.value,_e=ee.key;if("array"!==Ri(le))return[new st(_e,le,`array expected, ${Ri(le)} found`)];if(2!==le.length)return[new st(_e,le,`array length 2 expected, length ${le.length} found`)];if(E){if("object"!==Ri(le[0]))return[new st(_e,le,`object expected, ${Ri(le[0])} found`)];if(void 0===le[0].zoom)return[new st(_e,le,"object stop key must have zoom")];if(void 0===le[0].value)return[new st(_e,le,"object stop key must have value")];const xe=zn(le[0].zoom);if("number"!=typeof xe)return[new st(_e,le[0].zoom,"stop zoom values must be numbers")];if(f&&f>xe)return[new st(_e,le[0].zoom,"stop zoom values must appear in ascending order")];xe!==f&&(f=xe,u=void 0,g={}),ne=ne.concat(pi({key:`${_e}[0]`,value:le[0],valueSpec:{zoom:{}},style:ee.style,styleSpec:ee.styleSpec,objectElementValidators:{zoom:Gi,value:Z}}))}else ne=ne.concat(Z({key:`${_e}[0]`,value:le[0],valueSpec:{},style:ee.style,styleSpec:ee.styleSpec},le));return js($n(le[1]))?ne.concat([new st(`${_e}[1]`,le[1],"expressions are not allowed in function stops.")]):ne.concat(pr({key:`${_e}[1]`,value:le[1],valueSpec:e,style:ee.style,styleSpec:ee.styleSpec}))}function Z(ee,ne){const le=Ri(ee.value),_e=zn(ee.value),xe=null!==ee.value?ee.value:ne;if(o){if(le!==o)return[new st(ee.key,xe,`${le} stop domain type must match previous stop domain type ${o}`)]}else o=le;if("number"!==le&&"string"!==le&&"boolean"!==le&&"number"!=typeof _e&&"string"!=typeof _e&&"boolean"!=typeof _e)return[new st(ee.key,xe,"stop domain value must be a number, string, or boolean")];if("number"!==le&&"categorical"!==n){let Se=`number expected, ${le} found`;return ca(e)&&void 0===n&&(Se+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new st(ee.key,xe,Se)]}return"categorical"!==n||"number"!==le||"number"==typeof _e&&isFinite(_e)&&Math.floor(_e)===_e?"categorical"!==n&&"number"===le&&"number"==typeof _e&&"number"==typeof u&&void 0!==u&&_e<u?[new st(ee.key,xe,"stop domain values must appear in ascending order")]:(u=_e,"categorical"===n&&_e in g?[new st(ee.key,xe,"stop domain values must be unique")]:(g[_e]=!0,[])):[new st(ee.key,xe,`integer expected, found ${String(_e)}`)]}}function un(i){const e=("property"===i.expressionContext?de:$a)($n(i.value),i.valueSpec);if("error"===e.result)return e.value.map(o=>new st(`${i.key}${o.key}`,i.value,o.message));const n=e.value.expression||e.value._styleExpression.expression;if("property"===i.expressionContext&&"text-font"===i.propertyKey&&!n.outputDefined())return[new st(i.key,i.value,`Invalid data expression for "${i.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===i.expressionContext&&"layout"===i.propertyType&&!ya(n))return[new st(i.key,i.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===i.expressionContext)return Ns(n,i);if(i.expressionContext&&0===i.expressionContext.indexOf("cluster")){if(!ja(n,["zoom","feature-state"]))return[new st(i.key,i.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===i.expressionContext&&!fs(n))return[new st(i.key,i.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ns(i,e){const n=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(e.valueSpec&&e.valueSpec.expression)for(const u of e.valueSpec.expression.parameters)n.delete(u);if(0===n.size)return[];const o=[];return i instanceof Ba&&n.has(i.name)?[new st(e.key,e.value,`["${i.name}"] expression is not supported in a filter for a ${e.object.type} layer with id: ${e.object.id}`)]:(i.eachChild(u=>{o.push(...Ns(u,e))}),o)}function Ts(i){const e=i.key,n=i.value,o=i.valueSpec,u=[];return Array.isArray(o.values)?-1===o.values.indexOf(zn(n))&&u.push(new st(e,n,`expected one of [${o.values.join(", ")}], ${JSON.stringify(n)} found`)):-1===Object.keys(o.values).indexOf(zn(n))&&u.push(new st(e,n,`expected one of [${Object.keys(o.values).join(", ")}], ${JSON.stringify(n)} found`)),u}function yl(i){if(!0===i||!1===i)return!0;if(!Array.isArray(i)||0===i.length)return!1;switch(i[0]){case"has":return i.length>=2&&"$id"!==i[1]&&"$type"!==i[1];case"in":return i.length>=3&&("string"!=typeof i[1]||Array.isArray(i[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==i.length||Array.isArray(i[1])||Array.isArray(i[2]);case"any":case"all":for(const e of i.slice(1))if(!yl(e)&&"boolean"!=typeof e)return!1;return!0;default:return!0}}function so(i,e="fill"){if(null==i)return{filter:()=>!0,needGeometry:!1,needFeature:!1};yl(i)||(i=Qo(i));const n=i;let o=!0;try{o=function(E){if(!Ko(E))return E;let B=$n(E);return Jo(B),B=lc(B),B}(n)}catch(E){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(n,null,2)}\n        `)}const u=at[`filter_${e}`],f=$a(o,u);let g=null;if("error"===f.result)throw new Error(f.value.map(E=>`${E.key}: ${E.message}`).join(", "));g=(E,B,V)=>f.value.evaluate(E,B,{},V);let M=null,L=null;if(o!==n){const E=$a(n,u);if("error"===E.result)throw new Error(E.value.map(B=>`${B.key}: ${B.message}`).join(", "));M=(B,V,Z,ee,ne)=>E.value.evaluate(B,V,{},Z,void 0,void 0,ee,ne),L=!fs(E.value.expression)}return{filter:g,dynamicFilter:M||void 0,needGeometry:Pc(o),needFeature:!!L}}function lc(i){if(!Array.isArray(i))return i;const e=function(n){if(cc.has(n[0]))for(let o=1;o<n.length;o++)if(Ko(n[o]))return!0;return n}(i);return!0===e?e:e.map(n=>lc(n))}function Jo(i){let e=!1;const n=[];if("case"===i[0]){for(let o=1;o<i.length-1;o+=2)e=e||Ko(i[o]),n.push(i[o+1]);n.push(i[i.length-1])}else if("match"===i[0]){e=e||Ko(i[1]);for(let o=2;o<i.length-1;o+=2)n.push(i[o+1]);n.push(i[i.length-1])}else if("step"===i[0]){e=e||Ko(i[1]);for(let o=1;o<i.length-1;o+=2)n.push(i[o+1])}e&&(i.length=0,i.push("any",...n));for(let o=1;o<i.length;o++)Jo(i[o])}function Ko(i){if(!Array.isArray(i))return!1;if("pitch"===(e=i[0])||"distance-from-center"===e)return!0;var e;for(let n=1;n<i.length;n++)if(Ko(i[n]))return!0;return!1}const cc=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function au(i,e){return i<e?-1:i>e?1:0}function Pc(i){if(!Array.isArray(i))return!1;if("within"===i[0])return!0;for(let e=1;e<i.length;e++)if(Pc(i[e]))return!0;return!1}function Qo(i){if(!i)return!0;const e=i[0];return i.length<=1?"any"!==e:"=="===e?Hs(i[1],i[2],"=="):"!="===e?Ul(Hs(i[1],i[2],"==")):"<"===e||">"===e||"<="===e||">="===e?Hs(i[1],i[2],e):"any"===e?(n=i.slice(1),["any"].concat(n.map(Qo))):"all"===e?["all"].concat(i.slice(1).map(Qo)):"none"===e?["all"].concat(i.slice(1).map(Qo).map(Ul)):"in"===e?oo(i[1],i.slice(2)):"!in"===e?Ul(oo(i[1],i.slice(2))):"has"===e?Vl(i[1]):"!has"===e?Ul(Vl(i[1])):"within"!==e||i;var n}function Hs(i,e,n){switch(i){case"$type":return[`filter-type-${n}`,e];case"$id":return[`filter-id-${n}`,e];default:return[`filter-${n}`,i,e]}}function oo(i,e){if(0===e.length)return!1;switch(i){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(n=>typeof n!=typeof e[0])?["filter-in-large",i,["literal",e.sort(au)]]:["filter-in-small",i,["literal",e]]}}function Vl(i){switch(i){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",i]}}function Ul(i){return["!",i]}function Lo(i){return yl($n(i.value))?un(ta({},i,{expressionContext:"filter",valueSpec:i.styleSpec[`filter_${i.layerType||"fill"}`]})):el(i)}function el(i){const e=i.value,n=i.key;if("array"!==Ri(e))return[new st(n,e,`array expected, ${Ri(e)} found`)];const o=i.styleSpec;let u,f=[];if(e.length<1)return[new st(n,e,"filter array must have at least 1 element")];switch(f=f.concat(Ts({key:`${n}[0]`,value:e[0],valueSpec:o.filter_operator,style:i.style,styleSpec:i.styleSpec})),zn(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===zn(e[1])&&f.push(new st(n,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":3!==e.length&&f.push(new st(n,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(u=Ri(e[1]),"string"!==u&&f.push(new st(`${n}[1]`,e[1],`string expected, ${u} found`)));for(let g=2;g<e.length;g++)u=Ri(e[g]),"$type"===zn(e[1])?f=f.concat(Ts({key:`${n}[${g}]`,value:e[g],valueSpec:o.geometry_type,style:i.style,styleSpec:i.styleSpec})):"string"!==u&&"number"!==u&&"boolean"!==u&&f.push(new st(`${n}[${g}]`,e[g],`string, number, or boolean expected, ${u} found`));break;case"any":case"all":case"none":for(let g=1;g<e.length;g++)f=f.concat(el({key:`${n}[${g}]`,value:e[g],style:i.style,styleSpec:i.styleSpec}));break;case"has":case"!has":u=Ri(e[1]),2!==e.length?f.push(new st(n,e,`filter array for "${e[0]}" operator must have 2 elements`)):"string"!==u&&f.push(new st(`${n}[1]`,e[1],`string expected, ${u} found`));break;case"within":u=Ri(e[1]),2!==e.length?f.push(new st(n,e,`filter array for "${e[0]}" operator must have 2 elements`)):"object"!==u&&f.push(new st(`${n}[1]`,e[1],`object expected, ${u} found`))}return f}function uc(i,e){const n=i.key,o=i.style,u=i.styleSpec,f=i.value,g=i.objectKey,M=u[`${e}_${i.layerType}`];if(!M)return[];const L=g.match(/^(.*)-transition$/);if("paint"===e&&L&&M[L[1]]&&M[L[1]].transition)return pr({key:n,value:f,valueSpec:u.transition,style:o,styleSpec:u});const E=i.valueSpec||M[g];if(!E)return[new st(n,f,`unknown property "${g}"`)];let B;if("string"===Ri(f)&&ca(E)&&!E.tokens&&(B=/^{([^}]+)}$/.exec(f))){const Z=`\`{ "type": "identity", "property": ${B?JSON.stringify(B[1]):'"_"'} }\``;return[new st(n,f,`"${g}" does not support interpolation syntax\nUse an identity property function instead: ${Z}.`)]}const V=[];return"symbol"===i.layerType&&("text-field"===g&&o&&!o.glyphs&&V.push(new st(n,f,'use of "text-field" requires a style "glyphs" property')),"text-font"===g&&hr($n(f))&&"identity"===zn(f.type)&&V.push(new st(n,f,'"text-font" does not support identity functions'))),V.concat(pr({key:i.key,value:f,valueSpec:E,style:o,styleSpec:u,expressionContext:"property",propertyType:e,propertyKey:g}))}function Wl(i){return uc(i,"paint")}function vl(i){return uc(i,"layout")}function So(i){let e=[];const n=i.value,o=i.key,u=i.style,f=i.styleSpec;n.type||n.ref||e.push(new st(o,n,'either "type" or "ref" is required'));let g=zn(n.type);const M=zn(n.ref);if(n.id){const L=zn(n.id);for(let E=0;E<i.arrayIndex;E++){const B=u.layers[E];zn(B.id)===L&&e.push(new st(o,n.id,`duplicate layer id "${n.id}", previously used at line ${B.id.__line__}`))}}if("ref"in n){let L;["type","source","source-layer","filter","layout"].forEach(E=>{E in n&&e.push(new st(o,n[E],`"${E}" is prohibited for ref layers`))}),u.layers.forEach(E=>{zn(E.id)===M&&(L=E)}),L?L.ref?e.push(new st(o,n.ref,"ref cannot reference another ref layer")):g=zn(L.type):"string"==typeof M&&e.push(new st(o,n.ref,`ref layer "${M}" not found`))}else if("background"!==g&&"sky"!==g)if(n.source){const L=u.sources&&u.sources[n.source],E=L&&zn(L.type);L?"vector"===E&&"raster"===g?e.push(new st(o,n.source,`layer "${n.id}" requires a raster source`)):"raster"===E&&"raster"!==g?e.push(new st(o,n.source,`layer "${n.id}" requires a vector source`)):"vector"!==E||n["source-layer"]?"raster-dem"===E&&"hillshade"!==g?e.push(new st(o,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==g||!n.paint||!n.paint["line-gradient"]&&!n.paint["line-trim-offset"]||"geojson"===E&&L.lineMetrics||e.push(new st(o,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new st(o,n,`layer "${n.id}" must specify a "source-layer"`)):e.push(new st(o,n.source,`source "${n.source}" not found`))}else e.push(new st(o,n,'missing required property "source"'));return e=e.concat(pi({key:o,value:n,valueSpec:f.layer,style:i.style,styleSpec:i.styleSpec,objectElementValidators:{"*":()=>[],type:()=>pr({key:`${o}.type`,value:n.type,valueSpec:f.layer.type,style:i.style,styleSpec:i.styleSpec,object:n,objectKey:"type"}),filter:L=>Lo(ta({layerType:g},L)),layout:L=>pi({layer:n,key:L.key,value:L.value,valueSpec:{},style:L.style,styleSpec:L.styleSpec,objectElementValidators:{"*":E=>vl(ta({layerType:g},E))}}),paint:L=>pi({layer:n,key:L.key,value:L.value,valueSpec:{},style:L.style,styleSpec:L.styleSpec,objectElementValidators:{"*":E=>Wl(ta({layerType:g},E))}})}})),e}function Xn(i){const e=i.value,n=i.key,o=Ri(e);return"string"!==o?[new st(n,e,`string expected, ${o} found`)]:[]}const dc={promoteId:function({key:i,value:e}){if("string"===Ri(e))return Xn({key:i,value:e});{const n=[];for(const o in e)n.push(...Xn({key:`${i}.${o}`,value:e[o]}));return n}}};function Oc(i){const e=i.value,n=i.key,o=i.styleSpec,u=i.style;if(!e.type)return[new st(n,e,'"type" is required')];const f=zn(e.type);let g;switch(f){case"vector":case"raster":case"raster-dem":return g=pi({key:n,value:e,valueSpec:o[`source_${f.replace("-","_")}`],style:i.style,styleSpec:o,objectElementValidators:dc}),g;case"geojson":if(g=pi({key:n,value:e,valueSpec:o.source_geojson,style:u,styleSpec:o,objectElementValidators:dc}),e.cluster)for(const M in e.clusterProperties){const[L,E]=e.clusterProperties[M],B="string"==typeof L?[L,["accumulated"],["get",M]]:L;g.push(...un({key:`${n}.${M}.map`,value:E,expressionContext:"cluster-map"})),g.push(...un({key:`${n}.${M}.reduce`,value:B,expressionContext:"cluster-reduce"}))}return g;case"video":return pi({key:n,value:e,valueSpec:o.source_video,style:u,styleSpec:o});case"image":return pi({key:n,value:e,valueSpec:o.source_image,style:u,styleSpec:o});case"canvas":return[new st(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ts({key:`${n}.type`,value:e.type,valueSpec:{values:Rc(o)},style:u,styleSpec:o})}}function Rc(i){return i.source.reduce((e,n)=>{const o=i[n];return"enum"===o.type.type&&(e=e.concat(Object.keys(o.type.values))),e},[])}function hc(i){const e=i.value,n=i.styleSpec,o=n.light,u=i.style;let f=[];const g=Ri(e);if(void 0===e)return f;if("object"!==g)return f=f.concat([new st("light",e,`object expected, ${g} found`)]),f;for(const M in e){const L=M.match(/^(.*)-transition$/);f=f.concat(L&&o[L[1]]&&o[L[1]].transition?pr({key:M,value:e[M],valueSpec:n.transition,style:u,styleSpec:n}):o[M]?pr({key:M,value:e[M],valueSpec:o[M],style:u,styleSpec:n}):[new st(M,e[M],`unknown property "${M}"`)])}return f}function tl(i){const e=i.value,n=i.key,o=i.style,u=i.styleSpec,f=u.terrain;let g=[];const M=Ri(e);if(void 0===e)return g;if("object"!==M)return g=g.concat([new st("terrain",e,`object expected, ${M} found`)]),g;for(const L in e){const E=L.match(/^(.*)-transition$/);g=g.concat(E&&f[E[1]]&&f[E[1]].transition?pr({key:L,value:e[L],valueSpec:u.transition,style:o,styleSpec:u}):f[L]?pr({key:L,value:e[L],valueSpec:f[L],style:o,styleSpec:u}):[new st(L,e[L],`unknown property "${L}"`)])}if(e.source){const L=o.sources&&o.sources[e.source],E=L&&zn(L.type);L?"raster-dem"!==E&&g.push(new st(n,e.source,`terrain cannot be used with a source of type ${String(E)}, it only be used with a "raster-dem" source type`)):g.push(new st(n,e.source,`source "${e.source}" not found`))}else g.push(new st(n,e,'terrain is missing required property "source"'));return g}function pc(i){const e=i.value,n=i.style,o=i.styleSpec,u=o.fog;let f=[];const g=Ri(e);if(void 0===e)return f;if("object"!==g)return f=f.concat([new st("fog",e,`object expected, ${g} found`)]),f;for(const M in e){const L=M.match(/^(.*)-transition$/);f=f.concat(L&&u[L[1]]&&u[L[1]].transition?pr({key:M,value:e[M],valueSpec:o.transition,style:n,styleSpec:o}):u[M]?pr({key:M,value:e[M],valueSpec:u[M],style:n,styleSpec:o}):[new st(M,e[M],`unknown property "${M}"`)])}return f}const Co={"*":()=>[],array:tn,boolean:function(i){const e=i.value,n=i.key,o=Ri(e);return"boolean"!==o?[new st(n,e,`boolean expected, ${o} found`)]:[]},number:Gi,color:function(i){const e=i.key,n=i.value,o=Ri(n);return"string"!==o?[new st(e,n,`color expected, ${o} found`)]:null===Gr(n)?[new st(e,n,`color expected, "${n}" found`)]:[]},enum:Ts,filter:Lo,function:Tr,layer:So,object:pi,source:Oc,light:hc,terrain:tl,fog:pc,string:Xn,formatted:function(i){return 0===Xn(i).length?[]:un(i)},resolvedImage:function(i){return 0===Xn(i).length?[]:un(i)},projection:function(i){const e=i.value,n=i.styleSpec,o=n.projection,u=i.style;let f=[];const g=Ri(e);if("object"===g)for(const M in e)f=f.concat(pr({key:M,value:e[M],valueSpec:o[M],style:u,styleSpec:n}));else"string"!==g&&(f=f.concat([new st("projection",e,`object or string expected, ${g} found`)]));return f}};function pr(i){const e=i.value,n=i.valueSpec,o=i.styleSpec;return n.expression&&hr(zn(e))?Tr(i):n.expression&&js($n(e))?un(i):n.type&&Co[n.type]?Co[n.type](i):pi(ta({},i,{valueSpec:n.type?o[n.type]:n}))}function Vs(i){const e=i.value,n=i.key,o=Xn(i);return o.length||(-1===e.indexOf("{fontstack}")&&o.push(new st(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&o.push(new st(n,e,'"glyphs" url must include a "{range}" token'))),o}function il(i,e=at){return Ma(pr({key:"",value:i,valueSpec:e.$root,styleSpec:e,style:i,objectElementValidators:{glyphs:Vs,"*":()=>[]}}))}const su=i=>Ma(Wl(i)),ou=i=>Ma(vl(i));function Ma(i){return i.slice().sort((e,n)=>e.line&&n.line?e.line-n.line:0)}function Fc(i,e){let n=!1;if(e&&e.length)for(const o of e)i.fire(new _a(new Error(o.message))),n=!0;return n}var lu=Xa;function Xa(i,e,n){var o=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;var u=new Int32Array(this.arrayBuffer);i=u[0],this.d=(e=u[1])+2*(n=u[2]);for(var f=0;f<this.d*this.d;f++){var g=u[3+f],M=u[3+f+1];o.push(g===M?null:u.subarray(g,M))}var L=u[3+o.length+1];this.keys=u.subarray(u[3+o.length],L),this.bboxes=u.subarray(L),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var E=0;E<this.d*this.d;E++)o.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=i,this.padding=n,this.scale=e/i,this.uid=0;var B=n/e*i;this.min=-B,this.max=i+B}Xa.prototype.insert=function(i,e,n,o,u){this._forEachCell(e,n,o,u,this._insertCell,this.uid++),this.keys.push(i),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(o),this.bboxes.push(u)},Xa.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Xa.prototype._insertCell=function(i,e,n,o,u,f){this.cells[u].push(f)},Xa.prototype.query=function(i,e,n,o,u){var f=this.min,g=this.max;if(i<=f&&e<=f&&g<=n&&g<=o&&!u)return Array.prototype.slice.call(this.keys);var M=[];return this._forEachCell(i,e,n,o,this._queryCell,M,{},u),M},Xa.prototype._queryCell=function(i,e,n,o,u,f,g,M){var L=this.cells[u];if(null!==L)for(var E=this.keys,B=this.bboxes,V=0;V<L.length;V++){var Z=L[V];if(void 0===g[Z]){var ee=4*Z;(M?M(B[ee+0],B[ee+1],B[ee+2],B[ee+3]):i<=B[ee+2]&&e<=B[ee+3]&&n>=B[ee+0]&&o>=B[ee+1])?(g[Z]=!0,f.push(E[Z])):g[Z]=!1}}},Xa.prototype._forEachCell=function(i,e,n,o,u,f,g,M){for(var L=this._convertToCellCoord(i),E=this._convertToCellCoord(e),B=this._convertToCellCoord(n),V=this._convertToCellCoord(o),Z=L;Z<=B;Z++)for(var ee=E;ee<=V;ee++){var ne=this.d*ee+Z;if((!M||M(this._convertFromCellCoord(Z),this._convertFromCellCoord(ee),this._convertFromCellCoord(Z+1),this._convertFromCellCoord(ee+1)))&&u.call(this,i,e,n,o,ne,f,g,M))return}},Xa.prototype._convertFromCellCoord=function(i){return(i-this.padding)/this.scale},Xa.prototype._convertToCellCoord=function(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))},Xa.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var i=this.cells,e=3+this.cells.length+1+1,n=0,o=0;o<this.cells.length;o++)n+=this.cells[o].length;var u=new Int32Array(e+n+this.keys.length+this.bboxes.length);u[0]=this.extent,u[1]=this.n,u[2]=this.padding;for(var f=e,g=0;g<i.length;g++){var M=i[g];u[3+g]=f,u.set(M,f),f+=M.length}return u[3+i.length]=f,u.set(this.keys,f),u[3+i.length+1]=f+=this.keys.length,u.set(this.bboxes,f),f+=this.bboxes.length,u.buffer};var lo=Me(lu);const Gl={};function Bt(i,e,n={}){Object.defineProperty(i,"_classRegistryKey",{value:e,writeable:!1}),Gl[e]={klass:i,omit:n.omit||[]}}Bt(Object,"Object"),lo.serialize=function(i,e){const n=i.toArrayBuffer();return e&&e.push(n),{buffer:n}},lo.deserialize=function(i){return new lo(i.buffer)},Object.defineProperty(lo,"name",{value:"Grid"}),Bt(lo,"Grid"),Bt(Ln,"Color"),Bt(Error,"Error"),Bt(ma,"AJAXError"),Bt(Zr,"ResolvedImage"),Bt(De,"StylePropertyFunction"),Bt(Xo,"StyleExpression",{omit:["_evaluator"]}),Bt(G,"ZoomDependentExpression"),Bt(N,"ZoomConstantExpression"),Bt(Ba,"CompoundExpression",{omit:["_evaluate"]});for(const i in To)Gl[To[i]._classRegistryKey]||Bt(To[i],`Expression${i}`);function fc(i){return i&&"undefined"!=typeof ArrayBuffer&&(i instanceof ArrayBuffer||i.constructor&&"ArrayBuffer"===i.constructor.name)}function mc(i){return P.ImageBitmap&&i instanceof P.ImageBitmap}function nl(i,e){if(null==i||"boolean"==typeof i||"number"==typeof i||"string"==typeof i||i instanceof Boolean||i instanceof Number||i instanceof String||i instanceof Date||i instanceof RegExp)return i;if(fc(i)||mc(i))return e&&e.push(i),i;if(ArrayBuffer.isView(i)){const n=i;return e&&e.push(n.buffer),n}if(i instanceof P.ImageData)return e&&e.push(i.data.buffer),i;if(Array.isArray(i)){const n=[];for(const o of i)n.push(nl(o,e));return n}if("object"==typeof i){const n=i.constructor,o=n._classRegistryKey;if(!o)throw new Error(`can't serialize object of unregistered class ${o}`);const u=n.serialize?n.serialize(i,e):{};if(!n.serialize){for(const f in i)i.hasOwnProperty(f)&&(Gl[o].omit.indexOf(f)>=0||(u[f]=nl(i[f],e)));i instanceof Error&&(u.message=i.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==o&&(u.$name=o),u}throw new Error("can't serialize object of type "+typeof i)}function Qr(i){if(null==i||"boolean"==typeof i||"number"==typeof i||"string"==typeof i||i instanceof Boolean||i instanceof Number||i instanceof String||i instanceof Date||i instanceof RegExp||fc(i)||mc(i)||ArrayBuffer.isView(i)||i instanceof P.ImageData)return i;if(Array.isArray(i))return i.map(Qr);if("object"==typeof i){const e=i.$name||"Object",{klass:n}=Gl[e];if(!n)throw new Error(`can't deserialize unregistered class ${e}`);if(n.deserialize)return n.deserialize(i);const o=Object.create(n.prototype);for(const u of Object.keys(i))"$name"!==u&&(o[u]=Qr(i[u]));return o}throw new Error("can't deserialize object of type "+typeof i)}const Rt_Latin_1_Supplement=i=>i>=128&&i<=255,Rt_Arabic=i=>i>=1536&&i<=1791,Rt_Arabic_Supplement=i=>i>=1872&&i<=1919,Rt_Arabic_Extended_A=i=>i>=2208&&i<=2303,Rt_Hangul_Jamo=i=>i>=4352&&i<=4607,Rt_Unified_Canadian_Aboriginal_Syllabics=i=>i>=5120&&i<=5759,Rt_Khmer=i=>i>=6016&&i<=6143,Rt_Unified_Canadian_Aboriginal_Syllabics_Extended=i=>i>=6320&&i<=6399,Rt_General_Punctuation=i=>i>=8192&&i<=8303,Rt_Letterlike_Symbols=i=>i>=8448&&i<=8527,Rt_Number_Forms=i=>i>=8528&&i<=8591,Rt_Miscellaneous_Technical=i=>i>=8960&&i<=9215,Rt_Control_Pictures=i=>i>=9216&&i<=9279,Rt_Optical_Character_Recognition=i=>i>=9280&&i<=9311,Rt_Enclosed_Alphanumerics=i=>i>=9312&&i<=9471,Rt_Geometric_Shapes=i=>i>=9632&&i<=9727,Rt_Miscellaneous_Symbols=i=>i>=9728&&i<=9983,Rt_Miscellaneous_Symbols_and_Arrows=i=>i>=11008&&i<=11263,Rt_CJK_Radicals_Supplement=i=>i>=11904&&i<=12031,Rt_Kangxi_Radicals=i=>i>=12032&&i<=12255,Rt_Ideographic_Description_Characters=i=>i>=12272&&i<=12287,Rt_CJK_Symbols_and_Punctuation=i=>i>=12288&&i<=12351,Rt_Hiragana=i=>i>=12352&&i<=12447,Rt_Katakana=i=>i>=12448&&i<=12543,Rt_Bopomofo=i=>i>=12544&&i<=12591,Rt_Hangul_Compatibility_Jamo=i=>i>=12592&&i<=12687,Rt_Kanbun=i=>i>=12688&&i<=12703,Rt_Bopomofo_Extended=i=>i>=12704&&i<=12735,Rt_CJK_Strokes=i=>i>=12736&&i<=12783,Rt_Katakana_Phonetic_Extensions=i=>i>=12784&&i<=12799,Rt_Enclosed_CJK_Letters_and_Months=i=>i>=12800&&i<=13055,Rt_CJK_Compatibility=i=>i>=13056&&i<=13311,Rt_CJK_Unified_Ideographs_Extension_A=i=>i>=13312&&i<=19903,Rt_Yijing_Hexagram_Symbols=i=>i>=19904&&i<=19967,Rt_CJK_Unified_Ideographs=i=>i>=19968&&i<=40959,Rt_Yi_Syllables=i=>i>=40960&&i<=42127,Rt_Yi_Radicals=i=>i>=42128&&i<=42191,Rt_Hangul_Jamo_Extended_A=i=>i>=43360&&i<=43391,Rt_Hangul_Syllables=i=>i>=44032&&i<=55215,Rt_Hangul_Jamo_Extended_B=i=>i>=55216&&i<=55295,Rt_Private_Use_Area=i=>i>=57344&&i<=63743,Rt_CJK_Compatibility_Ideographs=i=>i>=63744&&i<=64255,Rt_Arabic_Presentation_Forms_A=i=>i>=64336&&i<=65023,Rt_Vertical_Forms=i=>i>=65040&&i<=65055,Rt_CJK_Compatibility_Forms=i=>i>=65072&&i<=65103,Rt_Small_Form_Variants=i=>i>=65104&&i<=65135,Rt_Arabic_Presentation_Forms_B=i=>i>=65136&&i<=65279,Rt_Halfwidth_and_Fullwidth_Forms=i=>i>=65280&&i<=65519;function _c(i){for(const e of i)if(At(e.charCodeAt(0)))return!0;return!1}function cu(i){for(const e of i)if(!Yc(e.charCodeAt(0)))return!1;return!0}function Yc(i){return!(Rt_Arabic(i)||Rt_Arabic_Supplement(i)||Rt_Arabic_Extended_A(i)||Rt_Arabic_Presentation_Forms_A(i)||Rt_Arabic_Presentation_Forms_B(i))}function At(i){return!(746!==i&&747!==i&&(i<4352||!(Rt_Bopomofo_Extended(i)||Rt_Bopomofo(i)||Rt_CJK_Compatibility_Forms(i)&&!(i>=65097&&i<=65103)||Rt_CJK_Compatibility_Ideographs(i)||Rt_CJK_Compatibility(i)||Rt_CJK_Radicals_Supplement(i)||Rt_CJK_Strokes(i)||!(!Rt_CJK_Symbols_and_Punctuation(i)||i>=12296&&i<=12305||i>=12308&&i<=12319||12336===i)||Rt_CJK_Unified_Ideographs_Extension_A(i)||Rt_CJK_Unified_Ideographs(i)||Rt_Enclosed_CJK_Letters_and_Months(i)||Rt_Hangul_Compatibility_Jamo(i)||Rt_Hangul_Jamo_Extended_A(i)||Rt_Hangul_Jamo_Extended_B(i)||Rt_Hangul_Jamo(i)||Rt_Hangul_Syllables(i)||Rt_Hiragana(i)||Rt_Ideographic_Description_Characters(i)||Rt_Kanbun(i)||Rt_Kangxi_Radicals(i)||Rt_Katakana_Phonetic_Extensions(i)||Rt_Katakana(i)&&12540!==i||!(!Rt_Halfwidth_and_Fullwidth_Forms(i)||65288===i||65289===i||65293===i||i>=65306&&i<=65310||65339===i||65341===i||65343===i||i>=65371&&i<=65503||65507===i||i>=65512&&i<=65519)||!(!Rt_Small_Form_Variants(i)||i>=65112&&i<=65118||i>=65123&&i<=65126)||Rt_Unified_Canadian_Aboriginal_Syllabics(i)||Rt_Unified_Canadian_Aboriginal_Syllabics_Extended(i)||Rt_Vertical_Forms(i)||Rt_Yijing_Hexagram_Symbols(i)||Rt_Yi_Syllables(i)||Rt_Yi_Radicals(i))))}function gc(i){return!(At(i)||(e=i,Rt_Latin_1_Supplement(e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Rt_General_Punctuation(e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Rt_Letterlike_Symbols(e)||Rt_Number_Forms(e)||Rt_Miscellaneous_Technical(e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Rt_Control_Pictures(e)&&9251!==e||Rt_Optical_Character_Recognition(e)||Rt_Enclosed_Alphanumerics(e)||Rt_Geometric_Shapes(e)||Rt_Miscellaneous_Symbols(e)&&!(e>=9754&&e<=9759)||Rt_Miscellaneous_Symbols_and_Arrows(e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Rt_CJK_Symbols_and_Punctuation(e)||Rt_Katakana(e)||Rt_Private_Use_Area(e)||Rt_CJK_Compatibility_Forms(e)||Rt_Small_Form_Variants(e)||Rt_Halfwidth_and_Fullwidth_Forms(e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e));var e}function zc(i){return i>=1424&&i<=2303||Rt_Arabic_Presentation_Forms_A(i)||Rt_Arabic_Presentation_Forms_B(i)}function yc(i,e){return!(!e&&zc(i)||i>=2304&&i<=3583||i>=3840&&i<=4255||Rt_Khmer(i))}function nn(i){for(const e of i)if(zc(e.charCodeAt(0)))return!0;return!1}const ua="deferred",Ja="loading",Eo="loaded";let Ao=null,h="unavailable",r=null;const c=function(i){i&&"string"==typeof i&&i.indexOf("NetworkError")>-1&&(h="error"),Ao&&Ao(i)};function _(){x.fire(new Ia("pluginStateChange",{pluginStatus:h,pluginURL:r}))}const x=new Pa,T=function(){return h},I=function(){if(h!==ua||!r)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");h=Ja,_(),r&&vr({url:r},i=>{i?c(i):(h=Eo,_())})},R={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>h===Eo||null!=R.applyArabicShaping,isLoading:()=>h===Ja,setState(i){h=i.pluginStatus,r=i.pluginURL},isParsed:()=>null!=R.applyArabicShaping&&null!=R.processBidirectionalText&&null!=R.processStyledBidirectionalText,getPluginURL:()=>r};class H{constructor(e,n){this.zoom=e,n?(this.now=n.now,this.fadeDuration=n.fadeDuration,this.transition=n.transition,this.pitch=n.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(e){return function(n,o){for(const u of n)if(!yc(u.charCodeAt(0),o))return!1;return!0}(e,R.isLoaded())}}class ${constructor(e,n){this.property=e,this.value=n,this.expression=function(o,u){if(hr(o))return new De(o,u);if(js(o)){const f=de(o,u);if("error"===f.result)throw new Error(f.value.map(g=>`${g.key}: ${g.message}`).join(", "));return f.value}{let f=o;return"string"==typeof o&&"color"===u.type&&(f=Ln.parse(o)),{kind:"constant",evaluate:()=>f}}}(void 0===n?e.specification.default:n,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,n,o){return this.property.possiblyEvaluate(this,e,n,o)}}class q{constructor(e){this.property=e,this.value=new $(e,void 0)}transitioned(e,n){return new a(this.property,this.value,n,Li({},e.transition,this.transition),e.now)}untransitioned(){return new a(this.property,this.value,null,{},0)}}class ae{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return Fr(this._values[e].value.value)}setValue(e,n){this._values.hasOwnProperty(e)||(this._values[e]=new q(this._values[e].property)),this._values[e].value=new $(this._values[e].property,null===n?void 0:Fr(n))}getTransition(e){return Fr(this._values[e].transition)}setTransition(e,n){this._values.hasOwnProperty(e)||(this._values[e]=new q(this._values[e].property)),this._values[e].transition=Fr(n)||void 0}serialize(){const e={};for(const n of Object.keys(this._values)){const o=this.getValue(n);void 0!==o&&(e[n]=o);const u=this.getTransition(n);void 0!==u&&(e[`${n}-transition`]=u)}return e}transitioned(e,n){const o=new l(this._properties);for(const u of Object.keys(this._values))o._values[u]=this._values[u].transitioned(e,n._values[u]);return o}untransitioned(){const e=new l(this._properties);for(const n of Object.keys(this._values))e._values[n]=this._values[n].untransitioned();return e}}class a{constructor(e,n,o,u,f){const g=u.delay||0,M=u.duration||0;f=f||0,this.property=e,this.value=n,this.begin=f+g,this.end=this.begin+M,e.specification.transition&&(u.delay||u.duration)&&(this.prior=o)}possiblyEvaluate(e,n,o){const u=e.now||0,f=this.value.possiblyEvaluate(e,n,o),g=this.prior;if(g){if(u>this.end)return this.prior=null,f;if(this.value.isDataDriven())return this.prior=null,f;if(u<this.begin)return g.possiblyEvaluate(e,n,o);{const M=(u-this.begin)/(this.end-this.begin);return this.property.interpolate(g.possiblyEvaluate(e,n,o),f,wi(M))}}return f}}class l{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,n,o){const u=new b(this._properties);for(const f of Object.keys(this._values))u._values[f]=this._values[f].possiblyEvaluate(e,n,o);return u}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class d{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return Fr(this._values[e].value)}setValue(e,n){this._values[e]=new $(this._values[e].property,null===n?void 0:Fr(n))}serialize(){const e={};for(const n of Object.keys(this._values)){const o=this.getValue(n);void 0!==o&&(e[n]=o)}return e}possiblyEvaluate(e,n,o){const u=new b(this._properties);for(const f of Object.keys(this._values))u._values[f]=this._values[f].possiblyEvaluate(e,n,o);return u}}class p{constructor(e,n,o){this.property=e,this.value=n,this.parameters=o}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,n,o,u){return this.property.evaluate(this.value,this.parameters,e,n,o,u)}}class b{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class w{constructor(e){this.specification=e}possiblyEvaluate(e,n){return e.expression.evaluate(n)}interpolate(e,n,o){const u=aa[this.specification.type];return u?u(e,n,o):e}}class D{constructor(e,n){this.specification=e,this.overrides=n}possiblyEvaluate(e,n,o,u){return new p(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(n,null,{},o,u)}:e.expression,n)}interpolate(e,n,o){if("constant"!==e.value.kind||"constant"!==n.value.kind)return e;if(void 0===e.value.value||void 0===n.value.value)return new p(this,{kind:"constant",value:void 0},e.parameters);const u=aa[this.specification.type];return u?new p(this,{kind:"constant",value:u(e.value.value,n.value.value,o)},e.parameters):e}evaluate(e,n,o,u,f,g){return"constant"===e.kind?e.value:e.evaluate(n,o,u,f,g)}}class O{constructor(e){this.specification=e}possiblyEvaluate(e,n,o,u){return!!e.expression.evaluate(n,null,{},o,u)}interpolate(){return!1}}class C{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const n=new H(0,{});for(const o in e){const u=e[o];u.specification.overridable&&this.overridableProperties.push(o);const f=this.defaultPropertyValues[o]=new $(u,void 0),g=this.defaultTransitionablePropertyValues[o]=new q(u);this.defaultTransitioningPropertyValues[o]=g.untransitioned(),this.defaultPossiblyEvaluatedValues[o]=f.possiblyEvaluate(n)}}}function z(i,e){return 256*(i=ei(Math.floor(i),0,255))+ei(Math.floor(e),0,255)}Bt(D,"DataDrivenProperty"),Bt(w,"DataConstantProperty"),Bt(O,"ColorRampProperty");const U={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class W{constructor(e,n){this._structArray=e,this._pos1=n*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ie{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,n){return e._trim(),n&&(e.isTransferred=!0,n.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const n=Object.create(this.prototype);return n.arrayBuffer=e.arrayBuffer,n.length=e.length,n.capacity=e.arrayBuffer.byteLength/n.bytesPerElement,n._refreshViews(),n}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const n=this.uint8;this._refreshViews(),n&&this.uint8.set(n)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function ce(i,e=1){let n=0,o=0;return{members:i.map(u=>{const f=U[u.type].BYTES_PER_ELEMENT,g=n=pe(n,Math.max(e,f)),M=u.components||1;return o=Math.max(o,f),n+=f*M,{name:u.name,type:u.type,components:M,offset:g}}),size:pe(n,Math.max(o,e)),alignment:e}}function pe(i,e){return Math.ceil(i/e)*e}class ve extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,n){const o=this.length;return this.resize(o+1),this.emplace(o,e,n)}emplace(e,n,o){const u=2*e;return this.int16[u+0]=n,this.int16[u+1]=o,e}}ve.prototype.bytesPerElement=4,Bt(ve,"StructArrayLayout2i4");class ge extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,n,o){const u=this.length;return this.resize(u+1),this.emplace(u,e,n,o)}emplace(e,n,o,u){const f=3*e;return this.int16[f+0]=n,this.int16[f+1]=o,this.int16[f+2]=u,e}}ge.prototype.bytesPerElement=6,Bt(ge,"StructArrayLayout3i6");class Ee extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,n,o,u){const f=this.length;return this.resize(f+1),this.emplace(f,e,n,o,u)}emplace(e,n,o,u,f){const g=4*e;return this.int16[g+0]=n,this.int16[g+1]=o,this.int16[g+2]=u,this.int16[g+3]=f,e}}Ee.prototype.bytesPerElement=8,Bt(Ee,"StructArrayLayout4i8");class Re extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,n,o,u,f,g,M){const L=this.length;return this.resize(L+1),this.emplace(L,e,n,o,u,f,g,M)}emplace(e,n,o,u,f,g,M,L){const E=6*e,B=12*e,V=3*e;return this.int16[E+0]=n,this.int16[E+1]=o,this.uint8[B+4]=u,this.uint8[B+5]=f,this.uint8[B+6]=g,this.uint8[B+7]=M,this.float32[V+2]=L,e}}Re.prototype.bytesPerElement=12,Bt(Re,"StructArrayLayout2i4ub1f12");class Ze extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,n,o,u){const f=this.length;return this.resize(f+1),this.emplace(f,e,n,o,u)}emplace(e,n,o,u,f){const g=4*e;return this.float32[g+0]=n,this.float32[g+1]=o,this.float32[g+2]=u,this.float32[g+3]=f,e}}Ze.prototype.bytesPerElement=16,Bt(Ze,"StructArrayLayout4f16");class je extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,n,o,u,f){const g=this.length;return this.resize(g+1),this.emplace(g,e,n,o,u,f)}emplace(e,n,o,u,f,g){const M=6*e,L=3*e;return this.uint16[M+0]=n,this.uint16[M+1]=o,this.uint16[M+2]=u,this.uint16[M+3]=f,this.float32[L+2]=g,e}}je.prototype.bytesPerElement=12,Bt(je,"StructArrayLayout4ui1f12");class Ge extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,n,o,u){const f=this.length;return this.resize(f+1),this.emplace(f,e,n,o,u)}emplace(e,n,o,u,f){const g=4*e;return this.uint16[g+0]=n,this.uint16[g+1]=o,this.uint16[g+2]=u,this.uint16[g+3]=f,e}}Ge.prototype.bytesPerElement=8,Bt(Ge,"StructArrayLayout4ui8");class lt extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,n,o,u,f,g){const M=this.length;return this.resize(M+1),this.emplace(M,e,n,o,u,f,g)}emplace(e,n,o,u,f,g,M){const L=6*e;return this.int16[L+0]=n,this.int16[L+1]=o,this.int16[L+2]=u,this.int16[L+3]=f,this.int16[L+4]=g,this.int16[L+5]=M,e}}lt.prototype.bytesPerElement=12,Bt(lt,"StructArrayLayout6i12");class tt extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,n,o,u,f,g,M,L,E,B,V,Z){const ee=this.length;return this.resize(ee+1),this.emplace(ee,e,n,o,u,f,g,M,L,E,B,V,Z)}emplace(e,n,o,u,f,g,M,L,E,B,V,Z,ee){const ne=12*e;return this.int16[ne+0]=n,this.int16[ne+1]=o,this.int16[ne+2]=u,this.int16[ne+3]=f,this.uint16[ne+4]=g,this.uint16[ne+5]=M,this.uint16[ne+6]=L,this.uint16[ne+7]=E,this.int16[ne+8]=B,this.int16[ne+9]=V,this.int16[ne+10]=Z,this.int16[ne+11]=ee,e}}tt.prototype.bytesPerElement=24,Bt(tt,"StructArrayLayout4i4ui4i24");class ot extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,n,o,u,f,g){const M=this.length;return this.resize(M+1),this.emplace(M,e,n,o,u,f,g)}emplace(e,n,o,u,f,g,M){const L=10*e,E=5*e;return this.int16[L+0]=n,this.int16[L+1]=o,this.int16[L+2]=u,this.float32[E+2]=f,this.float32[E+3]=g,this.float32[E+4]=M,e}}ot.prototype.bytesPerElement=20,Bt(ot,"StructArrayLayout3i3f20");class Et extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const n=this.length;return this.resize(n+1),this.emplace(n,e)}emplace(e,n){return this.uint32[1*e+0]=n,e}}Et.prototype.bytesPerElement=4,Bt(Et,"StructArrayLayout1ul4");class Vt extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,n,o,u,f,g,M,L,E,B,V,Z,ee){const ne=this.length;return this.resize(ne+1),this.emplace(ne,e,n,o,u,f,g,M,L,E,B,V,Z,ee)}emplace(e,n,o,u,f,g,M,L,E,B,V,Z,ee,ne){const le=20*e,_e=10*e;return this.int16[le+0]=n,this.int16[le+1]=o,this.int16[le+2]=u,this.int16[le+3]=f,this.int16[le+4]=g,this.float32[_e+3]=M,this.float32[_e+4]=L,this.float32[_e+5]=E,this.float32[_e+6]=B,this.int16[le+14]=V,this.uint32[_e+8]=Z,this.uint16[le+18]=ee,this.uint16[le+19]=ne,e}}Vt.prototype.bytesPerElement=40,Bt(Vt,"StructArrayLayout5i4f1i1ul2ui40");class It extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,n,o,u,f,g,M){const L=this.length;return this.resize(L+1),this.emplace(L,e,n,o,u,f,g,M)}emplace(e,n,o,u,f,g,M,L){const E=8*e;return this.int16[E+0]=n,this.int16[E+1]=o,this.int16[E+2]=u,this.int16[E+4]=f,this.int16[E+5]=g,this.int16[E+6]=M,this.int16[E+7]=L,e}}It.prototype.bytesPerElement=16,Bt(It,"StructArrayLayout3i2i2i16");class Dt extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,n,o,u,f){const g=this.length;return this.resize(g+1),this.emplace(g,e,n,o,u,f)}emplace(e,n,o,u,f,g){const M=4*e,L=8*e;return this.float32[M+0]=n,this.float32[M+1]=o,this.float32[M+2]=u,this.int16[L+6]=f,this.int16[L+7]=g,e}}Dt.prototype.bytesPerElement=16,Bt(Dt,"StructArrayLayout2f1f2i16");class Zt extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,n,o,u){const f=this.length;return this.resize(f+1),this.emplace(f,e,n,o,u)}emplace(e,n,o,u,f){const g=12*e,M=3*e;return this.uint8[g+0]=n,this.uint8[g+1]=o,this.float32[M+1]=u,this.float32[M+2]=f,e}}Zt.prototype.bytesPerElement=12,Bt(Zt,"StructArrayLayout2ub2f12");class ci extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,n,o){const u=this.length;return this.resize(u+1),this.emplace(u,e,n,o)}emplace(e,n,o,u){const f=3*e;return this.float32[f+0]=n,this.float32[f+1]=o,this.float32[f+2]=u,e}}ci.prototype.bytesPerElement=12,Bt(ci,"StructArrayLayout3f12");class jt extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,n,o){const u=this.length;return this.resize(u+1),this.emplace(u,e,n,o)}emplace(e,n,o,u){const f=3*e;return this.uint16[f+0]=n,this.uint16[f+1]=o,this.uint16[f+2]=u,e}}jt.prototype.bytesPerElement=6,Bt(jt,"StructArrayLayout3ui6");class Ei extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,n,o,u,f,g,M,L,E,B,V,Z,ee,ne,le,_e,xe,Se,we,Le,Ie){const Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,e,n,o,u,f,g,M,L,E,B,V,Z,ee,ne,le,_e,xe,Se,we,Le,Ie)}emplace(e,n,o,u,f,g,M,L,E,B,V,Z,ee,ne,le,_e,xe,Se,we,Le,Ie,Pe){const Qe=30*e,$e=15*e,dt=60*e;return this.int16[Qe+0]=n,this.int16[Qe+1]=o,this.int16[Qe+2]=u,this.float32[$e+2]=f,this.float32[$e+3]=g,this.uint16[Qe+8]=M,this.uint16[Qe+9]=L,this.uint32[$e+5]=E,this.uint32[$e+6]=B,this.uint32[$e+7]=V,this.uint16[Qe+16]=Z,this.uint16[Qe+17]=ee,this.uint16[Qe+18]=ne,this.float32[$e+10]=le,this.float32[$e+11]=_e,this.uint8[dt+48]=xe,this.uint8[dt+49]=Se,this.uint8[dt+50]=we,this.uint32[$e+13]=Le,this.int16[Qe+28]=Ie,this.uint8[dt+58]=Pe,e}}Ei.prototype.bytesPerElement=60,Bt(Ei,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Ji extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,n,o,u,f,g,M,L,E,B,V,Z,ee,ne,le,_e,xe,Se,we,Le,Ie,Pe,Qe,$e,dt,Tt,it,mt,ft,xt){const Lt=this.length;return this.resize(Lt+1),this.emplace(Lt,e,n,o,u,f,g,M,L,E,B,V,Z,ee,ne,le,_e,xe,Se,we,Le,Ie,Pe,Qe,$e,dt,Tt,it,mt,ft,xt)}emplace(e,n,o,u,f,g,M,L,E,B,V,Z,ee,ne,le,_e,xe,Se,we,Le,Ie,Pe,Qe,$e,dt,Tt,it,mt,ft,xt,Lt){const ct=38*e,Ft=19*e;return this.int16[ct+0]=n,this.int16[ct+1]=o,this.int16[ct+2]=u,this.float32[Ft+2]=f,this.float32[Ft+3]=g,this.int16[ct+8]=M,this.int16[ct+9]=L,this.int16[ct+10]=E,this.int16[ct+11]=B,this.int16[ct+12]=V,this.int16[ct+13]=Z,this.uint16[ct+14]=ee,this.uint16[ct+15]=ne,this.uint16[ct+16]=le,this.uint16[ct+17]=_e,this.uint16[ct+18]=xe,this.uint16[ct+19]=Se,this.uint16[ct+20]=we,this.uint16[ct+21]=Le,this.uint16[ct+22]=Ie,this.uint16[ct+23]=Pe,this.uint16[ct+24]=Qe,this.uint16[ct+25]=$e,this.uint16[ct+26]=dt,this.uint16[ct+27]=Tt,this.uint16[ct+28]=it,this.uint32[Ft+15]=mt,this.float32[Ft+16]=ft,this.float32[Ft+17]=xt,this.float32[Ft+18]=Lt,e}}Ji.prototype.bytesPerElement=76,Bt(Ji,"StructArrayLayout3i2f6i15ui1ul3f76");class qt extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const n=this.length;return this.resize(n+1),this.emplace(n,e)}emplace(e,n){return this.float32[1*e+0]=n,e}}qt.prototype.bytesPerElement=4,Bt(qt,"StructArrayLayout1f4");class k extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,n,o,u,f){const g=this.length;return this.resize(g+1),this.emplace(g,e,n,o,u,f)}emplace(e,n,o,u,f,g){const M=5*e;return this.float32[M+0]=n,this.float32[M+1]=o,this.float32[M+2]=u,this.float32[M+3]=f,this.float32[M+4]=g,e}}k.prototype.bytesPerElement=20,Bt(k,"StructArrayLayout5f20");class F extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,n,o,u){const f=this.length;return this.resize(f+1),this.emplace(f,e,n,o,u)}emplace(e,n,o,u,f){const g=6*e;return this.uint32[3*e+0]=n,this.uint16[g+2]=o,this.uint16[g+3]=u,this.uint16[g+4]=f,e}}F.prototype.bytesPerElement=12,Bt(F,"StructArrayLayout1ul3ui12");class K extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,n){const o=this.length;return this.resize(o+1),this.emplace(o,e,n)}emplace(e,n,o){const u=2*e;return this.uint16[u+0]=n,this.uint16[u+1]=o,e}}K.prototype.bytesPerElement=4,Bt(K,"StructArrayLayout2ui4");class re extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const n=this.length;return this.resize(n+1),this.emplace(n,e)}emplace(e,n){return this.uint16[1*e+0]=n,e}}re.prototype.bytesPerElement=2,Bt(re,"StructArrayLayout1ui2");class me extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,n){const o=this.length;return this.resize(o+1),this.emplace(o,e,n)}emplace(e,n,o){const u=2*e;return this.float32[u+0]=n,this.float32[u+1]=o,e}}me.prototype.bytesPerElement=8,Bt(me,"StructArrayLayout2f8");class Oe extends W{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Oe.prototype.size=40;class et extends Vt{get(e){return new Oe(this,e)}}Bt(et,"CollisionBoxArray");class Pt extends W{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e}}Pt.prototype.size=60;class Kt extends Ei{get(e){return new Pt(this,e)}}Bt(Kt,"PlacedSymbolArray");class Di extends W{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(e){this._structArray.uint32[this._pos4+15]=e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Di.prototype.size=76;class Ai extends Ji{get(e){return new Di(this,e)}}Bt(Ai,"SymbolInstanceArray");class Vn extends qt{getoffsetX(e){return this.float32[1*e+0]}}Bt(Vn,"GlyphOffsetArray");class Us extends ve{getx(e){return this.int16[2*e+0]}gety(e){return this.int16[2*e+1]}}Bt(Us,"SymbolLineVertexArray");class Bc extends W{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Bc.prototype.size=12;class sn extends F{get(e){return new Bc(this,e)}}Bt(sn,"FeatureIndexArray");class bl extends K{geta_centroid_pos0(e){return this.uint16[2*e+0]}geta_centroid_pos1(e){return this.uint16[2*e+1]}}Bt(bl,"FillExtrusionCentroidArray");const Zl=ce([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),jc=ce([{name:"a_dash",components:4,type:"Uint16"}]);var ed={exports:{}},Pp=function(i,e){var n,o,u,f,g,M,L,E;for(o=i.length-(n=3&i.length),u=e,g=3432918353,M=461845907,E=0;E<o;)L=255&i.charCodeAt(E)|(255&i.charCodeAt(++E))<<8|(255&i.charCodeAt(++E))<<16|(255&i.charCodeAt(++E))<<24,++E,u=27492+(65535&(f=5*(65535&(u=(u^=L=(65535&(L=(L=(65535&L)*g+(((L>>>16)*g&65535)<<16)&4294967295)<<15|L>>>17))*M+(((L>>>16)*M&65535)<<16)&4294967295)<<13|u>>>19))+((5*(u>>>16)&65535)<<16)&4294967295))+((58964+(f>>>16)&65535)<<16);switch(L=0,n){case 3:L^=(255&i.charCodeAt(E+2))<<16;case 2:L^=(255&i.charCodeAt(E+1))<<8;case 1:u^=L=(65535&(L=(L=(65535&(L^=255&i.charCodeAt(E)))*g+(((L>>>16)*g&65535)<<16)&4294967295)<<15|L>>>17))*M+(((L>>>16)*M&65535)<<16)&4294967295}return u^=i.length,u=2246822507*(65535&(u^=u>>>16))+((2246822507*(u>>>16)&65535)<<16)&4294967295,u=3266489909*(65535&(u^=u>>>13))+((3266489909*(u>>>16)&65535)<<16)&4294967295,(u^=u>>>16)>>>0},Sh=function(i,e){for(var n,o=i.length,u=e^o,f=0;o>=4;)n=1540483477*(65535&(n=255&i.charCodeAt(f)|(255&i.charCodeAt(++f))<<8|(255&i.charCodeAt(++f))<<16|(255&i.charCodeAt(++f))<<24))+((1540483477*(n>>>16)&65535)<<16),u=1540483477*(65535&u)+((1540483477*(u>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),o-=4,++f;switch(o){case 3:u^=(255&i.charCodeAt(f+2))<<16;case 2:u^=(255&i.charCodeAt(f+1))<<8;case 1:u=1540483477*(65535&(u^=255&i.charCodeAt(f)))+((1540483477*(u>>>16)&65535)<<16)}return u=1540483477*(65535&(u^=u>>>13))+((1540483477*(u>>>16)&65535)<<16),(u^=u>>>15)>>>0};ed.exports=Pp,ed.exports.murmur3=Pp,ed.exports.murmur2=Sh;var Ch=Me(ed.exports);class Tu{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,n,o,u){this.ids.push(ql(e)),this.positions.push(n,o,u)}getPositions(e){const n=ql(e);let o=0,u=this.ids.length-1;for(;o<u;){const g=o+u>>1;this.ids[g]>=n?u=g:o=g+1}const f=[];for(;this.ids[o]===n;)f.push({index:this.positions[3*o],start:this.positions[3*o+1],end:this.positions[3*o+2]}),o++;return f}static serialize(e,n){const o=new Float64Array(e.ids),u=new Uint32Array(e.positions);return Eh(o,u,0,o.length-1),n&&n.push(o.buffer,u.buffer),{ids:o,positions:u}}static deserialize(e){const n=new Tu;return n.ids=e.ids,n.positions=e.positions,n.indexed=!0,n}}function ql(i){const e=+i;return!isNaN(e)&&Number.MIN_SAFE_INTEGER<=e&&e<=Number.MAX_SAFE_INTEGER?e:Ch(String(i))}function Eh(i,e,n,o){for(;n<o;){const u=i[n+o>>1];let f=n-1,g=o+1;for(;;){do{f++}while(i[f]<u);do{g--}while(i[g]>u);if(f>=g)break;jd(i,f,g),jd(e,3*f,3*g),jd(e,3*f+1,3*g+1),jd(e,3*f+2,3*g+2)}g-n<o-g?(Eh(i,e,n,g),n=g+1):(Eh(i,e,g+1,o),o=g)}}function jd(i,e,n){const o=i[e];i[e]=i[n],i[n]=o}Bt(Tu,"FeaturePositionMap");class Nc{constructor(e){this.gl=e.gl,this.initialized=!1}fetchUniformLocation(e,n){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,n),this.initialized=!0),!!this.location}}class Ah extends Nc{constructor(e){super(e),this.current=0}set(e,n,o){this.fetchUniformLocation(e,n)&&this.current!==o&&(this.current=o,this.gl.uniform1f(this.location,o))}}class fm extends Nc{constructor(e){super(e),this.current=[0,0,0,0]}set(e,n,o){this.fetchUniformLocation(e,n)&&(o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]&&o[3]===this.current[3]||(this.current=o,this.gl.uniform4f(this.location,o[0],o[1],o[2],o[3])))}}class mm extends Nc{constructor(e){super(e),this.current=Ln.transparent}set(e,n,o){this.fetchUniformLocation(e,n)&&(o.r===this.current.r&&o.g===this.current.g&&o.b===this.current.b&&o.a===this.current.a||(this.current=o,this.gl.uniform4f(this.location,o.r,o.g,o.b,o.a)))}}const _m=new Float32Array(16),gm=new Float32Array(9),ym=new Float32Array(4);function id(i){return[z(255*i.r,255*i.g),z(255*i.b,255*i.a)]}class nd{constructor(e,n,o){this.value=e,this.uniformNames=n.map(u=>`u_${u}`),this.type=o}setUniform(e,n,o,u,f){n.set(e,f,u.constantOr(this.value))}getBinding(e,n){return"color"===this.type?new mm(e):new Ah(e)}}class Hc{constructor(e,n){this.uniformNames=n.map(o=>`u_${o}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(e){this.pixelRatio=e.pixelRatio||1,this.pattern=e.tl.concat(e.br)}setUniform(e,n,o,u,f){const g="u_pattern"===f||"u_dash"===f?this.pattern:"u_pixel_ratio"===f?this.pixelRatio:null;g&&n.set(e,f,g)}getBinding(e,n){return"u_pattern"===n||"u_dash"===n?new fm(e):new Ah(e)}}class $l{constructor(e,n,o,u){this.expression=e,this.type=o,this.maxValue=0,this.paintVertexAttributes=n.map(f=>({name:`a_${f}`,type:"Float32",components:"color"===o?2:1,offset:0})),this.paintVertexArray=new u}populatePaintArray(e,n,o,u,f,g){const M=this.paintVertexArray.length,L=this.expression.evaluate(new H(0),n,{},f,u,g);this.paintVertexArray.resize(e),this._setPaintValue(M,e,L)}updatePaintArray(e,n,o,u,f){const g=this.expression.evaluate({zoom:0},o,u,void 0,f);this._setPaintValue(e,n,g)}_setPaintValue(e,n,o){if("color"===this.type){const u=id(o);for(let f=e;f<n;f++)this.paintVertexArray.emplace(f,u[0],u[1])}else{for(let u=e;u<n;u++)this.paintVertexArray.emplace(u,o);this.maxValue=Math.max(this.maxValue,Math.abs(o))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class xl{constructor(e,n,o,u,f,g){this.expression=e,this.uniformNames=n.map(M=>`u_${M}_t`),this.type=o,this.useIntegerZoom=u,this.zoom=f,this.maxValue=0,this.paintVertexAttributes=n.map(M=>({name:`a_${M}`,type:"Float32",components:"color"===o?4:2,offset:0})),this.paintVertexArray=new g}populatePaintArray(e,n,o,u,f,g){const M=this.expression.evaluate(new H(this.zoom),n,{},f,u,g),L=this.expression.evaluate(new H(this.zoom+1),n,{},f,u,g),E=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(E,e,M,L)}updatePaintArray(e,n,o,u,f){const g=this.expression.evaluate({zoom:this.zoom},o,u,void 0,f),M=this.expression.evaluate({zoom:this.zoom+1},o,u,void 0,f);this._setPaintValue(e,n,g,M)}_setPaintValue(e,n,o,u){if("color"===this.type){const f=id(o),g=id(u);for(let M=e;M<n;M++)this.paintVertexArray.emplace(M,f[0],f[1],g[0],g[1])}else{for(let f=e;f<n;f++)this.paintVertexArray.emplace(f,o,u);this.maxValue=Math.max(this.maxValue,Math.abs(o),Math.abs(u))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,n,o,u,f){const g=this.useIntegerZoom?Math.floor(o.zoom):o.zoom,M=ei(this.expression.interpolationFactor(g,this.zoom,this.zoom+1),0,1);n.set(e,f,M)}getBinding(e,n){return new Ah(e)}}class Vc{constructor(e,n,o,u,f){this.expression=e,this.layerId=f,this.paintVertexAttributes=("array"===o?jc:Zl).members;for(let g=0;g<n.length;++g);this.paintVertexArray=new u}populatePaintArray(e,n,o){const u=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValues(u,e,n.patterns&&n.patterns[this.layerId],o)}updatePaintArray(e,n,o,u,f,g){this._setPaintValues(e,n,o.patterns&&o.patterns[this.layerId],g)}_setPaintValues(e,n,o,u){if(!u||!o)return;const f=u[o];if(!f)return;const{tl:g,br:M,pixelRatio:L}=f;for(let E=e;E<n;E++)this.paintVertexArray.emplace(E,g[0],g[1],M[0],M[1],L)}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Uc{constructor(e,n,o=(()=>!0)){this.binders={},this._buffers=[];const u=[];for(const f in e.paint._values){if(!o(f))continue;const g=e.paint.get(f);if(!(g instanceof p&&ca(g.property.specification)))continue;const M=bm(f,e.type),L=g.value,E=g.property.specification.type,B=!!g.property.useIntegerZoom,V="line-dasharray"===f||f.endsWith("pattern"),Z="line-dasharray"===f&&"constant"!==e.layout.get("line-cap").value.kind;if("constant"!==L.kind||Z)if("source"===L.kind||Z||V){const ee=Op(f,E,"source");this.binders[f]=V?new Vc(L,M,E,ee,e.id):new $l(L,M,E,ee),u.push(`/a_${f}`)}else{const ee=Op(f,E,"composite");this.binders[f]=new xl(L,M,E,B,n,ee),u.push(`/z_${f}`)}else this.binders[f]=V?new Hc(L.value,M):new nd(L.value,M,E),u.push(`/u_${f}`)}this.cacheKey=u.sort().join("")}getMaxValue(e){const n=this.binders[e];return n instanceof $l||n instanceof xl?n.maxValue:0}populatePaintArrays(e,n,o,u,f,g){for(const M in this.binders){const L=this.binders[M];(L instanceof $l||L instanceof xl||L instanceof Vc)&&L.populatePaintArray(e,n,o,u,f,g)}}setConstantPatternPositions(e){for(const n in this.binders){const o=this.binders[n];o instanceof Hc&&o.setConstantPatternPositions(e)}}updatePaintArrays(e,n,o,u,f,g){let M=!1;for(const L in e){const E=n.getPositions(L);for(const B of E){const V=o.feature(B.index);for(const Z in this.binders){const ee=this.binders[Z];if((ee instanceof $l||ee instanceof xl||ee instanceof Vc)&&!0===ee.expression.isStateDependent){const ne=u.paint.get(Z);ee.expression=ne.value,ee.updatePaintArray(B.start,B.end,V,e[L],f,g),M=!0}}}}return M}defines(){const e=[];for(const n in this.binders){const o=this.binders[n];(o instanceof nd||o instanceof Hc)&&e.push(...o.uniformNames.map(u=>`#define HAS_UNIFORM_${u}`))}return e}getBinderAttributes(){const e=[];for(const n in this.binders){const o=this.binders[n];if(o instanceof $l||o instanceof xl||o instanceof Vc)for(let u=0;u<o.paintVertexAttributes.length;u++)e.push(o.paintVertexAttributes[u].name)}return e}getBinderUniforms(){const e=[];for(const n in this.binders){const o=this.binders[n];if(o instanceof nd||o instanceof Hc||o instanceof xl)for(const u of o.uniformNames)e.push(u)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e){const n=[];for(const o in this.binders){const u=this.binders[o];if(u instanceof nd||u instanceof Hc||u instanceof xl)for(const f of u.uniformNames)n.push({name:f,property:o,binding:u.getBinding(e,f)})}return n}setUniforms(e,n,o,u,f){for(const{name:g,property:M,binding:L}of o)this.binders[M].setUniform(e,L,f,u.get(M),g)}updatePaintBuffers(){this._buffers=[];for(const e in this.binders){const n=this.binders[e];(n instanceof $l||n instanceof xl||n instanceof Vc)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}upload(e){for(const n in this.binders){const o=this.binders[n];(o instanceof $l||o instanceof xl||o instanceof Vc)&&o.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const n=this.binders[e];(n instanceof $l||n instanceof xl||n instanceof Vc)&&n.destroy()}}}class wl{constructor(e,n,o=(()=>!0)){this.programConfigurations={};for(const u of e)this.programConfigurations[u.id]=new Uc(u,n,o);this.needsUpload=!1,this._featureMap=new Tu,this._bufferOffset=0}populatePaintArrays(e,n,o,u,f,g,M){for(const L in this.programConfigurations)this.programConfigurations[L].populatePaintArrays(e,n,u,f,g,M);void 0!==n.id&&this._featureMap.add(n.id,o,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,n,o,u,f){for(const g of o)this.needsUpload=this.programConfigurations[g.id].updatePaintArrays(e,this._featureMap,n,g,u,f)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const n in this.programConfigurations)this.programConfigurations[n].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}const vm={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function bm(i,e){return vm[i]||[i.replace(`${e}-`,"").replace(/-/g,"_")]}const xm={"line-pattern":{source:je,composite:je},"fill-pattern":{source:je,composite:je},"fill-extrusion-pattern":{source:je,composite:je},"line-dasharray":{source:Ge,composite:Ge}},wm={color:{source:me,composite:Ze},number:{source:qt,composite:me}};function Op(i,e,n){const o=xm[i];return o&&o[n]||wm[e][n]}Bt(nd,"ConstantBinder"),Bt(Hc,"PatternConstantBinder"),Bt($l,"SourceExpressionBinder"),Bt(Vc,"PatternCompositeBinder"),Bt(xl,"CompositeExpressionBinder"),Bt(Uc,"ProgramConfiguration",{omit:["_buffers"]}),Bt(wl,"ProgramConfigurationSet");const Rp="-transition";class Ml extends Pa{constructor(e,n){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),n.layout&&(this._unevaluatedLayout=new d(n.layout)),n.paint)){this._transitionablePaint=new ae(n.paint);for(const o in e.paint)this.setPaintProperty(o,e.paint[o],{validate:!1});for(const o in e.layout)this.setLayoutProperty(o,e.layout[o],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new b(n.paint)}}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,n,o={}){null!=n&&this._validate(ou,`layers.${this.id}.layout.${e}`,e,n,o)||("visibility"!==e?this._unevaluatedLayout.setValue(e,n):this.visibility=n)}getPaintProperty(e){return Wn(e,Rp)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}setPaintProperty(e,n,o={}){if(null!=n&&this._validate(su,`layers.${this.id}.paint.${e}`,e,n,o))return!1;if(Wn(e,Rp))return this._transitionablePaint.setTransition(e.slice(0,-11),n||void 0),!1;{const u=this._transitionablePaint._values[e],f=u.value.isDataDriven(),g=u.value;this._transitionablePaint.setValue(e,n),this._handleSpecialPaintPropertyUpdate(e);const M=this._transitionablePaint._values[e].value,L=M.isDataDriven(),E=Wn(e,"pattern")||"line-dasharray"===e;return L||f||E||this._handleOverridablePaintPropertyUpdate(e,g,M)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,n,o){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,n){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,n)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,n)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),Ur(e,(n,o)=>!(void 0===n||"layout"===o&&!Object.keys(n).length||"paint"===o&&!Object.keys(n).length))}_validate(e,n,o,u,f={}){return(!f||!1!==f.validate)&&Fc(this,e.call(il,{key:n,layerType:this.type,objectKey:o,value:u,styleSpec:at,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const n=this.paint.get(e);if(n instanceof p&&ca(n.property.specification)&&("source"===n.value.kind||"composite"===n.value.kind)&&n.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=so(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Mm=ce([{name:"a_pos",components:2,type:"Int16"}],4),Tm=ce([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class kr{constructor(e=[]){this.segments=e}prepareSegment(e,n,o,u){let f=this.segments[this.segments.length-1];return e>kr.MAX_VERTEX_ARRAY_LENGTH&&Pi(`Max vertices per segment is ${kr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!f||f.vertexLength+e>kr.MAX_VERTEX_ARRAY_LENGTH||f.sortKey!==u)&&(f={vertexOffset:n.length,primitiveOffset:o.length,vertexLength:0,primitiveLength:0},void 0!==u&&(f.sortKey=u),this.segments.push(f)),f}get(){return this.segments}destroy(){for(const e of this.segments)for(const n in e.vaos)e.vaos[n].destroy()}static simpleSegment(e,n,o,u){return new kr([{vertexOffset:e,primitiveOffset:n,vertexLength:o,primitiveLength:u,vaos:{},sortKey:0}])}}kr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Bt(kr,"SegmentVector");var Jt=8192;class Wc{constructor(e,n){e&&(n?this.setSouthWest(e).setNorthEast(n):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof Cn?new Cn(e.lng,e.lat):Cn.convert(e),this}setSouthWest(e){return this._sw=e instanceof Cn?new Cn(e.lng,e.lat):Cn.convert(e),this}extend(e){const n=this._sw,o=this._ne;let u,f;if(e instanceof Cn)u=e,f=e;else{if(!(e instanceof Wc))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(Wc.convert(e)):this.extend(Cn.convert(e)):"object"==typeof e&&null!==e&&e.hasOwnProperty("lat")&&(e.hasOwnProperty("lon")||e.hasOwnProperty("lng"))?this.extend(Cn.convert(e)):this;if(u=e._sw,f=e._ne,!u||!f)return this}return n||o?(n.lng=Math.min(u.lng,n.lng),n.lat=Math.min(u.lat,n.lat),o.lng=Math.max(f.lng,o.lng),o.lat=Math.max(f.lat,o.lat)):(this._sw=new Cn(u.lng,u.lat),this._ne=new Cn(f.lng,f.lat)),this}getCenter(){return new Cn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Cn(this.getWest(),this.getNorth())}getSouthEast(){return new Cn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:n,lat:o}=Cn.convert(e);let u=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(u=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=o&&o<=this._ne.lat&&u}static convert(e){return!e||e instanceof Wc?e:new Wc(e)}}var Nd=1e-6,Io="undefined"!=typeof Float32Array?Float32Array:Array;function rd(){var i=new Io(9);return Io!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[5]=0,i[6]=0,i[7]=0),i[0]=1,i[4]=1,i[8]=1,i}function Fp(i,e,n){var o=e[0],u=e[1],f=e[2],g=e[3],M=e[4],L=e[5],E=e[6],B=e[7],V=e[8],Z=n[0],ee=n[1],ne=n[2],le=n[3],_e=n[4],xe=n[5],Se=n[6],we=n[7],Le=n[8];return i[0]=Z*o+ee*g+ne*E,i[1]=Z*u+ee*M+ne*B,i[2]=Z*f+ee*L+ne*V,i[3]=le*o+_e*g+xe*E,i[4]=le*u+_e*M+xe*B,i[5]=le*f+_e*L+xe*V,i[6]=Se*o+we*g+Le*E,i[7]=Se*u+we*M+Le*B,i[8]=Se*f+we*L+Le*V,i}function Ka(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function uu(i,e){var n=e[0],o=e[1],u=e[2],f=e[3],g=e[4],M=e[5],L=e[6],E=e[7],B=e[8],V=e[9],Z=e[10],ee=e[11],ne=e[12],le=e[13],_e=e[14],xe=e[15],Se=n*M-o*g,we=n*L-u*g,Le=n*E-f*g,Ie=o*L-u*M,Pe=o*E-f*M,Qe=u*E-f*L,$e=B*le-V*ne,dt=B*_e-Z*ne,Tt=B*xe-ee*ne,it=V*_e-Z*le,mt=V*xe-ee*le,ft=Z*xe-ee*_e,xt=Se*ft-we*mt+Le*it+Ie*Tt-Pe*dt+Qe*$e;return xt?(i[0]=(M*ft-L*mt+E*it)*(xt=1/xt),i[1]=(u*mt-o*ft-f*it)*xt,i[2]=(le*Qe-_e*Pe+xe*Ie)*xt,i[3]=(Z*Pe-V*Qe-ee*Ie)*xt,i[4]=(L*Tt-g*ft-E*dt)*xt,i[5]=(n*ft-u*Tt+f*dt)*xt,i[6]=(_e*Le-ne*Qe-xe*we)*xt,i[7]=(B*Qe-Z*Le+ee*we)*xt,i[8]=(g*mt-M*Tt+E*$e)*xt,i[9]=(o*Tt-n*mt-f*$e)*xt,i[10]=(ne*Pe-le*Le+xe*Se)*xt,i[11]=(V*Le-B*Pe-ee*Se)*xt,i[12]=(M*dt-g*it-L*$e)*xt,i[13]=(n*it-o*dt+u*$e)*xt,i[14]=(le*we-ne*Ie-_e*Se)*xt,i[15]=(B*Ie-V*we+Z*Se)*xt,i):null}function du(i,e,n){var o=e[0],u=e[1],f=e[2],g=e[3],M=e[4],L=e[5],E=e[6],B=e[7],V=e[8],Z=e[9],ee=e[10],ne=e[11],le=e[12],_e=e[13],xe=e[14],Se=e[15],we=n[0],Le=n[1],Ie=n[2],Pe=n[3];return i[0]=we*o+Le*M+Ie*V+Pe*le,i[1]=we*u+Le*L+Ie*Z+Pe*_e,i[2]=we*f+Le*E+Ie*ee+Pe*xe,i[3]=we*g+Le*B+Ie*ne+Pe*Se,i[4]=(we=n[4])*o+(Le=n[5])*M+(Ie=n[6])*V+(Pe=n[7])*le,i[5]=we*u+Le*L+Ie*Z+Pe*_e,i[6]=we*f+Le*E+Ie*ee+Pe*xe,i[7]=we*g+Le*B+Ie*ne+Pe*Se,i[8]=(we=n[8])*o+(Le=n[9])*M+(Ie=n[10])*V+(Pe=n[11])*le,i[9]=we*u+Le*L+Ie*Z+Pe*_e,i[10]=we*f+Le*E+Ie*ee+Pe*xe,i[11]=we*g+Le*B+Ie*ne+Pe*Se,i[12]=(we=n[12])*o+(Le=n[13])*M+(Ie=n[14])*V+(Pe=n[15])*le,i[13]=we*u+Le*L+Ie*Z+Pe*_e,i[14]=we*f+Le*E+Ie*ee+Pe*xe,i[15]=we*g+Le*B+Ie*ne+Pe*Se,i}function ad(i,e,n){var o,u,f,g,M,L,E,B,V,Z,ee,ne,le=n[0],_e=n[1],xe=n[2];return e===i?(i[12]=e[0]*le+e[4]*_e+e[8]*xe+e[12],i[13]=e[1]*le+e[5]*_e+e[9]*xe+e[13],i[14]=e[2]*le+e[6]*_e+e[10]*xe+e[14],i[15]=e[3]*le+e[7]*_e+e[11]*xe+e[15]):(u=e[1],f=e[2],g=e[3],M=e[4],L=e[5],E=e[6],B=e[7],V=e[8],Z=e[9],ee=e[10],ne=e[11],i[0]=o=e[0],i[1]=u,i[2]=f,i[3]=g,i[4]=M,i[5]=L,i[6]=E,i[7]=B,i[8]=V,i[9]=Z,i[10]=ee,i[11]=ne,i[12]=o*le+M*_e+V*xe+e[12],i[13]=u*le+L*_e+Z*xe+e[13],i[14]=f*le+E*_e+ee*xe+e[14],i[15]=g*le+B*_e+ne*xe+e[15]),i}function hu(i,e,n){var o=n[0],u=n[1],f=n[2];return i[0]=e[0]*o,i[1]=e[1]*o,i[2]=e[2]*o,i[3]=e[3]*o,i[4]=e[4]*u,i[5]=e[5]*u,i[6]=e[6]*u,i[7]=e[7]*u,i[8]=e[8]*f,i[9]=e[9]*f,i[10]=e[10]*f,i[11]=e[11]*f,i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15],i}function Ih(i,e,n){var o=Math.sin(n),u=Math.cos(n),f=e[4],g=e[5],M=e[6],L=e[7],E=e[8],B=e[9],V=e[10],Z=e[11];return e!==i&&(i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]),i[4]=f*u+E*o,i[5]=g*u+B*o,i[6]=M*u+V*o,i[7]=L*u+Z*o,i[8]=E*u-f*o,i[9]=B*u-g*o,i[10]=V*u-M*o,i[11]=Z*u-L*o,i}function Tl(i,e,n){var o=Math.sin(n),u=Math.cos(n),f=e[0],g=e[1],M=e[2],L=e[3],E=e[8],B=e[9],V=e[10],Z=e[11];return e!==i&&(i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]),i[0]=f*u-E*o,i[1]=g*u-B*o,i[2]=M*u-V*o,i[3]=L*u-Z*o,i[8]=f*o+E*u,i[9]=g*o+B*u,i[10]=M*o+V*u,i[11]=L*o+Z*u,i}function km(i,e){return i[0]=e[0],i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=e[1],i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=e[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function ku(i,e,n){var o,u,f,g=n[0],M=n[1],L=n[2],E=Math.hypot(g,M,L);return E<Nd?null:(g*=E=1/E,M*=E,L*=E,o=Math.sin(e),u=Math.cos(e),i[0]=g*g*(f=1-u)+u,i[1]=M*g*f+L*o,i[2]=L*g*f-M*o,i[3]=0,i[4]=g*M*f-L*o,i[5]=M*M*f+u,i[6]=L*M*f+g*o,i[7]=0,i[8]=g*L*f+M*o,i[9]=M*L*f-g*o,i[10]=L*L*f+u,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i)}Math.hypot||(Math.hypot=function(){for(var i=0,e=arguments.length;e--;)i+=arguments[e]*arguments[e];return Math.sqrt(i)});var Yp=du;function sd(){var i=new Io(3);return Io!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i}function Ws(i){var e=new Io(3);return e[0]=i[0],e[1]=i[1],e[2]=i[2],e}function Hd(i){return Math.hypot(i[0],i[1],i[2])}function kl(i,e,n){var o=new Io(3);return o[0]=i,o[1]=e,o[2]=n,o}function Xl(i,e,n){return i[0]=e[0]+n[0],i[1]=e[1]+n[1],i[2]=e[2]+n[2],i}function Vd(i,e,n){return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],i}function Du(i,e,n){return i[0]=e[0]*n[0],i[1]=e[1]*n[1],i[2]=e[2]*n[2],i}function od(i,e,n){return i[0]=Math.min(e[0],n[0]),i[1]=Math.min(e[1],n[1]),i[2]=Math.min(e[2],n[2]),i}function Gc(i,e,n){return i[0]=Math.max(e[0],n[0]),i[1]=Math.max(e[1],n[1]),i[2]=Math.max(e[2],n[2]),i}function ks(i,e,n){return i[0]=e[0]*n,i[1]=e[1]*n,i[2]=e[2]*n,i}function Dl(i,e,n,o){return i[0]=e[0]+n[0]*o,i[1]=e[1]+n[1]*o,i[2]=e[2]+n[2]*o,i}function Ds(i,e){var n=e[0],o=e[1],u=e[2],f=n*n+o*o+u*u;return f>0&&(f=1/Math.sqrt(f)),i[0]=e[0]*f,i[1]=e[1]*f,i[2]=e[2]*f,i}function Ll(i,e){return i[0]*e[0]+i[1]*e[1]+i[2]*e[2]}function ld(i,e,n){var o=e[0],u=e[1],f=e[2],g=n[0],M=n[1],L=n[2];return i[0]=u*L-f*M,i[1]=f*g-o*L,i[2]=o*M-u*g,i}function fr(i,e,n){var o=e[0],u=e[1],f=e[2],g=n[3]*o+n[7]*u+n[11]*f+n[15];return i[0]=(n[0]*o+n[4]*u+n[8]*f+n[12])/(g=g||1),i[1]=(n[1]*o+n[5]*u+n[9]*f+n[13])/g,i[2]=(n[2]*o+n[6]*u+n[10]*f+n[14])/g,i}function zp(i,e,n){var o=n[0],u=n[1],f=n[2],g=e[0],M=e[1],L=e[2],E=u*L-f*M,B=f*g-o*L,V=o*M-u*g,Z=u*V-f*B,ee=f*E-o*V,ne=o*B-u*E,le=2*n[3];return B*=le,V*=le,ee*=2,ne*=2,i[0]=g+(E*=le)+(Z*=2),i[1]=M+B+ee,i[2]=L+V+ne,i}var Lu,Qa=Vd,Ph=Du,Un=Hd;function ka(i,e,n){return i[0]=e[0]*n,i[1]=e[1]*n,i[2]=e[2]*n,i[3]=e[3]*n,i}function Sl(i,e){var n=e[0],o=e[1],u=e[2],f=e[3],g=n*n+o*o+u*u+f*f;return g>0&&(g=1/Math.sqrt(g)),i[0]=n*g,i[1]=o*g,i[2]=u*g,i[3]=f*g,i}function Su(i,e,n){var o=e[0],u=e[1],f=e[2],g=e[3];return i[0]=n[0]*o+n[4]*u+n[8]*f+n[12]*g,i[1]=n[1]*o+n[5]*u+n[9]*f+n[13]*g,i[2]=n[2]*o+n[6]*u+n[10]*f+n[14]*g,i[3]=n[3]*o+n[7]*u+n[11]*f+n[15]*g,i}function Dm(){var i=new Io(4);return Io!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i[3]=1,i}function Bp(i){return i[0]=0,i[1]=0,i[2]=0,i[3]=1,i}function Lm(i,e,n){n*=.5;var o=e[0],u=e[1],f=e[2],g=e[3],M=Math.sin(n),L=Math.cos(n);return i[0]=o*L+g*M,i[1]=u*L+f*M,i[2]=f*L-u*M,i[3]=g*L-o*M,i}function Jl(i,e,n){n*=.5;var o=e[0],u=e[1],f=e[2],g=e[3],M=Math.sin(n),L=Math.cos(n);return i[0]=o*L-f*M,i[1]=u*L+g*M,i[2]=f*L+o*M,i[3]=g*L-u*M,i}sd(),Lu=new Io(4),Io!=Float32Array&&(Lu[0]=0,Lu[1]=0,Lu[2]=0,Lu[3]=0);var Sm=Sl;sd(),kl(1,0,0),kl(0,1,0),Dm(),Dm(),rd();const Cm=ce([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:jp}=Cm,Em=ce([{name:"a_pos_3",components:3,type:"Int16"}]);var Ud=ce([{name:"a_pos",type:"Int16",components:2}]);class cd{constructor(e,n){this.pos=e,this.dir=n}intersectsPlane(e,n,o){const u=Ll(n,this.dir);if(Math.abs(u)<1e-6)return!1;const f=((e[0]-this.pos[0])*n[0]+(e[1]-this.pos[1])*n[1]+(e[2]-this.pos[2])*n[2])/u;return o[0]=this.pos[0]+this.dir[0]*f,o[1]=this.pos[1]+this.dir[1]*f,o[2]=this.pos[2]+this.dir[2]*f,!0}closestPointOnSphere(e,n,o){if(le=(ee=this.pos)[0],_e=ee[1],xe=ee[2],Se=(ne=e)[0],we=ne[1],Le=ne[2],Math.abs(le-Se)<=Nd*Math.max(1,Math.abs(le),Math.abs(Se))&&Math.abs(_e-we)<=Nd*Math.max(1,Math.abs(_e),Math.abs(we))&&Math.abs(xe-Le)<=Nd*Math.max(1,Math.abs(xe),Math.abs(Le))||0===n)return o[0]=o[1]=o[2]=0,!1;var ee,ne,le,_e,xe,Se,we,Le;const[u,f,g]=this.dir,M=this.pos[0]-e[0],L=this.pos[1]-e[1],E=this.pos[2]-e[2],B=u*u+f*f+g*g,V=2*(M*u+L*f+E*g),Z=V*V-4*B*(M*M+L*L+E*E-n*n);if(Z<0){const ee=Math.max(-V/2,0),ne=M+u*ee,le=L+f*ee,_e=E+g*ee,xe=Math.hypot(ne,le,_e);return o[0]=ne*n/xe,o[1]=le*n/xe,o[2]=_e*n/xe,!1}{const ee=(-V-Math.sqrt(Z))/(2*B);if(ee<0){const ne=Math.hypot(M,L,E);return o[0]=M*n/ne,o[1]=L*n/ne,o[2]=E*n/ne,!1}return o[0]=M+u*ee,o[1]=L+f*ee,o[2]=E+g*ee,!0}}}class Cl{constructor(e,n,o,u,f){this.TL=e,this.TR=n,this.BR=o,this.BL=u,this.horizon=f}static fromInvProjectionMatrix(e,n,o){const u=[-1,1,1],f=[1,1,1],g=[1,-1,1],M=[-1,-1,1],L=fr(u,u,e),E=fr(f,f,e),B=fr(g,g,e),V=fr(M,M,e);return new Cl(L,E,B,V,n/o)}}class Cu{constructor(e,n){this.points=e,this.planes=n}static fromInvProjectionMatrix(e,n,o,u){const f=Math.pow(2,o),g=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(L=>{const E=Su([],L,e),B=1/E[3]/n*f;return(V=E)[0]=(Z=E)[0]*(ee=[B,B,u?1/E[3]:B,B])[0],V[1]=Z[1]*ee[1],V[2]=Z[2]*ee[2],V[3]=Z[3]*ee[3],V;var V,Z,ee}),M=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(L=>{const E=Ds([],ld([],Qa([],g[L[0]],g[L[1]]),Qa([],g[L[2]],g[L[1]]))),B=-Ll(E,g[L[1]]);return E.concat(B)});return new Cu(g,M)}}class da{static fromPoints(e){const n=[1/0,1/0,1/0],o=[-1/0,-1/0,-1/0];for(const u of e)od(n,n,u),Gc(o,o,u);return new da(n,o)}static applyTransform(e,n){const o=e.getCorners();for(let u=0;u<o.length;++u)fr(o[u],o[u],n);return da.fromPoints(o)}constructor(e,n){this.min=e,this.max=n,this.center=ks([],Xl([],this.min,this.max),.5)}quadrant(e){const n=[e%2==0,e<2],o=Ws(this.min),u=Ws(this.max);for(let f=0;f<n.length;f++)o[f]=n[f]?this.min[f]:this.center[f],u[f]=n[f]?this.center[f]:this.max[f];return u[2]=this.max[2],new da(o,u)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}getCorners(){const e=this.min,n=this.max;return[[e[0],e[1],e[2]],[n[0],e[1],e[2]],[n[0],n[1],e[2]],[e[0],n[1],e[2]],[e[0],e[1],n[2]],[n[0],e[1],n[2]],[n[0],n[1],n[2]],[e[0],n[1],n[2]]]}intersects(e){const n=this.getCorners();let o=!0;for(let u=0;u<e.planes.length;u++){const f=e.planes[u];let g=0;for(let M=0;M<n.length;M++)g+=Ll(f,n[M])+f[3]>=0;if(0===g)return 0;g!==n.length&&(o=!1)}if(o)return 2;for(let u=0;u<3;u++){let f=Number.MAX_VALUE,g=-Number.MAX_VALUE;for(let M=0;M<e.points.length;M++){const L=e.points[M][u]-this.min[u];f=Math.min(f,L),g=Math.max(g,L)}if(g<0||f>this.max[u]-this.min[u])return 0}return 1}}const Gs=Jt/Math.PI/2,al=[64,32,16],El=-Gs,Al=Gs,Tg=[new da([El,El,El],[Al,Al,Al]),new da([El,El,El],[0,0,Al]),new da([0,El,El],[Al,0,Al]),new da([El,0,El],[0,Al,Al]),new da([0,0,El],[Al,Al,Al])];function Oh(i){return i*Gs/Zd}function Np(i,e,n,o=!0){const u=ks([],i._camera.position,i.worldSize),f=[e,n,1,1];Su(f,f,i.pixelMatrixInverse),ka(f,f,1/f[3]);const g=Ds([],Qa([],f,u)),M=i.globeMatrix,L=[M[12],M[13],M[14]],E=Qa([],L,u),B=Hd(E),V=Ds([],E),Z=i.worldSize/(2*Math.PI),ee=Ll(V,g),ne=Math.asin(Z/B);if(ne<Math.acos(ee)){if(!o)return null;const Tt=[],it=[];ks(Tt,g,B/ee),Ds(it,Qa(it,Tt,E)),Ds(g,Xl(g,E,ks(g,it,Math.tan(ne)*B)))}const le=[];new cd(u,g).closestPointOnSphere(L,Z,le);const _e=Ds([],zi(M,0)),xe=Ds([],zi(M,1)),Se=Ds([],zi(M,2)),we=Ll(_e,le),Le=Ll(xe,le),Ie=Ll(Se,le),Pe=Wt(Math.asin(-Le/Z));let Qe=Wt(Math.atan2(we,Ie));Qe=i.center.lng+function(Tt,it){const mt=(it-Tt+180)%360-180;return mt<-180?mt+360:mt}(i.center.lng,Qe);const $e=bc(Qe),dt=ei(xc(Pe),0,1);return new fd($e,dt)}class kg{constructor(e,n,o){this.a=Qa([],e,o),this.b=Qa([],n,o),this.center=o;const u=Ds([],this.a),f=Ds([],this.b);this.angle=Math.acos(Ll(u,f))}}function Hp(i,e){if(0===i.angle)return null;let n;return n=0===i.a[e]?1/i.angle*.5*Math.PI:1/i.angle*Math.atan(i.b[e]/i.a[e]/Math.sin(i.angle)-1/Math.tan(i.angle)),n<0||n>1?null:function(o,u,f,g){const M=Math.sin(f);return o*(Math.sin((1-g)*f)/M)+u*(Math.sin(g*f)/M)}(i.a[e],i.b[e],i.angle,ei(n,0,1))+i.center[e]}function vc(i){if(i.z<=1)return Tg[i.z+2*i.y+i.x];const e=Fh(Rh(i));return da.fromPoints(e)}function Au(i,e,n){return ks(i,i,1-n),Dl(i,i,e,n)}function Am(i,e){const n=pd(e.zoom);if(0===n)return vc(i);const o=Rh(i),u=Fh(o),f=bc(o.getWest())*e.worldSize,g=bc(o.getEast())*e.worldSize,M=xc(o.getNorth())*e.worldSize,L=xc(o.getSouth())*e.worldSize,E=[f,M,0],B=[g,M,0],V=[f,L,0],Z=[g,L,0],ee=uu([],e.globeMatrix);return fr(E,E,ee),fr(B,B,ee),fr(V,V,ee),fr(Z,Z,ee),u[0]=Au(u[0],V,n),u[1]=Au(u[1],Z,n),u[2]=Au(u[2],B,n),u[3]=Au(u[3],E,n),da.fromPoints(u)}function Im(i,e,n){for(const o of i)fr(o,o,e),ks(o,o,n)}function Rh({x:i,y:e,z:n}){const o=1/(1<<n),u=new Cn(sl(i*o),es((e+1)*o)),f=new Cn(sl((i+1)*o),es(e*o));return new Wc(u,f)}function Fh(i){const e=kt(i.getNorth()),n=kt(i.getSouth()),o=Math.cos(e),u=Math.cos(n),f=Math.sin(e),g=Math.sin(n),M=i.getWest(),L=i.getEast();return[dd(u,g,M),dd(u,g,L),dd(o,f,L),dd(o,f,M)]}function dd(i,e,n,o=Gs){return n=kt(n),[i*Math.sin(n)*o,-e*o,i*Math.cos(n)*o]}function hd(i,e,n){return dd(Math.cos(kt(i)),Math.sin(kt(i)),e,n)}function Wd(i,e,n,o){const u=1<<n.z,f=(i/Jt+n.x)/u;return hd(es((e/Jt+n.y)/u),sl(f),o)}function Yh({min:i,max:e}){return 16383/Math.max(e[0]-i[0],e[1]-i[1],e[2]-i[2])}const zh=new Float64Array(16);function Gd(i){const e=Yh(i),n=km(zh,[e,e,e]);return ad(n,n,((o=[])[0]=-(u=i.min)[0],o[1]=-u[1],o[2]=-u[2],o));var o,u}function Vp(i){const e=(o=i.min,(n=zh)[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=o[0],n[13]=o[1],n[14]=o[2],n[15]=1,n);var n,o;const u=1/Yh(i);return hu(e,e,[u,u,u])}function Pm(i,e,n,o,u){const f=function(L){const E=Jt/(2*Math.PI);return L/(2*Math.PI)/E}(n),g=[i,e,-n/(2*Math.PI)],M=Ka(new Float64Array(16));return ad(M,M,g),hu(M,M,[f,f,f]),Ih(M,M,kt(-u)),Tl(M,M,kt(-o)),M}function pd(i){return Mn(5,6,i)}function Om(i,e){const n=hd(e.lat,e.lng);return g=(u=Vd([],function(ne){const le=hd(ne._center.lat,ne._center.lng);let _e=ld([],kl(0,1,0),le);const xe=ku([],-ne.angle,le);_e=fr(_e,_e,xe),ku(xe,-ne._pitch,_e);const Se=Ds([],le);return ks(Se,Se,Oh(ne.cameraToCenterDistance/ne.pixelsPerMeter)),fr(Se,Se,xe),Xl([],le,Se)}(i),n))[0],M=u[1],L=u[2],E=(f=n)[0],B=f[1],V=f[2],ee=(Z=Math.sqrt(g*g+M*M+L*L)*Math.sqrt(E*E+B*B+V*V))&&Ll(u,f)/Z,Math.acos(Math.min(Math.max(ee,-1),1));var u,f,g,M,L,E,B,V,Z,ee}function Up(i,e){return Om(i,e)>Math.PI/2*1.01}const Rm=kt(85),Lg=Math.cos(Rm),Sg=Math.sin(Rm),Zd=6371008.8,Fm=2*Math.PI*Zd;class pu{constructor(e,n){if(isNaN(e)||isNaN(n))throw new Error(`Invalid LngLat object: (${e}, ${n})`);if(this.lng=+e,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new pu(on(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const n=Math.PI/180,o=this.lat*n,u=e.lat*n,f=Math.sin(o)*Math.sin(u)+Math.cos(o)*Math.cos(u)*Math.cos((e.lng-this.lng)*n);return Zd*Math.acos(Math.min(f,1))}toBounds(e=0){const n=360*e/40075017,o=n/Math.cos(Math.PI/180*this.lat);return new Wc(new pu(this.lng-o,this.lat-n),new pu(this.lng+o,this.lat+n))}toEcef(e){const n=Oh(e);return hd(this.lat,this.lng,Gs+n)}static convert(e){if(e instanceof pu)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new pu(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new pu(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var Cn=pu;function Wp(i){return Fm*Math.cos(i*Math.PI/180)}function bc(i){return(180+i)/360}function xc(i){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i*Math.PI/360)))/360}function Kl(i,e){return i/Wp(e)}function sl(i){return 360*i-180}function es(i){return 360/Math.PI*Math.atan(Math.exp((180-360*i)*Math.PI/180))-90}function Ym(i,e){return i*Wp(es(e))}const ts=85.051129;function zm(i){return 1/Math.cos(i*Math.PI/180)}class fd{constructor(e,n,o=0){this.x=+e,this.y=+n,this.z=+o}static fromLngLat(e,n=0){const o=Cn.convert(e);return new fd(bc(o.lng),xc(o.lat),Kl(n,o.lat))}toLngLat(){return new Cn(sl(this.x),es(this.y))}toAltitude(){return Ym(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Fm*zm(es(this.y))}}function Gp(i,e,n,o,u,f,g,M,L){const E=(e+o)/2,B=(n+u)/2,V=new He(E,B);M(V),function(Z,ee,ne,le,_e,xe){const Se=ne-_e,we=le-xe;return Math.abs((le-ee)*Se-(ne-Z)*we)/Math.hypot(Se,we)}(V.x,V.y,f.x,f.y,g.x,g.y)>=L?(Gp(i,e,n,E,B,f,V,M,L),Gp(i,E,B,o,u,V,g,M,L)):i.push(g)}function Zp(i,e,n){let o=i[0],u=o.x,f=o.y;e(o);const g=[o];for(let M=1;M<i.length;M++){const L=i[M],{x:E,y:B}=L;e(L),Gp(g,u,f,E,B,o,L,e,n),u=E,f=B,o=L}return g}function Bh(i,e,n,o){if(o(e,n)){const u=e.add(n)._mult(.5);Bh(i,e,u,o),Bh(i,u,n,o)}else i.push(n)}function Cg(i,e){let n=i[0];const o=[n];for(let u=1;u<i.length;u++){const f=i[u];Bh(o,n,f,e),n=f}return o}const qp=Math.pow(2,14)-1,Bm=-qp-1;function Eg(i,e){const n=Math.round(i.x*e),o=Math.round(i.y*e);return i.x=ei(n,Bm,qp),i.y=ei(o,Bm,qp),(n<i.x||n>i.x+1||o<i.y||o>i.y+1)&&Pi("Geometry exceeds allowed extent, reduce your vector tile buffer size"),i}function qc(i,e,n){const o=i.loadGeometry(),u=i.extent,f=Jt/u;if(e&&n&&n.projection.isReprojectedInTileSpace){const g=1<<e.z,{scale:M,x:L,y:E,projection:B}=n,V=Z=>{const ee=sl((e.x+Z.x/u)/g),ne=es((e.y+Z.y/u)/g),le=B.project(ee,ne);Z.x=(le.x*M-L)*u,Z.y=(le.y*M-E)*u};for(let Z=0;Z<o.length;Z++)if(1!==i.type)o[Z]=Zp(o[Z],V,1);else{const ee=[];for(const ne of o[Z])ne.x<0||ne.x>=u||ne.y<0||ne.y>=u||(V(ne),ee.push(ne));o[Z]=ee}}for(const g of o)for(const M of g)Eg(M,f);return o}function Iu(i,e){return{type:i.type,id:i.id,properties:i.properties,geometry:e?qc(i):[]}}function jh(i,e,n,o,u){i.emplaceBack(2*e+(o+1)/2,2*n+(u+1)/2)}function Nh(i,e,n){i.emplaceBack(e.x,e.y,e.z,16384*n[0],16384*n[1],16384*n[2])}class $p{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(n=>n.id),this.index=e.index,this.hasPattern=!1,this.projection=e.projection,this.layoutVertexArray=new ve,this.indexArray=new jt,this.segments=new kr,this.programConfigurations=new wl(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id)}populate(e,n,o,u){const f=this.layers[0],g=[];let M=null;"circle"===f.type&&(M=f.layout.get("circle-sort-key"));for(const{feature:E,id:B,index:V,sourceLayerIndex:Z}of e){const ee=this.layers[0]._featureFilter.needGeometry,ne=Iu(E,ee);if(!this.layers[0]._featureFilter.filter(new H(this.zoom),ne,o))continue;const le=M?M.evaluate(ne,{},o):void 0,_e={id:B,properties:E.properties,type:E.type,sourceLayerIndex:Z,index:V,geometry:ee?ne.geometry:qc(E,o,u),patterns:{},sortKey:le};g.push(_e)}M&&g.sort((E,B)=>E.sortKey-B.sortKey);let L=null;"globe"===u.projection.name&&(this.globeExtVertexArray=new lt,L=u.projection);for(const E of g){const{geometry:B,index:V,sourceLayerIndex:Z}=E,ee=e[V].feature;this.addFeature(E,B,V,n.availableImages,o,L),n.featureIndex.insert(ee,B,V,Z,this.index)}}update(e,n,o,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,n,this.stateDependentLayers,o,u)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Mm.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,Tm.members))),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(e,n,o,u,f,g){for(const M of n)for(const L of M){const E=L.x,B=L.y;if(E<0||E>=Jt||B<0||B>=Jt)continue;if(g){const ee=g.projectTilePoint(E,B,f),ne=g.upVector(f,E,B),le=this.globeExtVertexArray;Nh(le,ee,ne),Nh(le,ee,ne),Nh(le,ee,ne),Nh(le,ee,ne)}const V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),Z=V.vertexLength;jh(this.layoutVertexArray,E,B,-1,-1),jh(this.layoutVertexArray,E,B,1,-1),jh(this.layoutVertexArray,E,B,1,1),jh(this.layoutVertexArray,E,B,-1,1),this.indexArray.emplaceBack(Z,Z+1,Z+2),this.indexArray.emplaceBack(Z,Z+2,Z+3),V.vertexLength+=4,V.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,{},u,f)}}function jm(i,e){for(let n=0;n<i.length;n++)if(Pu(e,i[n]))return!0;for(let n=0;n<e.length;n++)if(Pu(i,e[n]))return!0;return!!Xp(i,e)}function Ag(i,e,n){return!!Pu(i,e)||!!Jp(e,i,n)}function Nm(i,e){if(1===i.length)return Vm(e,i[0]);for(let n=0;n<e.length;n++){const o=e[n];for(let u=0;u<o.length;u++)if(Pu(i,o[u]))return!0}for(let n=0;n<i.length;n++)if(Vm(e,i[n]))return!0;for(let n=0;n<e.length;n++)if(Xp(i,e[n]))return!0;return!1}function Ig(i,e,n){if(i.length>1){if(Xp(i,e))return!0;for(let o=0;o<e.length;o++)if(Jp(e[o],i,n))return!0}for(let o=0;o<i.length;o++)if(Jp(i[o],e,n))return!0;return!1}function Xp(i,e){if(0===i.length||0===e.length)return!1;for(let n=0;n<i.length-1;n++){const o=i[n],u=i[n+1];for(let f=0;f<e.length-1;f++)if(Pg(o,u,e[f],e[f+1]))return!0}return!1}function Pg(i,e,n,o){return er(i,n,o)!==er(e,n,o)&&er(i,e,n)!==er(i,e,o)}function Jp(i,e,n){const o=n*n;if(1===e.length)return i.distSqr(e[0])<o;for(let u=1;u<e.length;u++)if(Hm(i,e[u-1],e[u])<o)return!0;return!1}function Hm(i,e,n){const o=e.distSqr(n);if(0===o)return i.distSqr(e);const u=((i.x-e.x)*(n.x-e.x)+(i.y-e.y)*(n.y-e.y))/o;return i.distSqr(u<0?e:u>1?n:n.sub(e)._mult(u)._add(e))}function Vm(i,e){let n,o,u,f=!1;for(let g=0;g<i.length;g++){n=i[g];for(let M=0,L=n.length-1;M<n.length;L=M++)o=n[M],u=n[L],o.y>e.y!=u.y>e.y&&e.x<(u.x-o.x)*(e.y-o.y)/(u.y-o.y)+o.x&&(f=!f)}return f}function Pu(i,e){let n=!1;for(let o=0,u=i.length-1;o<i.length;u=o++){const f=i[o],g=i[u];f.y>e.y!=g.y>e.y&&e.x<(g.x-f.x)*(e.y-f.y)/(g.y-f.y)+f.x&&(n=!n)}return n}function Um(i,e,n,o,u){for(const g of i)if(e<=g.x&&n<=g.y&&o>=g.x&&u>=g.y)return!0;const f=[new He(e,n),new He(e,u),new He(o,u),new He(o,n)];if(i.length>2)for(const g of f)if(Pu(i,g))return!0;for(let g=0;g<i.length-1;g++)if(Og(i[g],i[g+1],f))return!0;return!1}function Og(i,e,n){const o=n[0],u=n[2];if(i.x<o.x&&e.x<o.x||i.x>u.x&&e.x>u.x||i.y<o.y&&e.y<o.y||i.y>u.y&&e.y>u.y)return!1;const f=er(i,e,n[0]);return f!==er(i,e,n[1])||f!==er(i,e,n[2])||f!==er(i,e,n[3])}function md(i,e,n){const o=e.paint.get(i).value;return"constant"===o.kind?o.value:n.programConfigurations.get(e.id).getMaxValue(i)}function Hh(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function Wm(i,e,n,o,u){if(!e[0]&&!e[1])return i;const f=He.convert(e)._mult(u);"viewport"===n&&f._rotate(-o);const g=[];for(let M=0;M<i.length;M++)g.push(i[M].sub(f));return g}function Gm(i,e,n,o){const u=He.convert(i)._mult(o);return"viewport"===e&&u._rotate(-n),u}Bt($p,"CircleBucket",{omit:["layers"]});const Rg=new C({"circle-sort-key":new D(at.layout_circle["circle-sort-key"])});var Fg={paint:new C({"circle-radius":new D(at.paint_circle["circle-radius"]),"circle-color":new D(at.paint_circle["circle-color"]),"circle-blur":new D(at.paint_circle["circle-blur"]),"circle-opacity":new D(at.paint_circle["circle-opacity"]),"circle-translate":new w(at.paint_circle["circle-translate"]),"circle-translate-anchor":new w(at.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new w(at.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new w(at.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new D(at.paint_circle["circle-stroke-width"]),"circle-stroke-color":new D(at.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new D(at.paint_circle["circle-stroke-opacity"])}),layout:Rg};function Zm(i,e,n,o,u,f,g,M,L){if(f&&i.queryGeometry.isAboveHorizon)return!1;f&&(L*=i.pixelToTileUnitsFactor);const E=i.tileID.canonical,B=n.projection.upVectorScale(E,n.center.lat,n.worldSize).metersToTile;for(const V of e)for(const Z of V){const ee=Z.add(M),ne=u&&n.elevation?n.elevation.exaggeration()*u.getElevationAt(ee.x,ee.y,!0):0,le=n.projection.projectTilePoint(ee.x,ee.y,E);if(ne>0){const we=n.projection.upVector(E,ee.x,ee.y);le.x+=we[0]*B*ne,le.y+=we[1]*B*ne,le.z+=we[2]*B*ne}const _e=f?ee:Yg(le.x,le.y,le.z,o),xe=f?i.tilespaceRays.map(we=>Bg(we,ne)):i.queryGeometry.screenGeometry,Se=Su([],[le.x,le.y,le.z,1],o);if(!g&&f?L*=Se[3]/n.cameraToCenterDistance:g&&!f&&(L*=n.cameraToCenterDistance/Se[3]),f){const we=es((Z.y/Jt+E.y)/(1<<E.z));L/=n.projection.pixelsPerMeter(we,1)/Kl(1,we)}if(Ag(xe,_e,L))return!0}return!1}function Yg(i,e,n,o){const u=Su([],[i,e,n,1],o);return new He(u[0]/u[3],u[1]/u[3])}const qm=kl(0,0,0),zg=kl(0,0,1);function Bg(i,e){const n=sd();return qm[2]=e,i.intersectsPlane(qm,zg,n),new He(n[0],n[1])}class $m extends $p{}function Xm(i,{width:e,height:n},o,u){if(u){if(u instanceof Uint8ClampedArray)u=new Uint8Array(u.buffer);else if(u.length!==e*n*o)throw new RangeError("mismatched image size")}else u=new Uint8Array(e*n*o);return i.width=e,i.height=n,i.data=u,i}function Jm(i,e,n){const{width:o,height:u}=e;o===i.width&&u===i.height||(Kp(i,e,{x:0,y:0},{x:0,y:0},{width:Math.min(i.width,o),height:Math.min(i.height,u)},n),i.width=o,i.height=u,i.data=e.data)}function Kp(i,e,n,o,u,f){if(0===u.width||0===u.height)return e;if(u.width>i.width||u.height>i.height||n.x>i.width-u.width||n.y>i.height-u.height)throw new RangeError("out of range source coordinates for image copy");if(u.width>e.width||u.height>e.height||o.x>e.width-u.width||o.y>e.height-u.height)throw new RangeError("out of range destination coordinates for image copy");const g=i.data,M=e.data;for(let L=0;L<u.height;L++){const E=((n.y+L)*i.width+n.x)*f,B=((o.y+L)*e.width+o.x)*f;for(let V=0;V<u.width*f;V++)M[B+V]=g[E+V]}return e}Bt($m,"HeatmapBucket",{omit:["layers"]});class $c{constructor(e,n){Xm(this,e,1,n)}resize(e){Jm(this,new $c(e),1)}clone(){return new $c({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,n,o,u,f){Kp(e,n,o,u,f,1)}}class Po{constructor(e,n){Xm(this,e,4,n)}resize(e){Jm(this,new Po(e),4)}replace(e,n){n?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new Po({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,n,o,u,f){Kp(e,n,o,u,f,4)}}Bt($c,"AlphaImage"),Bt(Po,"RGBAImage");var jg={paint:new C({"heatmap-radius":new D(at.paint_heatmap["heatmap-radius"]),"heatmap-weight":new D(at.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new w(at.paint_heatmap["heatmap-intensity"]),"heatmap-color":new O(at.paint_heatmap["heatmap-color"]),"heatmap-opacity":new w(at.paint_heatmap["heatmap-opacity"])})};function Qp(i){const e={},n=i.resolution||256,o=i.clips?i.clips.length:1,u=i.image||new Po({width:n,height:o}),f=(g,M,L)=>{e[i.evaluationKey]=L;const E=i.expression.evaluate(e);u.data[g+M+0]=Math.floor(255*E.r/E.a),u.data[g+M+1]=Math.floor(255*E.g/E.a),u.data[g+M+2]=Math.floor(255*E.b/E.a),u.data[g+M+3]=Math.floor(255*E.a)};if(i.clips)for(let g=0,M=0;g<o;++g,M+=4*n)for(let L=0,E=0;L<n;L++,E+=4){const B=L/(n-1),{start:V,end:Z}=i.clips[g];f(M,E,V*(1-B)+Z*B)}else for(let g=0,M=0;g<n;g++,M+=4)f(0,M,g/(n-1));return u}var Ng={paint:new C({"hillshade-illumination-direction":new w(at.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new w(at.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new w(at.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new w(at.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new w(at.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new w(at.paint_hillshade["hillshade-accent-color"])})};const Hg=ce([{name:"a_pos",components:2,type:"Int16"}],4),{members:Vg}=Hg;var ef={exports:{}};function Vh(i,e,n){n=n||2;var o,u,f,g,M,L,E,B=e&&e.length,V=B?e[0]*n:i.length,Z=Km(i,0,V,n,!0),ee=[];if(!Z||Z.next===Z.prev)return ee;if(B&&(Z=function(le,_e,xe,Se){var we,Le,Ie,Pe=[];for(we=0,Le=_e.length;we<Le;we++)(Ie=Km(le,_e[we]*Se,we<Le-1?_e[we+1]*Se:le.length,Se,!1))===Ie.next&&(Ie.steiner=!0),Pe.push(e_(Ie));for(Pe.sort(qg),we=0;we<Pe.length;we++)xe=Qm(Pe[we],xe);return xe}(i,e,Z,n)),i.length>80*n){o=f=i[0],u=g=i[1];for(var ne=n;ne<V;ne+=n)(M=i[ne])<o&&(o=M),(L=i[ne+1])<u&&(u=L),M>f&&(f=M),L>g&&(g=L);E=0!==(E=Math.max(f-o,g-u))?32767/E:0}return qd(Z,ee,n,o,u,E,0),ee}function Km(i,e,n,o,u){var f,g;if(u===_d(i,e,n,o)>0)for(f=e;f<n;f+=o)g=Uh(f,i[f],i[f+1],g);else for(f=n-o;f>=e;f-=o)g=Uh(f,i[f],i[f+1],g);return g&&$d(g,g.next)&&(is(g),g=g.next),g}function Ou(i,e){if(!i)return i;e||(e=i);var n,o=i;do{if(n=!1,o.steiner||!$d(o,o.next)&&0!==Dr(o.prev,o,o.next))o=o.next;else{if(is(o),(o=e=o.prev)===o.next)break;n=!0}}while(n||o!==e);return e}function qd(i,e,n,o,u,f,g){if(i){!g&&f&&function(B,V,Z,ee){var ne=B;do{0===ne.z&&(ne.z=Ru(ne.x,ne.y,V,Z,ee)),ne.prevZ=ne.prev,ne.nextZ=ne.next,ne=ne.next}while(ne!==B);ne.prevZ.nextZ=null,ne.prevZ=null,function(le){var _e,xe,Se,we,Le,Ie,Pe,Qe,$e=1;do{for(xe=le,le=null,Le=null,Ie=0;xe;){for(Ie++,Se=xe,Pe=0,_e=0;_e<$e&&(Pe++,Se=Se.nextZ);_e++);for(Qe=$e;Pe>0||Qe>0&&Se;)0!==Pe&&(0===Qe||!Se||xe.z<=Se.z)?(we=xe,xe=xe.nextZ,Pe--):(we=Se,Se=Se.nextZ,Qe--),Le?Le.nextZ=we:le=we,we.prevZ=Le,Le=we;xe=Se}Le.nextZ=null,$e*=2}while(Ie>1)}(ne)}(i,o,u,f);for(var M,L,E=i;i.prev!==i.next;)if(M=i.prev,L=i.next,f?Wg(i,o,u,f):Ug(i))e.push(M.i/n|0),e.push(i.i/n|0),e.push(L.i/n|0),is(i),i=L.next,E=L.next;else if((i=L)===E){g?1===g?qd(i=Gg(Ou(i),e,n),e,n,o,u,f,2):2===g&&Zg(i,e,n,o,u,f):qd(Ou(i),e,n,o,u,f,1);break}}}function Ug(i){var e=i.prev,n=i,o=i.next;if(Dr(e,n,o)>=0)return!1;for(var u=e.x,f=n.x,g=o.x,M=e.y,L=n.y,E=o.y,B=u<f?u<g?u:g:f<g?f:g,V=M<L?M<E?M:E:L<E?L:E,Z=u>f?u>g?u:g:f>g?f:g,ee=M>L?M>E?M:E:L>E?L:E,ne=o.next;ne!==e;){if(ne.x>=B&&ne.x<=Z&&ne.y>=V&&ne.y<=ee&&fu(u,M,f,L,g,E,ne.x,ne.y)&&Dr(ne.prev,ne,ne.next)>=0)return!1;ne=ne.next}return!0}function Wg(i,e,n,o){var u=i.prev,f=i,g=i.next;if(Dr(u,f,g)>=0)return!1;for(var M=u.x,L=f.x,E=g.x,B=u.y,V=f.y,Z=g.y,ee=M<L?M<E?M:E:L<E?L:E,ne=B<V?B<Z?B:Z:V<Z?V:Z,le=M>L?M>E?M:E:L>E?L:E,_e=B>V?B>Z?B:Z:V>Z?V:Z,xe=Ru(ee,ne,e,n,o),Se=Ru(le,_e,e,n,o),we=i.prevZ,Le=i.nextZ;we&&we.z>=xe&&Le&&Le.z<=Se;){if(we.x>=ee&&we.x<=le&&we.y>=ne&&we.y<=_e&&we!==u&&we!==g&&fu(M,B,L,V,E,Z,we.x,we.y)&&Dr(we.prev,we,we.next)>=0||(we=we.prevZ,Le.x>=ee&&Le.x<=le&&Le.y>=ne&&Le.y<=_e&&Le!==u&&Le!==g&&fu(M,B,L,V,E,Z,Le.x,Le.y)&&Dr(Le.prev,Le,Le.next)>=0))return!1;Le=Le.nextZ}for(;we&&we.z>=xe;){if(we.x>=ee&&we.x<=le&&we.y>=ne&&we.y<=_e&&we!==u&&we!==g&&fu(M,B,L,V,E,Z,we.x,we.y)&&Dr(we.prev,we,we.next)>=0)return!1;we=we.prevZ}for(;Le&&Le.z<=Se;){if(Le.x>=ee&&Le.x<=le&&Le.y>=ne&&Le.y<=_e&&Le!==u&&Le!==g&&fu(M,B,L,V,E,Z,Le.x,Le.y)&&Dr(Le.prev,Le,Le.next)>=0)return!1;Le=Le.nextZ}return!0}function Gg(i,e,n){var o=i;do{var u=o.prev,f=o.next.next;!$d(u,f)&&nf(u,o,o.next,f)&&co(u,f)&&co(f,u)&&(e.push(u.i/n|0),e.push(o.i/n|0),e.push(f.i/n|0),is(o),is(o.next),o=i=f),o=o.next}while(o!==i);return Ou(o)}function Zg(i,e,n,o,u,f){var g=i;do{for(var M=g.next.next;M!==g.prev;){if(g.i!==M.i&&tf(g,M)){var L=rf(g,M);return g=Ou(g,g.next),L=Ou(L,L.next),qd(g,e,n,o,u,f,0),void qd(L,e,n,o,u,f,0)}M=M.next}g=g.next}while(g!==i)}function qg(i,e){return i.x-e.x}function Qm(i,e){var n=function(u,f){var g,M=f,L=u.x,E=u.y,B=-1/0;do{if(E<=M.y&&E>=M.next.y&&M.next.y!==M.y){var V=M.x+(E-M.y)*(M.next.x-M.x)/(M.next.y-M.y);if(V<=L&&V>B&&(B=V,g=M.x<M.next.x?M:M.next,V===L))return g}M=M.next}while(M!==f);if(!g)return null;var Z,ee=g,ne=g.x,le=g.y,_e=1/0;M=g;do{L>=M.x&&M.x>=ne&&L!==M.x&&fu(E<le?L:B,E,ne,le,E<le?B:L,E,M.x,M.y)&&(Z=Math.abs(E-M.y)/(L-M.x),co(M,u)&&(Z<_e||Z===_e&&(M.x>g.x||M.x===g.x&&Xc(g,M)))&&(g=M,_e=Z)),M=M.next}while(M!==ee);return g}(i,e);if(!n)return e;var o=rf(n,i);return Ou(o,o.next),Ou(n,n.next)}function Xc(i,e){return Dr(i.prev,i,e.prev)<0&&Dr(e.next,i,i.next)<0}function Ru(i,e,n,o,u){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-n)*u|0)|i<<8))|i<<4))|i<<2))|i<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-o)*u|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function e_(i){var e=i,n=i;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==i);return n}function fu(i,e,n,o,u,f,g,M){return(u-g)*(e-M)>=(i-g)*(f-M)&&(i-g)*(o-M)>=(n-g)*(e-M)&&(n-g)*(f-M)>=(u-g)*(o-M)}function tf(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!function(n,o){var u=n;do{if(u.i!==n.i&&u.next.i!==n.i&&u.i!==o.i&&u.next.i!==o.i&&nf(u,u.next,n,o))return!0;u=u.next}while(u!==n);return!1}(i,e)&&(co(i,e)&&co(e,i)&&function(n,o){var u=n,f=!1,g=(n.x+o.x)/2,M=(n.y+o.y)/2;do{u.y>M!=u.next.y>M&&u.next.y!==u.y&&g<(u.next.x-u.x)*(M-u.y)/(u.next.y-u.y)+u.x&&(f=!f),u=u.next}while(u!==n);return f}(i,e)&&(Dr(i.prev,i,e.prev)||Dr(i,e.prev,e))||$d(i,e)&&Dr(i.prev,i,i.next)>0&&Dr(e.prev,e,e.next)>0)}function Dr(i,e,n){return(e.y-i.y)*(n.x-e.x)-(e.x-i.x)*(n.y-e.y)}function $d(i,e){return i.x===e.x&&i.y===e.y}function nf(i,e,n,o){var u=Il(Dr(i,e,n)),f=Il(Dr(i,e,o)),g=Il(Dr(n,o,i)),M=Il(Dr(n,o,e));return u!==f&&g!==M||!(0!==u||!Jc(i,n,e))||!(0!==f||!Jc(i,o,e))||!(0!==g||!Jc(n,i,o))||!(0!==M||!Jc(n,e,o))}function Jc(i,e,n){return e.x<=Math.max(i.x,n.x)&&e.x>=Math.min(i.x,n.x)&&e.y<=Math.max(i.y,n.y)&&e.y>=Math.min(i.y,n.y)}function Il(i){return i>0?1:i<0?-1:0}function co(i,e){return Dr(i.prev,i,i.next)<0?Dr(i,e,i.next)>=0&&Dr(i,i.prev,e)>=0:Dr(i,e,i.prev)<0||Dr(i,i.next,e)<0}function rf(i,e){var n=new Jn(i.i,i.x,i.y),o=new Jn(e.i,e.x,e.y),u=i.next,f=e.prev;return i.next=e,e.prev=i,n.next=u,u.prev=n,o.next=n,n.prev=o,f.next=o,o.prev=f,o}function Uh(i,e,n,o){var u=new Jn(i,e,n);return o?(u.next=o.next,u.prev=o,o.next.prev=u,o.next=u):(u.prev=u,u.next=u),u}function is(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function Jn(i,e,n){this.i=i,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _d(i,e,n,o){for(var u=0,f=e,g=n-o;f<n;f+=o)u+=(i[g]-i[f])*(i[f+1]+i[g+1]),g=f;return u}ef.exports=Vh,ef.exports.default=Vh,Vh.deviation=function(i,e,n,o){var u=e&&e.length,f=Math.abs(_d(i,0,u?e[0]*n:i.length,n));if(u)for(var g=0,M=e.length;g<M;g++)f-=Math.abs(_d(i,e[g]*n,g<M-1?e[g+1]*n:i.length,n));var L=0;for(g=0;g<o.length;g+=3){var E=o[g]*n,B=o[g+1]*n,V=o[g+2]*n;L+=Math.abs((i[E]-i[V])*(i[B+1]-i[E+1])-(i[E]-i[B])*(i[V+1]-i[E+1]))}return 0===f&&0===L?0:Math.abs((L-f)/f)},Vh.flatten=function(i){for(var e=i[0][0].length,n={vertices:[],holes:[],dimensions:e},o=0,u=0;u<i.length;u++){for(var f=0;f<i[u].length;f++)for(var g=0;g<e;g++)n.vertices.push(i[u][f][g]);u>0&&n.holes.push(o+=i[u-1].length)}return n};var Wh=Me(ef.exports);function af(i,e,n,o,u){Vr(i,e,n||0,o||i.length-1,u||t_)}function Vr(i,e,n,o,u){for(;o>n;){if(o-n>600){var f=o-n+1,g=e-n+1,M=Math.log(f),L=.5*Math.exp(2*M/3),E=.5*Math.sqrt(M*L*(f-L)/f)*(g-f/2<0?-1:1);Vr(i,e,Math.max(n,Math.floor(e-g*L/f+E)),Math.min(o,Math.floor(e+(f-g)*L/f+E)),u)}var B=i[e],V=n,Z=o;for(Oo(i,n,e),u(i[o],B)>0&&Oo(i,n,o);V<Z;){for(Oo(i,V,Z),V++,Z--;u(i[V],B)<0;)V++;for(;u(i[Z],B)>0;)Z--}0===u(i[n],B)?Oo(i,n,Z):Oo(i,++Z,o),Z<=e&&(n=Z+1),e<=Z&&(o=Z-1)}}function Oo(i,e,n){var o=i[e];i[e]=i[n],i[n]=o}function t_(i,e){return i<e?-1:i>e?1:0}function Xd(i,e){const n=i.length;if(n<=1)return[i];const o=[];let u,f;for(let g=0;g<n;g++){const M=ho(i[g]);0!==M&&(i[g].area=Math.abs(M),void 0===f&&(f=M<0),f===M<0?(u&&o.push(u),u=[i[g]]):u.push(i[g]))}if(u&&o.push(u),e>1)for(let g=0;g<o.length;g++)o[g].length<=e||(af(o[g],e,1,o[g].length-1,sf),o[g]=o[g].slice(0,e));return o}function sf(i,e){return e.area-i.area}function Gh(i,e,n){const o=n.patternDependencies;let u=!1;for(const f of e){const g=f.paint.get(`${i}-pattern`);g.isConstant()||(u=!0);const M=g.constantOr(null);M&&(u=!0,o[M]=!0)}return u}function Zh(i,e,n,o,u){const f=u.patternDependencies;for(const g of e){const M=g.paint.get(`${i}-pattern`).value;if("constant"!==M.kind){let L=M.evaluate({zoom:o},n,{},u.availableImages);L=L&&L.name?L.name:L,f[L]=!0,n.patterns[g.id]=L}}return n}class gd{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(n=>n.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ve,this.indexArray=new jt,this.indexArray2=new K,this.programConfigurations=new wl(e.layers,e.zoom),this.segments=new kr,this.segments2=new kr,this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id),this.projection=e.projection}populate(e,n,o,u){this.hasPattern=Gh("fill",this.layers,n);const f=this.layers[0].layout.get("fill-sort-key"),g=[];for(const{feature:M,id:L,index:E,sourceLayerIndex:B}of e){const V=this.layers[0]._featureFilter.needGeometry,Z=Iu(M,V);if(!this.layers[0]._featureFilter.filter(new H(this.zoom),Z,o))continue;const ee=f?f.evaluate(Z,{},o,n.availableImages):void 0,ne={id:L,properties:M.properties,type:M.type,sourceLayerIndex:B,index:E,geometry:V?Z.geometry:qc(M,o,u),patterns:{},sortKey:ee};g.push(ne)}f&&g.sort((M,L)=>M.sortKey-L.sortKey);for(const M of g){const{geometry:L,index:E,sourceLayerIndex:B}=M;if(this.hasPattern){const V=Zh("fill",this.layers,M,this.zoom,n);this.patternFeatures.push(V)}else this.addFeature(M,L,E,o,{},n.availableImages);n.featureIndex.insert(e[E].feature,L,E,B,this.index)}}update(e,n,o,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,n,this.stateDependentLayers,o,u)}addFeatures(e,n,o,u,f){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,n,o,u)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Vg),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,n,o,u,f,g=[]){for(const M of Xd(n,500)){let L=0;for(const ne of M)L+=ne.length;const E=this.segments.prepareSegment(L,this.layoutVertexArray,this.indexArray),B=E.vertexLength,V=[],Z=[];for(const ne of M){if(0===ne.length)continue;ne!==M[0]&&Z.push(V.length/2);const le=this.segments2.prepareSegment(ne.length,this.layoutVertexArray,this.indexArray2),_e=le.vertexLength;this.layoutVertexArray.emplaceBack(ne[0].x,ne[0].y),this.indexArray2.emplaceBack(_e+ne.length-1,_e),V.push(ne[0].x),V.push(ne[0].y);for(let xe=1;xe<ne.length;xe++)this.layoutVertexArray.emplaceBack(ne[xe].x,ne[xe].y),this.indexArray2.emplaceBack(_e+xe-1,_e+xe),V.push(ne[xe].x),V.push(ne[xe].y);le.vertexLength+=ne.length,le.primitiveLength+=ne.length}const ee=Wh(V,Z);for(let ne=0;ne<ee.length;ne+=3)this.indexArray.emplaceBack(B+ee[ne],B+ee[ne+1],B+ee[ne+2]);E.vertexLength+=L,E.primitiveLength+=ee.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,f,g,u)}}Bt(gd,"FillBucket",{omit:["layers","patternFeatures"]});const lf=new C({"fill-sort-key":new D(at.layout_fill["fill-sort-key"])});var $g={paint:new C({"fill-antialias":new w(at.paint_fill["fill-antialias"]),"fill-opacity":new D(at.paint_fill["fill-opacity"]),"fill-color":new D(at.paint_fill["fill-color"]),"fill-outline-color":new D(at.paint_fill["fill-outline-color"]),"fill-translate":new w(at.paint_fill["fill-translate"]),"fill-translate-anchor":new w(at.paint_fill["fill-translate-anchor"]),"fill-pattern":new D(at.paint_fill["fill-pattern"])}),layout:lf};const Xg=ce([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),cf=ce([{name:"a_centroid_pos",components:2,type:"Uint16"}]),Jg=ce([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:i_}=Xg;var qh={},n_=Ve,r_=yd;function yd(i,e,n,o,u){this.properties={},this.extent=n,this.type=0,this._pbf=i,this._geometry=-1,this._keys=o,this._values=u,i.readFields(Kg,this,e)}function Kg(i,e,n){1==i?e.id=n.readVarint():2==i?function(o,u){for(var f=o.readVarint()+o.pos;o.pos<f;){var g=u._keys[o.readVarint()],M=u._values[o.readVarint()];u.properties[g]=M}}(n,e):3==i?e.type=n.readVarint():4==i&&(e._geometry=n.pos)}function a_(i){for(var e,n,o=0,u=0,f=i.length,g=f-1;u<f;g=u++)o+=((n=i[g]).x-(e=i[u]).x)*(e.y+n.y);return o}yd.types=["Unknown","Point","LineString","Polygon"],yd.prototype.loadGeometry=function(){var i=this._pbf;i.pos=this._geometry;for(var e,n=i.readVarint()+i.pos,o=1,u=0,f=0,g=0,M=[];i.pos<n;){if(u<=0){var L=i.readVarint();o=7&L,u=L>>3}if(u--,1===o||2===o)f+=i.readSVarint(),g+=i.readSVarint(),1===o&&(e&&M.push(e),e=[]),e.push(new n_(f,g));else{if(7!==o)throw new Error("unknown command "+o);e&&e.push(e[0].clone())}}return e&&M.push(e),M},yd.prototype.bbox=function(){var i=this._pbf;i.pos=this._geometry;for(var e=i.readVarint()+i.pos,n=1,o=0,u=0,f=0,g=1/0,M=-1/0,L=1/0,E=-1/0;i.pos<e;){if(o<=0){var B=i.readVarint();n=7&B,o=B>>3}if(o--,1===n||2===n)(u+=i.readSVarint())<g&&(g=u),u>M&&(M=u),(f+=i.readSVarint())<L&&(L=f),f>E&&(E=f);else if(7!==n)throw new Error("unknown command "+n)}return[g,L,M,E]},yd.prototype.toGeoJSON=function(i,e,n){var o,u,f=this.extent*Math.pow(2,n),g=this.extent*i,M=this.extent*e,L=this.loadGeometry(),E=yd.types[this.type];function B(ee){for(var ne=0;ne<ee.length;ne++){var le=ee[ne];ee[ne]=[360*(le.x+g)/f-180,360/Math.PI*Math.atan(Math.exp((180-360*(le.y+M)/f)*Math.PI/180))-90]}}switch(this.type){case 1:var V=[];for(o=0;o<L.length;o++)V[o]=L[o][0];B(L=V);break;case 2:for(o=0;o<L.length;o++)B(L[o]);break;case 3:for(L=function(ee){var ne=ee.length;if(ne<=1)return[ee];for(var le,_e,xe=[],Se=0;Se<ne;Se++){var we=a_(ee[Se]);0!==we&&(void 0===_e&&(_e=we<0),_e===we<0?(le&&xe.push(le),le=[ee[Se]]):le.push(ee[Se]))}return le&&xe.push(le),xe}(L),o=0;o<L.length;o++)for(u=0;u<L[o].length;u++)B(L[o][u])}1===L.length?L=L[0]:E="Multi"+E;var Z={type:"Feature",geometry:{type:E,coordinates:L},properties:this.properties};return"id"in this&&(Z.id=this.id),Z};var s_=r_,o_=l_;function l_(i,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=i,this._keys=[],this._values=[],this._features=[],i.readFields(c_,this,e),this.length=this._features.length}function c_(i,e,n){15===i?e.version=n.readVarint():1===i?e.name=n.readString():5===i?e.extent=n.readVarint():2===i?e._features.push(n.pos):3===i?e._keys.push(n.readString()):4===i&&e._values.push(function(o){for(var u=null,f=o.readVarint()+o.pos;o.pos<f;){var g=o.readVarint()>>3;u=1===g?o.readString():2===g?o.readFloat():3===g?o.readDouble():4===g?o.readVarint64():5===g?o.readVarint():6===g?o.readSVarint():7===g?o.readBoolean():null}return u}(n))}l_.prototype.feature=function(i){if(i<0||i>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[i];var e=this._pbf.readVarint()+this._pbf.pos;return new s_(this._pbf,e,this.extent,this._keys,this._values)};var u_=o_;function d_(i,e,n){if(3===i){var o=new u_(n,n.readVarint()+n.pos);o.length&&(e[o.name]=o)}}var $h=qh.VectorTile=function(i,e){this.layers=i.readFields(d_,{},e)},Jd=qh.VectorTileFeature=r_;function Kd(i,e,n,o){const u=[],f=0===o?(g,M,L,E,B,V)=>{g.push(new He(V,L+(V-M)/(E-M)*(B-L)))}:(g,M,L,E,B,V)=>{g.push(new He(M+(V-L)/(B-L)*(E-M),V))};for(const g of i){const M=[];for(const L of g){if(L.length<=2)continue;const E=[];for(let Z=0;Z<L.length-1;Z++){const ee=L[Z].x,ne=L[Z].y,le=L[Z+1].x,_e=L[Z+1].y,xe=0===o?ee:ne,Se=0===o?le:_e;xe<e?Se>e&&f(E,ee,ne,le,_e,e):xe>n?Se<n&&f(E,ee,ne,le,_e,n):E.push(L[Z]),Se<e&&xe>=e&&f(E,ee,ne,le,_e,e),Se>n&&xe<=n&&f(E,ee,ne,le,_e,n)}let B=L[L.length-1];const V=0===o?B.x:B.y;V>=e&&V<=n&&E.push(B),E.length&&(B=E[E.length-1],E[0].x===B.x&&E[0].y===B.y||E.push(E[0]),M.push(E))}M.length&&u.push(M)}return u}qh.VectorTileLayer=o_;const h_=Jd.types,p_=Math.pow(2,13);function Fu(i,e,n,o,u,f,g,M){i.emplaceBack((e<<1)+g,(n<<1)+f,(Math.floor(o*p_)<<1)+u,Math.round(M))}function Yu(i,e,n){i.emplaceBack(e.x,e.y,e.z,16384*n[0],16384*n[1],16384*n[2])}class uf{constructor(){this.acc=new He(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new He(e.x,e.y),this.max=new He(e.x,e.y))}append(e,n){this.currentPolyCount.edges++,this.acc._add(e);const o=this.min,u=this.max;e.x<o.x?o.x=e.x:e.x>u.x&&(u.x=e.x),e.y<o.y?o.y=e.y:e.y>u.y&&(u.y=e.y),((0===e.x||e.x===Jt)&&e.x===n.x)!=((0===e.y||e.y===Jt)&&e.y===n.y)&&this.processBorderOverlap(e,n),n.x<0!=e.x<0&&this.addBorderIntersection(0,ki(n.y,e.y,(0-n.x)/(e.x-n.x))),n.x>Jt!=e.x>Jt&&this.addBorderIntersection(1,ki(n.y,e.y,(Jt-n.x)/(e.x-n.x))),n.y<0!=e.y<0&&this.addBorderIntersection(2,ki(n.x,e.x,(0-n.y)/(e.y-n.y))),n.y>Jt!=e.y>Jt&&this.addBorderIntersection(3,ki(n.x,e.x,(Jt-n.y)/(e.y-n.y)))}addBorderIntersection(e,n){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const o=this.borders[e];n<o[0]&&(o[0]=n),n>o[1]&&(o[1]=n)}processBorderOverlap(e,n){if(e.x===n.x){if(e.y===n.y)return;const o=0===e.x?0:1;this.addBorderIntersection(o,n.y),this.addBorderIntersection(o,e.y)}else{const o=0===e.y?2:3;this.addBorderIntersection(o,n.x),this.addBorderIntersection(o,e.x)}}centroid(){const e=this.polyCount.reduce((n,o)=>n+o.edges,0);return 0!==e?this.acc.div(e)._round():new He(0,0)}span(){return new He(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((e,n)=>e+ +(n[0]!==Number.MAX_VALUE),0)}}class vd{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(n=>n.id),this.index=e.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=e.projection,this.layoutVertexArray=new Ee,this.centroidVertexArray=new bl,this.indexArray=new jt,this.programConfigurations=new wl(e.layers,e.zoom),this.segments=new kr,this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id),this.enableTerrain=e.enableTerrain}populate(e,n,o,u){this.features=[],this.hasPattern=Gh("fill-extrusion",this.layers,n),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(f){const g=Math.exp(Math.PI*(1-f.y/(1<<f.z)*2));return 80150034*g/(g*g+1)/Jt/(1<<f.z)}(o),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:f,id:g,index:M,sourceLayerIndex:L}of e){const E=this.layers[0]._featureFilter.needGeometry,B=Iu(f,E);if(!this.layers[0]._featureFilter.filter(new H(this.zoom),B,o))continue;const V={id:g,sourceLayerIndex:L,index:M,geometry:E?B.geometry:qc(f,o,u),properties:f.properties,type:f.type,patterns:{}},Z=this.layoutVertexArray.length;this.hasPattern?this.features.push(Zh("fill-extrusion",this.layers,V,this.zoom,n)):this.addFeature(V,V.geometry,M,o,{},n.availableImages,u),n.featureIndex.insert(f,V.geometry,M,L,this.index,Z)}this.sortBorders()}addFeatures(e,n,o,u,f){for(const g of this.features){const{geometry:M}=g;this.addFeature(g,M,g.index,n,o,u,f)}this.sortBorders()}update(e,n,o,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,n,this.stateDependentLayers,o,u)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,i_),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,Jg.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,cf.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,n,o,u,f,g,M){const L=[new He(0,0),new He(Jt,Jt)],E=M.projection,B="globe"===E.name,V=this.enableTerrain&&!B?new uf:null,Z="Polygon"===h_[e.type];B&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new lt);const ee=Xd(n,500);for(let xe=ee.length-1;xe>=0;xe--){const Se=ee[xe];(0===Se.length||(ne=Se[0]).every(we=>we.x<=0)||ne.every(we=>we.x>=Jt)||ne.every(we=>we.y<=0)||ne.every(we=>we.y>=Jt))&&ee.splice(xe,1)}var ne;let le;if(B)le=y_(ee,L,u);else{le=[];for(const xe of ee)le.push({polygon:xe,bounds:L})}const _e=Z?this.edgeRadius:0;for(const{polygon:xe,bounds:Se}of le){let we=0,Le=0;for(const Pe of xe)Z&&!Pe[0].equals(Pe[Pe.length-1])&&Pe.push(Pe[0]),Le+=Z?Pe.length-1:Pe.length;const Ie=this.segments.prepareSegment((Z?5:4)*Le,this.layoutVertexArray,this.indexArray);if(Z){const Pe=[],Qe=[];we=Ie.vertexLength;for(const dt of xe){let Tt,it;dt.length&&dt!==xe[0]&&Qe.push(Pe.length/2),Tt=dt[1].sub(dt[0])._perp()._unit();for(let mt=1;mt<dt.length;mt++){const ft=dt[mt],xt=dt[mt===dt.length-1?1:mt+1];let{x:Lt,y:ct}=ft;if(_e){it=xt.sub(ft)._perp()._unit();const Ft=Tt.add(it)._unit(),Nt=_e*Math.min(4,1/(Tt.x*Ft.x+Tt.y*Ft.y));Lt+=Nt*Ft.x,ct+=Nt*Ft.y,Tt=it}Fu(this.layoutVertexArray,Lt,ct,0,0,1,1,0),Ie.vertexLength++,Pe.push(ft.x,ft.y),B&&Yu(this.layoutVertexExtArray,E.projectTilePoint(Lt,ct,u),E.upVector(u,Lt,ct))}}const $e=Wh(Pe,Qe);for(let dt=0;dt<$e.length;dt+=3)this.indexArray.emplaceBack(we+$e[dt],we+$e[dt+2],we+$e[dt+1]),Ie.primitiveLength++}for(const Pe of xe){V&&Pe.length&&V.startRing(Pe[0]);let Qe,$e,dt,Tt=Pe.length>4&&m_(Pe[Pe.length-2],Pe[0],Pe[1]),it=_e?f_(Pe[Pe.length-2],Pe[0],Pe[1],_e):0;$e=Pe[1].sub(Pe[0])._perp()._unit();let mt=!0;for(let ft=1,xt=0;ft<Pe.length;ft++){let Lt=Pe[ft-1],ct=Pe[ft];const Ft=Pe[ft===Pe.length-1?1:ft+1];if(V&&Z&&V.currentPolyCount.top++,pf(ct,Lt,Se)){_e&&($e=Ft.sub(ct)._perp()._unit(),mt=!mt);continue}V&&V.append(ct,Lt);const Nt=ct.sub(Lt)._perp(),zt=Nt.x/(Math.abs(Nt.x)+Math.abs(Nt.y)),_i=Nt.y>0?1:0,Ct=Lt.dist(ct);if(xt+Ct>32768&&(xt=0),_e){dt=Ft.sub(ct)._perp()._unit();let fi=hf(Lt,ct,Ft,df($e,dt),_e);isNaN(fi)&&(fi=0);const Qt=ct.sub(Lt)._unit();Lt=Lt.add(Qt.mult(it))._round(),ct=ct.add(Qt.mult(-fi))._round(),it=fi,$e=dt}const $t=Ie.vertexLength,gi=Pe.length>4&&m_(Lt,ct,Ft);let Ki=__(xt,Tt,mt);if(Fu(this.layoutVertexArray,Lt.x,Lt.y,zt,_i,0,0,Ki),Fu(this.layoutVertexArray,Lt.x,Lt.y,zt,_i,0,1,Ki),xt+=Ct,Ki=__(xt,gi,!mt),Tt=gi,Fu(this.layoutVertexArray,ct.x,ct.y,zt,_i,0,0,Ki),Fu(this.layoutVertexArray,ct.x,ct.y,zt,_i,0,1,Ki),Ie.vertexLength+=4,this.indexArray.emplaceBack($t+0,$t+1,$t+2),this.indexArray.emplaceBack($t+1,$t+3,$t+2),Ie.primitiveLength+=2,_e){const fi=we+(1===ft?Pe.length-2:ft-2),Qt=1===ft?we:fi+1;if(this.indexArray.emplaceBack($t+1,fi,$t+3),this.indexArray.emplaceBack(fi,Qt,$t+3),Ie.primitiveLength+=2,void 0===Qe&&(Qe=$t),!pf(Ft,Pe[ft],Se)){const An=ft===Pe.length-1?Qe:Ie.vertexLength;this.indexArray.emplaceBack($t+2,$t+3,An),this.indexArray.emplaceBack($t+3,An+1,An),this.indexArray.emplaceBack($t+3,Qt,An+1),Ie.primitiveLength+=3}mt=!mt}if(B){const fi=this.layoutVertexExtArray,Qt=E.projectTilePoint(Lt.x,Lt.y,u),An=E.projectTilePoint(ct.x,ct.y,u),li=E.upVector(u,Lt.x,Lt.y),yi=E.upVector(u,ct.x,ct.y);Yu(fi,Qt,li),Yu(fi,Qt,li),Yu(fi,An,yi),Yu(fi,An,yi)}}Z&&(we+=Pe.length-1)}}if(V&&V.polyCount.length>0){if(V.borders){V.vertexArrayOffset=this.centroidVertexArray.length;const xe=V.borders,Se=this.featuresOnBorder.push(V)-1;for(let we=0;we<4;we++)xe[we][0]!==Number.MAX_VALUE&&this.borders[we].push(Se)}this.encodeCentroid(V.borders?void 0:V.centroid(),V)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,f,g,u)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort((n,o)=>this.featuresOnBorder[n].borders[e][0]-this.featuresOnBorder[o].borders[e][0])}encodeCentroid(e,n,o=!0){let u,f;if(e)if(0!==e.y){const M=n.span()._mult(this.tileToMeter);u=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(M.x/10)),f=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(M.y/10))}else u=Math.ceil(7*(e.x+450)),f=0;else u=0,f=+o;let g=o?this.centroidVertexArray.length:n.vertexArrayOffset;for(const M of n.polyCount){o&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*M.edges+M.top);for(let L=0;L<M.top;L++)this.centroidVertexArray.emplace(g++,u,f);for(let L=0;L<2*M.edges;L++)this.centroidVertexArray.emplace(g++,0,f),this.centroidVertexArray.emplace(g++,u,f)}}}function df(i,e){const n=i.add(e)._unit();return i.x*n.x+i.y*n.y}function f_(i,e,n,o){const u=e.sub(i)._perp()._unit(),f=n.sub(e)._perp()._unit();return hf(i,e,n,df(u,f),o)}function hf(i,e,n,o,u){const f=Math.sqrt(1-o*o);return Math.min(i.dist(e)/3,e.dist(n)/3,u*f/o)}function pf(i,e,n){return i.x<n[0].x&&e.x<n[0].x||i.x>n[1].x&&e.x>n[1].x||i.y<n[0].y&&e.y<n[0].y||i.y>n[1].y&&e.y>n[1].y}function m_(i,e,n){if(i.x<0||i.x>=Jt||e.x<0||e.x>=Jt||n.x<0||n.x>=Jt)return!1;const o=n.sub(e),u=o.perp(),f=i.sub(e);return(o.x*f.x+o.y*f.y)/Math.sqrt((o.x*o.x+o.y*o.y)*(f.x*f.x+f.y*f.y))>-.866&&u.x*f.x+u.y*f.y<0}function __(i,e,n){const o=e?2|i:-3&i;return n?1|o:-2&o}function g_(){const i=Math.PI/32,e=Math.tan(i),n=Zd;return n*Math.sqrt(1+2*e*e)-n}function y_(i,e,n){const o=1<<n.z,u=sl(n.x/o),f=sl((n.x+1)/o),g=es(n.y/o),M=es((n.y+1)/o);return function(L,E,B,V,Z=0,ee){const ne=[];if(!L.length||!B||!V)return ne;const le=(Pe,Qe)=>{for(const $e of Pe)ne.push({polygon:$e,bounds:Qe})},_e=Math.ceil(Math.log2(B)),xe=Math.ceil(Math.log2(V)),Se=_e-xe,we=[];for(let Pe=0;Pe<Math.abs(Se);Pe++)we.push(Se>0?0:1);for(let Pe=0;Pe<Math.min(_e,xe);Pe++)we.push(0),we.push(1);let Le=L;if(Le=Kd(Le,E[0].y-Z,E[1].y+Z,1),Le=Kd(Le,E[0].x-Z,E[1].x+Z,0),!Le.length)return ne;const Ie=[];for(we.length?Ie.push({polygons:Le,bounds:E,depth:0}):le(Le,E);Ie.length;){const Pe=Ie.pop(),Qe=Pe.depth,$e=we[Qe],dt=Pe.bounds[0],Tt=Pe.bounds[1],it=0===$e?dt.x:dt.y,mt=0===$e?Tt.x:Tt.y,ft=ee?ee($e,it,mt):.5*(it+mt),xt=Kd(Pe.polygons,it-Z,ft+Z,$e),Lt=Kd(Pe.polygons,ft-Z,mt+Z,$e);if(xt.length){const ct=[dt,new He(0===$e?ft:Tt.x,1===$e?ft:Tt.y)];we.length>Qe+1?Ie.push({polygons:xt,bounds:ct,depth:Qe+1}):le(xt,ct)}if(Lt.length){const ct=[new He(0===$e?ft:dt.x,1===$e?ft:dt.y),Tt];we.length>Qe+1?Ie.push({polygons:Lt,bounds:ct,depth:Qe+1}):le(Lt,ct)}}return ne}(i,e,Math.ceil((f-u)/11.25),Math.ceil((g-M)/11.25),1,(L,E,B)=>{if(0===L)return.5*(E+B);{const V=es((n.y+E/Jt)/o);return(xc(.5*(es((n.y+B/Jt)/o)+V))*o-n.y)*Jt}})}Bt(vd,"FillExtrusionBucket",{omit:["layers","features"]}),Bt(uf,"PartMetadata");const Qg=new C({"fill-extrusion-edge-radius":new w(at["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var ff={paint:new C({"fill-extrusion-opacity":new w(at["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new D(at["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new w(at["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new w(at["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new D(at["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new D(at["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new D(at["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new w(at["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new w(at["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new w(at["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new w(at["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:Qg};function Xh(i,e,n){var o=2*Math.PI*6378137/256/Math.pow(2,n);return[i*o-2*Math.PI*6378137/2,e*o-2*Math.PI*6378137/2]}class Qd{constructor(e,n,o){this.z=e,this.x=n,this.y=o,this.key=Ql(0,e,e,n,o)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,n){const o=(g=this.y,M=this.z,L=Xh(256*(f=this.x),256*(g=Math.pow(2,M)-g-1),M),E=Xh(256*(f+1),256*(g+1),M),L[0]+","+L[1]+","+E[0]+","+E[1]),u=function(f,g,M){let L,E="";for(let B=f;B>0;B--)L=1<<B-1,E+=(g&L?1:0)+(M&L?2:0);return E}(this.z,this.x,this.y);var f,g,M,L,E;return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===n?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",o)}toString(){return`${this.z}/${this.x}/${this.y}`}}class mf{constructor(e,n){this.wrap=e,this.canonical=n,this.key=Ql(e,n.z,n.z,n.x,n.y)}}class ns{constructor(e,n,o,u,f){this.overscaledZ=e,this.wrap=n,this.canonical=new Qd(o,+u,+f),this.key=0===n&&e===o?this.canonical.key:Ql(n,e,o,u,f)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const n=this.canonical.z-e;return e>this.canonical.z?new ns(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ns(e,this.wrap,e,this.canonical.x>>n,this.canonical.y>>n)}calculateScaledKey(e,n=!0){if(this.overscaledZ===e&&n)return this.key;if(e>this.canonical.z)return Ql(this.wrap*+n,e,this.canonical.z,this.canonical.x,this.canonical.y);{const o=this.canonical.z-e;return Ql(this.wrap*+n,e,e,this.canonical.x>>o,this.canonical.y>>o)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;const n=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>n&&e.canonical.y===this.canonical.y>>n}children(e){if(this.overscaledZ>=e)return[new ns(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const n=this.canonical.z+1,o=2*this.canonical.x,u=2*this.canonical.y;return[new ns(n,this.wrap,n,o,u),new ns(n,this.wrap,n,o+1,u),new ns(n,this.wrap,n,o,u+1),new ns(n,this.wrap,n,o+1,u+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new ns(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new ns(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new mf(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Ql(i,e,n,o,u){const f=1<<Math.min(n,22);let g=f*(u%f)+o%f;return i&&n<22&&(g+=f*f*((i<0?-2*i-1:2*i)%(1<<2*(22-n)))),16*(32*g+n)+(e-n)}Bt(Qd,"CanonicalTileID"),Bt(ns,"OverscaledTileID",{omit:["projMatrix"]});class zu extends He{constructor(e,n,o){super(e,n),this.z=o}}function bd(i,e){return i.x*e.x+i.y*e.y}function _f(i,e){if(1===i.length){let n=0;const o=e[n++];let u;for(;!u||o.equals(u);)if(u=e[n++],!u)return 1/0;for(;n<e.length;n++){const f=e[n],g=i[0],M=u.sub(o),L=f.sub(o),E=g.sub(o),B=bd(M,M),V=bd(M,L),Z=bd(L,L),ee=bd(E,M),ne=bd(E,L),le=B*Z-V*V,_e=(Z*ee-V*ne)/le,xe=(B*ne-V*ee)/le,Se=o.z*(1-_e-xe)+u.z*_e+f.z*xe;if(isFinite(Se))return Se}return 1/0}{let n=1/0;for(const o of e)n=Math.min(n,o.z);return n}}function gf(i,e,n,o,u,f,g,M){const L=g*u.getElevationAt(i,e,!0,!0),E=0!==f[0],B=E?0===f[1]?g*(f[0]/7-450):g*function(V,Z,ee){const ne=Math.floor(Z[0]/8),le=Math.floor(Z[1]/8),_e=10*(Z[0]-8*ne),xe=10*(Z[1]-8*le),Se=V.getElevationAt(ne,le,!0,!0),we=V.getMeterToDEM(ee),Le=Math.floor(.5*(_e*we-1)),Ie=Math.floor(.5*(xe*we-1)),Pe=V.tileCoordToPixel(ne,le),Qe=2*Le+1,$e=2*Ie+1,dt=(Nt=Qe,zt=$e,[(Lt=V).getElevationAtPixel(ct=Pe.x-Le,Ft=Pe.y-Ie,!0),Lt.getElevationAtPixel(ct+zt,Ft,!0),Lt.getElevationAtPixel(ct,Ft+zt,!0),Lt.getElevationAtPixel(ct+Nt,Ft+zt,!0)]),Tt=Math.abs(dt[0]-dt[1]),it=Math.abs(dt[2]-dt[3]),mt=Math.abs(dt[0]-dt[2])+Math.abs(dt[1]-dt[3]),ft=Math.min(.25,.5*we*(Tt+it)/Qe),xt=Math.min(.25,.5*we*mt/$e);var Lt,ct,Ft,Nt,zt;return Se+Math.max(ft*_e,xt*xe)}(u,f,M):L;return{base:L+(0===n)?-1:n,top:E?Math.max(B+o,L+n+2):L+o}}const v_=ce([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:ey}=v_,b_=ce([{name:"a_packed",components:4,type:"Float32"}]),{members:eh}=b_,yf=Jd.types,x_=Math.cos(Math.PI/180*37.5);class xd{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(n=>n.id),this.index=e.index,this.projection=e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(n=>{this.gradients[n.id]={}}),this.layoutVertexArray=new Re,this.layoutVertexArray2=new Ze,this.indexArray=new jt,this.programConfigurations=new wl(e.layers,e.zoom),this.segments=new kr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id)}populate(e,n,o,u){this.hasPattern=Gh("line",this.layers,n);const f=this.layers[0].layout.get("line-sort-key"),g=[];for(const{feature:B,id:V,index:Z,sourceLayerIndex:ee}of e){const ne=this.layers[0]._featureFilter.needGeometry,le=Iu(B,ne);if(!this.layers[0]._featureFilter.filter(new H(this.zoom),le,o))continue;const _e=f?f.evaluate(le,{},o):void 0,xe={id:V,properties:B.properties,type:B.type,sourceLayerIndex:ee,index:Z,geometry:ne?le.geometry:qc(B,o,u),patterns:{},sortKey:_e};g.push(xe)}f&&g.sort((B,V)=>B.sortKey-V.sortKey);const{lineAtlas:M,featureIndex:L}=n,E=this.addConstantDashes(M);for(const B of g){const{geometry:V,index:Z,sourceLayerIndex:ee}=B;if(E&&this.addFeatureDashes(B,M),this.hasPattern){const ne=Zh("line",this.layers,B,this.zoom,n);this.patternFeatures.push(ne)}else this.addFeature(B,V,Z,o,M.positions,n.availableImages);L.insert(e[Z].feature,V,Z,ee,this.index)}}addConstantDashes(e){let n=!1;for(const o of this.layers){const u=o.paint.get("line-dasharray").value,f=o.layout.get("line-cap").value;if("constant"!==u.kind||"constant"!==f.kind)n=!0;else{const g=f.value,M=u.value;if(!M)continue;e.addDash(M,g)}}return n}addFeatureDashes(e,n){const o=this.zoom;for(const u of this.layers){const f=u.paint.get("line-dasharray").value,g=u.layout.get("line-cap").value;if("constant"===f.kind&&"constant"===g.kind)continue;let M,L;if("constant"===f.kind){if(M=f.value,!M)continue}else M=f.evaluate({zoom:o},e);L="constant"===g.kind?g.value:g.evaluate({zoom:o},e),n.addDash(M,L),e.patterns[u.id]=n.getKey(M,L)}}update(e,n,o,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,n,this.stateDependentLayers,o,u)}addFeatures(e,n,o,u,f){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,n,o,u)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,eh)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ey),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,n,o,u,f,g){const M=this.layers[0].layout,L=M.get("line-join").evaluate(e,{}),E=M.get("line-cap").evaluate(e,{}),B=M.get("line-miter-limit"),V=M.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const Z of n)this.addLine(Z,e,L,E,B,V);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,f,g,u)}addLine(e,n,o,u,f,g){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let xe=0;xe<e.length-1;xe++)this.totalDistance+=e[xe].dist(e[xe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const M="Polygon"===yf[n.type];let L=e.length;for(;L>=2&&e[L-1].equals(e[L-2]);)L--;let E=0;for(;E<L-1&&e[E].equals(e[E+1]);)E++;if(L<(M?3:2))return;"bevel"===o&&(f=1.05);const B=this.overscaling<=16?15*Jt/(512*this.overscaling):0,V=this.segments.prepareSegment(10*L,this.layoutVertexArray,this.indexArray);let Z,ee,ne,le,_e;this.e1=this.e2=-1,M&&(Z=e[L-2],_e=e[E].sub(Z)._unit()._perp());for(let xe=E;xe<L;xe++){if(ne=xe===L-1?M?e[E+1]:void 0:e[xe+1],ne&&e[xe].equals(ne))continue;_e&&(le=_e),Z&&(ee=Z),Z=e[xe],_e=ne?ne.sub(Z)._unit()._perp():le,le=le||_e;let Se=le.add(_e);0===Se.x&&0===Se.y||Se._unit();const we=le.x*_e.x+le.y*_e.y,Le=Se.x*_e.x+Se.y*_e.y,Ie=0!==Le?1/Le:1/0,Pe=2*Math.sqrt(2-2*Le),Qe=Le<x_&&ee&&ne,$e=le.x*_e.y-le.y*_e.x>0;if(Qe&&xe>E){const it=Z.dist(ee);if(it>2*B){const mt=Z.sub(Z.sub(ee)._mult(B/it)._round());this.updateDistance(ee,mt),this.addCurrentVertex(mt,le,0,0,V),ee=mt}}const dt=ee&&ne;let Tt=dt?o:M?"butt":u;if(dt&&"round"===Tt&&(Ie<g?Tt="miter":Ie<=2&&(Tt="fakeround")),"miter"===Tt&&Ie>f&&(Tt="bevel"),"bevel"===Tt&&(Ie>2&&(Tt="flipbevel"),Ie<f&&(Tt="miter")),ee&&this.updateDistance(ee,Z),"miter"===Tt)Se._mult(Ie),this.addCurrentVertex(Z,Se,0,0,V);else if("flipbevel"===Tt){if(Ie>100)Se=_e.mult(-1);else{const it=Ie*le.add(_e).mag()/le.sub(_e).mag();Se._perp()._mult(it*($e?-1:1))}this.addCurrentVertex(Z,Se,0,0,V),this.addCurrentVertex(Z,Se.mult(-1),0,0,V)}else if("bevel"===Tt||"fakeround"===Tt){const it=-Math.sqrt(Ie*Ie-1),mt=$e?it:0,ft=$e?0:it;if(ee&&this.addCurrentVertex(Z,le,mt,ft,V),"fakeround"===Tt){const xt=Math.round(180*Pe/Math.PI/20);for(let Lt=1;Lt<xt;Lt++){let ct=Lt/xt;if(.5!==ct){const Nt=ct-.5;ct+=ct*Nt*(ct-1)*((1.0904+we*(we*(3.55645-1.43519*we)-3.2452))*Nt*Nt+(.848013+we*(.215638*we-1.06021)))}const Ft=_e.sub(le)._mult(ct)._add(le)._unit()._mult($e?-1:1);this.addHalfVertex(Z,Ft.x,Ft.y,!1,$e,0,V)}}ne&&this.addCurrentVertex(Z,_e,-mt,-ft,V)}else if("butt"===Tt)this.addCurrentVertex(Z,Se,0,0,V);else if("square"===Tt){const it=ee?1:-1;ee||this.addCurrentVertex(Z,Se,it,it,V),this.addCurrentVertex(Z,Se,0,0,V),ee&&this.addCurrentVertex(Z,Se,it,it,V)}else"round"===Tt&&(ee&&(this.addCurrentVertex(Z,le,0,0,V),this.addCurrentVertex(Z,le,1,1,V,!0)),ne&&(this.addCurrentVertex(Z,_e,-1,-1,V,!0),this.addCurrentVertex(Z,_e,0,0,V)));if(Qe&&xe<L-1){const it=Z.dist(ne);if(it>2*B){const mt=Z.add(ne.sub(Z)._mult(B/it)._round());this.updateDistance(Z,mt),this.addCurrentVertex(mt,_e,0,0,V),Z=mt}}}}addCurrentVertex(e,n,o,u,f,g=!1){const M=n.y*u-n.x,L=-n.y-n.x*u;this.addHalfVertex(e,n.x+n.y*o,n.y-n.x*o,g,!1,o,f),this.addHalfVertex(e,M,L,g,!0,-u,f)}addHalfVertex({x:e,y:n},o,u,f,g,M,L){this.layoutVertexArray.emplaceBack((e<<1)+(f?1:0),(n<<1)+(g?1:0),Math.round(63*o)+128,Math.round(63*u)+128,1+(0===M?0:M<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const E=L.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,E),L.primitiveLength++),g?this.e2=E:this.e1=E}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,n){this.distance+=e.dist(n),this.updateScaledDistance()}}Bt(xd,"LineBucket",{omit:["layers","patternFeatures"]});const vf=new C({"line-cap":new D(at.layout_line["line-cap"]),"line-join":new D(at.layout_line["line-join"]),"line-miter-limit":new w(at.layout_line["line-miter-limit"]),"line-round-limit":new w(at.layout_line["line-round-limit"]),"line-sort-key":new D(at.layout_line["line-sort-key"])});var th={paint:new C({"line-opacity":new D(at.paint_line["line-opacity"]),"line-color":new D(at.paint_line["line-color"]),"line-translate":new w(at.paint_line["line-translate"]),"line-translate-anchor":new w(at.paint_line["line-translate-anchor"]),"line-width":new D(at.paint_line["line-width"]),"line-gap-width":new D(at.paint_line["line-gap-width"]),"line-offset":new D(at.paint_line["line-offset"]),"line-blur":new D(at.paint_line["line-blur"]),"line-dasharray":new D(at.paint_line["line-dasharray"]),"line-pattern":new D(at.paint_line["line-pattern"]),"line-gradient":new O(at.paint_line["line-gradient"]),"line-trim-offset":new w(at.paint_line["line-trim-offset"])}),layout:vf};const Jh=new class extends D{possiblyEvaluate(i,e){return e=new H(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,transition:e.transition}),super.possiblyEvaluate(i,e)}evaluate(i,e,n,o){return e=Li({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(i,e,n,o)}}(th.paint.properties["line-width"].specification);function bf(i,e){return e>0?e+2*i:i}Jh.useIntegerZoom=!0;const ty=ce([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),iy=ce([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),w_=ce([{name:"a_projected_pos",components:4,type:"Float32"}],4);ce([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const M_=ce([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),T_=ce([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);ce([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Kh=ce([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),ny=ce([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);ce([{name:"triangle",components:3,type:"Uint16"}]),ce([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),ce([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ce([{type:"Float32",name:"offsetX"}]),ce([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);const Pl=128;function Qh(i,e){const{expression:n}=e;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new H(i+1))};if("source"===n.kind)return{kind:"source"};{const{zoomStops:o,interpolationType:u}=n;let f=0;for(;f<o.length&&o[f]<=i;)f++;f=Math.max(0,f-1);let g=f;for(;g<o.length&&o[g]<i+1;)g++;g=Math.min(o.length-1,g);const M=o[f],L=o[g];return"composite"===n.kind?{kind:"composite",minZoom:M,maxZoom:L,interpolationType:u}:{kind:"camera",minZoom:M,maxZoom:L,minSize:n.evaluate(new H(M)),maxSize:n.evaluate(new H(L)),interpolationType:u}}}function rs(i,{uSize:e,uSizeT:n},{lowerSize:o,upperSize:u}){return"source"===i.kind?o/Pl:"composite"===i.kind?ki(o/Pl,u/Pl,n):e}function wd(i,e){let n=0,o=0;if("constant"===i.kind)o=i.layoutSize;else if("source"!==i.kind){const{interpolationType:u,minZoom:f,maxZoom:g}=i,M=u?ei(ba.interpolationFactor(u,e,f,g),0,1):0;"camera"===i.kind?o=ki(i.minSize,i.maxSize,M):n=M}return{uSizeT:n,uSize:o}}var ry=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:Pl,evaluateSizeForFeature:rs,evaluateSizeForZoom:wd,getSizeData:Qh});function ay(i,e,n){return i.sections.forEach(o=>{o.text=function(u,f,g){const M=f.layout.get("text-transform").evaluate(g,{});return"uppercase"===M?u=u.toLocaleUpperCase():"lowercase"===M&&(u=u.toLocaleLowerCase()),R.applyArabicShaping&&(u=R.applyArabicShaping(u)),u}(o.text,e,n)}),i}const Bu={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42","\u2190":"\u2191","\u2192":"\u2193"};function ih(i){return"\ufe36"===i||"\ufe48"===i||"\ufe38"===i||"\ufe44"===i||"\ufe42"===i||"\ufe3e"===i||"\ufe3c"===i||"\ufe3a"===i||"\ufe18"===i||"\ufe40"===i||"\ufe10"===i||"\ufe13"===i||"\ufe14"===i||"\uff40"===i||"\uffe3"===i||"\ufe11"===i||"\ufe12"===i}function xf(i){return"\ufe35"===i||"\ufe47"===i||"\ufe37"===i||"\ufe43"===i||"\ufe41"===i||"\ufe3d"===i||"\ufe3b"===i||"\ufe39"===i||"\ufe17"===i||"\ufe3f"===i}var wf=En,ep=function(i,e,n,o,u){var f,g,M=8*u-o-1,L=(1<<M)-1,E=L>>1,B=-7,V=n?u-1:0,Z=n?-1:1,ee=i[e+V];for(V+=Z,f=ee&(1<<-B)-1,ee>>=-B,B+=M;B>0;f=256*f+i[e+V],V+=Z,B-=8);for(g=f&(1<<-B)-1,f>>=-B,B+=o;B>0;g=256*g+i[e+V],V+=Z,B-=8);if(0===f)f=1-E;else{if(f===L)return g?NaN:1/0*(ee?-1:1);g+=Math.pow(2,o),f-=E}return(ee?-1:1)*g*Math.pow(2,f-o)},k_=function(i,e,n,o,u,f){var g,M,L,E=8*f-u-1,B=(1<<E)-1,V=B>>1,Z=23===u?Math.pow(2,-24)-Math.pow(2,-77):0,ee=o?0:f-1,ne=o?1:-1,le=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(M=isNaN(e)?1:0,g=B):(g=Math.floor(Math.log(e)/Math.LN2),e*(L=Math.pow(2,-g))<1&&(g--,L*=2),(e+=g+V>=1?Z/L:Z*Math.pow(2,1-V))*L>=2&&(g++,L/=2),g+V>=B?(M=0,g=B):g+V>=1?(M=(e*L-1)*Math.pow(2,u),g+=V):(M=e*Math.pow(2,V-1)*Math.pow(2,u),g=0));u>=8;i[n+ee]=255&M,ee+=ne,M/=256,u-=8);for(g=g<<u|M,E+=u;E>0;i[n+ee]=255&g,ee+=ne,g/=256,E-=8);i[n+ee-ne]|=128*le};function En(i){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(i)?i:new Uint8Array(i||0),this.pos=0,this.type=0,this.length=this.buf.length}En.Varint=0,En.Fixed64=1,En.Bytes=2,En.Fixed32=5;var tp=4294967296,La=1/tp,Kc="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function wc(i){return i.type===En.Bytes?i.readVarint()+i.pos:i.pos+1}function Mf(i,e,n){var o=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(o);for(var u=n.pos-1;u>=i;u--)n.buf[u+o]=n.buf[u]}function D_(i,e){for(var n=0;n<i.length;n++)e.writeVarint(i[n])}function L_(i,e){for(var n=0;n<i.length;n++)e.writeSVarint(i[n])}function S_(i,e){for(var n=0;n<i.length;n++)e.writeFloat(i[n])}function sy(i,e){for(var n=0;n<i.length;n++)e.writeDouble(i[n])}function ip(i,e){for(var n=0;n<i.length;n++)e.writeBoolean(i[n])}function oy(i,e){for(var n=0;n<i.length;n++)e.writeFixed32(i[n])}function ly(i,e){for(var n=0;n<i.length;n++)e.writeSFixed32(i[n])}function Md(i,e){for(var n=0;n<i.length;n++)e.writeFixed64(i[n])}function cy(i,e){for(var n=0;n<i.length;n++)e.writeSFixed64(i[n])}function nh(i,e){return(i[e]|i[e+1]<<8|i[e+2]<<16)+16777216*i[e+3]}function mu(i,e,n){i[n]=e,i[n+1]=e>>>8,i[n+2]=e>>>16,i[n+3]=e>>>24}function Tf(i,e){return(i[e]|i[e+1]<<8|i[e+2]<<16)+(i[e+3]<<24)}En.prototype={destroy:function(){this.buf=null},readFields:function(i,e,n){for(n=n||this.length;this.pos<n;){var o=this.readVarint(),u=o>>3,f=this.pos;this.type=7&o,i(u,e,this),this.pos===f&&this.skip(o)}return e},readMessage:function(i,e){return this.readFields(i,e,this.readVarint()+this.pos)},readFixed32:function(){var i=nh(this.buf,this.pos);return this.pos+=4,i},readSFixed32:function(){var i=Tf(this.buf,this.pos);return this.pos+=4,i},readFixed64:function(){var i=nh(this.buf,this.pos)+nh(this.buf,this.pos+4)*tp;return this.pos+=8,i},readSFixed64:function(){var i=nh(this.buf,this.pos)+Tf(this.buf,this.pos+4)*tp;return this.pos+=8,i},readFloat:function(){var i=ep(this.buf,this.pos,!0,23,4);return this.pos+=4,i},readDouble:function(){var i=ep(this.buf,this.pos,!0,52,8);return this.pos+=8,i},readVarint:function(i){var e,n,o=this.buf;return e=127&(n=o[this.pos++]),n<128?e:(e|=(127&(n=o[this.pos++]))<<7,n<128?e:(e|=(127&(n=o[this.pos++]))<<14,n<128?e:(e|=(127&(n=o[this.pos++]))<<21,n<128?e:function(u,f,g){var M,L,E=g.buf;if(M=(112&(L=E[g.pos++]))>>4,L<128||(M|=(127&(L=E[g.pos++]))<<3,L<128)||(M|=(127&(L=E[g.pos++]))<<10,L<128)||(M|=(127&(L=E[g.pos++]))<<17,L<128)||(M|=(127&(L=E[g.pos++]))<<24,L<128)||(M|=(1&(L=E[g.pos++]))<<31,L<128))return function Qc(i,e,n){return n?4294967296*e+(i>>>0):4294967296*(e>>>0)+(i>>>0)}(u,M,f);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=o[this.pos]))<<28,i,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var i=this.readVarint();return i%2==1?(i+1)/-2:i/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var i=this.readVarint()+this.pos,e=this.pos;return this.pos=i,i-e>=12&&Kc?Kc.decode(this.buf.subarray(e,i)):function(n,o,u){for(var f="",g=o;g<u;){var M,L,E,B=n[g],V=null,Z=B>239?4:B>223?3:B>191?2:1;if(g+Z>u)break;1===Z?B<128&&(V=B):2===Z?128==(192&(M=n[g+1]))&&(V=(31&B)<<6|63&M)<=127&&(V=null):3===Z?(L=n[g+2],128==(192&(M=n[g+1]))&&128==(192&L)&&((V=(15&B)<<12|(63&M)<<6|63&L)<=2047||V>=55296&&V<=57343)&&(V=null)):4===Z&&(L=n[g+2],E=n[g+3],128==(192&(M=n[g+1]))&&128==(192&L)&&128==(192&E)&&((V=(15&B)<<18|(63&M)<<12|(63&L)<<6|63&E)<=65535||V>=1114112)&&(V=null)),null===V?(V=65533,Z=1):V>65535&&(V-=65536,f+=String.fromCharCode(V>>>10&1023|55296),V=56320|1023&V),f+=String.fromCharCode(V),g+=Z}return f}(this.buf,e,i)},readBytes:function(){var i=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,i);return this.pos=i,e},readPackedVarint:function(i,e){if(this.type!==En.Bytes)return i.push(this.readVarint(e));var n=wc(this);for(i=i||[];this.pos<n;)i.push(this.readVarint(e));return i},readPackedSVarint:function(i){if(this.type!==En.Bytes)return i.push(this.readSVarint());var e=wc(this);for(i=i||[];this.pos<e;)i.push(this.readSVarint());return i},readPackedBoolean:function(i){if(this.type!==En.Bytes)return i.push(this.readBoolean());var e=wc(this);for(i=i||[];this.pos<e;)i.push(this.readBoolean());return i},readPackedFloat:function(i){if(this.type!==En.Bytes)return i.push(this.readFloat());var e=wc(this);for(i=i||[];this.pos<e;)i.push(this.readFloat());return i},readPackedDouble:function(i){if(this.type!==En.Bytes)return i.push(this.readDouble());var e=wc(this);for(i=i||[];this.pos<e;)i.push(this.readDouble());return i},readPackedFixed32:function(i){if(this.type!==En.Bytes)return i.push(this.readFixed32());var e=wc(this);for(i=i||[];this.pos<e;)i.push(this.readFixed32());return i},readPackedSFixed32:function(i){if(this.type!==En.Bytes)return i.push(this.readSFixed32());var e=wc(this);for(i=i||[];this.pos<e;)i.push(this.readSFixed32());return i},readPackedFixed64:function(i){if(this.type!==En.Bytes)return i.push(this.readFixed64());var e=wc(this);for(i=i||[];this.pos<e;)i.push(this.readFixed64());return i},readPackedSFixed64:function(i){if(this.type!==En.Bytes)return i.push(this.readSFixed64());var e=wc(this);for(i=i||[];this.pos<e;)i.push(this.readSFixed64());return i},skip:function(i){var e=7&i;if(e===En.Varint)for(;this.buf[this.pos++]>127;);else if(e===En.Bytes)this.pos=this.readVarint()+this.pos;else if(e===En.Fixed32)this.pos+=4;else{if(e!==En.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(i,e){this.writeVarint(i<<3|e)},realloc:function(i){for(var e=this.length||16;e<this.pos+i;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(i){this.realloc(4),mu(this.buf,i,this.pos),this.pos+=4},writeSFixed32:function(i){this.realloc(4),mu(this.buf,i,this.pos),this.pos+=4},writeFixed64:function(i){this.realloc(8),mu(this.buf,-1&i,this.pos),mu(this.buf,Math.floor(i*La),this.pos+4),this.pos+=8},writeSFixed64:function(i){this.realloc(8),mu(this.buf,-1&i,this.pos),mu(this.buf,Math.floor(i*La),this.pos+4),this.pos+=8},writeVarint:function(i){(i=+i||0)>268435455||i<0?function(e,n){var o,u,f,M;if(e>=0?(o=e%4294967296|0,u=e/4294967296|0):(u=~(-e/4294967296),4294967295^(o=~(-e%4294967296))?o=o+1|0:(o=0,u=u+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");n.realloc(10),f=o,(M=n).buf[M.pos++]=127&f|128,f>>>=7,M.buf[M.pos++]=127&f|128,f>>>=7,M.buf[M.pos++]=127&f|128,f>>>=7,M.buf[M.pos++]=127&f|128,M.buf[M.pos]=127&(f>>>=7),function(f,g){var M=(7&f)<<4;g.buf[g.pos++]|=M|((f>>>=3)?128:0),f&&(g.buf[g.pos++]=127&f|((f>>>=7)?128:0),f&&(g.buf[g.pos++]=127&f|((f>>>=7)?128:0),f&&(g.buf[g.pos++]=127&f|((f>>>=7)?128:0),f&&(g.buf[g.pos++]=127&f|((f>>>=7)?128:0),f&&(g.buf[g.pos++]=127&f)))))}(u,n)}(i,this):(this.realloc(4),this.buf[this.pos++]=127&i|(i>127?128:0),i<=127||(this.buf[this.pos++]=127&(i>>>=7)|(i>127?128:0),i<=127||(this.buf[this.pos++]=127&(i>>>=7)|(i>127?128:0),i<=127||(this.buf[this.pos++]=i>>>7&127))))},writeSVarint:function(i){this.writeVarint(i<0?2*-i-1:2*i)},writeBoolean:function(i){this.writeVarint(Boolean(i))},writeString:function(i){i=String(i),this.realloc(4*i.length),this.pos++;var e=this.pos;this.pos=function(o,u,f){for(var g,M,L=0;L<u.length;L++){if((g=u.charCodeAt(L))>55295&&g<57344){if(!M){g>56319||L+1===u.length?(o[f++]=239,o[f++]=191,o[f++]=189):M=g;continue}if(g<56320){o[f++]=239,o[f++]=191,o[f++]=189,M=g;continue}g=M-55296<<10|g-56320|65536,M=null}else M&&(o[f++]=239,o[f++]=191,o[f++]=189,M=null);g<128?o[f++]=g:(g<2048?o[f++]=g>>6|192:(g<65536?o[f++]=g>>12|224:(o[f++]=g>>18|240,o[f++]=g>>12&63|128),o[f++]=g>>6&63|128),o[f++]=63&g|128)}return f}(this.buf,i,this.pos);var n=this.pos-e;n>=128&&Mf(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(i){this.realloc(4),k_(this.buf,i,this.pos,!0,23,4),this.pos+=4},writeDouble:function(i){this.realloc(8),k_(this.buf,i,this.pos,!0,52,8),this.pos+=8},writeBytes:function(i){var e=i.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=i[n]},writeRawMessage:function(i,e){this.pos++;var n=this.pos;i(e,this);var o=this.pos-n;o>=128&&Mf(n,o,this),this.pos=n-1,this.writeVarint(o),this.pos+=o},writeMessage:function(i,e,n){this.writeTag(i,En.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(i,e){e.length&&this.writeMessage(i,D_,e)},writePackedSVarint:function(i,e){e.length&&this.writeMessage(i,L_,e)},writePackedBoolean:function(i,e){e.length&&this.writeMessage(i,ip,e)},writePackedFloat:function(i,e){e.length&&this.writeMessage(i,S_,e)},writePackedDouble:function(i,e){e.length&&this.writeMessage(i,sy,e)},writePackedFixed32:function(i,e){e.length&&this.writeMessage(i,oy,e)},writePackedSFixed32:function(i,e){e.length&&this.writeMessage(i,ly,e)},writePackedFixed64:function(i,e){e.length&&this.writeMessage(i,Md,e)},writePackedSFixed64:function(i,e){e.length&&this.writeMessage(i,cy,e)},writeBytesField:function(i,e){this.writeTag(i,En.Bytes),this.writeBytes(e)},writeFixed32Field:function(i,e){this.writeTag(i,En.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(i,e){this.writeTag(i,En.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(i,e){this.writeTag(i,En.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(i,e){this.writeTag(i,En.Fixed64),this.writeSFixed64(e)},writeVarintField:function(i,e){this.writeTag(i,En.Varint),this.writeVarint(e)},writeSVarintField:function(i,e){this.writeTag(i,En.Varint),this.writeSVarint(e)},writeStringField:function(i,e){this.writeTag(i,En.Bytes),this.writeString(e)},writeFloatField:function(i,e){this.writeTag(i,En.Fixed32),this.writeFloat(e)},writeDoubleField:function(i,e){this.writeTag(i,En.Fixed64),this.writeDouble(e)},writeBooleanField:function(i,e){this.writeVarintField(i,Boolean(e))}};var ju=Me(wf);function kf(i,e,n){e.glyphs=[],1===i&&n.readMessage(C_,e)}function C_(i,e,n){if(3===i){const{id:o,bitmap:u,width:f,height:g,left:M,top:L,advance:E}=n.readMessage(E_,{});e.glyphs.push({id:o,bitmap:new $c({width:f+6,height:g+6},u),metrics:{width:f,height:g,left:M,top:L,advance:E}})}else 4===i?e.ascender=n.readSVarint():5===i&&(e.descender=n.readSVarint())}function E_(i,e,n){1===i?e.id=n.readVarint():2===i?e.bitmap=n.readBytes():3===i?e.width=n.readVarint():4===i?e.height=n.readVarint():5===i?e.left=n.readSVarint():6===i?e.top=n.readSVarint():7===i&&(e.advance=n.readVarint())}function np(i){let e=0,n=0;for(const g of i)e+=g.w*g.h,n=Math.max(n,g.w);i.sort((g,M)=>M.h-g.h);const o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}];let u=0,f=0;for(const g of i)for(let M=o.length-1;M>=0;M--){const L=o[M];if(!(g.w>L.w||g.h>L.h)){if(g.x=L.x,g.y=L.y,f=Math.max(f,g.y+g.h),u=Math.max(u,g.x+g.w),g.w===L.w&&g.h===L.h){const E=o.pop();M<o.length&&(o[M]=E)}else g.h===L.h?(L.x+=g.w,L.w-=g.w):g.w===L.w?(L.y+=g.h,L.h-=g.h):(o.push({x:L.x+g.w,y:L.y,w:L.w-g.w,h:g.h}),L.y+=g.h,L.h-=g.h);break}}return{w:u,h:f,fill:e/(u*f)||0}}class ah{constructor(e,{pixelRatio:n,version:o,stretchX:u,stretchY:f,content:g}){this.paddedRect=e,this.pixelRatio=n,this.stretchX=u,this.stretchY=f,this.content=g,this.version=o}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Lf{constructor(e,n){const o={},u={};this.haveRenderCallbacks=[];const f=[];this.addImages(e,o,f),this.addImages(n,u,f);const{w:g,h:M}=np(f),L=new Po({width:g||1,height:M||1});for(const E in e){const B=e[E],V=o[E].paddedRect;Po.copy(B.data,L,{x:0,y:0},{x:V.x+1,y:V.y+1},B.data)}for(const E in n){const B=n[E],V=u[E].paddedRect,Z=V.x+1,ee=V.y+1,ne=B.data.width,le=B.data.height;Po.copy(B.data,L,{x:0,y:0},{x:Z,y:ee},B.data),Po.copy(B.data,L,{x:0,y:le-1},{x:Z,y:ee-1},{width:ne,height:1}),Po.copy(B.data,L,{x:0,y:0},{x:Z,y:ee+le},{width:ne,height:1}),Po.copy(B.data,L,{x:ne-1,y:0},{x:Z-1,y:ee},{width:1,height:le}),Po.copy(B.data,L,{x:0,y:0},{x:Z+ne,y:ee},{width:1,height:le})}this.image=L,this.iconPositions=o,this.patternPositions=u}addImages(e,n,o){for(const u in e){const f=e[u],g={x:0,y:0,w:f.data.width+2,h:f.data.height+2};o.push(g),n[u]=new ah(g,f),f.hasRenderCallback&&this.haveRenderCallbacks.push(u)}}patchUpdatedImages(e,n){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(o=>e.hasImage(o)),e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const o in e.updatedImages)this.patchUpdatedImage(this.iconPositions[o],e.getImage(o),n),this.patchUpdatedImage(this.patternPositions[o],e.getImage(o),n)}patchUpdatedImage(e,n,o){if(!e||!n||e.version===n.version)return;e.version=n.version;const[u,f]=e.tl;o.update(n.data,void 0,{x:u,y:f})}}Bt(ah,"ImagePosition"),Bt(Lf,"ImageAtlas");const Ro={horizontal:1,vertical:2,horizontalOnly:3};class sh{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,n){const o=new sh;return o.scale=e||1,o.fontStack=n,o}static forImage(e){const n=new sh;return n.imageName=e,n}}class Td{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,n){const o=new Td;for(let u=0;u<e.sections.length;u++){const f=e.sections[u];f.image?o.addImageSection(f):o.addTextSection(f,n)}return o}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(e){this.text=function(n,o){let u="";for(let f=0;f<n.length;f++){const g=n.charCodeAt(f+1)||null,M=n.charCodeAt(f-1)||null;u+=!o&&(g&&gc(g)&&!Bu[n[f+1]]||M&&gc(M)&&!Bu[n[f-1]])||!Bu[n[f]]?n[f]:Bu[n[f]]}return u}(this.text,e)}trim(){let e=0;for(let o=0;o<this.text.length&&kd[this.text.charCodeAt(o)];o++)e++;let n=this.text.length;for(let o=this.text.length-1;o>=0&&o>=e&&kd[this.text.charCodeAt(o)];o--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)}substring(e,n){const o=new Td;return o.text=this.text.substring(e,n),o.sectionIndex=this.sectionIndex.slice(e,n),o.sections=this.sections,o}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,n)=>Math.max(e,this.sections[n].scale),0)}addTextSection(e,n){this.text+=e.text,this.sections.push(sh.forText(e.scale,e.fontStack||n));const o=this.sections.length-1;for(let u=0;u<e.text.length;++u)this.sectionIndex.push(o)}addImageSection(e){const n=e.image?e.image.name:"";if(0===n.length)return void Pi("Can't add FormattedSection with an empty image.");const o=this.getNextImageSectionCharCode();o?(this.text+=String.fromCharCode(o),this.sections.push(sh.forImage(n)),this.sectionIndex.push(this.sections.length-1)):Pi("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Sf(i,e,n,o,u,f,g,M,L,E,B,V,Z,ee,ne){const le=Td.fromFeature(i,u);V===Ro.vertical&&le.verticalizePunctuation(Z);let _e=[];const xe=function(Pe,Qe,$e,dt,Tt,it){if(!Pe)return[];const mt=[],ft=function(Ft,Nt,zt,_i,Ct,$t){let gi=0;for(let Ki=0;Ki<Ft.length();Ki++){const fi=Ft.getSection(Ki);gi+=Cf(Ft.getCharCode(Ki),fi,_i,Ct,Nt,$t)}return gi/Math.max(1,Math.ceil(gi/zt))}(Pe,Qe,$e,dt,Tt,it),xt=Pe.text.indexOf("\u200b")>=0;let Lt=0;for(let Ft=0;Ft<Pe.length();Ft++){const Nt=Pe.getSection(Ft),zt=Pe.getCharCode(Ft);if(kd[zt]||(Lt+=Cf(zt,Nt,dt,Tt,Qe,it)),Ft<Pe.length()-1){const _i=!((ct=zt)<11904||!(Rt_Bopomofo_Extended(ct)||Rt_Bopomofo(ct)||Rt_CJK_Compatibility_Forms(ct)||Rt_CJK_Compatibility_Ideographs(ct)||Rt_CJK_Compatibility(ct)||Rt_CJK_Radicals_Supplement(ct)||Rt_CJK_Strokes(ct)||Rt_CJK_Symbols_and_Punctuation(ct)||Rt_CJK_Unified_Ideographs_Extension_A(ct)||Rt_CJK_Unified_Ideographs(ct)||Rt_Enclosed_CJK_Letters_and_Months(ct)||Rt_Halfwidth_and_Fullwidth_Forms(ct)||Rt_Hiragana(ct)||Rt_Ideographic_Description_Characters(ct)||Rt_Kangxi_Radicals(ct)||Rt_Katakana_Phonetic_Extensions(ct)||Rt_Katakana(ct)||Rt_Vertical_Forms(ct)||Rt_Yi_Radicals(ct)||Rt_Yi_Syllables(ct)));(uy[zt]||_i||Nt.imageName)&&mt.push(oh(Ft+1,Lt,ft,mt,A_(zt,Pe.getCharCode(Ft+1),_i&&xt),!1))}}var ct;return ap(oh(Pe.length(),Lt,ft,mt,0,!0))}(le,E,f,e,o,ee),{processBidirectionalText:Se,processStyledBidirectionalText:we}=R;if(Se&&1===le.sections.length){const Pe=Se(le.toString(),xe);for(const Qe of Pe){const $e=new Td;$e.text=Qe,$e.sections=le.sections;for(let dt=0;dt<Qe.length;dt++)$e.sectionIndex.push(0);_e.push($e)}}else if(we){const Pe=we(le.text,le.sectionIndex,xe);for(const Qe of Pe){const $e=new Td;$e.text=Qe[0],$e.sectionIndex=Qe[1],$e.sections=le.sections,_e.push($e)}}else _e=function(Pe,Qe){const $e=[],dt=Pe.text;let Tt=0;for(const it of Qe)$e.push(Pe.substring(Tt,it)),Tt=it;return Tt<dt.length&&$e.push(Pe.substring(Tt,dt.length)),$e}(le,xe);const Le=[],Ie={positionedLines:Le,text:le.toString(),top:B[1],bottom:B[1],left:B[0],right:B[0],writingMode:V,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Pe,Qe,$e,dt,Tt,it,mt,ft,xt,Lt,ct,Ft){let Nt=0,zt=0,_i=0;const Ct="right"===ft?1:"left"===ft?0:.5;let $t=!1;for(const li of Tt){const yi=li.getSections();for(const gn of yi){if(gn.imageName)continue;const bn=Qe[gn.fontStack];if(bn&&($t=void 0!==bn.ascender&&void 0!==bn.descender,!$t))break}if(!$t)break}let gi=0;for(const li of Tt){li.trim();const yi=li.getMaxScale(),gn=24*(yi-1),bn={positionedGlyphs:[],lineOffset:0};Pe.positionedLines[gi]=bn;const In=bn.positionedGlyphs;let xn=0;if(!li.length()){zt+=it,++gi;continue}let Gn=0,or=0;for(let wn=0;wn<li.length();wn++){const Kn=li.getSection(wn),Sr=li.getSectionIndex(wn),Qn=li.getCharCode(wn);let rn=Kn.scale,mr=null,Pn=null,Ls=null,_r=24,Sa=0;const ha=!(xt===Ro.horizontal||!ct&&!At(Qn)||ct&&(kd[Qn]||(Ki=Qn,Rt_Arabic(Ki)||Rt_Arabic_Supplement(Ki)||Rt_Arabic_Extended_A(Ki)||Rt_Arabic_Presentation_Forms_A(Ki)||Rt_Arabic_Presentation_Forms_B(Ki))));if(Kn.imageName){const Zs=dt[Kn.imageName];if(!Zs)continue;Ls=Kn.imageName,Pe.iconsInText=Pe.iconsInText||!0,Pn=Zs.paddedRect;const pa=Zs.displaySize;rn=24*rn/Ft,mr={width:pa[0],height:pa[1],left:1,top:-3,advance:ha?pa[1]:pa[0],localGlyph:!1},Sa=$t?-mr.height*rn:24*yi-17-pa[1]*rn,_r=mr.advance;const rc=(ha?pa[0]:pa[1])*rn-24*yi;rc>0&&rc>xn&&(xn=rc)}else{const Zs=$e[Kn.fontStack];if(!Zs)continue;Zs[Qn]&&(Pn=Zs[Qn]);const pa=Qe[Kn.fontStack];if(!pa)continue;const rc=pa.glyphs[Qn];if(!rc)continue;if(mr=rc.metrics,_r=8203!==Qn?24:0,$t){const Rd=void 0!==pa.ascender?Math.abs(pa.ascender):0,Fd=void 0!==pa.descender?Math.abs(pa.descender):0,Mh=(Rd+Fd)*rn;Gn<Mh&&(Gn=Mh,or=(Rd-Fd)/2*rn),Sa=-Rd*rn}else Sa=24*(yi-rn)-17}ha?(Pe.verticalizable=!0,In.push({glyph:Qn,imageName:Ls,x:Nt,y:zt+Sa,vertical:ha,scale:rn,localGlyph:mr.localGlyph,fontStack:Kn.fontStack,sectionIndex:Sr,metrics:mr,rect:Pn}),Nt+=_r*rn+Lt):(In.push({glyph:Qn,imageName:Ls,x:Nt,y:zt+Sa,vertical:ha,scale:rn,localGlyph:mr.localGlyph,fontStack:Kn.fontStack,sectionIndex:Sr,metrics:mr,rect:Pn}),Nt+=mr.advance*rn+Lt)}0!==In.length&&(_i=Math.max(Nt-Lt,_i),$t?op(In,Ct,xn,or,it*yi/2):op(In,Ct,xn,0,it/2)),Nt=0;const Lr=it*yi+xn;bn.lineOffset=Math.max(xn,gn),zt+=Lr,++gi}var Ki;const fi=zt,{horizontalAlign:Qt,verticalAlign:An}=sp(mt);(function(li,yi,gn,bn,In,xn){const Gn=(yi-gn)*In,or=-xn*bn;for(const Lr of li)for(const wn of Lr.positionedGlyphs)wn.x+=Gn,wn.y+=or})(Pe.positionedLines,Ct,Qt,An,_i,fi),Pe.top+=-An*fi,Pe.bottom=Pe.top+fi,Pe.left+=-Qt*_i,Pe.right=Pe.left+_i,Pe.hasBaseline=$t}(Ie,e,n,o,_e,g,M,L,V,E,Z,ne),!function(Pe){for(const Qe of Pe)if(0!==Qe.positionedGlyphs.length)return!1;return!0}(Le)&&Ie}const kd={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},uy={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Cf(i,e,n,o,u,f){if(e.imageName){const g=o[e.imageName];return g?g.displaySize[0]*e.scale*24/f+u:0}{const g=n[e.fontStack],M=g&&g.glyphs[i];return M?M.metrics.advance*e.scale+u:0}}function Ef(i,e,n,o){const u=Math.pow(i-e,2);return o?i<e?u/2:2*u:u+Math.abs(n)*n}function A_(i,e,n){let o=0;return 10===i&&(o-=1e4),n&&(o+=150),40!==i&&65288!==i||(o+=50),41!==e&&65289!==e||(o+=50),o}function oh(i,e,n,o,u,f){let g=null,M=Ef(e,n,u,f);for(const L of o){const E=Ef(e-L.x,n,u,f)+L.badness;E<=M&&(g=L,M=E)}return{index:i,x:e,priorBreak:g,badness:M}}function ap(i){return i?ap(i.priorBreak).concat(i.index):[]}function sp(i){let e=.5,n=.5;switch(i){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(i){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function op(i,e,n,o,u){if(!(e||n||o||u))return;const f=i.length-1,g=i[f],M=(g.x+g.metrics.advance*g.scale)*e;for(let L=0;L<=f;L++)i[L].x-=M,i[L].y+=n+o+u}function I_(i,e,n){const{horizontalAlign:o,verticalAlign:u}=sp(n),f=e[0]-i.displaySize[0]*o,g=e[1]-i.displaySize[1]*u;return{image:i,top:g,bottom:g+i.displaySize[1],left:f,right:f+i.displaySize[0]}}function Af(i,e,n,o,u,f){const g=i.image;let M;if(g.content){const _e=g.content,xe=g.pixelRatio||1;M=[_e[0]/xe,_e[1]/xe,g.displaySize[0]-_e[2]/xe,g.displaySize[1]-_e[3]/xe]}const L=e.left*f,E=e.right*f;let B,V,Z,ee;"width"===n||"both"===n?(ee=u[0]+L-o[3],V=u[0]+E+o[1]):(ee=u[0]+(L+E-g.displaySize[0])/2,V=ee+g.displaySize[0]);const ne=e.top*f,le=e.bottom*f;return"height"===n||"both"===n?(B=u[1]+ne-o[0],Z=u[1]+le+o[2]):(B=u[1]+(ne+le-g.displaySize[1])/2,Z=B+g.displaySize[1]),{image:g,top:B,right:V,bottom:Z,left:ee,collisionPadding:M}}class Mc extends He{constructor(e,n,o,u,f){super(e,n),this.angle=u,this.z=o,void 0!==f&&(this.segment=f)}clone(){return new Mc(this.x,this.y,this.z,this.angle,this.segment)}}function If(i,e,n,o,u){if(void 0===e.segment)return!0;let f=e,g=e.segment+1,M=0;for(;M>-n/2;){if(g--,g<0)return!1;M-=i[g].dist(f),f=i[g]}M+=i[g].dist(i[g+1]),g++;const L=[];let E=0;for(;M<n/2;){const B=i[g],V=i[g+1];if(!V)return!1;let Z=i[g-1].angleTo(B)-B.angleTo(V);for(Z=Math.abs((Z+3*Math.PI)%(2*Math.PI)-Math.PI),L.push({distance:M,angleDelta:Z}),E+=Z;M-L[0].distance>o;)E-=L.shift().angleDelta;if(E>u)return!1;g++,M+=B.dist(V)}return!0}function Pf(i){let e=0;for(let n=0;n<i.length-1;n++)e+=i[n].dist(i[n+1]);return e}function lp(i,e,n){return i?.6*e*n:0}function cp(i,e){return Math.max(i?i.right-i.left:0,e?e.right-e.left:0)}function P_(i,e,n,o,u,f){const g=lp(n,u,f),M=cp(n,o)*f;let L=0;const E=Pf(i)/2;for(let B=0;B<i.length-1;B++){const V=i[B],Z=i[B+1],ee=V.dist(Z);if(L+ee>E){const ne=(E-L)/ee,le=ki(V.x,Z.x,ne),_e=ki(V.y,Z.y,ne),xe=new Mc(le,_e,0,Z.angleTo(V),B);return!g||If(i,xe,M,g,e)?xe:void 0}L+=ee}}function lh(i,e,n,o,u,f,g,M,L){const E=lp(o,f,g),B=cp(o,u),V=B*g,Z=0===i[0].x||i[0].x===L||0===i[0].y||i[0].y===L;return e-V<e/4&&(e=V+e/4),Of(i,Z?e/2*M%e:(B/2+2*f)*g*M%e,e,E,n,V,Z,!1,L)}function Of(i,e,n,o,u,f,g,M,L){const E=f/2,B=Pf(i);let V=0,Z=e-n,ee=[];for(let ne=0;ne<i.length-1;ne++){const le=i[ne],_e=i[ne+1],xe=le.dist(_e),Se=_e.angleTo(le);for(;Z+n<V+xe;){Z+=n;const we=(Z-V)/xe,Le=ki(le.x,_e.x,we),Ie=ki(le.y,_e.y,we);if(Le>=0&&Le<L&&Ie>=0&&Ie<L&&Z-E>=0&&Z+E<=B){const Pe=new Mc(Le,Ie,0,Se,ne);Pe._round(),o&&!If(i,Pe,f,o,u)||ee.push(Pe)}}V+=xe}return M||ee.length||g||(ee=Of(i,V/2,n,o,u,f,g,!0,L)),ee}function Nu(i,e,n,o,u){const f=[];for(let g=0;g<i.length;g++){const M=i[g];let L;for(let E=0;E<M.length-1;E++){let B=M[E],V=M[E+1];B.x<e&&V.x<e||(B.x<e?B=new He(e,B.y+(e-B.x)/(V.x-B.x)*(V.y-B.y))._round():V.x<e&&(V=new He(e,B.y+(e-B.x)/(V.x-B.x)*(V.y-B.y))._round()),B.y<n&&V.y<n||(B.y<n?B=new He(B.x+(n-B.y)/(V.y-B.y)*(V.x-B.x),n)._round():V.y<n&&(V=new He(B.x+(n-B.y)/(V.y-B.y)*(V.x-B.x),n)._round()),B.x>=o&&V.x>=o||(B.x>=o?B=new He(o,B.y+(o-B.x)/(V.x-B.x)*(V.y-B.y))._round():V.x>=o&&(V=new He(o,B.y+(o-B.x)/(V.x-B.x)*(V.y-B.y))._round()),B.y>=u&&V.y>=u||(B.y>=u?B=new He(B.x+(u-B.y)/(V.y-B.y)*(V.x-B.x),u)._round():V.y>=u&&(V=new He(B.x+(u-B.y)/(V.y-B.y)*(V.x-B.x),u)._round()),L&&B.equals(L[L.length-1])||(L=[B],f.push(L)),L.push(V)))))}}return f}Bt(Mc,"Anchor");const Hu=1e20;function Rf(i,e,n,o,u,f,g,M,L){for(let E=e;E<e+o;E++)up(i,n*f+E,f,u,g,M,L);for(let E=n;E<n+u;E++)up(i,E*f+e,1,o,g,M,L)}function up(i,e,n,o,u,f,g){f[0]=0,g[0]=-Hu,g[1]=Hu,u[0]=i[e];for(let M=1,L=0,E=0;M<o;M++){u[M]=i[e+M*n];const B=M*M;do{const V=f[L];E=(u[M]-u[V]+B-V*V)/(M-V)/2}while(E<=g[L]&&--L>-1);L++,f[L]=M,g[L]=E,g[L+1]=Hu}for(let M=0,L=0;M<o;M++){for(;g[L+1]<M;)L++;const E=f[L],B=M-E;i[e+M*n]=u[E]+B*B}}const Tc={none:0,ideographs:1,all:2};class kc{constructor(e,n,o){this.requestManager=e,this.localGlyphMode=n,this.localFontFamily=o,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(e){this.url=e}getGlyphs(e,n){const o=[];for(const u in e)for(const f of e[u])o.push({stack:u,id:f});Tn(o,({stack:u,id:f},g)=>{let M=this.entries[u];M||(M=this.entries[u]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let L=M.glyphs[f];if(void 0!==L)return void g(null,{stack:u,id:f,glyph:L});if(L=this._tinySDF(M,u,f),L)return M.glyphs[f]=L,void g(null,{stack:u,id:f,glyph:L});const E=Math.floor(f/256);if(256*E>65535)return void g(new Error("glyphs > 65535 not supported"));if(M.ranges[E])return void g(null,{stack:u,id:f,glyph:L});let B=M.requests[E];B||(B=M.requests[E]=[],kc.loadGlyphRange(u,E,this.url,this.requestManager,(V,Z)=>{if(Z){M.ascender=Z.ascender,M.descender=Z.descender;for(const ee in Z.glyphs)this._doesCharSupportLocalGlyph(+ee)||(M.glyphs[+ee]=Z.glyphs[+ee]);M.ranges[E]=!0}for(const ee of B)ee(V,Z);delete M.requests[E]})),B.push((V,Z)=>{V?g(V):Z&&g(null,{stack:u,id:f,glyph:Z.glyphs[f]||null})})},(u,f)=>{if(u)n(u);else if(f){const g={};for(const{stack:M,id:L,glyph:E}of f)void 0===g[M]&&(g[M]={}),void 0===g[M].glyphs&&(g[M].glyphs={}),g[M].glyphs[L]=E&&{id:E.id,bitmap:E.bitmap.clone(),metrics:E.metrics},g[M].ascender=this.entries[M].ascender,g[M].descender=this.entries[M].descender;n(null,g)}})}_doesCharSupportLocalGlyph(e){return this.localGlyphMode!==Tc.none&&(this.localGlyphMode===Tc.all?!!this.localFontFamily:!!this.localFontFamily&&(Rt_CJK_Unified_Ideographs(e)||Rt_Hangul_Syllables(e)||Rt_Hiragana(e)||Rt_Katakana(e)||Rt_CJK_Symbols_and_Punctuation(e)))}_tinySDF(e,n,o){const u=this.localFontFamily;if(!u||!this._doesCharSupportLocalGlyph(o))return;let f=e.tinySDF;if(!f){let le="400";/bold/i.test(n)?le="900":/medium/i.test(n)?le="500":/light/i.test(n)&&(le="200"),f=e.tinySDF=new kc.TinySDF({fontFamily:u,fontWeight:le,fontSize:48,buffer:6,radius:16}),f.fontWeight=le}if(this.localGlyphs[f.fontWeight][o])return this.localGlyphs[f.fontWeight][o];const g=String.fromCharCode(o),{data:M,width:L,height:E,glyphWidth:B,glyphHeight:V,glyphLeft:Z,glyphTop:ee,glyphAdvance:ne}=f.draw(g);return this.localGlyphs[f.fontWeight][o]={id:o,bitmap:new $c({width:L,height:E},M),metrics:{width:B/2,height:V/2,left:Z/2,top:ee/2-27,advance:ne/2,localGlyph:!0}}}}kc.loadGlyphRange=function(i,e,n,o,u){const f=256*e,g=f+255,M=o.transformRequest(o.normalizeGlyphsURL(n).replace("{fontstack}",i).replace("{range}",`${f}-${g}`),Yn.Glyphs);vr(M,(L,E)=>{if(L)u(L);else if(E){const B={},V=new ju(E).readFields(kf,{});for(const Z of V.glyphs)B[Z.id]=Z;u(null,{glyphs:B,ascender:V.ascender,descender:V.descender})}})},kc.TinySDF=class{constructor({fontSize:i=24,buffer:e=3,radius:n=8,cutoff:o=.25,fontFamily:u="sans-serif",fontWeight:f="normal",fontStyle:g="normal"}={}){this.buffer=e,this.cutoff=o,this.radius=n;const M=this.size=i+4*e,L=this._createCanvas(M),E=this.ctx=L.getContext("2d",{willReadFrequently:!0});E.font=`${g} ${f} ${i}px ${u}`,E.textBaseline="alphabetic",E.textAlign="left",E.fillStyle="black",this.gridOuter=new Float64Array(M*M),this.gridInner=new Float64Array(M*M),this.f=new Float64Array(M),this.z=new Float64Array(M+1),this.v=new Uint16Array(M)}_createCanvas(i){const e=document.createElement("canvas");return e.width=e.height=i,e}draw(i){const{width:e,actualBoundingBoxAscent:n,actualBoundingBoxDescent:o,actualBoundingBoxLeft:u,actualBoundingBoxRight:f}=this.ctx.measureText(i),g=Math.ceil(n),M=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(f-u))),L=Math.min(this.size-this.buffer,g+Math.ceil(o)),E=M+2*this.buffer,B=L+2*this.buffer,V=Math.max(E*B,0),Z=new Uint8ClampedArray(V),ee={data:Z,width:E,height:B,glyphWidth:M,glyphHeight:L,glyphTop:g,glyphLeft:0,glyphAdvance:e};if(0===M||0===L)return ee;const{ctx:ne,buffer:le,gridInner:_e,gridOuter:xe}=this;ne.clearRect(le,le,M,L),ne.fillText(i,le,le+g);const Se=ne.getImageData(le,le,M,L);xe.fill(Hu,0,V),_e.fill(0,0,V);for(let we=0;we<L;we++)for(let Le=0;Le<M;Le++){const Ie=Se.data[4*(we*M+Le)+3]/255;if(0===Ie)continue;const Pe=(we+le)*E+Le+le;if(1===Ie)xe[Pe]=0,_e[Pe]=Hu;else{const Qe=.5-Ie;xe[Pe]=Qe>0?Qe*Qe:0,_e[Pe]=Qe<0?Qe*Qe:0}}Rf(xe,0,0,E,B,E,this.f,this.v,this.z),Rf(_e,le,le,M,L,E,this.f,this.v,this.z);for(let we=0;we<V;we++){const Le=Math.sqrt(xe[we])-Math.sqrt(_e[we]);Z[we]=Math.round(255-255*(Le/this.radius+this.cutoff))}return ee}};function O_(i,e,n,o){const u=[],f=i.image,g=f.pixelRatio,M=f.paddedRect.w-2,L=f.paddedRect.h-2,E=i.right-i.left,B=i.bottom-i.top,V=f.stretchX||[[0,M]],Z=f.stretchY||[[0,L]],ee=(it,mt)=>it+mt[1]-mt[0],ne=V.reduce(ee,0),le=Z.reduce(ee,0),_e=M-ne,xe=L-le;let Se=0,we=ne,Le=0,Ie=le,Pe=0,Qe=_e,$e=0,dt=xe;if(f.content&&o){const it=f.content;Se=_u(V,0,it[0]),Le=_u(Z,0,it[1]),we=_u(V,it[0],it[2]),Ie=_u(Z,it[1],it[3]),Pe=it[0]-Se,$e=it[1]-Le,Qe=it[2]-it[0]-we,dt=it[3]-it[1]-Ie}const Tt=(it,mt,ft,xt)=>{const Lt=ch(it.stretch-Se,we,E,i.left),ct=uh(it.fixed-Pe,Qe,it.stretch,ne),Ft=ch(mt.stretch-Le,Ie,B,i.top),Nt=uh(mt.fixed-$e,dt,mt.stretch,le),zt=ch(ft.stretch-Se,we,E,i.left),_i=uh(ft.fixed-Pe,Qe,ft.stretch,ne),Ct=ch(xt.stretch-Le,Ie,B,i.top),$t=uh(xt.fixed-$e,dt,xt.stretch,le),gi=new He(Lt,Ft),Ki=new He(zt,Ft),fi=new He(zt,Ct),Qt=new He(Lt,Ct),An=new He(ct/g,Nt/g),li=new He(_i/g,$t/g),yi=e*Math.PI/180;if(yi){const In=Math.sin(yi),xn=Math.cos(yi),Gn=[xn,-In,In,xn];gi._matMult(Gn),Ki._matMult(Gn),Qt._matMult(Gn),fi._matMult(Gn)}const gn=it.stretch+it.fixed,bn=mt.stretch+mt.fixed;return{tl:gi,tr:Ki,bl:Qt,br:fi,tex:{x:f.paddedRect.x+1+gn,y:f.paddedRect.y+1+bn,w:ft.stretch+ft.fixed-gn,h:xt.stretch+xt.fixed-bn},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:An,pixelOffsetBR:li,minFontScaleX:Qe/g/E,minFontScaleY:dt/g/B,isSDF:n}};if(o&&(f.stretchX||f.stretchY)){const it=dp(V,_e,ne),mt=dp(Z,xe,le);for(let ft=0;ft<it.length-1;ft++){const xt=it[ft],Lt=it[ft+1];for(let ct=0;ct<mt.length-1;ct++)u.push(Tt(xt,mt[ct],Lt,mt[ct+1]))}}else u.push(Tt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:M+1},{fixed:0,stretch:L+1}));return u}function _u(i,e,n){let o=0;for(const u of i)o+=Math.max(e,Math.min(n,u[1]))-Math.max(e,Math.min(n,u[0]));return o}function dp(i,e,n){const o=[{fixed:-1,stretch:0}];for(const[u,f]of i){const g=o[o.length-1];o.push({fixed:u-g.stretch,stretch:g.stretch}),o.push({fixed:u-g.stretch,stretch:g.stretch+(f-u)})}return o.push({fixed:e+1,stretch:n}),o}function ch(i,e,n,o){return i/e*n+o}function uh(i,e,n,o){return i-e*n/o}function R_(i,e,n,o){const u=e+i.positionedLines[o].lineOffset;return 0===o?n+u/2:n+(u+(e+i.positionedLines[o-1].lineOffset))/2}class F_{constructor(e=[],n=Ff){if(this.data=e,this.length=this.data.length,this.compare=n,this.length>0)for(let o=(this.length>>1)-1;o>=0;o--)this._down(o)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],n=this.data.pop();return this.length--,this.length>0&&(this.data[0]=n,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:n,compare:o}=this,u=n[e];for(;e>0;){const f=e-1>>1,g=n[f];if(o(u,g)>=0)break;n[e]=g,e=f}n[e]=u}_down(e){const{data:n,compare:o}=this,u=this.length>>1,f=n[e];for(;e<u;){let g=1+(e<<1),M=n[g];const L=g+1;if(L<this.length&&o(n[L],M)<0&&(g=L,M=n[L]),o(M,f)>=0)break;n[e]=M,e=g}n[e]=f}}function Ff(i,e){return i<e?-1:i>e?1:0}function Y_(i,e=1,n=!1){let o=1/0,u=1/0,f=-1/0,g=-1/0;const M=i[0];for(let ee=0;ee<M.length;ee++){const ne=M[ee];(!ee||ne.x<o)&&(o=ne.x),(!ee||ne.y<u)&&(u=ne.y),(!ee||ne.x>f)&&(f=ne.x),(!ee||ne.y>g)&&(g=ne.y)}const L=Math.min(f-o,g-u);let E=L/2;const B=new F_([],z_);if(0===L)return new He(o,u);for(let ee=o;ee<f;ee+=L)for(let ne=u;ne<g;ne+=L)B.push(new Dc(ee+E,ne+E,E,i));let V=function(ee){let ne=0,le=0,_e=0;const xe=ee[0];for(let Se=0,we=xe.length,Le=we-1;Se<we;Le=Se++){const Ie=xe[Se],Pe=xe[Le],Qe=Ie.x*Pe.y-Pe.x*Ie.y;le+=(Ie.x+Pe.x)*Qe,_e+=(Ie.y+Pe.y)*Qe,ne+=3*Qe}return new Dc(le/ne,_e/ne,0,ee)}(i),Z=B.length;for(;B.length;){const ee=B.pop();(ee.d>V.d||!V.d)&&(V=ee,n&&console.log("found best %d after %d probes",Math.round(1e4*ee.d)/1e4,Z)),ee.max-V.d<=e||(E=ee.h/2,B.push(new Dc(ee.p.x-E,ee.p.y-E,E,i)),B.push(new Dc(ee.p.x+E,ee.p.y-E,E,i)),B.push(new Dc(ee.p.x-E,ee.p.y+E,E,i)),B.push(new Dc(ee.p.x+E,ee.p.y+E,E,i)),Z+=4)}return n&&(console.log(`num probes: ${Z}`),console.log(`best distance: ${V.d}`)),V.p}function z_(i,e){return e.max-i.max}class Dc{constructor(e,n,o,u){this.p=new He(e,n),this.h=o,this.d=function(f,g){let M=!1,L=1/0;for(let E=0;E<g.length;E++){const B=g[E];for(let V=0,Z=B.length,ee=Z-1;V<Z;ee=V++){const ne=B[V],le=B[ee];ne.y>f.y!=le.y>f.y&&f.x<(le.x-ne.x)*(f.y-ne.y)/(le.y-ne.y)+ne.x&&(M=!M),L=Math.min(L,Hm(f,ne,le))}}return(M?1:-1)*Math.sqrt(L)}(this.p,u),this.max=this.d+this.h*Math.SQRT2}}const hp=Number.POSITIVE_INFINITY,B_=Math.sqrt(2);function j_(i,[e,n]){let o=0,u=0;if(n===hp){e<0&&(e=0);const f=e/B_;switch(i){case"top-right":case"top-left":u=f-7;break;case"bottom-right":case"bottom-left":u=7-f;break;case"bottom":u=7-e;break;case"top":u=e-7}switch(i){case"top-right":case"bottom-right":o=-f;break;case"top-left":case"bottom-left":o=f;break;case"left":o=e;break;case"right":o=-e}}else{switch(e=Math.abs(e),n=Math.abs(n),i){case"top-right":case"top-left":case"top":u=n-7;break;case"bottom-right":case"bottom-left":case"bottom":u=7-n}switch(i){case"top-right":case"bottom-right":case"right":o=-e;break;case"top-left":case"bottom-left":case"left":o=e}}return[o,u]}function N_(i,e,n,o,u,f,g,M,L,E){i.createArrays(),i.tilePixelRatio=Jt/(512*i.overscaling),i.compareText={},i.iconsNeedLinear=!1;const B=i.layers[0].layout,V=i.layers[0]._unevaluatedLayout._values,Z={};if("composite"===i.textSizeData.kind){const{minZoom:le,maxZoom:_e}=i.textSizeData;Z.compositeTextSizes=[V["text-size"].possiblyEvaluate(new H(le),M),V["text-size"].possiblyEvaluate(new H(_e),M)]}if("composite"===i.iconSizeData.kind){const{minZoom:le,maxZoom:_e}=i.iconSizeData;Z.compositeIconSizes=[V["icon-size"].possiblyEvaluate(new H(le),M),V["icon-size"].possiblyEvaluate(new H(_e),M)]}Z.layoutTextSize=V["text-size"].possiblyEvaluate(new H(L+1),M),Z.layoutIconSize=V["icon-size"].possiblyEvaluate(new H(L+1),M),Z.textMaxSize=V["text-size"].possiblyEvaluate(new H(18),M);const ee="map"===B.get("text-rotation-alignment")&&"point"!==B.get("symbol-placement"),ne=B.get("text-size");for(const le of i.features){const _e=B.get("text-font").evaluate(le,{},M).join(","),xe=ne.evaluate(le,{},M),Se=Z.layoutTextSize.evaluate(le,{},M),we=(Z.layoutIconSize.evaluate(le,{},M),{horizontal:{},vertical:void 0}),Le=le.text;let Ie,Pe=[0,0];if(Le){const dt=Le.toString(),Tt=24*B.get("text-letter-spacing").evaluate(le,{},M),it=24*B.get("text-line-height").evaluate(le,{},M),mt=cu(dt)?Tt:0,ft=B.get("text-anchor").evaluate(le,{},M),xt=B.get("text-variable-anchor");if(!xt){const zt=B.get("text-radial-offset").evaluate(le,{},M);Pe=zt?j_(ft,[24*zt,hp]):B.get("text-offset").evaluate(le,{},M).map(_i=>24*_i)}let Lt=ee?"center":B.get("text-justify").evaluate(le,{},M);const ct="point"===B.get("symbol-placement"),Ft=ct?24*B.get("text-max-width").evaluate(le,{},M):1/0,Nt=zt=>{i.allowVerticalPlacement&&_c(dt)&&(we.vertical=Sf(Le,e,n,u,_e,Ft,it,ft,zt,mt,Pe,Ro.vertical,!0,Se,xe))};if(!ee&&xt){const zt="auto"===Lt?xt.map(Ct=>pp(Ct)):[Lt];let _i=!1;for(let Ct=0;Ct<zt.length;Ct++){const $t=zt[Ct];if(!we.horizontal[$t])if(_i)we.horizontal[$t]=we.horizontal[0];else{const gi=Sf(Le,e,n,u,_e,Ft,it,"center",$t,mt,Pe,Ro.horizontal,!1,Se,xe);gi&&(we.horizontal[$t]=gi,_i=1===gi.positionedLines.length)}}Nt("left")}else{if("auto"===Lt&&(Lt=pp(ft)),ct||B.get("text-writing-mode").indexOf("horizontal")>=0||!_c(dt)){const zt=Sf(Le,e,n,u,_e,Ft,it,ft,Lt,mt,Pe,Ro.horizontal,!1,Se,xe);zt&&(we.horizontal[Lt]=zt)}Nt(ct?"left":Lt)}}let Qe=!1;if(le.icon&&le.icon.name){const dt=o[le.icon.name];dt&&(Ie=I_(u[le.icon.name],B.get("icon-offset").evaluate(le,{},M),B.get("icon-anchor").evaluate(le,{},M)),Qe=dt.sdf,void 0===i.sdfIcons?i.sdfIcons=dt.sdf:i.sdfIcons!==dt.sdf&&Pi("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(dt.pixelRatio!==i.pixelRatio||0!==B.get("icon-rotate").constantOr(1))&&(i.iconsNeedLinear=!0))}const $e=Lc(we.horizontal)||we.vertical;i.iconsInText||(i.iconsInText=!!$e&&$e.iconsInText),($e||Ie)&&H_(i,le,we,Ie,o,Z,Se,0,Pe,Qe,g,M,E)}f&&i.generateCollisionDebugBuffers(L,i.collisionBoxArray)}function pp(i){switch(i){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function H_(i,e,n,o,u,f,g,M,L,E,B,V,Z){let ee=f.textMaxSize.evaluate(e,{},V);void 0===ee&&(ee=g);const ne=i.layers[0].layout,le=ne.get("icon-offset").evaluate(e,{},V),_e=Lc(n.horizontal)||n.vertical,xe="globe"===Z.name,we=g/24,Le=i.tilePixelRatio*ee/24,Ie=(ft=i.overscaling,i.zoom>18&&ft>2&&(ft>>=1),Math.max(Jt/(512*ft),1)*ne.get("symbol-spacing")),Pe=ne.get("text-padding")*i.tilePixelRatio,Qe=ne.get("icon-padding")*i.tilePixelRatio,$e=kt(ne.get("text-max-angle")),dt="map"===ne.get("text-rotation-alignment")&&"point"!==ne.get("symbol-placement"),Tt="map"===ne.get("icon-rotation-alignment")&&"point"!==ne.get("symbol-placement"),it=ne.get("symbol-placement"),mt=Ie/2;var ft;const xt=ne.get("icon-text-fit");let Lt;o&&"none"!==xt&&(i.allowVerticalPlacement&&n.vertical&&(Lt=Af(o,n.vertical,xt,ne.get("icon-text-fit-padding"),le,we)),_e&&(o=Af(o,_e,xt,ne.get("icon-text-fit-padding"),le,we)));const ct=(Ft,Nt,zt)=>{if(Nt.x<0||Nt.x>=Jt||Nt.y<0||Nt.y>=Jt)return;let _i=null;if(xe){const{x:Ct,y:$t,z:gi}=Z.projectTilePoint(Nt.x,Nt.y,zt);_i={anchor:new Mc(Ct,$t,gi,0,void 0),up:Z.upVector(zt,Nt.x,Nt.y)}}!function(Ct,$t,gi,Ki,fi,Qt,An,li,yi,gn,bn,In,xn,Gn,or,Lr,wn,Kn,Sr,Qn,rn,mr,Pn,Ls,_r){const Sa=Ct.addToLineVertexArray($t,Ki);let ha,Zs,pa,rc,Rd,Fd,Mh,mg=0,_g=0,am=0,Mp=0,Tp=-1,kp=-1;const ac={};let sm=Ch("");const bu=gi?gi.anchor:$t;let Dp=0,Lp=0;if(void 0===yi._unevaluatedLayout.getValue("text-radial-offset")?[Dp,Lp]=yi.layout.get("text-offset").evaluate(rn,{},_r).map(Yo=>24*Yo):(Dp=24*yi.layout.get("text-radial-offset").evaluate(rn,{},_r),Lp=hp),Ct.allowVerticalPlacement&&fi.vertical){const Yo=fi.vertical;if(or)Fd=ec(Yo),li&&(Mh=ec(li));else{const zo=yi.layout.get("text-rotate").evaluate(rn,{},_r)+90;pa=Dd(gn,bu,$t,bn,In,xn,Yo,Gn,zo,Lr),li&&(rc=Dd(gn,bu,$t,bn,In,xn,li,Kn,zo))}}if(Qt){const Yo=yi.layout.get("icon-rotate").evaluate(rn,{},_r),zo="none"!==yi.layout.get("icon-text-fit"),Th=O_(Qt,Yo,Pn,zo),kh=li?O_(li,Yo,Pn,zo):void 0;Zs=Dd(gn,bu,$t,bn,In,xn,Qt,Kn,Yo),mg=4*Th.length;const $u=Ct.iconSizeData;let ll=null;"source"===$u.kind?(ll=[Pl*yi.layout.get("icon-size").evaluate(rn,{},_r)],ll[0]>gu&&Pi(`${Ct.layerIds[0]}: Value for "icon-size" is >= ${Ol}. Reduce your "icon-size".`)):"composite"===$u.kind&&(ll=[Pl*mr.compositeIconSizes[0].evaluate(rn,{},_r),Pl*mr.compositeIconSizes[1].evaluate(rn,{},_r)],(ll[0]>gu||ll[1]>gu)&&Pi(`${Ct.layerIds[0]}: Value for "icon-size" is >= ${Ol}. Reduce your "icon-size".`)),Ct.addSymbols(Ct.icon,Th,ll,Qn,Sr,rn,!1,gi,$t,Sa.lineStartIndex,Sa.lineLength,-1,Ls,_r),Tp=Ct.icon.placedSymbolArray.length-1,kh&&(_g=4*kh.length,Ct.addSymbols(Ct.icon,kh,ll,Qn,Sr,rn,Ro.vertical,gi,$t,Sa.lineStartIndex,Sa.lineLength,-1,Ls,_r),kp=Ct.icon.placedSymbolArray.length-1)}for(const Yo in fi.horizontal){const zo=fi.horizontal[Yo];ha||(sm=Ch(zo.text),or?Rd=ec(zo):ha=Dd(gn,bu,$t,bn,In,xn,zo,Gn,yi.layout.get("text-rotate").evaluate(rn,{},_r),Lr));const Th=1===zo.positionedLines.length;if(am+=fp(Ct,gi,$t,zo,An,yi,or,rn,Lr,Sa,fi.vertical?Ro.horizontal:Ro.horizontalOnly,Th?Object.keys(fi.horizontal):[Yo],ac,Tp,mr,Ls,_r),Th)break}fi.vertical&&(Mp+=fp(Ct,gi,$t,fi.vertical,An,yi,or,rn,Lr,Sa,Ro.vertical,["vertical"],ac,kp,mr,Ls,_r));let nu=-1;const Sp=(Yo,zo)=>Yo?Math.max(Yo,zo):zo;nu=Sp(Rd,nu),nu=Sp(Fd,nu),nu=Sp(Mh,nu);const om=nu>-1?1:0;Ct.glyphOffsetArray.length>=Sc.MAX_GLYPHS&&Pi("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==rn.sortKey&&Ct.addToSortKeyRanges(Ct.symbolInstances.length,rn.sortKey),Ct.symbolInstances.emplaceBack(bu.x,bu.y,bu.z,$t.x,$t.y,ac.right>=0?ac.right:-1,ac.center>=0?ac.center:-1,ac.left>=0?ac.left:-1,ac.vertical>=0?ac.vertical:-1,Tp,kp,sm,void 0!==ha?ha:Ct.collisionBoxArray.length,void 0!==ha?ha+1:Ct.collisionBoxArray.length,void 0!==pa?pa:Ct.collisionBoxArray.length,void 0!==pa?pa+1:Ct.collisionBoxArray.length,void 0!==Zs?Zs:Ct.collisionBoxArray.length,void 0!==Zs?Zs+1:Ct.collisionBoxArray.length,rc||Ct.collisionBoxArray.length,rc?rc+1:Ct.collisionBoxArray.length,bn,am,Mp,mg,_g,om,0,Dp,Lp,nu)}(i,Nt,_i,Ft,n,o,u,Lt,i.layers[0],i.collisionBoxArray,e.index,e.sourceLayerIndex,i.index,Pe,dt,L,0,Qe,Tt,le,e,f,E,B,V)};if("line"===it)for(const Ft of Nu(e.geometry,0,0,Jt,Jt)){const Nt=lh(Ft,Ie,$e,n.vertical||_e,o,24,Le,i.overscaling,Jt);for(const zt of Nt)_e&&Ni(i,_e.text,mt,zt)||ct(Ft,zt,V)}else if("line-center"===it){for(const Ft of e.geometry)if(Ft.length>1){const Nt=P_(Ft,$e,n.vertical||_e,o,24,Le);Nt&&ct(Ft,Nt,V)}}else if("Polygon"===e.type)for(const Ft of Xd(e.geometry,0)){const Nt=Y_(Ft,16);ct(Ft[0],new Mc(Nt.x,Nt.y,0,0,void 0),V)}else if("LineString"===e.type)for(const Ft of e.geometry)ct(Ft,new Mc(Ft[0].x,Ft[0].y,0,0,void 0),V);else if("Point"===e.type)for(const Ft of e.geometry)for(const Nt of Ft)ct([Nt],new Mc(Nt.x,Nt.y,0,0,void 0),V)}const Ol=255,gu=Ol*Pl;function fp(i,e,n,o,u,f,g,M,L,E,B,V,Z,ee,ne,le,_e){const xe=function(Le,Ie,Pe,Qe,$e,dt,Tt,it){const mt=[];if(0===Ie.positionedLines.length)return mt;const ft=Qe.layout.get("text-rotate").evaluate(dt,{})*Math.PI/180,xt=function(zt){const _i=zt[0],Ct=zt[1],$t=_i*Ct;return $t>0?[_i,-Ct]:$t<0?[-_i,Ct]:0===_i?[Ct,_i]:[Ct,-_i]}(Pe);let Lt=Math.abs(Ie.top-Ie.bottom);for(const zt of Ie.positionedLines)Lt-=zt.lineOffset;const ct=Ie.positionedLines.length,Ft=Lt/ct;let Nt=Ie.top-Pe[1];for(let zt=0;zt<ct;++zt){const _i=Ie.positionedLines[zt];Nt=R_(Ie,Ft,Nt,zt);for(const Ct of _i.positionedGlyphs){if(!Ct.rect)continue;const $t=Ct.rect||{};let gi=4,Ki=!0,fi=1,Qt=0;if(Ct.imageName){const Pn=Tt[Ct.imageName];if(!Pn)continue;if(Pn.sdf){Pi("SDF images are not supported in formatted text and will be ignored.");continue}Ki=!1,fi=Pn.pixelRatio,gi=1/fi}const An=($e||it)&&Ct.vertical,li=Ct.metrics.advance*Ct.scale/2,yi=Ct.metrics,gn=Ct.rect;if(null===gn)continue;it&&Ie.verticalizable&&(Qt=Ct.imageName?li-Ct.metrics.width*Ct.scale/2:0);const bn=$e?[Ct.x+li,Ct.y]:[0,0];let In=[0,0],xn=[0,0],Gn=!1;$e||(An?(xn=[Ct.x+li+xt[0],Ct.y+xt[1]-Qt],Gn=!0):In=[Ct.x+li+Pe[0],Ct.y+Pe[1]-Qt]);const or=gn.w*Ct.scale/(fi*(Ct.localGlyph?2:1)),Lr=gn.h*Ct.scale/(fi*(Ct.localGlyph?2:1));let wn,Kn,Sr,Qn;if(An){const Pn=Ct.y-Nt,Ls=new He(-li,li-Pn),_r=-Math.PI/2,Sa=new He(...xn);wn=new He(-li+In[0],In[1]),wn._rotateAround(_r,Ls)._add(Sa),wn.x+=-Pn+li,wn.y-=(yi.left-gi)*Ct.scale;const ha=Ct.imageName?yi.advance*Ct.scale:24*Ct.scale,Zs=String.fromCharCode(Ct.glyph);ih(Zs)?wn.x+=(1-gi)*Ct.scale:xf(Zs)?wn.x+=ha-yi.height*Ct.scale+(-gi-1)*Ct.scale:wn.x+=Ct.imageName||yi.width+2*gi===gn.w&&yi.height+2*gi===gn.h?(ha-Lr)/2:(ha-(yi.height+2*gi)*Ct.scale)/2,Kn=new He(wn.x,wn.y-or),Sr=new He(wn.x+Lr,wn.y),Qn=new He(wn.x+Lr,wn.y-or)}else{const Pn=(yi.left-gi)*Ct.scale-li+In[0],Ls=(-yi.top-gi)*Ct.scale+In[1],_r=Pn+or,Sa=Ls+Lr;wn=new He(Pn,Ls),Kn=new He(_r,Ls),Sr=new He(Pn,Sa),Qn=new He(_r,Sa)}if(ft){let Pn;Pn=$e?new He(0,0):Gn?new He(xt[0],xt[1]):new He(Pe[0],Pe[1]),wn._rotateAround(ft,Pn),Kn._rotateAround(ft,Pn),Sr._rotateAround(ft,Pn),Qn._rotateAround(ft,Pn)}const rn=new He(0,0),mr=new He(0,0);mt.push({tl:wn,tr:Kn,bl:Sr,br:Qn,tex:$t,writingMode:Ie.writingMode,glyphOffset:bn,sectionIndex:Ct.sectionIndex,isSDF:Ki,pixelOffsetTL:rn,pixelOffsetBR:mr,minFontScaleX:0,minFontScaleY:0})}}return mt}(0,o,L,f,g,M,u,i.allowVerticalPlacement),Se=i.textSizeData;let we=null;"source"===Se.kind?(we=[Pl*f.layout.get("text-size").evaluate(M,{},_e)],we[0]>gu&&Pi(`${i.layerIds[0]}: Value for "text-size" is >= ${Ol}. Reduce your "text-size".`)):"composite"===Se.kind&&(we=[Pl*ne.compositeTextSizes[0].evaluate(M,{},_e),Pl*ne.compositeTextSizes[1].evaluate(M,{},_e)],(we[0]>gu||we[1]>gu)&&Pi(`${i.layerIds[0]}: Value for "text-size" is >= ${Ol}. Reduce your "text-size".`)),i.addSymbols(i.text,xe,we,L,g,M,B,e,n,E.lineStartIndex,E.lineLength,ee,le,_e);for(const Le of V)Z[Le]=i.text.placedSymbolArray.length-1;return 4*xe.length}function Lc(i){for(const e in i)return i[e];return null}function Dd(i,e,n,o,u,f,g,M,L,E){let B=g.top,V=g.bottom,Z=g.left,ee=g.right;const ne=g.collisionPadding;if(ne&&(Z-=ne[0],B-=ne[1],ee+=ne[2],V+=ne[3]),L){const le=new He(Z,B),_e=new He(ee,B),xe=new He(Z,V),Se=new He(ee,V),we=kt(L);let Le=new He(0,0);E&&(Le=new He(E[0],E[1])),le._rotateAround(we,Le),_e._rotateAround(we,Le),xe._rotateAround(we,Le),Se._rotateAround(we,Le),Z=Math.min(le.x,_e.x,xe.x,Se.x),ee=Math.max(le.x,_e.x,xe.x,Se.x),B=Math.min(le.y,_e.y,xe.y,Se.y),V=Math.max(le.y,_e.y,xe.y,Se.y)}return i.emplaceBack(e.x,e.y,e.z,n.x,n.y,Z,B,ee,V,M,o,u,f),i.length-1}function ec(i){i.collisionPadding&&(i.top-=i.collisionPadding[1],i.bottom+=i.collisionPadding[3]);const e=i.bottom-i.top;return e>0?Math.max(10,e):null}function Ni(i,e,n,o){const u=i.compareText;if(e in u){const f=u[e];for(let g=f.length-1;g>=0;g--)if(o.dist(f[g])<n)return!0}else u[e]=[];return u[e].push(o),!1}function Yf(i,e){const n=i.fovAboveCenter,o=i.elevation?i.elevation.getMinElevationBelowMSL()*e:0,u=(i._camera.position[2]*i.worldSize-o)/Math.cos(i._pitch),f=Math.sin(n)*u/Math.sin(Math.max(Math.PI/2-i._pitch-n,.01)),g=Math.sin(i._pitch)*f+u;return Math.min(1.01*g,u*(1/i._horizonShift))}function yu(i,e){if(!e.isReprojectedInTileSpace)return{scale:1<<i.z,x:i.x,y:i.y,x2:i.x+1,y2:i.y+1,projection:e};const n=Math.pow(2,-i.z),o=i.x*n,u=(i.x+1)*n,f=i.y*n,g=(i.y+1)*n,M=sl(o),L=sl(u),E=es(f),B=es(g),V=e.project(M,E),Z=e.project(L,E),ee=e.project(L,B),ne=e.project(M,B);let le=Math.min(V.x,Z.x,ee.x,ne.x),_e=Math.min(V.y,Z.y,ee.y,ne.y),xe=Math.max(V.x,Z.x,ee.x,ne.x),Se=Math.max(V.y,Z.y,ee.y,ne.y);const we=n/16;function Le(Pe,Qe,$e,dt,Tt,it){const mt=($e+Tt)/2,ft=(dt+it)/2,xt=e.project(sl(mt),es(ft)),Lt=Math.max(0,le-xt.x,_e-xt.y,xt.x-xe,xt.y-Se);le=Math.min(le,xt.x),xe=Math.max(xe,xt.x),_e=Math.min(_e,xt.y),Se=Math.max(Se,xt.y),Lt>we&&(Le(Pe,xt,$e,dt,mt,ft),Le(xt,Qe,mt,ft,Tt,it))}Le(V,Z,o,f,u,f),Le(Z,ee,u,f,u,g),Le(ee,ne,u,g,o,g),Le(ne,V,o,g,o,f),le-=we,_e-=we,xe+=we,Se+=we;const Ie=1/Math.max(xe-le,Se-_e);return{scale:Ie,x:le*Ie,y:_e*Ie,x2:xe*Ie,y2:Se*Ie,projection:e}}const V_=Ka(new Float32Array(16));class eu{constructor(e){this.spec=e,this.name=e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(e,n){return{x:0,y:0,z:0}}unproject(e,n){return new Cn(0,0)}projectTilePoint(e,n,o){return{x:e,y:n,z:0}}locationPoint(e,n,o=!0){return e._coordinatePoint(e.locationCoordinate(n),o)}pixelsPerMeter(e,n){return Kl(1,e)*n}pixelSpaceConversion(e,n,o){return 1}farthestPixelDistance(e){return Yf(e,e.pixelsPerMeter)}pointCoordinate(e,n,o,u){const f=e.horizonLineFromTop(!1),g=new He(n,Math.max(f,o));return e.rayIntersectionCoordinate(e.pointRayIntersection(g,u))}pointCoordinate3D(e,n,o){const u=new He(n,o);if(e.elevation)return e.elevation.pointCoordinate(u);{const f=this.pointCoordinate(e,u.x,u.y,0);return[f.x,f.y,f.z]}}isPointAboveHorizon(e,n){if(e.elevation)return!this.pointCoordinate3D(e,n.x,n.y);const o=e.horizonLineFromTop();return n.y<o}createInversionMatrix(e,n){return V_}createTileMatrix(e,n,o){let u,f,g;const M=o.canonical,L=Ka(new Float64Array(16));if(this.isReprojectedInTileSpace){const E=yu(M,this);u=1,f=E.x+o.wrap*E.scale,g=E.y,hu(L,L,[u/E.scale,u/E.scale,e.pixelsPerMeter/n])}else u=n/e.zoomScale(M.z),f=(M.x+Math.pow(2,M.z)*o.wrap)*u,g=M.y*u;return ad(L,L,[f,g,0]),hu(L,L,[u/Jt,u/Jt,1]),L}upVector(e,n,o){return[0,0,1]}upVectorScale(e,n,o){return{metersToTile:1}}}class U_ extends eu{constructor(e){super(e),this.range=[4,7],this.center=e.center||[-96,37.5];const[n,o]=this.parallels=e.parallels||[29.5,45.5],u=Math.sin(kt(n));this.n=(u+Math.sin(kt(o)))/2,this.c=1+u*(2*this.n-u),this.r0=Math.sqrt(this.c)/this.n}project(e,n){const{n:o,c:u,r0:f}=this,g=kt(e-this.center[0]),M=kt(n),L=Math.sqrt(u-2*o*Math.sin(M))/o;return{x:L*Math.sin(g*o),y:L*Math.cos(g*o)-f,z:0}}unproject(e,n){const{n:o,c:u,r0:f}=this,g=f+n;let M=Math.atan2(e,Math.abs(g))*Math.sign(g);g*o<0&&(M-=Math.PI*Math.sign(e)*Math.sign(g));const L=kt(this.center[0])*o;M=on(M,-Math.PI-L,Math.PI-L);const E=ei(Wt(M/o)+this.center[0],-180,180),B=Math.asin(ei((u-(e*e+g*g)*o*o)/(2*o),-1,1)),V=ei(Wt(B),-ts,ts);return new Cn(E,V)}}const Ld=1.340264,Sd=-.081106,Cd=893e-6,Ed=.003796,dh=Math.sqrt(3)/2;class W_ extends eu{project(e,n){n=n/180*Math.PI,e=e/180*Math.PI;const o=Math.asin(dh*Math.sin(n)),u=o*o,f=u*u*u;return{x:.5*(e*Math.cos(o)/(dh*(Ld+3*Sd*u+f*(7*Cd+9*Ed*u)))/Math.PI+.5),y:1-.5*(o*(Ld+Sd*u+f*(Cd+Ed*u))/Math.PI+1),z:0}}unproject(e,n){e=(2*e-.5)*Math.PI;let o=n=(2*(1-n)-1)*Math.PI,u=o*o,f=u*u*u;for(let B,V,Z,ee=0;ee<12&&(V=o*(Ld+Sd*u+f*(Cd+Ed*u))-n,Z=Ld+3*Sd*u+f*(7*Cd+9*Ed*u),B=V/Z,o=ei(o-B,-Math.PI/3,Math.PI/3),u=o*o,f=u*u*u,!(Math.abs(B)<1e-12));++ee);const g=dh*e*(Ld+3*Sd*u+f*(7*Cd+9*Ed*u))/Math.cos(o),M=Math.asin(Math.sin(o)/dh),L=ei(180*g/Math.PI,-180,180),E=ei(180*M/Math.PI,-ts,ts);return new Cn(L,E)}}class G_ extends eu{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0}project(e,n){return{x:.5+e/360,y:.5-n/360,z:0}}unproject(e,n){const o=360*(e-.5),u=ei(360*(.5-n),-ts,ts);return new Cn(o,u)}}const Wu=Math.PI/2;function hh(i){return Math.tan((Wu+i)/2)}class Z_ extends eu{constructor(e){super(e),this.center=e.center||[0,30];const[n,o]=this.parallels=e.parallels||[30,30];let u=kt(n),f=kt(o);this.southernCenter=u+f<0,this.southernCenter&&(u=-u,f=-f);const g=Math.cos(u),M=hh(u);this.n=u===f?Math.sin(u):Math.log(g/Math.cos(f))/Math.log(hh(f)/M),this.f=g*Math.pow(hh(u),this.n)/this.n}project(e,n){n=kt(n),this.southernCenter&&(n=-n),e=kt(e-this.center[0]);const o=1e-6,{n:u,f}=this;f>0?n<-Wu+o&&(n=-Wu+o):n>Wu-o&&(n=Wu-o);const g=f/Math.pow(hh(n),u);let M=g*Math.sin(u*e),L=f-g*Math.cos(u*e);return M=.5*(M/Math.PI+.5),L=.5*(L/Math.PI+.5),{x:M,y:this.southernCenter?L:1-L,z:0}}unproject(e,n){e=(2*e-.5)*Math.PI,this.southernCenter&&(n=1-n),n=(2*(1-n)-.5)*Math.PI;const{n:o,f:u}=this,f=u-n,g=Math.sign(f),M=Math.sign(o)*Math.sqrt(e*e+f*f);let L=Math.atan2(e,Math.abs(f))*g;f*o<0&&(L-=Math.PI*Math.sign(e)*g);const E=ei(Wt(L/o)+this.center[0],-180,180),B=ei(Wt(2*Math.atan(Math.pow(u/M,1/o))-Wu),-ts,ts);return new Cn(E,this.southernCenter?-B:B)}}class zf extends eu{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(e,n){return{x:bc(e),y:xc(n),z:0}}unproject(e,n){const o=sl(e),u=es(n);return new Cn(o,u)}}const q_=kt(ts);class $_ extends eu{project(e,n){const o=(n=kt(n))*n,u=o*o;return{x:.5*((e=kt(e))*(.8707-.131979*o+u*(u*(.003971*o-.001529*u)-.013791))/Math.PI+.5),y:1-.5*(n*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))/Math.PI+1),z:0}}unproject(e,n){e=(2*e-.5)*Math.PI;let o=n=(2*(1-n)-1)*Math.PI,u=25,f=0,g=o*o;do{g=o*o;const E=g*g;f=(o*(1.007226+g*(.015085+E*(.028874*g-.044475-.005916*E)))-n)/(1.007226+g*(.045255+E*(.259866*g-.311325-.005916*11*E))),o=ei(o-f,-q_,q_)}while(Math.abs(f)>1e-6&&--u>0);g=o*o;const M=ei(Wt(e/(.8707+g*(g*(g*g*g*(.003971-.001529*g)-.013791)-.131979))),-180,180),L=Wt(o);return new Cn(M,L)}}const X_=kt(ts);class J_ extends eu{project(e,n){n=kt(n),e=kt(e);const o=Math.cos(n),u=2/Math.PI,f=Math.acos(o*Math.cos(e/2)),g=Math.sin(f)/f,M=.5*(e*u+2*o*Math.sin(e/2)/g)||0,L=.5*(n+Math.sin(n)/g)||0;return{x:.5*(M/Math.PI+.5),y:1-.5*(L/Math.PI+1),z:0}}unproject(e,n){let o=e=(2*e-.5)*Math.PI,u=n=(2*(1-n)-1)*Math.PI,f=25;const g=1e-6;let M=0,L=0;do{const E=Math.cos(u),B=Math.sin(u),V=2*B*E,Z=B*B,ee=E*E,ne=Math.cos(o/2),le=Math.sin(o/2),_e=2*ne*le,xe=le*le,Se=1-ee*ne*ne,we=Se?1/Se:0,Le=Se?Math.acos(E*ne)*Math.sqrt(1/Se):0,Ie=.5*(2*Le*E*le+2*o/Math.PI)-e,Pe=.5*(Le*B+u)-n,Qe=.5*we*(ee*xe+Le*E*ne*Z)+1/Math.PI,$e=we*(_e*V/4-Le*B*le),dt=.125*we*(V*le-Le*B*ee*_e),Tt=.5*we*(Z*ne+Le*xe*E)+.5,it=$e*dt-Tt*Qe;M=(Pe*$e-Ie*Tt)/it,L=(Ie*dt-Pe*Qe)/it,o=ei(o-M,-Math.PI,Math.PI),u=ei(u-L,-X_,X_)}while((Math.abs(M)>g||Math.abs(L)>g)&&--f>0);return new Cn(Wt(o),Wt(u))}}class Ad extends eu{constructor(e){super(e),this.center=e.center||[0,0],this.parallels=e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(kt(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(e,n){const{scale:o,cosPhi:u}=this;return{x:kt(e)*u*o+.5,y:-Math.sin(kt(n))/u*o+.5,z:0}}unproject(e,n){const{scale:o,cosPhi:u}=this,f=-(n-.5)/o,g=ei(Wt((e-.5)/o)/u,-180,180),M=Math.asin(ei(f*u,-1,1)),L=ei(Wt(M),-ts,ts);return new Cn(g,L)}}class dy extends zf{constructor(e){super(e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(e,n,o){const u=Wd(e,n,o);return fr(u,u,Gd(vc(o))),{x:u[0],y:u[1],z:u[2]}}locationPoint(e,n){const o=hd(n.lat,n.lng),u=Ds([],o),f=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(n),e._centerAltitude):e._centerAltitude;Dl(o,o,u,Kl(1,0)*Jt*f);const g=Ka(new Float64Array(16));return du(g,e.pixelMatrix,e.globeMatrix),fr(o,o,g),new He(o[0],o[1])}pixelsPerMeter(e,n){return Kl(1,0)*n}pixelSpaceConversion(e,n,o){const u=Kl(1,e)*n,f=ki(Kl(1,45)*n,u,o);return this.pixelsPerMeter(e,n)/f}createTileMatrix(e,n,o){const u=Vp(vc(o.canonical));return du(new Float64Array(16),e.globeMatrix,u)}createInversionMatrix(e,n){const{center:o}=e,u=Gd(vc(n));return Tl(u,u,kt(o.lng)),Ih(u,u,kt(o.lat)),hu(u,u,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(u)}pointCoordinate(e,n,o,u){return Np(e,n,o,!0)||new fd(0,0)}pointCoordinate3D(e,n,o){const u=this.pointCoordinate(e,n,o,0);return[u.x,u.y,u.z]}isPointAboveHorizon(e,n){return!Np(e,n.x,n.y,!1)}farthestPixelDistance(e){const n=function(u,f){const g=u.cameraToCenterDistance,M=u._centerAltitude*f,L=u._camera,E=u._camera.forward(),B=Xl([],ks([],E,-g),[0,0,M]),V=u.worldSize/(2*Math.PI),Z=[0,0,-V],ee=u.width/u.height,ne=Math.tan(u.fovAboveCenter),le=ks([],L.up(),ne),_e=ks([],L.right(),ne*ee),xe=Ds([],Xl([],Xl([],E,le),_e)),Se=[];let we;if(new cd(B,xe).closestPointOnSphere(Z,V,Se)){const Le=Xl([],Se,Z),Ie=Qa([],Le,B);we=Math.cos(u.fovAboveCenter)*Hd(Ie)}else{const Le=Qa([],B,Z),Ie=Qa([],Z,B);Ds(Ie,Ie);const Pe=Hd(Le)-V;we=Math.sqrt(Pe*(Pe+2*V));const Qe=Math.acos(we/(V+Pe))-Math.acos(Ll(E,Ie));we*=Math.cos(Qe)}return 1.01*we}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),o=pd(e.zoom);if(o>0){const u=Yf(e,Kl(1,e.center.lat)*e.worldSize),f=e.worldSize/(2*Math.PI),g=Math.max(e.width,e.height)/e.worldSize*Math.PI;return ki(n,u+f*(1-Math.cos(g)),Math.pow(o,10))}return n}upVector(e,n,o){return Wd(n,o,e,1)}upVectorScale(e){return{metersToTile:Oh(Yh(vc(e)))}}}function K_(i){const e=i.parallels,n=!!e&&Math.abs(e[0]+e[1])<.01;switch(i.name){case"mercator":return new zf(i);case"equirectangular":return new G_(i);case"naturalEarth":return new $_(i);case"equalEarth":return new W_(i);case"winkelTripel":return new J_(i);case"albers":return n?new Ad(i):new U_(i);case"lambertConformalConic":return n?new Ad(i):new Z_(i);case"globe":return new dy(i)}throw new Error(`Invalid projection name: ${i.name}`)}const hy=Jd.types,py=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ph(i,e,n,o,u,f,g,M,L,E,B,V,Z){const ee=M?Math.min(gu,Math.round(M[0])):0,ne=M?Math.min(gu,Math.round(M[1])):0;i.emplaceBack(e,n,Math.round(32*o),Math.round(32*u),f,g,(ee<<1)+(L?1:0),ne,16*E,16*B,256*V,256*Z)}function mp(i,e,n,o,u,f,g){i.emplaceBack(e,n,o,u,f,g)}function tu(i,e,n,o,u){i.emplaceBack(e,n,o,u),i.emplaceBack(e,n,o,u),i.emplaceBack(e,n,o,u),i.emplaceBack(e,n,o,u)}function Q_(i){for(const e of i.sections)if(nn(e.text))return!0;return!1}class _p{constructor(e){this.layoutVertexArray=new tt,this.indexArray=new jt,this.programConfigurations=e,this.segments=new kr,this.dynamicLayoutVertexArray=new Ze,this.opacityVertexArray=new Et,this.placedSymbolArray=new Kt,this.globeExtVertexArray=new ot}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,n,o,u){this.isEmpty()||(o&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ty.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,n),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,w_.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,py,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,iy.members,!0)),this.opacityVertexBuffer.itemSize=1),(o||u)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Bt(_p,"SymbolBuffers");class Bf{constructor(e,n,o){this.layoutVertexArray=new e,this.layoutAttributes=n,this.indexArray=new o,this.segments=new kr,this.collisionVertexArray=new Zt,this.collisionVertexArrayExt=new ci}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,M_.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,T_.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Bt(Bf,"CollisionBuffers");class Sc{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(g=>g.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ka([]),this.placementViewportMatrix=Ka([]);const n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Qh(this.zoom,n["text-size"]),this.iconSizeData=Qh(this.zoom,n["icon-size"]);const o=this.layers[0].layout,u=o.get("symbol-sort-key"),f=o.get("symbol-z-order");this.canOverlap=o.get("text-allow-overlap")||o.get("icon-allow-overlap")||o.get("text-ignore-placement")||o.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==f&&void 0!==u.constantOr(1),this.sortFeaturesByY=("viewport-y"===f||"auto"===f&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=o.get("text-writing-mode").map(g=>Ro[g]),this.stateDependentLayerIds=this.layers.filter(g=>g.isStateDependent()).map(g=>g.id),this.sourceID=e.sourceID,this.projection=e.projection}createArrays(){this.text=new _p(new wl(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new _p(new wl(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new Vn,this.lineVertexArray=new Us,this.symbolInstances=new Ai}calculateGlyphDependencies(e,n,o,u,f){for(let g=0;g<e.length;g++)if(n[e.charCodeAt(g)]=!0,u&&f){const M=Bu[e.charAt(g)];M&&(n[M.charCodeAt(0)]=!0)}}populate(e,n,o,u){const f=this.layers[0],g=f.layout,M="globe"===this.projection.name,L=g.get("text-font"),E=g.get("text-field"),B=g.get("icon-image"),V=("constant"!==E.value.kind||E.value.value instanceof dr&&!E.value.value.isEmpty()||E.value.value.toString().length>0)&&("constant"!==L.value.kind||L.value.value.length>0),Z="constant"!==B.value.kind||!!B.value.value||Object.keys(B.parameters).length>0,ee=g.get("symbol-sort-key");if(this.features=[],!V&&!Z)return;const ne=n.iconDependencies,le=n.glyphDependencies,_e=n.availableImages,xe=new H(this.zoom);for(const{feature:Se,id:we,index:Le,sourceLayerIndex:Ie}of e){const Pe=f._featureFilter.needGeometry,Qe=Iu(Se,Pe);if(!f._featureFilter.filter(xe,Qe,o))continue;if(Pe||(Qe.geometry=qc(Se,o,u)),M&&1!==Se.type&&o.z<=5){const it=Qe.geometry,mt=.98078528056,ft=(xt,Lt)=>Ll(Wd(xt.x,xt.y,o,1),Wd(Lt.x,Lt.y,o,1))<mt;for(let xt=0;xt<it.length;xt++)it[xt]=Cg(it[xt],ft)}let $e,dt;if(V){const it=f.getValueAndResolveTokens("text-field",Qe,o,_e),mt=dr.factory(it);Q_(mt)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===T()||this.hasRTLText&&R.isParsed())&&($e=ay(mt,f,Qe))}if(Z){const it=f.getValueAndResolveTokens("icon-image",Qe,o,_e);dt=it instanceof Zr?it:Zr.fromString(it)}if(!$e&&!dt)continue;const Tt=this.sortFeaturesByKey?ee.evaluate(Qe,{},o):void 0;if(this.features.push({id:we,text:$e,icon:dt,index:Le,sourceLayerIndex:Ie,geometry:Qe.geometry,properties:Se.properties,type:hy[Se.type],sortKey:Tt}),dt&&(ne[dt.name]=!0),$e){const it=L.evaluate(Qe,{},o).join(","),mt="map"===g.get("text-rotation-alignment")&&"point"!==g.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Ro.vertical)>=0;for(const ft of $e.sections)if(ft.image)ne[ft.image.name]=!0;else{const xt=_c($e.toString()),Lt=ft.fontStack||it,ct=le[Lt]=le[Lt]||{};this.calculateGlyphDependencies(ft.text,ct,mt,this.allowVerticalPlacement,xt)}}}"line"===g.get("symbol-placement")&&(this.features=function(Se){const we={},Le={},Ie=[];let Pe=0;function Qe(it){Ie.push(Se[it]),Pe++}function $e(it,mt,ft){const xt=Le[it];return delete Le[it],Le[mt]=xt,Ie[xt].geometry[0].pop(),Ie[xt].geometry[0]=Ie[xt].geometry[0].concat(ft[0]),xt}function dt(it,mt,ft){const xt=we[mt];return delete we[mt],we[it]=xt,Ie[xt].geometry[0].shift(),Ie[xt].geometry[0]=ft[0].concat(Ie[xt].geometry[0]),xt}function Tt(it,mt,ft){const xt=ft?mt[0][mt[0].length-1]:mt[0][0];return`${it}:${xt.x}:${xt.y}`}for(let it=0;it<Se.length;it++){const mt=Se[it],ft=mt.geometry,xt=mt.text?mt.text.toString():null;if(!xt){Qe(it);continue}const Lt=Tt(xt,ft),ct=Tt(xt,ft,!0);if(Lt in Le&&ct in we&&Le[Lt]!==we[ct]){const Ft=dt(Lt,ct,ft),Nt=$e(Lt,ct,Ie[Ft].geometry);delete we[Lt],delete Le[ct],Le[Tt(xt,Ie[Nt].geometry,!0)]=Nt,Ie[Ft].geometry=null}else Lt in Le?$e(Lt,ct,ft):ct in we?dt(Lt,ct,ft):(Qe(it),we[Lt]=Pe-1,Le[ct]=Pe-1)}return Ie.filter(it=>it.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Se,we)=>Se.sortKey-we.sortKey)}update(e,n,o,u){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,n,this.layers,o,u),this.icon.programConfigurations.updatePaintArrays(e,n,this.layers,o,u))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=K_(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,n){const o=this.lineVertexArray.length;if(void 0!==e.segment)for(const{x:u,y:f}of n)this.lineVertexArray.emplaceBack(u,f);return{lineStartIndex:o,lineLength:this.lineVertexArray.length-o}}addSymbols(e,n,o,u,f,g,M,L,E,B,V,Z,ee,ne){const le=e.indexArray,_e=e.layoutVertexArray,xe=e.globeExtVertexArray,Se=e.segments.prepareSegment(4*n.length,_e,le,this.canOverlap?g.sortKey:void 0),we=this.glyphOffsetArray.length,Le=Se.vertexLength,Ie=this.allowVerticalPlacement&&M===Ro.vertical?Math.PI/2:0,Pe=g.text&&g.text.sections;for(let $e=0;$e<n.length;$e++){const{tl:dt,tr:Tt,bl:it,br:mt,tex:ft,pixelOffsetTL:xt,pixelOffsetBR:Lt,minFontScaleX:ct,minFontScaleY:Ft,glyphOffset:Nt,isSDF:zt,sectionIndex:_i}=n[$e],Ct=Se.vertexLength,$t=Nt[1];if(ph(_e,E.x,E.y,dt.x,$t+dt.y,ft.x,ft.y,o,zt,xt.x,xt.y,ct,Ft),ph(_e,E.x,E.y,Tt.x,$t+Tt.y,ft.x+ft.w,ft.y,o,zt,Lt.x,xt.y,ct,Ft),ph(_e,E.x,E.y,it.x,$t+it.y,ft.x,ft.y+ft.h,o,zt,xt.x,Lt.y,ct,Ft),ph(_e,E.x,E.y,mt.x,$t+mt.y,ft.x+ft.w,ft.y+ft.h,o,zt,Lt.x,Lt.y,ct,Ft),L){const{x:gi,y:Ki,z:fi}=L.anchor,[Qt,An,li]=L.up;mp(xe,gi,Ki,fi,Qt,An,li),mp(xe,gi,Ki,fi,Qt,An,li),mp(xe,gi,Ki,fi,Qt,An,li),mp(xe,gi,Ki,fi,Qt,An,li),tu(e.dynamicLayoutVertexArray,gi,Ki,fi,Ie)}else tu(e.dynamicLayoutVertexArray,E.x,E.y,E.z,Ie);le.emplaceBack(Ct,Ct+1,Ct+2),le.emplaceBack(Ct+1,Ct+2,Ct+3),Se.vertexLength+=4,Se.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Nt[0]),$e!==n.length-1&&_i===n[$e+1].sectionIndex||e.programConfigurations.populatePaintArrays(_e.length,g,g.index,{},ee,ne,Pe&&Pe[_i])}const Qe=L?L.anchor:E;e.placedSymbolArray.emplaceBack(Qe.x,Qe.y,Qe.z,E.x,E.y,we,this.glyphOffsetArray.length-we,Le,B,V,E.segment,o?o[0]:0,o?o[1]:0,u[0],u[1],M,0,!1,0,Z,0)}_commitLayoutVertex(e,n,o,u,f,g,M){e.emplaceBack(n,o,u,f,g,Math.round(M.x),Math.round(M.y))}_addCollisionDebugVertices(e,n,o,u,f,g,M){const L=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),E=L.vertexLength,B=M.tileAnchorX,V=M.tileAnchorY;for(let ee=0;ee<4;ee++)o.collisionVertexArray.emplaceBack(0,0,0,0);o.collisionVertexArrayExt.emplaceBack(n,-e.padding,-e.padding),o.collisionVertexArrayExt.emplaceBack(n,e.padding,-e.padding),o.collisionVertexArrayExt.emplaceBack(n,e.padding,e.padding),o.collisionVertexArrayExt.emplaceBack(n,-e.padding,e.padding),this._commitLayoutVertex(o.layoutVertexArray,u,f,g,B,V,new He(e.x1,e.y1)),this._commitLayoutVertex(o.layoutVertexArray,u,f,g,B,V,new He(e.x2,e.y1)),this._commitLayoutVertex(o.layoutVertexArray,u,f,g,B,V,new He(e.x2,e.y2)),this._commitLayoutVertex(o.layoutVertexArray,u,f,g,B,V,new He(e.x1,e.y2)),L.vertexLength+=4;const Z=o.indexArray;Z.emplaceBack(E,E+1),Z.emplaceBack(E+1,E+2),Z.emplaceBack(E+2,E+3),Z.emplaceBack(E+3,E),L.primitiveLength+=4}_addTextDebugCollisionBoxes(e,n,o,u,f,g){for(let M=u;M<f;M++){const L=o.get(M),E=this.getSymbolInstanceTextSize(e,g,n,M);this._addCollisionDebugVertices(L,E,this.textCollisionBox,L.projectedAnchorX,L.projectedAnchorY,L.projectedAnchorZ,g)}}_addIconDebugCollisionBoxes(e,n,o,u,f,g){for(let M=u;M<f;M++){const L=o.get(M),E=this.getSymbolInstanceIconSize(e,n,g.placedIconSymbolIndex);this._addCollisionDebugVertices(L,E,this.iconCollisionBox,L.projectedAnchorX,L.projectedAnchorY,L.projectedAnchorZ,g)}}generateCollisionDebugBuffers(e,n){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Bf(It,Kh.members,K),this.iconCollisionBox=new Bf(It,Kh.members,K);const o=wd(this.iconSizeData,e),u=wd(this.textSizeData,e);for(let f=0;f<this.symbolInstances.length;f++){const g=this.symbolInstances.get(f);this._addTextDebugCollisionBoxes(u,e,n,g.textBoxStartIndex,g.textBoxEndIndex,g),this._addTextDebugCollisionBoxes(u,e,n,g.verticalTextBoxStartIndex,g.verticalTextBoxEndIndex,g),this._addIconDebugCollisionBoxes(o,e,n,g.iconBoxStartIndex,g.iconBoxEndIndex,g),this._addIconDebugCollisionBoxes(o,e,n,g.verticalIconBoxStartIndex,g.verticalIconBoxEndIndex,g)}}getSymbolInstanceTextSize(e,n,o,u){const f=this.text.placedSymbolArray.get(n.rightJustifiedTextSymbolIndex>=0?n.rightJustifiedTextSymbolIndex:n.centerJustifiedTextSymbolIndex>=0?n.centerJustifiedTextSymbolIndex:n.leftJustifiedTextSymbolIndex>=0?n.leftJustifiedTextSymbolIndex:n.verticalPlacedTextSymbolIndex>=0?n.verticalPlacedTextSymbolIndex:u),g=rs(this.textSizeData,e,f)/24;return this.tilePixelRatio*g}getSymbolInstanceIconSize(e,n,o){const u=this.icon.placedSymbolArray.get(o),f=rs(this.iconSizeData,e,u);return this.tilePixelRatio*f}_commitDebugCollisionVertexUpdate(e,n,o){e.emplaceBack(n,-o,-o),e.emplaceBack(n,o,-o),e.emplaceBack(n,o,o),e.emplaceBack(n,-o,o)}_updateTextDebugCollisionBoxes(e,n,o,u,f,g){for(let M=u;M<f;M++){const L=o.get(M),E=this.getSymbolInstanceTextSize(e,g,n,M);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,E,L.padding)}}_updateIconDebugCollisionBoxes(e,n,o,u,f,g){for(let M=u;M<f;M++){const L=o.get(M),E=this.getSymbolInstanceIconSize(e,n,g);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,E,L.padding)}}updateCollisionDebugBuffers(e,n){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const o=wd(this.iconSizeData,e),u=wd(this.textSizeData,e);for(let f=0;f<this.symbolInstances.length;f++){const g=this.symbolInstances.get(f);this._updateTextDebugCollisionBoxes(u,e,n,g.textBoxStartIndex,g.textBoxEndIndex,g),this._updateTextDebugCollisionBoxes(u,e,n,g.verticalTextBoxStartIndex,g.verticalTextBoxEndIndex,g),this._updateIconDebugCollisionBoxes(o,e,n,g.iconBoxStartIndex,g.iconBoxEndIndex,g.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(o,e,n,g.verticalIconBoxStartIndex,g.verticalIconBoxEndIndex,g.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,n,o,u,f,g,M,L,E){const B={};if(n<o){const{x1:V,y1:Z,x2:ee,y2:ne,padding:le,projectedAnchorX:_e,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le,featureIndex:Ie}=e.get(n);B.textBox={x1:V,y1:Z,x2:ee,y2:ne,padding:le,projectedAnchorX:_e,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le},B.textFeatureIndex=Ie}if(u<f){const{x1:V,y1:Z,x2:ee,y2:ne,padding:le,projectedAnchorX:_e,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le,featureIndex:Ie}=e.get(u);B.verticalTextBox={x1:V,y1:Z,x2:ee,y2:ne,padding:le,projectedAnchorX:_e,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le},B.verticalTextFeatureIndex=Ie}if(g<M){const{x1:V,y1:Z,x2:ee,y2:ne,padding:le,projectedAnchorX:_e,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le,featureIndex:Ie}=e.get(g);B.iconBox={x1:V,y1:Z,x2:ee,y2:ne,padding:le,projectedAnchorX:_e,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le},B.iconFeatureIndex=Ie}if(L<E){const{x1:V,y1:Z,x2:ee,y2:ne,padding:le,projectedAnchorX:_e,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le,featureIndex:Ie}=e.get(L);B.verticalIconBox={x1:V,y1:Z,x2:ee,y2:ne,padding:le,projectedAnchorX:_e,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le},B.verticalIconFeatureIndex=Ie}return B}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let n=0;n<this.symbolInstances.length;n++){const o=this.symbolInstances.get(n);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,o.textBoxStartIndex,o.textBoxEndIndex,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o.iconBoxStartIndex,o.iconBoxEndIndex,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,n){const o=e.placedSymbolArray.get(n),u=o.vertexStartIndex+4*o.numGlyphs;for(let f=o.vertexStartIndex;f<u;f+=4)e.indexArray.emplaceBack(f,f+1,f+2),e.indexArray.emplaceBack(f+1,f+2,f+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const n=Math.sin(e),o=Math.cos(e),u=[],f=[],g=[];for(let M=0;M<this.symbolInstances.length;++M){g.push(M);const L=this.symbolInstances.get(M);u.push(0|Math.round(n*L.tileAnchorX+o*L.tileAnchorY)),f.push(L.featureIndex)}return g.sort((M,L)=>u[M]-u[L]||f[L]-f[M]),g}addToSortKeyRanges(e,n){const o=this.sortKeyRanges[this.sortKeyRanges.length-1];o&&o.sortKey===n?o.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:n,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const n of this.symbolInstanceIndexes){const o=this.symbolInstances.get(n);this.featureSortOrder.push(o.featureIndex);const{rightJustifiedTextSymbolIndex:u,centerJustifiedTextSymbolIndex:f,leftJustifiedTextSymbolIndex:g,verticalPlacedTextSymbolIndex:M,placedIconSymbolIndex:L,verticalPlacedIconSymbolIndex:E}=o;u>=0&&this.addIndicesForPlacedSymbol(this.text,u),f>=0&&f!==u&&this.addIndicesForPlacedSymbol(this.text,f),g>=0&&g!==f&&g!==u&&this.addIndicesForPlacedSymbol(this.text,g),M>=0&&this.addIndicesForPlacedSymbol(this.text,M),L>=0&&this.addIndicesForPlacedSymbol(this.icon,L),E>=0&&this.addIndicesForPlacedSymbol(this.icon,E)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Bt(Sc,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Sc.MAX_GLYPHS=65535,Sc.addDynamicAttributes=tu;const jf=new C({"symbol-placement":new w(at.layout_symbol["symbol-placement"]),"symbol-spacing":new w(at.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new w(at.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new D(at.layout_symbol["symbol-sort-key"]),"symbol-z-order":new w(at.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new w(at.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new w(at.layout_symbol["icon-ignore-placement"]),"icon-optional":new w(at.layout_symbol["icon-optional"]),"icon-rotation-alignment":new w(at.layout_symbol["icon-rotation-alignment"]),"icon-size":new D(at.layout_symbol["icon-size"]),"icon-text-fit":new w(at.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new w(at.layout_symbol["icon-text-fit-padding"]),"icon-image":new D(at.layout_symbol["icon-image"]),"icon-rotate":new D(at.layout_symbol["icon-rotate"]),"icon-padding":new w(at.layout_symbol["icon-padding"]),"icon-keep-upright":new w(at.layout_symbol["icon-keep-upright"]),"icon-offset":new D(at.layout_symbol["icon-offset"]),"icon-anchor":new D(at.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new w(at.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new w(at.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new w(at.layout_symbol["text-rotation-alignment"]),"text-field":new D(at.layout_symbol["text-field"]),"text-font":new D(at.layout_symbol["text-font"]),"text-size":new D(at.layout_symbol["text-size"]),"text-max-width":new D(at.layout_symbol["text-max-width"]),"text-line-height":new D(at.layout_symbol["text-line-height"]),"text-letter-spacing":new D(at.layout_symbol["text-letter-spacing"]),"text-justify":new D(at.layout_symbol["text-justify"]),"text-radial-offset":new D(at.layout_symbol["text-radial-offset"]),"text-variable-anchor":new w(at.layout_symbol["text-variable-anchor"]),"text-anchor":new D(at.layout_symbol["text-anchor"]),"text-max-angle":new w(at.layout_symbol["text-max-angle"]),"text-writing-mode":new w(at.layout_symbol["text-writing-mode"]),"text-rotate":new D(at.layout_symbol["text-rotate"]),"text-padding":new w(at.layout_symbol["text-padding"]),"text-keep-upright":new w(at.layout_symbol["text-keep-upright"]),"text-transform":new D(at.layout_symbol["text-transform"]),"text-offset":new D(at.layout_symbol["text-offset"]),"text-allow-overlap":new w(at.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new w(at.layout_symbol["text-ignore-placement"]),"text-optional":new w(at.layout_symbol["text-optional"])});var fh={paint:new C({"icon-opacity":new D(at.paint_symbol["icon-opacity"]),"icon-color":new D(at.paint_symbol["icon-color"]),"icon-halo-color":new D(at.paint_symbol["icon-halo-color"]),"icon-halo-width":new D(at.paint_symbol["icon-halo-width"]),"icon-halo-blur":new D(at.paint_symbol["icon-halo-blur"]),"icon-translate":new w(at.paint_symbol["icon-translate"]),"icon-translate-anchor":new w(at.paint_symbol["icon-translate-anchor"]),"text-opacity":new D(at.paint_symbol["text-opacity"]),"text-color":new D(at.paint_symbol["text-color"],{runtimeType:Ar,getOverride:i=>i.textColor,hasOverride:i=>!!i.textColor}),"text-halo-color":new D(at.paint_symbol["text-halo-color"]),"text-halo-width":new D(at.paint_symbol["text-halo-width"]),"text-halo-blur":new D(at.paint_symbol["text-halo-blur"]),"text-translate":new w(at.paint_symbol["text-translate"]),"text-translate-anchor":new w(at.paint_symbol["text-translate-anchor"])}),layout:jf};class Nf{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:vn,this.defaultValue=e}evaluate(e){if(e.formattedSection){const n=this.defaultValue.property.overrides;if(n&&n.hasOverride(e.formattedSection))return n.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Bt(Nf,"FormatSectionOverride",{omit:["defaultValue"]});class Id extends Ml{constructor(e){super(e,fh)}recalculate(e,n){super.recalculate(e,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const o=this.layout.get("text-writing-mode");if(o){const u=[];for(const f of o)u.indexOf(f)<0&&u.push(f);this.layout._values["text-writing-mode"]=u}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(e,n,o,u){const f=this.layout.get(e).evaluate(n,{},o,u),g=this._unevaluatedLayout._values[e];return g.isDataDriven()||js(g.value)||!f?f:(M=n.properties,f.replace(/{([^{}]+)}/g,(E,B)=>B in M?String(M[B]):""));var M}createBucket(e){return new Sc(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of fh.paint.overridableProperties){if(!Id.hasPaintOverride(this.layout,e))continue;const n=this.paint.get(e),o=new Nf(n),u=new Xo(o,n.property.specification);let f=null;f="constant"===n.value.kind||"source"===n.value.kind?new N("source",u):new G("composite",u,n.value.zoomStops,n.value._interpolationType),this.paint._values[e]=new p(n.property,f,n.parameters)}}_handleOverridablePaintPropertyUpdate(e,n,o){return!(!this.layout||n.isDataDriven()||o.isDataDriven())&&Id.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,n){const o=e.get("text-field"),u=fh.paint.properties[n];let f=!1;const g=M=>{for(const L of M)if(u.overrides&&u.overrides.hasOverride(L))return void(f=!0)};if("constant"===o.value.kind&&o.value.value instanceof dr)g(o.value.value.sections);else if("source"===o.value.kind){const M=E=>{f||(E instanceof za&&Vi(E.value)===Br?g(E.value.sections):E instanceof ar?g(E.sections):E.eachChild(M))},L=o.value;L._styleExpression&&M(L._styleExpression.expression)}return f}getProgramConfiguration(e){return new Uc(this,e)}}var eg={paint:new C({"background-color":new w(at.paint_background["background-color"]),"background-pattern":new w(at.paint_background["background-pattern"]),"background-opacity":new w(at.paint_background["background-opacity"])})},tg={paint:new C({"raster-opacity":new w(at.paint_raster["raster-opacity"]),"raster-hue-rotate":new w(at.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new w(at.paint_raster["raster-brightness-min"]),"raster-brightness-max":new w(at.paint_raster["raster-brightness-max"]),"raster-saturation":new w(at.paint_raster["raster-saturation"]),"raster-contrast":new w(at.paint_raster["raster-contrast"]),"raster-resampling":new w(at.paint_raster["raster-resampling"]),"raster-fade-duration":new w(at.paint_raster["raster-fade-duration"])})};class mh extends Ml{constructor(e){super(e,{}),this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}isLayerDraped(){return void 0!==this.implementation.renderToTile}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var gp={paint:new C({"sky-type":new w(at.paint_sky["sky-type"]),"sky-atmosphere-sun":new w(at.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new w(at.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new w(at.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new w(at.paint_sky["sky-gradient-radius"]),"sky-gradient":new O(at.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new w(at.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new w(at.paint_sky["sky-atmosphere-color"]),"sky-opacity":new w(at.paint_sky["sky-opacity"])})};function Gu(i,e,n){const o=[0,0,1],u=Bp([]);return Jl(u,u,n?-kt(i)+Math.PI:kt(i)),Lm(u,u,-kt(e)),zp(o,o,u),Ds(o,o)}const ig={circle:class extends Ml{constructor(i){super(i,Fg)}createBucket(i){return new $p(i)}queryRadius(i){const e=i;return md("circle-radius",this,e)+md("circle-stroke-width",this,e)+Hh(this.paint.get("circle-translate"))}queryIntersectsFeature(i,e,n,o,u,f,g,M){const L=Gm(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),f.angle,i.pixelToTileUnitsFactor),E=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n);return Zm(i,o,f,g,M,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),L,E)}getProgramIds(){return["circle"]}getProgramConfiguration(i){return new Uc(this,i)}},heatmap:class extends Ml{createBucket(i){return new $m(i)}constructor(i){super(i,jg),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(i){"heatmap-color"===i&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Qp({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(i){return md("heatmap-radius",this,i)}queryIntersectsFeature(i,e,n,o,u,f,g,M){const L=this.paint.get("heatmap-radius").evaluate(e,n);return Zm(i,o,f,g,M,!0,!0,new He(0,0),L)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(i){return new Uc(this,i)}},hillshade:class extends Ml{constructor(i){super(i,Ng)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends Ml{constructor(i){super(i,$g)}getProgramIds(){const i=this.paint.get("fill-pattern"),e=i&&i.constantOr(1),n=[e?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&n.push(e&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),n}getProgramConfiguration(i){return new Uc(this,i)}recalculate(i,e){super.recalculate(i,e);const n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(i){return new gd(i)}queryRadius(){return Hh(this.paint.get("fill-translate"))}queryIntersectsFeature(i,e,n,o,u,f){return!i.queryGeometry.isAboveHorizon&&Nm(Wm(i.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),f.angle,i.pixelToTileUnitsFactor),o)}isTileClipped(){return!0}},"fill-extrusion":class extends Ml{constructor(i){super(i,ff)}createBucket(i){return new vd(i)}queryRadius(){return Hh(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(i){return new Uc(this,i)}queryIntersectsFeature(i,e,n,o,u,f,g,M,L){const E=Gm(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),f.angle,i.pixelToTileUnitsFactor),B=this.paint.get("fill-extrusion-height").evaluate(e,n),V=this.paint.get("fill-extrusion-base").evaluate(e,n),Z=[0,0],ee=M&&f.elevation,ne=f.elevation?f.elevation.exaggeration():1,le=i.tile.getBucket(this);if(ee&&le instanceof vd){const Le=le.centroidVertexArray,Ie=L+1;Ie<Le.length&&(Z[0]=Le.geta_centroid_pos0(Ie),Z[1]=Le.geta_centroid_pos1(Ie))}if(0===Z[0]&&1===Z[1])return!1;"globe"===f.projection.name&&(o=y_([o],[new He(0,0),new He(Jt,Jt)],i.tileID.canonical).map(Le=>Le.polygon).flat());const _e=ee?M:null,[xe,Se]=(Ie=o,Pe=V,Qe=B,$e=E,dt=g,Tt=_e,it=Z,mt=ne,ft=f.center.lat,"globe"===(Le=f).projection.name?function(Lt,ct,Ft,Nt,zt,_i,Ct,$t,gi,Ki,fi){const Qt=[],An=[],li=Lt.projection.upVectorScale(fi,Lt.center.lat,Lt.worldSize).metersToTile,yi=[0,0,0,1],gn=[0,0,0,1],bn=(xn,Gn,or,Lr)=>{xn[0]=Gn,xn[1]=or,xn[2]=Lr,xn[3]=1},In=g_();Ft>0&&(Ft+=In),Nt+=In;for(const xn of ct){const Gn=[],or=[];for(const Lr of xn){const wn=Lr.x+zt.x,Kn=Lr.y+zt.y,Sr=Lt.projection.projectTilePoint(wn,Kn,fi),Qn=Lt.projection.upVector(fi,Lr.x,Lr.y);let rn=Ft,mr=Nt;if(Ct){const Pn=gf(wn,Kn,Ft,Nt,Ct,$t,gi,Ki);rn+=Pn.base,mr+=Pn.top}0!==Ft?bn(yi,Sr.x+Qn[0]*li*rn,Sr.y+Qn[1]*li*rn,Sr.z+Qn[2]*li*rn):bn(yi,Sr.x,Sr.y,Sr.z),bn(gn,Sr.x+Qn[0]*li*mr,Sr.y+Qn[1]*li*mr,Sr.z+Qn[2]*li*mr),fr(yi,yi,_i),fr(gn,gn,_i),Gn.push(new zu(yi[0],yi[1],yi[2])),or.push(new zu(gn[0],gn[1],gn[2]))}Qt.push(Gn),An.push(or)}return[Qt,An]}(Le,Ie,Pe,Qe,$e,dt,Tt,it,mt,ft,i.tileID.canonical):Tt?function(Lt,ct,Ft,Nt,zt,_i,Ct,$t,gi){const Ki=[],fi=[],Qt=[0,0,0,1];for(const An of Lt){const li=[],yi=[];for(const gn of An){const bn=gn.x+Nt.x,In=gn.y+Nt.y,xn=gf(bn,In,ct,Ft,_i,Ct,$t,gi);Qt[0]=bn,Qt[1]=In,Qt[2]=xn.base,Qt[3]=1,Su(Qt,Qt,zt),Qt[3]=Math.max(Qt[3],1e-5);const Gn=new zu(Qt[0]/Qt[3],Qt[1]/Qt[3],Qt[2]/Qt[3]);Qt[0]=bn,Qt[1]=In,Qt[2]=xn.top,Qt[3]=1,Su(Qt,Qt,zt),Qt[3]=Math.max(Qt[3],1e-5);const or=new zu(Qt[0]/Qt[3],Qt[1]/Qt[3],Qt[2]/Qt[3]);li.push(Gn),yi.push(or)}Ki.push(li),fi.push(yi)}return[Ki,fi]}(Ie,Pe,Qe,$e,dt,Tt,it,mt,ft):function(Lt,ct,Ft,Nt,zt){const _i=[],Ct=[],$t=zt[8]*ct,gi=zt[9]*ct,Ki=zt[10]*ct,fi=zt[11]*ct,Qt=zt[8]*Ft,An=zt[9]*Ft,li=zt[10]*Ft,yi=zt[11]*Ft;for(const gn of Lt){const bn=[],In=[];for(const xn of gn){const Gn=xn.x+Nt.x,or=xn.y+Nt.y,Lr=zt[0]*Gn+zt[4]*or+zt[12],wn=zt[1]*Gn+zt[5]*or+zt[13],Kn=zt[2]*Gn+zt[6]*or+zt[14],Sr=zt[3]*Gn+zt[7]*or+zt[15],Qn=Lr+$t,rn=wn+gi,mr=Kn+Ki,Pn=Math.max(Sr+fi,1e-5),Ls=Lr+Qt,_r=wn+An,Sa=Kn+li,ha=Math.max(Sr+yi,1e-5);bn.push(new zu(Qn/Pn,rn/Pn,mr/Pn)),In.push(new zu(Ls/ha,_r/ha,Sa/ha))}_i.push(bn),Ct.push(In)}return[_i,Ct]}(Ie,Pe,Qe,$e,dt)),we=i.queryGeometry;var Le,Ie,Pe,Qe,$e,dt,Tt,it,mt,ft;return function(Le,Ie,Pe){let Qe=1/0;Nm(Pe,Ie)&&(Qe=_f(Pe,Ie[0]));for(let $e=0;$e<Ie.length;$e++){const dt=Ie[$e],Tt=Le[$e];for(let it=0;it<dt.length-1;it++){const mt=dt[it],ft=[mt,dt[it+1],Tt[it+1],Tt[it],mt];jm(Pe,ft)&&(Qe=Math.min(Qe,_f(Pe,ft)))}}return Qe!==1/0&&Qe}(xe,Se,we.isPointQuery()?we.screenBounds:we.screenGeometry)}},line:class extends Ml{constructor(i){super(i,th),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(i){if("line-gradient"===i){const e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof Va,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(i,e){super.recalculate(i,e),this.paint._values["line-floorwidth"]=Jh.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,i)}createBucket(i){return new xd(i)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(i){return new Uc(this,i)}queryRadius(i){const e=i,n=bf(md("line-width",this,e),md("line-gap-width",this,e)),o=md("line-offset",this,e);return n/2+Math.abs(o)+Hh(this.paint.get("line-translate"))}queryIntersectsFeature(i,e,n,o,u,f){if(i.queryGeometry.isAboveHorizon)return!1;const g=Wm(i.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),f.angle,i.pixelToTileUnitsFactor),M=i.pixelToTileUnitsFactor/2*bf(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),L=this.paint.get("line-offset").evaluate(e,n);return L&&(o=function(E,B){const V=[],Z=new He(0,0);for(let ee=0;ee<E.length;ee++){const ne=E[ee],le=[];for(let _e=0;_e<ne.length;_e++){const xe=ne[_e],Se=ne[_e+1],we=0===_e?Z:xe.sub(ne[_e-1])._unit()._perp(),Le=_e===ne.length-1?Z:Se.sub(xe)._unit()._perp(),Ie=we._add(Le)._unit();Ie._mult(1/(Ie.x*Le.x+Ie.y*Le.y)),le.push(Ie._mult(B)._add(xe))}V.push(le)}return V}(o,L*i.pixelToTileUnitsFactor)),function(E,B,V){for(let Z=0;Z<B.length;Z++){const ee=B[Z];if(E.length>=3)for(let ne=0;ne<ee.length;ne++)if(Pu(E,ee[ne]))return!0;if(Ig(E,ee,V))return!0}return!1}(g,o,M)}isTileClipped(){return!0}},symbol:Id,background:class extends Ml{constructor(i){super(i,eg)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Ml{constructor(i){super(i,tg)}getProgramIds(){return["raster"]}},sky:class extends Ml{constructor(i){super(i,gp),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(i){"sky-gradient"===i?this._updateColorRamp():"sky-atmosphere-sun"!==i&&"sky-atmosphere-halo-color"!==i&&"sky-atmosphere-color"!==i&&"sky-atmosphere-sun-intensity"!==i||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Qp({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(i){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const e=i.style.light.properties.get("position");return this._lightPosition.azimuthal!==e.azimuthal||this._lightPosition.polar!==e.polar}return!1}getCenter(i,e){if("atmosphere"===this.paint.get("sky-type")){const o=this.paint.get("sky-atmosphere-sun"),u=!o,f=i.style.light,g=f.properties.get("position");return u&&"viewport"===f.properties.get("anchor")&&Pi("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),u?Gu(g.azimuthal,90-g.polar,e):Gu(o[0],90-o[1],e)}const n=this.paint.get("sky-gradient-center");return Gu(n[0],90-n[1],e)}is3D(){return!1}isSky(){return!0}markSkyboxValid(i){this._skyboxInvalidated=!1,this._lightPosition=i.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const i=this.paint.get("sky-type");return"atmosphere"===i?["skyboxCapture","skybox"]:"gradient"===i?["skyboxGradient"]:null}}};class Zu{constructor(e,n,o,u){this.context=e,this.format=o,this.texture=e.gl.createTexture(),this.update(n,u)}update(e,n,o){const{width:u,height:f}=e,{context:g}=this,{gl:M}=g,{HTMLImageElement:L,HTMLCanvasElement:E,HTMLVideoElement:B,ImageData:V,ImageBitmap:Z}=P;if(M.bindTexture(M.TEXTURE_2D,this.texture),g.pixelStoreUnpackFlipY.set(!1),g.pixelStoreUnpack.set(1),g.pixelStoreUnpackPremultiplyAlpha.set(this.format===M.RGBA&&(!n||!1!==n.premultiply)),o||this.size&&this.size[0]===u&&this.size[1]===f){const{x:ee,y:ne}=o||{x:0,y:0};e instanceof L||e instanceof E||e instanceof B||e instanceof V||Z&&e instanceof Z?M.texSubImage2D(M.TEXTURE_2D,0,ee,ne,M.RGBA,M.UNSIGNED_BYTE,e):M.texSubImage2D(M.TEXTURE_2D,0,ee,ne,u,f,M.RGBA,M.UNSIGNED_BYTE,e.data)}else this.size=[u,f],e instanceof L||e instanceof E||e instanceof B||e instanceof V||Z&&e instanceof Z?M.texImage2D(M.TEXTURE_2D,0,this.format,this.format,M.UNSIGNED_BYTE,e):M.texImage2D(M.TEXTURE_2D,0,this.format,u,f,0,this.format,M.UNSIGNED_BYTE,e.data);this.useMipmap=Boolean(n&&n.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&M.generateMipmap(M.TEXTURE_2D)}bind(e,n){const{context:o}=this,{gl:u}=o;u.bindTexture(u.TEXTURE_2D,this.texture),e!==this.filter&&(u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,e),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,this.useMipmap?e===u.NEAREST?u.NEAREST_MIPMAP_NEAREST:u.LINEAR_MIPMAP_NEAREST:e),this.filter=e),n!==this.wrap&&(u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,n),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,n),this.wrap=n)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class ng{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class fy{constructor(){this.tasks={},this.taskQueue=[],Yi(["process"],this),this.invoker=new ng(this.process),this.nextId=0}add(e,n){const o=this.nextId++,u=function({type:f,isSymbolTile:g,zoom:M}){return M=M||0,"message"===f?0:"maybePrepare"!==f||g?"parseTile"!==f||g?"parseTile"===f&&g?300-M:"maybePrepare"===f&&g?400-M:500:200-M:100-M}(n);if(0===u){kn();try{e()}finally{}return{cancel:()=>{}}}return this.tasks[o]={fn:e,metadata:n,priority:u,id:o},this.taskQueue.push(o),this.invoker.trigger(),{cancel:()=>{delete this.tasks[o]}}}process(){kn();try{if(this.taskQueue=this.taskQueue.filter(o=>!!this.tasks[o]),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const n=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!n)return;n.fn()}finally{}}pick(){let e=null,n=1/0;for(let u=0;u<this.taskQueue.length;u++){const f=this.tasks[this.taskQueue[u]];f.priority<n&&(n=f.priority,e=u)}if(null===e)return null;const o=this.taskQueue[e];return this.taskQueue.splice(e,1),o}remove(){this.invoker.remove()}}class rg{constructor(e){this._stringToNumber={},this._numberToString=[];for(let n=0;n<e.length;n++){const o=e[n];this._stringToNumber[o]=n,this._numberToString[n]=o}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}const Hf=["tile","layer","source","sourceLayer","state"];class ag{constructor(e,n,o,u,f){this.type="Feature",this._vectorTileFeature=e,this._z=n,this._x=o,this._y=u,this.properties=e.properties,this.id=f}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);for(const n of Hf)void 0!==this[n]&&(e[n]=this[n]);return e}}const iu=new Uint16Array(8184);for(let i=0;i<2046;i++){let e=i+2,n=0,o=0,u=0,f=0,g=0,M=0;for(1&e?u=f=g=32:n=o=M=32;(e>>=1)>1;){const E=n+u>>1,B=o+f>>1;1&e?(u=n,f=o,n=g,o=M):(n=u,o=f,u=g,f=M),g=E,M=B}const L=4*i;iu[L+0]=n,iu[L+1]=o,iu[L+2]=u,iu[L+3]=f}const ic=new Uint16Array(2178),nc=new Uint8Array(1089),_h=new Uint16Array(1089);function Vf(i){return 0===i?-.03125:32===i?.03125:0}var Uf=ce([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const Wf={type:2,extent:Jt,loadGeometry:()=>[[new He(0,0),new He(8193,0),new He(8193,8193),new He(0,8193),new He(0,0)]]};class vu{constructor(e,n,o,u,f){this.tileID=e,this.uid=jn(),this.uses=0,this.tileSize=n,this.tileZoom=o,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=f,this.expiredRequestCount=0,this.state="loading",u&&u.transform&&(this.projection=u.transform.projection)}registerFadeDuration(e){const n=e+this.timeAdded;n<an.now()||this.fadeEndTime&&n<this.fadeEndTime||(this.fadeEndTime=n)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=yu(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(e,n,o){if(this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(u,f){const g={};if(!f)return g;for(const M of u){const L=M.layerIds.map(E=>f.getLayer(E)).filter(Boolean);if(0!==L.length){M.layers=L,M.stateDependentLayerIds&&(M.stateDependentLayers=M.stateDependentLayerIds.map(E=>L.filter(B=>B.id===E)[0]));for(const E of L)g[E.id]=M}}return g}(e.buckets,n.style),this.hasSymbolBuckets=!1;for(const u in this.buckets){const f=this.buckets[u];if(f instanceof Sc){if(this.hasSymbolBuckets=!0,!o)break;f.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const u in this.buckets){const f=this.buckets[u];if(f instanceof Sc&&f.hasRTLText){this.hasRTLText=!0,R.isLoading()||R.isLoaded()||"deferred"!==T()||I();break}}this.queryPadding=0;for(const u in this.buckets){const f=this.buckets[u];this.queryPadding=Math.max(this.queryPadding,n.style.getLayer(u).queryRadius(f))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new et}unloadVectorData(){if(this.hasData()){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(e){return this.buckets[e.id]}upload(e){for(const o in this.buckets){const u=this.buckets[o];u.uploadPending()&&u.upload(e)}const n=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Zu(e,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Zu(e,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Zu(e,this.lineAtlas.image,n.ALPHA),this.lineAtlas.uploaded=!0)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,n,o,u,f,g,M,L){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:u,pixelPosMatrix:M,transform:g,params:f,tileTransform:this.tileTransform},e,n,o):{}}querySourceFeatures(e,n){const o=this.latestFeatureIndex;if(!o||!o.rawTileData)return;const u=o.loadVTLayers(),f=n?n.sourceLayer:"",g=u._geojsonTileLayer||u[f];if(!g)return;const M=so(n&&n.filter),{z:L,x:E,y:B}=this.tileID.canonical,V={z:L,x:E,y:B};for(let Z=0;Z<g.length;Z++){const ee=g.feature(Z);if(M.needGeometry){const _e=Iu(ee,!0);if(!M.filter(new H(this.tileID.overscaledZ),_e,this.tileID.canonical))continue}else if(!M.filter(new H(this.tileID.overscaledZ),ee))continue;const ne=o.getId(ee,f),le=new ag(ee,L,E,B,ne);le.tile=V,e.push(le)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const n=this.expirationTime;if(e.cacheControl){const o=Ui(e.cacheControl);o["max-age"]&&(this.expirationTime=Date.now()+1e3*o["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const o=Date.now();let u=!1;if(this.expirationTime>o)u=!1;else if(n)if(this.expirationTime<n)u=!0;else{const f=this.expirationTime-n;f?this.expirationTime=o+Math.max(f,3e4):u=!0}else u=!0;u?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,n){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length||!n)return;const o=this.latestFeatureIndex.loadVTLayers(),u=n.style.listImages();for(const f in this.buckets){if(!n.style.hasLayer(f))continue;const g=this.buckets[f],M=g.layers[0].sourceLayer||"_geojsonTileLayer",L=o[M],E=e[M];if(!L||!E||0===Object.keys(E).length)continue;if(g.update(E,L,u,this.imageAtlas&&this.imageAtlas.patternPositions||{}),g instanceof xd||g instanceof gd){const V=n.style._getSourceCache(g.layers[0].source);n._terrain&&n._terrain.enabled&&V&&g.programConfigurations.needsUpload&&n._terrain._clearRenderCacheForTile(V.id,this.tileID)}const B=n&&n.style&&n.style.getLayer(f);B&&(this.queryPadding=Math.max(this.queryPadding,B.queryRadius(g)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<an.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=an.now()+e}setTexture(e,n){const o=n.context,u=o.gl;this.texture=this.texture||n.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new Zu(o,e,u.RGBA,{useMipmap:!0}),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE))}setDependencies(e,n){const o={};for(const u of n)o[u]=!0;this.dependencies[e]=o}hasDependency(e,n){for(const o of e){const u=this.dependencies[o];if(u)for(const f of n)if(u[f])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(e,n){if(!n||"mercator"===n.name||this._tileDebugBuffer)return;const o=qc(Wf,this.tileID.canonical,this.tileTransform)[0],u=new ve,f=new re;for(let g=0;g<o.length;g++){const{x:M,y:L}=o[g];u.emplaceBack(M,L),f.emplaceBack(g)}f.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(f),this._tileDebugBuffer=e.createVertexBuffer(u,Ud.members),this._tileDebugSegments=kr.simpleSegment(0,0,u.length,f.length)}_makeTileBoundsBuffers(e,n){if(this._tileBoundsBuffer||!n||"mercator"===n.name)return;const o=qc(Wf,this.tileID.canonical,this.tileTransform)[0];let u,f;if(this.isRaster){const g=function(M,L){const E=yu(M,L),B=Math.pow(2,M.z);for(let _e=0;_e<33;_e++)for(let xe=0;xe<33;xe++){const Se=sl((M.x+(xe+Vf(xe))/32)/B),we=es((M.y+(_e+Vf(_e))/32)/B),Le=L.project(Se,we),Ie=33*_e+xe;ic[2*Ie+0]=Math.round((Le.x*E.scale-E.x)*Jt),ic[2*Ie+1]=Math.round((Le.y*E.scale-E.y)*Jt)}nc.fill(0),_h.fill(0);for(let _e=2045;_e>=0;_e--){const xe=4*_e,Se=iu[xe+0],we=iu[xe+1],Le=iu[xe+2],Ie=iu[xe+3],Pe=Se+Le>>1,Qe=we+Ie>>1,$e=Pe+Qe-we,dt=Qe+Se-Pe,Tt=33*we+Se,it=33*Ie+Le,mt=33*Qe+Pe,ft=Math.hypot((ic[2*Tt+0]+ic[2*it+0])/2-ic[2*mt+0],(ic[2*Tt+1]+ic[2*it+1])/2-ic[2*mt+1])>=16;nc[mt]=nc[mt]||(ft?1:0),_e<1022&&(nc[mt]=nc[mt]||nc[33*(we+dt>>1)+(Se+$e>>1)]||nc[33*(Ie+dt>>1)+(Le+$e>>1)])}const V=new Ee,Z=new jt;let ee=0;function ne(_e,xe){const Se=33*xe+_e;return 0===_h[Se]&&(V.emplaceBack(ic[2*Se+0],ic[2*Se+1],_e*Jt/32,xe*Jt/32),_h[Se]=++ee),_h[Se]-1}function le(_e,xe,Se,we,Le,Ie){const Pe=_e+Se>>1,Qe=xe+we>>1;if(Math.abs(_e-Le)+Math.abs(xe-Ie)>1&&nc[33*Qe+Pe])le(Le,Ie,_e,xe,Pe,Qe),le(Se,we,Le,Ie,Pe,Qe);else{const $e=ne(_e,xe),dt=ne(Se,we),Tt=ne(Le,Ie);Z.emplaceBack($e,dt,Tt)}}return le(0,0,32,32,32,0),le(32,32,0,0,0,32),{vertices:V,indices:Z}}(this.tileID.canonical,n);u=g.vertices,f=g.indices}else{u=new Ee,f=new jt;for(const{x:M,y:L}of o)u.emplaceBack(M,L,0,0);const g=Wh(u.int16,void 0,4);for(let M=0;M<g.length;M+=3)f.emplaceBack(g[M],g[M+1],g[M+2])}this._tileBoundsBuffer=e.createVertexBuffer(u,Uf.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(f),this._tileBoundsSegments=kr.simpleSegment(0,0,u.length,f.length)}_makeGlobeTileDebugBuffers(e,n){const o=n.projection;if(!o||"globe"!==o.name||n.freezeTileCoverage)return;const u=this.tileID.canonical,f=Gd(Am(u,n)),g=pd(n.zoom);let M;g>0&&(M=uu(new Float64Array(16),n.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,u,n,f,M,g),this._makeGlobeTileDebugTextBuffer(e,u,n,f,M,g)}_globePoint(e,n,o,u,f,g,M){let L=Wd(e,n,o);if(g){const E=1<<o.z,B=bc(u.center.lng),V=xc(u.center.lat),Z=(o.x+.5)/E-B;let ee=0;Z>.5?ee=-1:Z<-.5&&(ee=1);let ne=(e/Jt+o.x)/E+ee,le=(n/Jt+o.y)/E;ne=(ne-B)*u._pixelsPerMercatorPixel+B,le=(le-V)*u._pixelsPerMercatorPixel+V;const _e=[ne*u.worldSize,le*u.worldSize,0];fr(_e,_e,g),L=Au(L,_e,M)}return fr(L,L,f)}_makeGlobeTileDebugBorderBuffer(e,n,o,u,f,g){const M=new ve,L=new re,E=new ge,B=(Z,ee,ne,le,_e)=>{const xe=(ne-Z)/(_e-1),Se=(le-ee)/(_e-1),we=M.length;for(let Le=0;Le<_e;Le++){const Ie=Z+Le*xe,Pe=ee+Le*Se;M.emplaceBack(Ie,Pe);const Qe=this._globePoint(Ie,Pe,n,o,u,f,g);E.emplaceBack(Qe[0],Qe[1],Qe[2]),L.emplaceBack(we+Le)}},V=Jt;B(0,0,V,0,16),B(V,0,V,V,16),B(V,V,0,V,16),B(0,V,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(L),this._tileDebugBuffer=e.createVertexBuffer(M,Ud.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(E,Em.members),this._tileDebugSegments=kr.simpleSegment(0,0,M.length,L.length)}_makeGlobeTileDebugTextBuffer(e,n,o,u,f,g){const L=new ve,E=new jt,B=new ge,V=25;E.reserve(32),L.reserve(V),B.reserve(V);const Z=(ee,ne)=>V*ee+ne;for(let ee=0;ee<V;ee++){const ne=2048*ee;for(let le=0;le<V;le++){const _e=2048*le;L.emplaceBack(_e,ne);const xe=this._globePoint(_e,ne,n,o,u,f,g);B.emplaceBack(xe[0],xe[1],xe[2])}}for(let ee=0;ee<4;ee++)for(let ne=0;ne<4;ne++){const le=Z(ee,ne),_e=Z(ee,ne+1),xe=Z(ee+1,ne),Se=Z(ee+1,ne+1);E.emplaceBack(le,_e,xe),E.emplaceBack(xe,_e,Se)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(E),this._tileDebugTextBuffer=e.createVertexBuffer(L,Ud.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(B,Em.members),this._tileDebugTextSegments=kr.simpleSegment(0,0,V,32)}}class sg{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,n,o){const u=String(n);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][u]=this.stateChanges[e][u]||{},Li(this.stateChanges[e][u],o),null===this.deletedStates[e]){this.deletedStates[e]={};for(const f in this.state[e])f!==u&&(this.deletedStates[e][f]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][u]){this.deletedStates[e][u]={};for(const f in this.state[e][u])o[f]||(this.deletedStates[e][u][f]=null)}else for(const f in o)this.deletedStates[e]&&this.deletedStates[e][u]&&null===this.deletedStates[e][u][f]&&delete this.deletedStates[e][u][f]}removeFeatureState(e,n,o){if(null===this.deletedStates[e])return;const u=String(n);if(this.deletedStates[e]=this.deletedStates[e]||{},o&&void 0!==n)null!==this.deletedStates[e][u]&&(this.deletedStates[e][u]=this.deletedStates[e][u]||{},this.deletedStates[e][u][o]=null);else if(void 0!==n)if(this.stateChanges[e]&&this.stateChanges[e][u])for(o in this.deletedStates[e][u]={},this.stateChanges[e][u])this.deletedStates[e][u][o]=null;else this.deletedStates[e][u]=null;else this.deletedStates[e]=null}getState(e,n){const o=String(n),u=Li({},(this.state[e]||{})[o],(this.stateChanges[e]||{})[o]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const f=this.deletedStates[e][n];if(null===f)return{};for(const g in f)delete u[g]}return u}initializeTileState(e,n){e.setFeatureState(this.state,n)}coalesceChanges(e,n){const o={};for(const u in this.stateChanges){this.state[u]=this.state[u]||{};const f={};for(const g in this.stateChanges[u])this.state[u][g]||(this.state[u][g]={}),Li(this.state[u][g],this.stateChanges[u][g]),f[g]=this.state[u][g];o[u]=f}for(const u in this.deletedStates){this.state[u]=this.state[u]||{};const f={};if(null===this.deletedStates[u])for(const g in this.state[u])f[g]={},this.state[u][g]={};else for(const g in this.deletedStates[u]){if(null===this.deletedStates[u][g])this.state[u][g]={};else if(this.state[u][g])for(const M of Object.keys(this.deletedStates[u][g]))delete this.state[u][g][M];f[g]=this.state[u][g]}o[u]=o[u]||{},Li(o[u],f)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(o).length)for(const u in e)e[u].setFeatureState(o,n)}}class Gf{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,n){const o=this.toIdx(e,n);return{min:this.minimums[o],max:this.maximums[o]}}isLeaf(e,n){return this.leaves[this.toIdx(e,n)]}toIdx(e,n){return n*this.size+e}}function Zf(i,e,n,o){let u=0,f=Number.MAX_VALUE;for(let g=0;g<3;g++)if(Math.abs(o[g])<1e-15){if(n[g]<i[g]||n[g]>e[g])return null}else{const M=1/o[g];let L=(i[g]-n[g])*M,E=(e[g]-n[g])*M;if(L>E){const B=L;L=E,E=B}if(L>u&&(u=L),E<f&&(f=E),u>f)return null}return u}function qf(i,e,n,o,u,f,g,M,L,E,B){const V=o-i,Z=u-e,ee=f-n,ne=g-i,le=M-e,_e=L-n,xe=B[1]*_e-B[2]*le,Se=B[2]*ne-B[0]*_e,we=B[0]*le-B[1]*ne,Le=V*xe+Z*Se+ee*we;if(Math.abs(Le)<1e-15)return null;const Ie=1/Le,Pe=E[0]-i,Qe=E[1]-e,$e=E[2]-n,dt=(Pe*xe+Qe*Se+$e*we)*Ie;if(dt<0||dt>1)return null;const Tt=Qe*ee-$e*Z,it=$e*V-Pe*ee,mt=Pe*Z-Qe*V,ft=(B[0]*Tt+B[1]*it+B[2]*mt)*Ie;return ft<0||dt+ft>1?null:(ne*Tt+le*it+_e*mt)*Ie}function $f(i,e,n){return(i-e)/(n-e)}function Xf(i,e,n,o,u,f,g,M,L){const E=1<<n,B=f-o,V=g-u,Z=(i+1)/E*B+o,ee=(e+0)/E*V+u,ne=(e+1)/E*V+u;M[0]=(i+0)/E*B+o,M[1]=ee,L[0]=Z,L[1]=ne}class yp{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const n=function(f){const g=Math.ceil(Math.log2(f.dim/8)),M=[];let L=Math.ceil(Math.pow(2,g));const E=1/L,B=(ee,ne,le,_e,xe)=>{const Se=_e?1:0,we=(ee+1)*le-Se,Le=ne*le,Ie=(ne+1)*le-Se;xe[0]=ee*le,xe[1]=Le,xe[2]=we,xe[3]=Ie};let V=new Gf(L);const Z=[];for(let ee=0;ee<L*L;ee++){B(ee%L,Math.floor(ee/L),E,!1,Z);const ne=Cc(Z[0],Z[1],f),le=Cc(Z[2],Z[1],f),_e=Cc(Z[2],Z[3],f),xe=Cc(Z[0],Z[3],f);V.minimums.push(Math.min(ne,le,_e,xe)),V.maximums.push(Math.max(ne,le,_e,xe)),V.leaves.push(1)}for(M.push(V),L/=2;L>=1;L/=2){const ee=M[M.length-1];V=new Gf(L);for(let ne=0;ne<L*L;ne++){B(ne%L,Math.floor(ne/L),2,!0,Z);const le=ee.getElevation(Z[0],Z[1]),_e=ee.getElevation(Z[2],Z[1]),xe=ee.getElevation(Z[2],Z[3]),Se=ee.getElevation(Z[0],Z[3]),we=ee.isLeaf(Z[0],Z[1]),Le=ee.isLeaf(Z[2],Z[1]),Ie=ee.isLeaf(Z[2],Z[3]),Pe=ee.isLeaf(Z[0],Z[3]),Qe=Math.min(le.min,_e.min,xe.min,Se.min),$e=Math.max(le.max,_e.max,xe.max,Se.max),dt=we&&Le&&Ie&&Pe;V.maximums.push($e),V.minimums.push(Qe),V.leaves.push($e-Qe<=5&&dt?1:0)}M.push(V)}return M}(this.dem),o=n.length-1,u=n[o];this._addNode(u.minimums[0],u.maximums[0],u.leaves[0]),this._construct(n,0,0,o,0)}raycastRoot(e,n,o,u,f,g,M=1){return Zf([e,n,-100],[o,u,this.maximums[0]*M],f,g)}raycast(e,n,o,u,f,g,M=1){if(!this.nodeCount)return null;const L=this.raycastRoot(e,n,o,u,f,g,M);if(null==L)return null;const E=[],B=[],V=[],Z=[],ee=[{idx:0,t:L,nodex:0,nodey:0,depth:0}];for(;ee.length>0;){const{idx:ne,t:le,nodex:_e,nodey:xe,depth:Se}=ee.pop();if(this.leaves[ne]){Xf(_e,xe,Se,e,n,o,u,V,Z);const Le=1<<Se,Ie=(_e+0)/Le,Pe=(_e+1)/Le,Qe=(xe+0)/Le,$e=(xe+1)/Le,dt=Cc(Ie,Qe,this.dem)*M,Tt=Cc(Pe,Qe,this.dem)*M,it=Cc(Pe,$e,this.dem)*M,mt=Cc(Ie,$e,this.dem)*M,ft=qf(V[0],V[1],dt,Z[0],V[1],Tt,Z[0],Z[1],it,f,g),xt=qf(Z[0],Z[1],it,V[0],Z[1],mt,V[0],V[1],dt,f,g),Lt=Math.min(null!==ft?ft:Number.MAX_VALUE,null!==xt?xt:Number.MAX_VALUE);if(Lt!==Number.MAX_VALUE)return Lt;{const ct=Dl([],f,g,le);if(Jf(dt,Tt,mt,it,$f(ct[0],V[0],Z[0]),$f(ct[1],V[1],Z[1]))>=ct[2])return le}continue}let we=0;for(let Le=0;Le<this._siblingOffset.length;Le++){Xf((_e<<1)+this._siblingOffset[Le][0],(xe<<1)+this._siblingOffset[Le][1],Se+1,e,n,o,u,V,Z),V[2]=-100,Z[2]=this.maximums[this.childOffsets[ne]+Le]*M;const Ie=Zf(V,Z,f,g);if(null!=Ie){const Pe=Ie;E[Le]=Pe;let Qe=!1;for(let $e=0;$e<we&&!Qe;$e++)Pe>=E[B[$e]]&&(B.splice($e,0,Le),Qe=!0);Qe||(B[we]=Le),we++}}for(let Le=0;Le<we;Le++){const Ie=B[Le];ee.push({idx:this.childOffsets[ne]+Ie,t:E[Ie],nodex:(_e<<1)+this._siblingOffset[Ie][0],nodey:(xe<<1)+this._siblingOffset[Ie][1],depth:Se+1})}}return null}_addNode(e,n,o){return this.minimums.push(e),this.maximums.push(n),this.leaves.push(o),this.childOffsets.push(0),this.nodeCount++}_construct(e,n,o,u,f){if(1===e[u].isLeaf(n,o))return;this.childOffsets[f]||(this.childOffsets[f]=this.nodeCount);const g=u-1,M=e[g];let L=0,E=0;for(let B=0;B<this._siblingOffset.length;B++){const V=2*n+this._siblingOffset[B][0],Z=2*o+this._siblingOffset[B][1],ee=M.getElevation(V,Z),ne=M.isLeaf(V,Z),le=this._addNode(ee.min,ee.max,ne);ne&&(L|=1<<B),E||(E=le)}for(let B=0;B<this._siblingOffset.length;B++)L&1<<B||this._construct(e,2*n+this._siblingOffset[B][0],2*o+this._siblingOffset[B][1],g,E+B)}}function Jf(i,e,n,o,u,f){return ki(ki(i,n,f),ki(e,o,f),u)}function Cc(i,e,n){const o=n.dim,u=ei(i*o-.5,0,o-1),f=ei(e*o-.5,0,o-1),g=Math.floor(u),M=Math.floor(f),L=Math.min(g+1,o-1),E=Math.min(M+1,o-1);return Jf(n.get(g,M),n.get(L,M),n.get(g,E),n.get(L,E),u-g,f-M)}const Kf={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function og(i,e,n){return(256*i*256+256*e+n)/10-1e4}function my(i,e,n){return 256*i+e+n/256-32768}class gh{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,n,o,u=!1,f=!1){if(this.uid=e,n.height!==n.width)throw new RangeError("DEM tiles must be square");if(o&&"mapbox"!==o&&"terrarium"!==o)return Pi(`"${o}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=n.height;const g=this.dim=n.height-2,M=new Uint32Array(n.data.buffer);if(this.pixels=new Uint8Array(n.data.buffer),this.encoding=o||"mapbox",this.borderReady=u,!u){for(let L=0;L<g;L++)M[this._idx(-1,L)]=M[this._idx(0,L)],M[this._idx(g,L)]=M[this._idx(g-1,L)],M[this._idx(L,-1)]=M[this._idx(L,0)],M[this._idx(L,g)]=M[this._idx(L,g-1)];M[this._idx(-1,-1)]=M[this._idx(0,0)],M[this._idx(g,-1)]=M[this._idx(g-1,0)],M[this._idx(-1,g)]=M[this._idx(0,g-1)],M[this._idx(g,g)]=M[this._idx(g-1,g-1)],f&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new yp(this)}get(e,n,o=!1){o&&(e=ei(e,-1,this.dim),n=ei(n,-1,this.dim));const u=4*this._idx(e,n);return("terrarium"===this.encoding?my:og)(this.pixels[u],this.pixels[u+1],this.pixels[u+2])}static getUnpackVector(e){return Kf[e]}get unpackVector(){return Kf[this.encoding]}_idx(e,n){if(e<-1||e>=this.dim+1||n<-1||n>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(n+1)*this.stride+(e+1)}static pack(e,n){const o=[0,0,0,0],u=gh.getUnpackVector(n);let f=Math.floor((e+u[3])/u[2]);return o[2]=f%256,f=Math.floor(f/256),o[1]=f%256,f=Math.floor(f/256),o[0]=f,o}getPixels(){return new Po({width:this.stride,height:this.stride},this.pixels)}backfillBorder(e,n,o){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let u=n*this.dim,f=n*this.dim+this.dim,g=o*this.dim,M=o*this.dim+this.dim;switch(n){case-1:u=f-1;break;case 1:f=u+1}switch(o){case-1:g=M-1;break;case 1:M=g+1}const L=-n*this.dim,E=-o*this.dim;for(let B=g;B<M;B++)for(let V=u;V<f;V++){const Z=4*this._idx(V,B),ee=4*this._idx(V+L,B+E);this.pixels[Z+0]=e.pixels[ee+0],this.pixels[Z+1]=e.pixels[ee+1],this.pixels[Z+2]=e.pixels[ee+2],this.pixels[Z+3]=e.pixels[ee+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Bt(gh,"DEMData"),Bt(yp,"DemMinMaxQuadTree",{omit:["dem"]});class lg{constructor(e,n){this.max=e,this.onRemove=n,this.reset()}reset(){for(const e in this.data)for(const n of this.data[e])n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value);return this.data={},this.order=[],this}add(e,n,o){const u=e.wrapped().key;void 0===this.data[u]&&(this.data[u]=[]);const f={value:n,timeout:void 0};if(void 0!==o&&(f.timeout=setTimeout(()=>{this.remove(e,f)},o)),this.data[u].push(f),this.order.push(u),this.order.length>this.max){const g=this._getAndRemoveByKey(this.order[0]);g&&this.onRemove(g)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const n=this.data[e].shift();return n.timeout&&clearTimeout(n.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),n.value}getByKey(e){const n=this.data[e];return n?n[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,n){if(!this.has(e))return this;const o=e.wrapped().key,u=void 0===n?0:this.data[o].indexOf(n),f=this.data[o][u];return this.data[o].splice(u,1),f.timeout&&clearTimeout(f.timeout),0===this.data[o].length&&delete this.data[o],this.onRemove(f.value),this.order.splice(this.order.indexOf(o),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const n=this._getAndRemoveByKey(this.order[0]);n&&this.onRemove(n)}return this}filter(e){const n=[];for(const o in this.data)for(const u of this.data[o])e(u.value)||n.push(u);for(const o of n)this.remove(o.value.tileID,o)}}class Ec{constructor(e,n,o){this.func=e,this.mask=n,this.range=o}}Ec.ReadOnly=!1,Ec.ReadWrite=!0,Ec.disabled=new Ec(519,Ec.ReadOnly,[0,1]);class vh{constructor(e,n,o,u,f,g){this.test=e,this.ref=n,this.mask=o,this.fail=u,this.depthFail=f,this.pass=g}}vh.disabled=new vh({func:519,mask:0},0,0,7680,7680,7680);class Ac{constructor(e,n,o){this.blendFunction=e,this.blendColor=n,this.mask=o}}Ac.Replace=[1,0],Ac.disabled=new Ac(Ac.Replace,Ln.transparent,[!1,!1,!1,!1]),Ac.unblended=new Ac(Ac.Replace,Ln.transparent,[!0,!0,!0,!0]),Ac.alphaBlended=new Ac([1,771],Ln.transparent,[!0,!0,!0,!0]);class Rl{constructor(e,n,o){this.enable=e,this.mode=n,this.frontFace=o}}Rl.disabled=new Rl(!1,1029,2305),Rl.backCCW=new Rl(!0,1029,2305),Rl.backCW=new Rl(!0,1029,2304),Rl.frontCW=new Rl(!0,1028,2304),Rl.frontCCW=new Rl(!0,1028,2305);class qu extends Pa{constructor(e,n,o){super(),this.id=e,this._onlySymbols=o,n.on("data",u=>{"source"===u.dataType&&"metadata"===u.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===u.dataType&&"content"===u.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),n.on("error",()=>{this._sourceErrored=!0}),this._source=n,this._tiles={},this._cache=new lg(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=n.minTileCacheSize,this._maxTileCacheSize=n.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new sg,this._isRaster="raster"===this._source.type||"raster-dem"===this._source.type||"custom"===this._source.type&&"raster"===this._source._dataType}onAdd(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const e in this._tiles){const n=this._tiles[e];if("loaded"!==n.state&&"errored"!==n.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,n){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,n)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,()=>{})}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,()=>{})}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const n in this._tiles){const o=this._tiles[n];o.upload(e),o.prepare(this.map.style.imageManager)}}getIds(){return On(this._tiles).map(e=>e.tileID).sort(bh).map(e=>e.key)}getRenderableIds(e){const n=[];for(const o in this._tiles)this._isIdRenderable(+o,e)&&n.push(this._tiles[o]);return e?n.sort((o,u)=>{const f=o.tileID,g=u.tileID,M=new He(f.canonical.x,f.canonical.y)._rotate(this.transform.angle),L=new He(g.canonical.x,g.canonical.y)._rotate(this.transform.angle);return f.overscaledZ-g.overscaledZ||L.y-M.y||L.x-M.x}).map(o=>o.tileID.key):n.map(o=>o.tileID).sort(bh).map(o=>o.key)}hasRenderableParent(e){const n=this.findLoadedParent(e,0);return!!n&&this._isIdRenderable(n.tileID.key)}_isIdRenderable(e,n){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(n||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}}_reloadTile(e,n){const o=this._tiles[e];o&&("loading"!==o.state&&(o.state=n),this._loadTile(o,this._tileLoaded.bind(this,o,e,n)))}_tileLoaded(e,n,o,u){if(u)if(e.state="errored",404!==u.status)this._source.fire(new _a(u,{tile:e}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const f=this.map.painter.terrain;this.update(this.transform,f.getScaledDemTileSize(),!0),f.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=an.now(),"expired"===o&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new Ia("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){const n=this.getRenderableIds();for(let u=0;u<n.length;u++){const f=n[u];if(e.neighboringTiles&&e.neighboringTiles[f]){const g=this.getTileByID(f);o(e,g),o(g,e)}}function o(u,f){if(!u.dem||u.dem.borderReady)return;u.needsHillshadePrepare=!0,u.needsDEMTextureUpload=!0;let g=f.tileID.canonical.x-u.tileID.canonical.x;const M=f.tileID.canonical.y-u.tileID.canonical.y,L=Math.pow(2,u.tileID.canonical.z),E=f.tileID.key;0===g&&0===M||Math.abs(M)>1||(Math.abs(g)>1&&(1===Math.abs(g+L)?g+=L:1===Math.abs(g-L)&&(g-=L)),f.dem&&u.dem&&(u.dem.backfillBorder(f.dem,g,M),u.neighboringTiles&&u.neighboringTiles[E]&&(u.neighboringTiles[E].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,n,o,u){for(const f in this._tiles){let g=this._tiles[f];if(u[f]||!g.hasData()||g.tileID.overscaledZ<=n||g.tileID.overscaledZ>o)continue;let M=g.tileID;for(;g&&g.tileID.overscaledZ>n+1;){const E=g.tileID.scaledTo(g.tileID.overscaledZ-1);g=this._tiles[E.key],g&&g.hasData()&&(M=E)}let L=M;for(;L.overscaledZ>n;)if(L=L.scaledTo(L.overscaledZ-1),e[L.key]){u[M.key]=M;break}}}findLoadedParent(e,n){if(e.key in this._loadedParentTiles){const o=this._loadedParentTiles[e.key];return o&&o.tileID.overscaledZ>=n?o:null}for(let o=e.overscaledZ-1;o>=n;o--){const u=e.scaledTo(o),f=this._getLoadedTile(u);if(f)return f}}_getLoadedTile(e){const n=this._tiles[e.key];return n&&n.hasData()?n:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,n){n=n||this._source.tileSize;const o=Math.ceil(e.width/n)+1,u=Math.ceil(e.height/n)+1,f=Math.floor(o*u*5),g="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,f):f,M="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,g):g;this._cache.setMaxSize(M)}handleWrapJump(e){const n=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,n){const o={};for(const u in this._tiles){const f=this._tiles[u];f.tileID=f.tileID.unwrapTo(f.tileID.wrap+n),o[f.tileID.key]=f}this._tiles=o;for(const u in this._timers)clearTimeout(this._timers[u]),delete this._timers[u];for(const u in this._tiles)this._setTileReloadTimer(+u,this._tiles[u])}}update(e,n,o){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!o)return;let u;this.updateCacheSize(e,n),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?u=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(M=>new ns(M.canonical.z,M.wrap,M.canonical.z,M.canonical.x,M.canonical.y)):(u=e.coveringTiles({tileSize:n||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!o,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(u=u.filter(M=>this._source.hasTile(M)))):u=[];const f=this._updateRetainedTiles(u);if(Qf(this._source.type)&&0!==u.length){const M={},L={},E=Object.keys(f);for(const V of E){const Z=f[V],ee=this._tiles[V];if(!ee||ee.fadeEndTime&&ee.fadeEndTime<=an.now())continue;const ne=this.findLoadedParent(Z,Math.max(Z.overscaledZ-qu.maxOverzooming,this._source.minzoom));ne&&(this._addTile(ne.tileID),M[ne.tileID.key]=ne.tileID),L[V]=Z}const B=u[u.length-1].overscaledZ;for(const V in this._tiles){const Z=this._tiles[V];if(f[V]||!Z.hasData())continue;let ee=Z.tileID;for(;ee.overscaledZ>B;){ee=ee.scaledTo(ee.overscaledZ-1);const ne=this._tiles[ee.key];if(ne&&ne.hasData()&&L[ee.key]){f[V]=Z.tileID;break}}}for(const V in M)f[V]||(this._coveredTiles[V]=!0,f[V]=M[V])}for(const M in f)this._tiles[M].clearFadeHold();const g=function(M,L){const E=[];for(const B in M)B in L||E.push(B);return E}(this._tiles,f);for(const M of g){const L=this._tiles[M];L.hasSymbolBuckets&&!L.holdingForFade()?L.setHoldDuration(this.map._fadeDuration):L.hasSymbolBuckets&&!L.symbolFadeFinished()||this._removeTile(+M)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){const n={};if(0===e.length)return n;const o={},u=e.reduce((E,B)=>Math.min(E,B.overscaledZ),1/0),f=e[0].overscaledZ,g=Math.max(f-qu.maxOverzooming,this._source.minzoom),M=Math.max(f+qu.maxUnderzooming,this._source.minzoom),L={};for(const E of e){const B=this._addTile(E);n[E.key]=E,B.hasData()||u<this._source.maxzoom&&(L[E.key]=E)}this._retainLoadedChildren(L,u,M,n);for(const E of e){let B=this._tiles[E.key];if(B.hasData())continue;if(E.canonical.z>=this._source.maxzoom){const Z=E.children(this._source.maxzoom)[0],ee=this.getTile(Z);if(ee&&ee.hasData()){n[Z.key]=Z;continue}}else{const Z=E.children(this._source.maxzoom);if(n[Z[0].key]&&n[Z[1].key]&&n[Z[2].key]&&n[Z[3].key])continue}let V=B.wasRequested();for(let Z=E.overscaledZ-1;Z>=g;--Z){const ee=E.scaledTo(Z);if(o[ee.key]||(o[ee.key]=!0,B=this.getTile(ee),!B&&V&&(B=this._addTile(ee)),B&&(n[ee.key]=ee,V=B.wasRequested(),B.hasData())))break}}return n}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const n=[];let o,u=this._tiles[e].tileID;for(;u.overscaledZ>0;){if(u.key in this._loadedParentTiles){o=this._loadedParentTiles[u.key];break}n.push(u.key);const f=u.scaledTo(u.overscaledZ-1);if(o=this._getLoadedTile(f),o)break;u=f}for(const f of n)this._loadedParentTiles[f]=o}}_addTile(e){let n=this._tiles[e.key];if(n)return n;n=this._cache.getAndRemove(e),n&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));const o=Boolean(n);if(!o){const u=this.map?this.map.painter:null;n=new vu(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,u,this._isRaster),this._loadTile(n,this._tileLoaded.bind(this,n,e.key,n.state))}return n?(n.uses++,this._tiles[e.key]=n,o||this._source.fire(new Ia("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null}_setTileReloadTimer(e,n){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const o=n.getExpiryTimeout();o&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},o))}_removeTile(e){const n=this._tiles[e];n&&(n.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),n.uses>0||(n.hasData()&&"reloading"!==n.state?this._cache.add(n.tileID,n,n.getExpiryTimeout()):(n.aborted=!0,this._abortTile(n),this._unloadTile(n))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(e,n,o){const u=[],f=this.transform;if(!f)return u;const g="globe"===f.projection.name,M=bc(f.center.lng);for(const L in this._tiles){const E=this._tiles[L];if(o&&E.clearQueryDebugViz(),E.holdingForFade())continue;let B;if(g){const V=E.tileID.canonical;if(0===V.z){const Z=[Math.abs(ei(M,...Pd(V,-1))-M),Math.abs(ei(M,...Pd(V,1))-M)];B=[0,2*Z.indexOf(Math.min(...Z))-1]}else{const Z=[Math.abs(ei(M,...Pd(V,-1))-M),Math.abs(ei(M,...Pd(V,0))-M),Math.abs(ei(M,...Pd(V,1))-M)];B=[Z.indexOf(Math.min(...Z))-1]}}else B=[0];for(const V of B){const Z=e.containsTile(E,f,n,V);Z&&u.push(Z)}}return u}getVisibleCoordinates(e){const n=this.getRenderableIds(e).map(o=>this._tiles[o].tileID);for(const o of n)o.projMatrix=this.transform.calculateProjMatrix(o.toUnwrapped());return n}hasTransition(){if(this._source.hasTransition())return!0;if(Qf(this._source.type))for(const e in this._tiles){const n=this._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=an.now())return!0}return!1}setFeatureState(e,n,o){this._state.updateState(e=e||"_geojsonTileLayer",n,o)}removeFeatureState(e,n,o){this._state.removeFeatureState(e=e||"_geojsonTileLayer",n,o)}getFeatureState(e,n){return this._state.getState(e=e||"_geojsonTileLayer",n)}setDependencies(e,n,o){const u=this._tiles[e];u&&u.setDependencies(n,o)}reloadTilesForDependencies(e,n){for(const o in this._tiles)this._tiles[o].hasDependency(e,n)&&this._reloadTile(+o,"reloading");this._cache.filter(o=>!o.hasDependency(e,n))}_preloadTiles(e,n){if(!this._sourceLoaded){const M=()=>{this._sourceLoaded&&(this._source.off("data",M),this._preloadTiles(e,n))};return void this._source.on("data",M)}const o=new Map,u=Array.isArray(e)?e:[e],f=this.map.painter.terrain,g=this.usedForTerrain&&f?f.getScaledDemTileSize():this._source.tileSize;for(const M of u){const L=M.coveringTiles({tileSize:g,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const E of L)o.set(E.key,E);this.usedForTerrain&&M.updateElevation(!1)}Tn(Array.from(o.values()),(M,L)=>{const E=new vu(M,this._source.tileSize*M.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(E,B=>{"raster-dem"===this._source.type&&E.dem&&this._backfillDEM(E),L(B,E)})},n)}}function bh(i,e){const n=Math.abs(2*i.wrap)-+(i.wrap<0),o=Math.abs(2*e.wrap)-+(e.wrap<0);return i.overscaledZ-e.overscaledZ||o-n||e.canonical.y-i.canonical.y||e.canonical.x-i.canonical.x}function Qf(i){return"raster"===i||"image"===i||"video"===i||"custom"===i}function Pd(i,e){const n=1<<i.z;return[i.x/n+e,(i.x+1)/n+e]}qu.maxOverzooming=10,qu.maxUnderzooming=3;class xh{constructor(e,n,o){this._demTile=e,this._dem=this._demTile.dem,this._scale=n,this._offset=o}static create(e,n,o){const u=o||e.findDEMTileFor(n);if(!u||!u.dem)return;const f=u.dem,g=u.tileID,M=1<<n.canonical.z-g.canonical.z;return new xh(u,u.tileSize/Jt/M,[(n.canonical.x/M-g.canonical.x)*f.dim,(n.canonical.y/M-g.canonical.y)*f.dim])}tileCoordToPixel(e,n){const o=n*this._scale+this._offset[1],u=Math.floor(e*this._scale+this._offset[0]),f=Math.floor(o);return new He(u,f)}getElevationAt(e,n,o,u){const f=e*this._scale+this._offset[0],g=n*this._scale+this._offset[1],M=Math.floor(f),L=Math.floor(g),E=this._dem;return u=!!u,o?ki(ki(E.get(M,L,u),E.get(M,L+1,u),g-L),ki(E.get(M+1,L,u),E.get(M+1,L+1,u),g-L),f-M):E.get(M,L,u)}getElevationAtPixel(e,n,o){return this._dem.get(e,n,!!o)}getMeterToDEM(e){return(1<<this._demTile.tileID.canonical.z)*Kl(1,e)*this._dem.stride}}class em{constructor(e,n){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new lo(Jt,16,0),this.featureIndexArray=new sn,this.promoteId=n}insert(e,n,o,u,f,g=0){const M=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(o,u,f,g);const L=this.grid;for(let E=0;E<n.length;E++){const B=n[E],V=[1/0,1/0,-1/0,-1/0];for(let Z=0;Z<B.length;Z++){const ee=B[Z];V[0]=Math.min(V[0],ee.x),V[1]=Math.min(V[1],ee.y),V[2]=Math.max(V[2],ee.x),V[3]=Math.max(V[3],ee.y)}V[0]<Jt&&V[1]<Jt&&V[2]>=0&&V[3]>=0&&L.insert(M,V[0],V[1],V[2],V[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new $h(new ju(this.rawTileData)).layers,this.sourceLayerCoder=new rg(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const e in this.vtLayers)this.vtFeatures[e]=[]}return this.vtLayers}query(e,n,o,u){this.loadVTLayers();const f=e.params||{},g=so(f.filter),M=e.tileResult,L=e.transform,E=M.bufferedTilespaceBounds,B=this.grid.query(E.min.x,E.min.y,E.max.x,E.max.y,(ne,le,_e,xe)=>Um(M.bufferedTilespaceGeometry,ne,le,_e,xe));B.sort(_y);let V=null;L.elevation&&B.length>0&&(V=xh.create(L.elevation,this.tileID));const Z={};let ee;for(let ne=0;ne<B.length;ne++){const le=B[ne];if(le===ee)continue;ee=le;const _e=this.featureIndexArray.get(le);let xe=null;this.loadMatchingFeature(Z,_e,g,f.layers,f.availableImages,n,o,u,(Se,we,Le,Ie=0)=>(xe||(xe=qc(Se,this.tileID.canonical,e.tileTransform)),we.queryIntersectsFeature(M,Se,Le,xe,this.z,e.transform,e.pixelPosMatrix,V,Ie)))}return Z}loadMatchingFeature(e,n,o,u,f,g,M,L,E){const{featureIndex:B,bucketIndex:V,sourceLayerIndex:Z,layoutVertexArrayOffset:ee}=n,ne=this.bucketLayerIDs[V];if(u&&!function(Se,we){for(let Le=0;Le<Se.length;Le++)if(we.indexOf(Se[Le])>=0)return!0;return!1}(u,ne))return;const le=this.sourceLayerCoder.decode(Z),_e=this.vtLayers[le].feature(B);if(o.needGeometry){const Se=Iu(_e,!0);if(!o.filter(new H(this.tileID.overscaledZ),Se,this.tileID.canonical))return}else if(!o.filter(new H(this.tileID.overscaledZ),_e))return;const xe=this.getId(_e,le);for(let Se=0;Se<ne.length;Se++){const we=ne[Se];if(u&&u.indexOf(we)<0)continue;const Le=g[we];if(!Le)continue;let Ie={};void 0!==xe&&L&&(Ie=L.getState(Le.sourceLayer||"_geojsonTileLayer",xe));const Pe=Li({},M[we]);Pe.paint=xp(Pe.paint,Le.paint,_e,Ie,f),Pe.layout=xp(Pe.layout,Le.layout,_e,Ie,f);const Qe=!E||E(_e,Le,Ie,ee);if(!Qe)continue;const $e=new ag(_e,this.z,this.x,this.y,xe);$e.layer=Pe;let dt=e[we];void 0===dt&&(dt=e[we]=[]),dt.push({featureIndex:B,feature:$e,intersectionZ:Qe})}}lookupSymbolFeatures(e,n,o,u,f,g,M,L){const E={};this.loadVTLayers();const B=so(f);for(const V of e)this.loadMatchingFeature(E,{bucketIndex:o,sourceLayerIndex:u,featureIndex:V,layoutVertexArrayOffset:0},B,g,M,L,n);return E}loadFeature(e){const{featureIndex:n,sourceLayerIndex:o}=e;this.loadVTLayers();const u=this.sourceLayerCoder.decode(o),f=this.vtFeatures[u];if(f[n])return f[n];const g=this.vtLayers[u].feature(n);return f[n]=g,g}hasLayer(e){for(const n of this.bucketLayerIDs)for(const o of n)if(e===o)return!0;return!1}getId(e,n){let o=e.id;if(this.promoteId){const u="string"==typeof this.promoteId?this.promoteId:this.promoteId[n];null!=u&&(o=e.properties[u]),"boolean"==typeof o&&(o=Number(o))}return o}}function xp(i,e,n,o,u){return ii(i,(f,g)=>{const M=e instanceof b?e.get(g):null;return M&&M.evaluate?M.evaluate(n,o,u):M})}function _y(i,e){return e-i}Bt(em,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class cg{constructor(e,n){this.width=e,this.height=n,this.nextRow=0,this.image=new $c({width:e,height:n}),this.positions={},this.uploaded=!1}getDash(e,n){const o=this.getKey(e,n);return this.positions[o]}trim(){const e=this.width,n=this.height=Ut(this.nextRow);this.image.resize({width:e,height:n})}getKey(e,n){return e.join(",")+n}getDashRanges(e,n,o){const u=[];let f=e.length%2==1?-e[e.length-1]*o:0,g=e[0]*o,M=!0;u.push({left:f,right:g,isDash:M,zeroLength:0===e[0]});let L=e[0];for(let E=1;E<e.length;E++){M=!M;const B=e[E];f=L*o,L+=B,g=L*o,u.push({left:f,right:g,isDash:M,zeroLength:0===B})}return u}addRoundDash(e,n,o){const u=n/2;for(let f=-o;f<=o;f++){const g=this.width*(this.nextRow+o+f);let M=0,L=e[M];for(let E=0;E<this.width;E++){E/L.right>1&&(L=e[++M]);const B=Math.abs(E-L.left),V=Math.abs(E-L.right),Z=Math.min(B,V);let ee;const ne=f/o*(u+1);if(L.isDash){const le=u-Math.abs(ne);ee=Math.sqrt(Z*Z+le*le)}else ee=u-Math.sqrt(Z*Z+ne*ne);this.image.data[g+E]=Math.max(0,Math.min(255,ee+128))}}}addRegularDash(e,n){for(let L=e.length-1;L>=0;--L){const E=e[L],B=e[L+1];E.zeroLength?e.splice(L,1):B&&B.isDash===E.isDash&&(B.left=E.left,e.splice(L,1))}const o=e[0],u=e[e.length-1];o.isDash===u.isDash&&(o.left=u.left-this.width,u.right=o.right+this.width);const f=this.width*this.nextRow;let g=0,M=e[g];for(let L=0;L<this.width;L++){L/M.right>1&&(M=e[++g]);const E=Math.abs(L-M.left),B=Math.abs(L-M.right),V=Math.min(E,B);this.image.data[f+L]=Math.max(0,Math.min(255,(M.isDash?V:-V)+n+128))}}addDash(e,n){const o=this.getKey(e,n);if(this.positions[o])return this.positions[o];const u="round"===n,f=u?7:0,g=2*f+1;if(this.nextRow+g>this.height)return Pi("LineAtlas out of space"),null;0===e.length&&e.push(1);let M=0;for(let B=0;B<e.length;B++)e[B]<0&&(Pi("Negative value is found in line dasharray, replacing values with 0"),e[B]=0),M+=e[B];if(0!==M){const B=this.width/M,V=this.getDashRanges(e,this.width,B);u?this.addRoundDash(V,B,f):this.addRegularDash(V,"square"===n?.5*B:0)}const L=this.nextRow+f;this.nextRow+=g;const E={tl:[L,f],br:[M,0]};return this.positions[o]=E,E}}Bt(cg,"LineAtlas");class dg{constructor(e){const n={},o=[];for(const M in e){const L=e[M],E=n[M]={};for(const B in L.glyphs){const V=L.glyphs[+B];if(!V||0===V.bitmap.width||0===V.bitmap.height)continue;const Z=V.metrics.localGlyph?2:1,ee={x:0,y:0,w:V.bitmap.width+2*Z,h:V.bitmap.height+2*Z};o.push(ee),E[B]=ee}}const{w:u,h:f}=np(o),g=new $c({width:u||1,height:f||1});for(const M in e){const L=e[M];for(const E in L.glyphs){const B=L.glyphs[+E];if(!B||0===B.bitmap.width||0===B.bitmap.height)continue;const V=n[M][E],Z=B.metrics.localGlyph?2:1;$c.copy(B.bitmap,g,{x:0,y:0},{x:V.x+Z,y:V.y+Z},B.bitmap)}}this.image=g,this.positions=n}}Bt(dg,"GlyphAtlas");class gy{constructor(e){this.tileID=new ns(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.canonical=e.tileID.canonical,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile,this.tileTransform=yu(e.tileID.canonical,e.projection),this.projection=e.projection}parse(e,n,o,u,f){this.status="parsing",this.data=e,this.collisionBoxArray=new et;const g=new rg(Object.keys(e.layers).sort()),M=new em(this.tileID,this.promoteId);M.bucketLayerIDs=[];const L={},E=new cg(256,256),B={featureIndex:M,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:E,availableImages:o},V=n.familiesBySource[this.source];for(const Ie in V){const Pe=e.layers[Ie];if(!Pe)continue;let Qe=!1,$e=!1;for(const it of V[Ie])"symbol"===it[0].type?Qe=!0:$e=!0;if(!0===this.isSymbolTile&&!Qe||!1===this.isSymbolTile&&!$e)continue;1===Pe.version&&Pi(`Vector tile source "${this.source}" layer "${Ie}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const dt=g.encode(Ie),Tt=[];for(let it=0;it<Pe.length;it++){const mt=Pe.feature(it),ft=M.getId(mt,Ie);Tt.push({feature:mt,id:ft,index:it,sourceLayerIndex:dt})}for(const it of V[Ie]){const mt=it[0];void 0!==this.isSymbolTile&&"symbol"===mt.type!==this.isSymbolTile||mt.minzoom&&this.zoom<Math.floor(mt.minzoom)||mt.maxzoom&&this.zoom>=mt.maxzoom||"none"!==mt.visibility&&(tm(it,this.zoom,o),(L[mt.id]=mt.createBucket({index:M.bucketLayerIDs.length,layers:it,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:dt,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:o})).populate(Tt,B,this.tileID.canonical,this.tileTransform),M.bucketLayerIDs.push(it.map(ft=>ft.id)))}}let Z,ee,ne,le;E.trim();const _e={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},xe=()=>{if(Z)return f(Z);if(ee&&ne&&le){const Ie=new dg(ee),Pe=new Lf(ne,le);for(const Qe in L){const $e=L[Qe];$e instanceof Sc?(tm($e.layers,this.zoom,o),N_($e,ee,Ie.positions,ne,Pe.iconPositions,this.showCollisionBoxes,o,this.tileID.canonical,this.tileZoom,this.projection)):$e.hasPattern&&($e instanceof xd||$e instanceof gd||$e instanceof vd)&&(tm($e.layers,this.zoom,o),$e.addFeatures(B,this.tileID.canonical,Pe.patternPositions,o,this.tileTransform))}this.status="done",f(null,{buckets:On(L).filter(Qe=>!Qe.isEmpty()),featureIndex:M,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ie.image,lineAtlas:E,imageAtlas:Pe,glyphMap:this.returnDependencies?ee:null,iconMap:this.returnDependencies?ne:null,glyphPositions:this.returnDependencies?Ie.positions:null})}},Se=ii(B.glyphDependencies,Ie=>Object.keys(Ie).map(Number));Object.keys(Se).length?u.send("getGlyphs",{uid:this.uid,stacks:Se},(Ie,Pe)=>{Z||(Z=Ie,ee=Pe,xe())},void 0,!1,_e):ee={};const we=Object.keys(B.iconDependencies);we.length?u.send("getImages",{icons:we,source:this.source,tileID:this.tileID,type:"icons"},(Ie,Pe)=>{Z||(Z=Ie,ne=Pe,xe())},void 0,!1,_e):ne={};const Le=Object.keys(B.patternDependencies);Le.length?u.send("getImages",{icons:Le,source:this.source,tileID:this.tileID,type:"patterns"},(Ie,Pe)=>{Z||(Z=Ie,le=Pe,xe())},void 0,!1,_e):le={},xe()}}function tm(i,e,n){const o=new H(e);for(const u of i)u.recalculate(o,n)}class im{constructor(e){this.entries={},this.scheduler=e}request(e,n,o,u){const f=this.entries[e]=this.entries[e]||{callbacks:[]};if(f.result){const[g,M]=f.result;return this.scheduler?this.scheduler.add(()=>{u(g,M)},n):u(g,M),()=>{}}return f.callbacks.push(u),f.cancel||(f.cancel=o((g,M)=>{f.result=[g,M];for(const L of f.callbacks)this.scheduler?this.scheduler.add(()=>{L(g,M)},n):L(g,M);setTimeout(()=>delete this.entries[e],3e3)})),()=>{f.result||(f.callbacks=f.callbacks.filter(g=>g!==u),f.callbacks.length||(f.cancel(),delete this.entries[e]))}}}function nm(i,e,n){const o=JSON.stringify(i.request);return i.data&&(this.deduped.entries[o]={result:[null,i.data]}),this.deduped.request(o,{type:"parseTile",isSymbolTile:i.isSymbolTile,zoom:i.tileZoom},u=>{const f=vr(i.request,(g,M,L,E)=>{g?u(g):M&&u(null,{vectorTile:n?void 0:new $h(new ju(M)),rawData:M,cacheControl:L,expires:E})});return()=>{f.cancel(),u()}},e)}const hg=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class wp{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,o]=new Uint8Array(e,0,2);if(219!==n)throw new Error("Data does not appear to be in a KDBush format.");const u=o>>4;if(1!==u)throw new Error(`Got v${u} data when expected v1.`);const f=hg[15&o];if(!f)throw new Error("Unrecognized array type.");const[g]=new Uint16Array(e,2,1),[M]=new Uint32Array(e,4,1);return new wp(M,g,f,e)}constructor(e,n=64,o=Float64Array,u){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=o,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const f=hg.indexOf(this.ArrayType),g=2*e*this.ArrayType.BYTES_PER_ELEMENT,M=e*this.IndexArrayType.BYTES_PER_ELEMENT,L=(8-M%8)%8;if(f<0)throw new Error(`Unexpected typed array class: ${o}.`);u&&u instanceof ArrayBuffer?(this.data=u,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+M+L,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+g+M+L),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+M+L,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+f]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const o=this._pos>>1;return this.ids[o]=o,this.coords[this._pos++]=e,this.coords[this._pos++]=n,o}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Od(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,o,u){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:f,coords:g,nodeSize:M}=this,L=[0,f.length-1,0],E=[];for(;L.length;){const B=L.pop()||0,V=L.pop()||0,Z=L.pop()||0;if(V-Z<=M){for(let _e=Z;_e<=V;_e++){const xe=g[2*_e],Se=g[2*_e+1];xe>=e&&xe<=o&&Se>=n&&Se<=u&&E.push(f[_e])}continue}const ee=Z+V>>1,ne=g[2*ee],le=g[2*ee+1];ne>=e&&ne<=o&&le>=n&&le<=u&&E.push(f[ee]),(0===B?e<=ne:n<=le)&&(L.push(Z),L.push(ee-1),L.push(1-B)),(0===B?o>=ne:u>=le)&&(L.push(ee+1),L.push(V),L.push(1-B))}return E}within(e,n,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:u,coords:f,nodeSize:g}=this,M=[0,u.length-1,0],L=[],E=o*o;for(;M.length;){const B=M.pop()||0,V=M.pop()||0,Z=M.pop()||0;if(V-Z<=g){for(let _e=Z;_e<=V;_e++)fg(f[2*_e],f[2*_e+1],e,n)<=E&&L.push(u[_e]);continue}const ee=Z+V>>1,ne=f[2*ee],le=f[2*ee+1];fg(ne,le,e,n)<=E&&L.push(u[ee]),(0===B?e-o<=ne:n-o<=le)&&(M.push(Z),M.push(ee-1),M.push(1-B)),(0===B?e+o>=ne:n+o>=le)&&(M.push(ee+1),M.push(V),M.push(1-B))}return L}}function Od(i,e,n,o,u,f){if(u-o<=n)return;const g=o+u>>1;pg(i,e,g,o,u,f),Od(i,e,n,o,g-1,1-f),Od(i,e,n,g+1,u,1-f)}function pg(i,e,n,o,u,f){for(;u>o;){if(u-o>600){const E=u-o+1,B=n-o+1,V=Math.log(E),Z=.5*Math.exp(2*V/3),ee=.5*Math.sqrt(V*Z*(E-Z)/E)*(B-E/2<0?-1:1);pg(i,e,n,Math.max(o,Math.floor(n-B*Z/E+ee)),Math.min(u,Math.floor(n+(E-B)*Z/E+ee)),f)}const g=e[2*n+f];let M=o,L=u;for(wh(i,e,o,n),e[2*u+f]>g&&wh(i,e,o,u);M<L;){for(wh(i,e,M,L),M++,L--;e[2*M+f]<g;)M++;for(;e[2*L+f]>g;)L--}e[2*o+f]===g?wh(i,e,o,L):(L++,wh(i,e,L,u)),L<=n&&(o=L+1),n<=L&&(u=L-1)}}function wh(i,e,n,o){rm(i,n,o),rm(e,2*n,2*o),rm(e,2*n+1,2*o+1)}function rm(i,e,n){const o=i[e];i[e]=i[n],i[n]=o}function fg(i,e,n,o){const u=i-n,f=e-o;return u*u+f*f}t.ARRAY_TYPE=Io,t.AUTH_ERR_MSG=Ae,t.Aabb=da,t.Actor=class{constructor(i,e,n){this.target=i,this.parent=e,this.mapId=n,this.callbacks={},this.cancelCallbacks={},Yi(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=kn()?i:P,this.scheduler=new fy}send(i,e,n,o,u=!1,f){const g=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(n.metadata=f,this.callbacks[g]=n);const M=tr(this.globalScope)?void 0:[];return this.target.postMessage({id:g,type:i,hasCallback:!!n,targetMapId:o,mustQueue:u,sourceMapId:this.mapId,data:nl(e,M)},M),{cancel:()=>{n&&delete this.callbacks[g],this.target.postMessage({id:g,type:"<cancel>",targetMapId:o,sourceMapId:this.mapId})}}}receive(i){const e=i.data,n=e.id;if(n&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){const o=this.cancelCallbacks[n];delete this.cancelCallbacks[n],o&&o.cancel()}else if(e.mustQueue||kn()){const o=this.callbacks[n];this.cancelCallbacks[n]=this.scheduler.add(()=>this.processTask(n,e),o&&o.metadata||{type:"message"})}else this.processTask(n,e)}processTask(i,e){if("<response>"===e.type){const n=this.callbacks[i];delete this.callbacks[i],n&&(e.error?n(Qr(e.error)):n(null,Qr(e.data)))}else{const n=tr(this.globalScope)?void 0:[],o=e.hasCallback?(f,g)=>{delete this.cancelCallbacks[i],this.target.postMessage({id:i,type:"<response>",sourceMapId:this.mapId,error:f?nl(f):null,data:nl(g,n)},n)}:f=>{},u=Qr(e.data);if(this.parent[e.type])this.parent[e.type](e.sourceMapId,u,o);else if(this.parent.getWorkerSource){const f=e.type.split(".");this.parent.getWorkerSource(e.sourceMapId,f[0],u.source)[f[1]](u,o)}else o(new Error(`Could not find function ${e.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},t.CanonicalTileID=Qd,t.Color=Ln,t.ColorMode=Ac,t.CullFaceMode=Rl,t.DEMData=gh,t.DataConstantProperty=w,t.DedupedRequest=im,t.DepthMode=Ec,t.EXTENT=Jt,t.Elevation=class{isDataAvailableAtPoint(i){const e=this._source();if(this.isUsingMockSource()||!e||i.y<0||i.y>1)return!1;const n=e.getSource().maxzoom,o=1<<n,u=Math.floor(i.x),f=Math.floor((i.x-u)*o),g=Math.floor(i.y*o),M=this.findDEMTileFor(new ns(n,u,n,f,g));return!(!M||!M.dem)}getAtPointOrZero(i,e=0){return this.getAtPoint(i,e)||0}getAtPoint(i,e,n=!0){if(this.isUsingMockSource())return null;null==e&&(e=null);const o=this._source();if(!o||i.y<0||i.y>1)return e;const u=o.getSource().maxzoom,f=1<<u,g=Math.floor(i.x),M=i.x-g,L=new ns(u,g,u,Math.floor(M*f),Math.floor(i.y*f)),E=this.findDEMTileFor(L);if(!E||!E.dem)return e;const B=E.dem,V=1<<E.tileID.canonical.z,Z=(M*V-E.tileID.canonical.x)*B.dim,ee=(i.y*V-E.tileID.canonical.y)*B.dim,ne=Math.floor(Z),le=Math.floor(ee);return(n?this.exaggeration():1)*ki(ki(B.get(ne,le),B.get(ne,le+1),ee-le),ki(B.get(ne+1,le),B.get(ne+1,le+1),ee-le),Z-ne)}getAtTileOffset(i,e,n){const o=1<<i.canonical.z;return this.getAtPointOrZero(new fd(i.wrap+(i.canonical.x+e/Jt)/o,(i.canonical.y+n/Jt)/o))}getAtTileOffsetFunc(i,e,n,o){return u=>{const f=this.getAtTileOffset(i,u.x,u.y),g=o.upVector(i.canonical,u.x,u.y);return ks(g,g,f*o.upVectorScale(i.canonical,e,n).metersToTile),g}}getForTilePoints(i,e,n,o){if(this.isUsingMockSource())return!1;const u=xh.create(this,i,o);return!!u&&(e.forEach(f=>{f[2]=this.exaggeration()*u.getElevationAt(f[0],f[1],n)}),!0)}getMinMaxForTile(i){if(this.isUsingMockSource())return null;const e=this.findDEMTileFor(i);if(!e||!e.dem)return null;const n=e.dem.tree,o=e.tileID,u=1<<i.canonical.z-o.canonical.z;let f=i.canonical.x/u-o.canonical.x,g=i.canonical.y/u-o.canonical.y,M=0;for(let L=0;L<i.canonical.z-o.canonical.z&&!n.leaves[M];L++){f*=2,g*=2;const E=2*Math.floor(g)+Math.floor(f);M=n.childOffsets[M]+E,f%=1,g%=1}return{min:this.exaggeration()*n.minimums[M],max:this.exaggeration()*n.maximums[M]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(i,e,n){throw new Error("Pure virtual method called.")}pointCoordinate(i){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(i){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},t.ErrorEvent=_a,t.EvaluationParameters=H,t.Event=Ia,t.Evented=Pa,t.FillExtrusionBucket=vd,t.Frustum=Cu,t.FrustumCorners=Cl,t.GLOBE_RADIUS=Gs,t.GLOBE_SCALE_MATCH_LATITUDE=45,t.GLOBE_ZOOM_THRESHOLD_MAX=6,t.GLOBE_ZOOM_THRESHOLD_MIN=5,t.GlobeSharedBuffers=class{constructor(i){this._createGrid(i),this._createPoles(i)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const i of this._poleSegments)i.destroy();for(const i of this._gridSegments)i.withSkirts.destroy(),i.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const i of this._wireframeSegments)i.destroy()}}_fillGridMeshWithLods(i,e){const n=new ve,o=new jt,u=[],f=i+1+2,g=e[0]+1,M=e[0]+1+(1+e.length),L=(E,B,V)=>{let Z=E===f-1?E-2:0===E?E:E-1;return Z+=V?24575:0,[Z,B]};for(let E=0;E<f;++E)n.emplaceBack(...L(E,0,!0));for(let E=0;E<g;++E)for(let B=0;B<f;++B)n.emplaceBack(...L(B,E,(0===B||B===f-1)&&!0));for(let E=0;E<e.length;++E){const B=e[E];for(let V=0;V<f;++V)n.emplaceBack(...L(V,B,!0))}for(let E=0;E<e.length;++E){const B=o.length,V=e[E]+1+2,Z=new jt;for(let le=0;le<V-1;le++){const _e=le===V-2,xe=_e?f*(M-e.length+E-le):f;for(let Se=0;Se<f-1;Se++){const we=le*f+Se;0===le||_e||0===Se||Se===f-2?(Z.emplaceBack(we+1,we,we+xe),Z.emplaceBack(we+xe,we+xe+1,we+1)):(o.emplaceBack(we+1,we,we+xe),o.emplaceBack(we+xe,we+xe+1,we+1))}}const ee=kr.simpleSegment(0,B,n.length,o.length-B);for(let le=0;le<Z.uint16.length;le+=3)o.emplaceBack(Z.uint16[le],Z.uint16[le+1],Z.uint16[le+2]);const ne=kr.simpleSegment(0,B,n.length,o.length-B);u.push({withoutSkirts:ee,withSkirts:ne})}return{vertices:n,indices:o,segments:u}}_createGrid(i){const e=this._fillGridMeshWithLods(64,al);this._gridSegments=e.segments,this._gridBuffer=i.createVertexBuffer(e.vertices,Ud.members),this._gridIndexBuffer=i.createIndexBuffer(e.indices,!0)}_createPoles(i){const e=new jt;for(let u=0;u<=64;u++)e.emplaceBack(0,u+1,u+2);this._poleIndexBuffer=i.createIndexBuffer(e,!0);const n=new k,o=new k;this._poleSegments=[];for(let u=0,f=0;u<5;u++){const g=360/(1<<u);n.emplaceBack(0,-Gs,0,.5,0),o.emplaceBack(0,-Gs,0,.5,1);for(let M=0;M<=64;M++){const L=M/64,E=ki(0,g,L),[B,V,Z]=dd(Lg,Sg,E,Gs);n.emplaceBack(B,V,Z,L,0),o.emplaceBack(B,V,Z,L,1)}this._poleSegments.push(kr.simpleSegment(f,0,66,64)),f+=66}this._poleNorthVertexBuffer=i.createVertexBuffer(n,jp,!1),this._poleSouthVertexBuffer=i.createVertexBuffer(o,jp,!1)}getGridBuffers(i,e){return[this._gridBuffer,this._gridIndexBuffer,e?this._gridSegments[i].withSkirts:this._gridSegments[i].withoutSkirts]}getPoleBuffers(i){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[i]]}getWirefameBuffers(i,e){if(!this._wireframeSegments){const n=new K,o=64,u=o+1+2,f=1;this._wireframeSegments=[];for(let g=0,M=0;g<al.length;g++){const L=al[g];for(let B=f;B<L+f;B++)for(let V=f;V<o+f;V++){const Z=B*u+V;n.emplaceBack(Z,Z+1),n.emplaceBack(Z,Z+u),n.emplaceBack(Z,Z+u+1)}const E=L*o*3;this._wireframeSegments.push(kr.simpleSegment(0,M,(L+1)*u,E)),M+=E}this._wireframeIndexBuffer=i.createIndexBuffer(n)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[e]]}},t.GlyphManager=kc,t.ImagePosition=ah,t.KDBush=wp,t.LivePerformanceUtils=qn,t.LngLat=Cn,t.LngLatBounds=Wc,t.LocalGlyphMode=Tc,t.MAX_MERCATOR_LATITUDE=ts,t.MercatorCoordinate=fd,t.ONE_EM=24,t.OverscaledTileID=ns,t.PerformanceMarkers=mn,t.Point=He,t.Properties=C,t.RGBAImage=Po,t.Ray=cd,t.RequestManager=class{constructor(i,e,n){this._transformRequestFn=i,this._customAccessToken=e,this._silenceAuthErrors=!!n,this._createSkuToken()}_createSkuToken(){const i=function(){let e="";for(let n=0;n<10;n++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",qe,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=i.token,this._skuTokenExpiresAt=i.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(i,e){return this._transformRequestFn&&this._transformRequestFn(i,e)||{url:i}}normalizeStyleURL(i,e){if(!Be(i))return i;const n=St(i);return n.path=`/styles/v1${n.path}`,this._makeAPIURL(n,this._customAccessToken||e)}normalizeGlyphsURL(i,e){if(!Be(i))return i;const n=St(i);return n.path=`/fonts/v1${n.path}`,this._makeAPIURL(n,this._customAccessToken||e)}normalizeSourceURL(i,e,n,o){if(!Be(i))return i;const u=St(i);return u.path=`/v4/${u.authority}.json`,u.params.push("secure"),n&&u.params.push(`language=${n}`),o&&u.params.push(`worldview=${o}`),this._makeAPIURL(u,this._customAccessToken||e)}normalizeSpriteURL(i,e,n,o){const u=St(i);return Be(i)?(u.path=`/styles/v1${u.path}/sprite${e}${n}`,this._makeAPIURL(u,this._customAccessToken||o)):(u.path+=`${e}${n}`,vt(u))}normalizeTileURL(i,e,n){if(this._isSkuTokenExpired()&&this._createSkuToken(),i&&!Be(i))return i;const o=St(i);o.path=o.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${e||n&&"raster"!==o.authority&&512===n?"@2x":""}${ye.supported?".webp":"$1"}`),"raster"===o.authority?o.path=`/${oe.RASTER_URL_PREFIX}${o.path}`:(o.path=o.path.replace(/^.+\/v4\//,"/"),o.path=`/${oe.TILE_URL_VERSION}${o.path}`);const u=this._customAccessToken||function(f){for(const g of f){const M=g.match(/^access_token=(.*)$/);if(M)return M[1]}return null}(o.params)||oe.ACCESS_TOKEN;return oe.REQUIRE_ACCESS_TOKEN&&u&&this._skuToken&&o.params.push(`sku=${this._skuToken}`),this._makeAPIURL(o,u)}canonicalizeTileURL(i,e){const n=St(i);if(!n.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!n.path.match(/\.[\w]+$/))return i;let o="mapbox://";n.path.match(/^\/raster\/v1\//)?o+=`raster/${n.path.replace(`/${oe.RASTER_URL_PREFIX}/`,"")}`:o+=`tiles/${n.path.replace(`/${oe.TILE_URL_VERSION}/`,"")}`;let u=n.params;return e&&(u=u.filter(f=>!f.match(/^access_token=/))),u.length&&(o+=`?${u.join("&")}`),o}canonicalizeTileset(i,e){const n=!!e&&Be(e),o=[];for(const u of i.tiles||[])We(u)?o.push(this.canonicalizeTileURL(u,n)):o.push(u);return o}_makeAPIURL(i,e){const n="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",o=St(oe.API_URL);if(i.protocol=o.protocol,i.authority=o.authority,"http"===i.protocol){const u=i.params.indexOf("secure");u>=0&&i.params.splice(u,1)}if("/"!==o.path&&(i.path=`${o.path}${i.path}`),!oe.REQUIRE_ACCESS_TOKEN)return vt(i);if(e=e||oe.ACCESS_TOKEN,!this._silenceAuthErrors){if(!e)throw new Error(`An API access token is required to use Mapbox GL. ${n}`);if("s"===e[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${n}`)}return i.params=i.params.filter(u=>-1===u.indexOf("access_token")),i.params.push(`access_token=${e||""}`),vt(i)}},t.ResourceType=Yn,t.SegmentVector=kr,t.SourceCache=qu,t.StencilMode=vh,t.StructArrayLayout1ui2=re,t.StructArrayLayout2f1f2i16=Dt,t.StructArrayLayout2i4=ve,t.StructArrayLayout2ui4=K,t.StructArrayLayout3f12=ci,t.StructArrayLayout3ui6=jt,t.StructArrayLayout4i8=Ee,t.StructArrayLayout5f20=k,t.Texture=Zu,t.Tile=vu,t.Transitionable=ae,t.Uniform1f=Ah,t.Uniform1i=class extends Nc{constructor(i){super(i),this.current=0}set(i,e,n){this.fetchUniformLocation(i,e)&&this.current!==n&&(this.current=n,this.gl.uniform1i(this.location,n))}},t.Uniform2f=class extends Nc{constructor(i){super(i),this.current=[0,0]}set(i,e,n){this.fetchUniformLocation(i,e)&&(n[0]===this.current[0]&&n[1]===this.current[1]||(this.current=n,this.gl.uniform2f(this.location,n[0],n[1])))}},t.Uniform3f=class extends Nc{constructor(i){super(i),this.current=[0,0,0]}set(i,e,n){this.fetchUniformLocation(i,e)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]||(this.current=n,this.gl.uniform3f(this.location,n[0],n[1],n[2])))}},t.Uniform4f=fm,t.UniformColor=mm,t.UniformMatrix2f=class extends Nc{constructor(i){super(i),this.current=ym}set(i,e,n){if(this.fetchUniformLocation(i,e))for(let o=0;o<4;o++)if(n[o]!==this.current[o]){this.current=n,this.gl.uniformMatrix2fv(this.location,!1,n);break}}},t.UniformMatrix3f=class extends Nc{constructor(i){super(i),this.current=gm}set(i,e,n){if(this.fetchUniformLocation(i,e))for(let o=0;o<9;o++)if(n[o]!==this.current[o]){this.current=n,this.gl.uniformMatrix3fv(this.location,!1,n);break}}},t.UniformMatrix4f=class extends Nc{constructor(i){super(i),this.current=_m}set(i,e,n){if(this.fetchUniformLocation(i,e)){if(n[12]!==this.current[12]||n[0]!==this.current[0])return this.current=n,void this.gl.uniformMatrix4fv(this.location,!1,n);for(let o=1;o<16;o++)if(n[o]!==this.current[o]){this.current=n,this.gl.uniformMatrix4fv(this.location,!1,n);break}}}},t.UnwrappedTileID=mf,t.ValidationError=st,t.VectorTileFeature=Jd,t.VectorTileWorkerSource=class extends Pa{constructor(i,e,n,o,u){super(),this.actor=i,this.layerIndex=e,this.availableImages=n,this.loadVectorData=u||nm,this.loading={},this.loaded={},this.deduped=new im(i.scheduler),this.isSpriteLoaded=o,this.scheduler=i.scheduler}loadTile(i,e){const n=i.uid,o=i&&i.request,u=o&&o.collectResourceTiming,f=this.loading[n]=new gy(i);f.abort=this.loadVectorData(i,(g,M)=>{const L=!this.loading[n];if(delete this.loading[n],L||g||!M)return f.status="done",L||(this.loaded[n]=f),e(g);const E=M.rawData,B={};M.expires&&(B.expires=M.expires),M.cacheControl&&(B.cacheControl=M.cacheControl),f.vectorTile=M.vectorTile||new $h(new ju(E));const V=()=>{f.parse(f.vectorTile,this.layerIndex,this.availableImages,this.actor,(Z,ee)=>{if(Z||!ee)return e(Z);const ne={};if(u){const le=Yr(o);le.length>0&&(ne.resourceTiming=JSON.parse(JSON.stringify(le)))}e(null,Li({rawTileData:E.slice(0)},ee,B,ne))})};this.isSpriteLoaded?V():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(V,{type:"parseTile",isSymbolTile:i.isSymbolTile,zoom:i.tileZoom}):V()}),this.loaded=this.loaded||{},this.loaded[n]=f})}reloadTile(i,e){const n=this.loaded,o=i.uid,u=this;if(n&&n[o]){const f=n[o];f.showCollisionBoxes=i.showCollisionBoxes,f.enableTerrain=!!i.enableTerrain,f.projection=i.projection,f.tileTransform=yu(i.tileID.canonical,i.projection);const g=(M,L)=>{const E=f.reloadCallback;E&&(delete f.reloadCallback,f.parse(f.vectorTile,u.layerIndex,this.availableImages,u.actor,E)),e(M,L)};"parsing"===f.status?f.reloadCallback=g:"done"===f.status&&(f.vectorTile?f.parse(f.vectorTile,this.layerIndex,this.availableImages,this.actor,g):g())}}abortTile(i,e){const n=i.uid,o=this.loading[n];o&&(o.abort&&o.abort(),delete this.loading[n]),e()}removeTile(i,e){const n=this.loaded,o=i.uid;n&&n[o]&&delete n[o],e()}},t.WritingMode=Ro,t.ZoomDependentExpression=G,t.add=Xl,t.addDynamicAttributes=tu,t.adjoint=function(i,e){var n=e[0],o=e[1],u=e[2],f=e[3],g=e[4],M=e[5],L=e[6],E=e[7],B=e[8];return i[0]=g*B-M*E,i[1]=u*E-o*B,i[2]=o*M-u*g,i[3]=M*L-f*B,i[4]=n*B-u*L,i[5]=u*f-n*M,i[6]=f*E-g*L,i[7]=o*L-n*E,i[8]=n*g-o*f,i},t.asyncAll=Tn,t.bezier=mi,t.bindAll=Yi,t.boundsAttributes=Uf,t.bufferConvexPolygon=function(i,e){const n=[];for(let o=0;o<i.length;o++){const u=on(o-1,-1,i.length-1),f=on(o+1,-1,i.length-1),g=i[o],M=i[f],L=i[u].sub(g).unit(),E=M.sub(g).unit(),B=E.angleWithSep(L.x,L.y),V=L.add(E).unit().mult(-1*e/Math.sin(B/2));n.push(g.add(V))}return n},t.cacheEntryPossiblyAdded=function(i){cr++,cr>hn&&(i.getActor().send("enforceCacheSizeLimit",Si),cr=0)},t.calculateGlobeLabelMatrix=function(i,e){const{x:n,y:o}=i.point,u=Pm(n,o,i.worldSize/i._pixelsPerMercatorPixel,0,0);return du(u,u,Vp(vc(e)))},t.calculateGlobeMatrix=function(i){const{x:e,y:n}=i.point,{lng:o,lat:u}=i._center;return Pm(e,n,i.worldSize,o,u)},t.calculateGlobeMercatorMatrix=function(i){const e=i.pixelsPerMeter,n=e/Kl(1,i.center.lat),o=Ka(new Float64Array(16));return ad(o,o,[i.point.x,i.point.y,0]),hu(o,o,[n,n,e]),Float32Array.from(o)},t.circumferenceAtLatitude=Wp,t.clamp=ei,t.clearTileCache=function(i){if(!Bi())return;const e=P.caches.delete(Fn);i&&e.catch(i).then(()=>i())},t.clipLine=Nu,t.clone=function(i){var e=new Io(16);return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],e},t.clone$1=Fr,t.collisionCircleLayout=ny,t.config=oe,t.conjugate=function(i,e){return i[0]=-e[0],i[1]=-e[1],i[2]=-e[2],i[3]=e[3],i},t.create=function(){var i=new Io(16);return Io!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0),i[0]=1,i[5]=1,i[10]=1,i[15]=1,i},t.create$1=rd,t.createExpression=$a,t.createLayout=ce,t.createStyleLayer=function(i){return"custom"===i.type?new mh(i):new ig[i.type](i)},t.cross=ld,t.degToRad=kt,t.distance=function(i,e){return Math.hypot(e[0]-i[0],e[1]-i[1],e[2]-i[2])},t.div=function(i,e,n){return i[0]=e[0]/n[0],i[1]=e[1]/n[1],i[2]=e[2]/n[2],i},t.dot=Ll,t.earthRadius=Zd,t.ease=gr,t.easeCubicInOut=wi,t.ecefToLatLng=function([i,e,n]){const o=Math.hypot(i,e,n),u=Math.atan2(i,n),f=.5*Math.PI-Math.acos(-e/o);return new Cn(Wt(u),Wt(f))},t.emitValidationErrors=Fc,t.endsWith=Wn,t.enforceCacheSizeLimit=function(i){Mi(),Hi&&Hi.then(e=>{e.keys().then(n=>{for(let o=0;o<n.length-i;o++)e.delete(n[o])})})},t.evaluateSizeForFeature=rs,t.evaluateSizeForZoom=wd,t.evaluateVariableOffset=j_,t.evented=x,t.exactEquals=function(i,e){return i[0]===e[0]&&i[1]===e[1]&&i[2]===e[2]&&i[3]===e[3]},t.exactEquals$1=function(i,e){return i[0]===e[0]&&i[1]===e[1]&&i[2]===e[2]},t.exported=an,t.exported$1=ye,t.extend=Li,t.extend$1=ta,t.fillExtrusionHeightLift=g_,t.filterObject=Ur,t.fromMat4=function(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[4],i[4]=e[5],i[5]=e[6],i[6]=e[8],i[7]=e[9],i[8]=e[10],i},t.fromQuat=function(i,e){var n=e[0],o=e[1],u=e[2],f=e[3],g=n+n,M=o+o,L=u+u,E=n*g,B=o*g,V=o*M,Z=u*g,ee=u*M,ne=u*L,le=f*g,_e=f*M,xe=f*L;return i[0]=1-V-ne,i[1]=B+xe,i[2]=Z-_e,i[3]=0,i[4]=B-xe,i[5]=1-E-ne,i[6]=ee+le,i[7]=0,i[8]=Z+_e,i[9]=ee-le,i[10]=1-E-V,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i},t.fromRotation=function(i,e){var n=Math.sin(e),o=Math.cos(e);return i[0]=o,i[1]=n,i[2]=0,i[3]=-n,i[4]=o,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i},t.fromScaling=km,t.furthestTileCorner=function(i){const e=Math.round((i+45+360)%360/90)%4;return en[e]},t.getAABBPointSquareDist=function(i,e,n){let o=0;for(let u=0;u<2;++u){const f=n?n[u]:0;i[u]>f&&(o+=(i[u]-f)*(i[u]-f)),e[u]<f&&(o+=(f-e[u])*(f-e[u]))}return o},t.getAnchorAlignment=sp,t.getAnchorJustification=pp,t.getBounds=function(i){let e=1/0,n=1/0,o=-1/0,u=-1/0;for(const f of i)e=Math.min(e,f.x),n=Math.min(n,f.y),o=Math.max(o,f.x),u=Math.max(u,f.y);return{min:new He(e,n),max:new He(o,u)}},t.getColumn=zi,t.getDefaultExportFromCjs=Me,t.getGridMatrix=function(i,e,n,o){const u=e.getNorth(),f=e.getSouth(),g=e.getWest(),M=e.getEast(),L=1<<i.z,E=M-g,B=u-f,V=E/64,Z=-B/al[n],ee=[0,V,0,Z,0,0,u,g,0];if(i.z>0){const ne=180/o;Fp(ee,ee,[ne/E+1,0,0,0,ne/B+1,0,-.5*ne/V,.5*ne/Z,1])}return ee[2]=L,ee[5]=i.x,ee[8]=i.y,ee},t.getImage=be,t.getJSON=function(i,e){return ea(Li(i,{type:"json"}),e)},t.getLatitudinalLod=function(i){const e=ts-5;i=ei(i,-e,e)/e*90;const n=Math.pow(Math.abs(Math.sin(kt(i))),3);return Math.round(n*(al.length-1))},t.getMapSessionAPI=Zn,t.getPerformanceMeasurement=Yr,t.getProjection=K_,t.getRTLTextPluginStatus=T,t.getReferrer=Gt,t.getTilePoint=function(i,{x:e,y:n},o=0){return new He(((e-o)*i.scale-i.x)*Jt,(n*i.scale-i.y)*Jt)},t.getTileVec3=function(i,e,n=0){return kl(((e.x-n)*i.scale-i.x)*Jt,(e.y*i.scale-i.y)*Jt,Ym(e.z,e.y))},t.getVideo=function(i,e){const n=P.document.createElement("video");n.muted=!0,n.onloadstart=function(){e(null,n)};for(let o=0;o<i.length;o++){const u=P.document.createElement("source");ur(i[o])||(n.crossOrigin="Anonymous"),u.src=i[o],n.appendChild(u)}return{cancel:()=>{}}},t.globeCenterToScreenPoint=function(i){const e=[0,0,0],n=Ka(new Float64Array(16));return du(n,i.pixelMatrix,i.globeMatrix),fr(e,e,n),new He(e[0],e[1])},t.globeDenormalizeECEF=Vp,t.globeECEFOrigin=function(i,e){const n=[0,0,0];return fr(n,n,Gd(vc(e.canonical))),fr(n,n,i),n},t.globeMetersToEcef=Oh,t.globeNormalizeECEF=Gd,t.globePixelsToTileUnits=function(i,e){return Jt/(512*Math.pow(2,i))*Yh(vc(e))},t.globePoleMatrixForTile=function(i,e,n){const o=Ka(new Float64Array(16)),u=(e/(1<<i)-.5)*Math.PI*2;return Tl(o,n.globeMatrix,u),Float32Array.from(o)},t.globeTileBounds=vc,t.globeTiltAtLngLat=Om,t.globeToMercatorTransition=pd,t.globeUseCustomAntiAliasing=function(i,e,n){const o=pd(n.zoom),u=i.style.map._antialias,f=!!e.extStandardDerivatives,g=e.extStandardDerivativesForceOff||i.terrain&&i.terrain.exaggeration()>0;return 0===o&&!u&&!g&&f},t.identity=Ka,t.identity$1=Bp,t.invert=uu,t.isFullscreen=function(){return!!P.document.fullscreenElement||!!P.document.webkitFullscreenElement},t.isLngLatBehindGlobe=Up,t.isMapAuthenticated=function(i){return qi.has(i)},t.isMapboxURL=Be,t.isSafariWithAntialiasingBug=function(i){const e=i.navigator?i.navigator.userAgent:null;return!!tr(i)&&e&&(e.match("Version/15.4")||e.match("Version/15.5")||e.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},t.latFromMercatorY=es,t.latLngToECEF=hd,t.len=Un,t.length=Hd,t.length$1=function(i){return Math.hypot(i[0],i[1],i[2],i[3])},t.lngFromMercatorX=sl,t.loadVectorTile=nm,t.makeRequest=ea,t.mapValue=function(i,e,n,o,u){return ei((i-e)/(n-e)*(u-o)+o,o,u)},t.mercatorScale=zm,t.mercatorXfromLng=bc,t.mercatorYfromLat=xc,t.mercatorZfromAltitude=Kl,t.mul=Yp,t.mul$1=Ph,t.multiply=du,t.multiply$1=Fp,t.multiply$2=Du,t.nextPowerOfTwo=Ut,t.normalize=Ds,t.normalize$1=Sm,t.normalize$2=Sl,t.number=ki,t.ortho=function(i,e,n,o,u,f,g){var M=1/(e-n),L=1/(o-u),E=1/(f-g);return i[0]=-2*M,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*L,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*E,i[11]=0,i[12]=(e+n)*M,i[13]=(u+o)*L,i[14]=(g+f)*E,i[15]=1,i},t.pbf=wf,t.perspective=function(i,e,n,o,u){var f,g=1/Math.tan(e/2);return i[0]=g/n,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=g,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,null!=u&&u!==1/0?(i[10]=(u+o)*(f=1/(o-u)),i[14]=2*u*o*f):(i[10]=-1,i[14]=-2*o),i},t.pick=function(i,e){const n={};for(let o=0;o<e.length;o++){const u=e[o];u in i&&(n[u]=i[u])}return n},t.plugin=R,t.pointGeometry=Ve,t.polesInViewport=function(i){const e=Ka(new Float64Array(16));du(e,i.pixelMatrix,i.globeMatrix);const n=[0,El,0],o=[0,Al,0];return fr(n,n,e),fr(o,o,e),[n[0]>0&&n[0]<=i.width&&n[1]>0&&n[1]<=i.height&&!Up(i,new Cn(i.center.lat,90)),o[0]>0&&o[0]<=i.width&&o[1]>0&&o[1]<=i.height&&!Up(i,new Cn(i.center.lat,-90))]},t.polygonContainsPoint=Pu,t.polygonIntersectsBox=Um,t.polygonIntersectsPolygon=jm,t.polygonizeBounds=function(i,e,n=0,o=!0){const u=new He(n,n),f=i.sub(u),g=e.add(u),M=[f,new He(g.x,f.y),g,new He(f.x,g.y)];return o&&M.push(f.clone()),M},t.posAttributes=Ud,t.postMapLoadEvent=ji,t.postPerformanceEvent=ai,t.postTurnstileEvent=vi,t.potpack=np,t.prevPowerOfTwo=function(i){return i<=1?1:Math.pow(2,Math.floor(Math.log(i)/Math.LN2))},t.radToDeg=Wt,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.registerForPluginStateChange=function(i){return i({pluginStatus:h,pluginURL:r}),x.on("pluginStateChange",i),i},t.removeAuthState=function(i){qi.delete(i)},t.renderColorRamp=Qp,t.resample=Zp,t.rotateX=Ih,t.rotateX$1=Lm,t.rotateY=Tl,t.rotateY$1=Jl,t.rotateZ=function(i,e,n){var o=Math.sin(n),u=Math.cos(n),f=e[0],g=e[1],M=e[2],L=e[3],E=e[4],B=e[5],V=e[6],Z=e[7];return e!==i&&(i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]),i[0]=f*u+E*o,i[1]=g*u+B*o,i[2]=M*u+V*o,i[3]=L*u+Z*o,i[4]=E*u-f*o,i[5]=B*u-g*o,i[6]=V*u-M*o,i[7]=Z*u-L*o,i},t.rotateZ$1=function(i,e,n){n*=.5;var o=e[0],u=e[1],f=e[2],g=e[3],M=Math.sin(n),L=Math.cos(n);return i[0]=o*L+u*M,i[1]=u*L-o*M,i[2]=f*L+g*M,i[3]=g*L-f*M,i},t.scale=hu,t.scale$1=ka,t.scale$2=ks,t.scaleAndAdd=Dl,t.set=function(i,e,n,o){return i[0]=e,i[1]=n,i[2]=o,i},t.setCacheLimits=function(i,e){Si=i,hn=e},t.setColumn=function(i,e,n){i[4*e+0]=n[0],i[4*e+1]=n[1],i[4*e+2]=n[2],i[4*e+3]=n[3]},t.setRTLTextPlugin=function(i,e,n=!1){if(h===ua||h===Ja||h===Eo)throw new Error("setRTLTextPlugin cannot be called multiple times.");r=an.resolveURL(i),h=ua,Ao=e,_(),n||I()},t.smoothstep=Mn,t.spec=at,t.squaredLength=function(i){var e=i[0],n=i[1],o=i[2];return e*e+n*n+o*o},t.storeAuthState=function(i,e){e?qi.add(i):qi.delete(i)},t.sub=Qa,t.subtract=Vd,t.symbolSize=ry,t.tileAABB=function(i,e,n,o,u,f,g,M,L){if("globe"===L.name)return function Dg(i,e,n){const o=e/i.worldSize,u=i.globeMatrix;if(n.z<=1){const $e=vc(n).getCorners();return Im($e,u,o),da.fromPoints($e)}const f=Rh(n),g=Fh(f);Im(g,u,o);const M=Number.MAX_VALUE,L=[-M,-M,-M],E=[M,M,M];if(f.contains(i.center)){for(const Tt of g)od(E,E,Tt),Gc(L,L,Tt);L[2]=0;const $e=i.point,dt=[$e.x*o,$e.y*o,0];return od(E,E,dt),Gc(L,L,dt),new da(E,L)}const B=[u[12]*o,u[13]*o,u[14]*o],V=f.getCenter(),Z=ei(i.center.lat,-ts,ts),ee=ei(V.lat,-ts,ts),ne=bc(i.center.lng),le=xc(Z);let _e=ne-bc(V.lng);const xe=le-xc(ee);_e>.5?_e-=1:_e<-.5&&(_e+=1);let Se=0;Math.abs(_e)>Math.abs(xe)?Se=_e>=0?1:3:(Se=xe>=0?0:2,Dl(B,B,[u[4]*o,u[5]*o,u[6]*o],-Math.sin(kt(xe>=0?f.getSouth():f.getNorth()))*Gs));const we=g[Se],Le=g[(Se+1)%4],Ie=new kg(we,Le,B),Pe=[Hp(Ie,0)||we[0],Hp(Ie,1)||we[1],Hp(Ie,2)||we[2]],Qe=pd(i.zoom);if(Qe>0){const $e=function({x:Tt,y:it,z:mt},ft,xt,Lt,ct){const Ft=1/(1<<mt);let Nt=Tt*Ft,zt=Nt+Ft,_i=it*Ft,Ct=_i+Ft,$t=0;const gi=(Nt+zt)/2-Lt;return gi>.5?$t=-1:gi<-.5&&($t=1),Nt=((Nt+$t)*ft-(Lt*=ft))*xt+Lt,zt=((zt+$t)*ft-Lt)*xt+Lt,_i=(_i*ft-(ct*=ft))*xt+ct,Ct=(Ct*ft-ct)*xt+ct,[[Nt,Ct,0],[zt,Ct,0],[zt,_i,0],[Nt,_i,0]]}(n,e,i._pixelsPerMercatorPixel,ne,le);for(let Tt=0;Tt<g.length;Tt++)Au(g[Tt],$e[Tt],Qe);const dt=Xl([],$e[Se],$e[(Se+1)%4]);ks(dt,dt,.5),Au(Pe,dt,Qe)}for(const $e of g)od(E,E,$e),Gc(L,L,$e);return E[2]=Math.min(we[2],Le[2]),od(E,E,Pe),Gc(L,L,Pe),new da(E,L)}(i,e,new Qd(n,o,u));const E=yu({z:n,x:o,y:u},L);return new da([(f+E.x/E.scale)*e,e*(E.y/E.scale),g],[(f+E.x2/E.scale)*e,e*(E.y2/E.scale),M])},t.tileCornersToBounds=Rh,t.tileTransform=yu,t.transformMat3=function(i,e,n){var o=e[0],u=e[1],f=e[2];return i[0]=o*n[0]+u*n[3]+f*n[6],i[1]=o*n[1]+u*n[4]+f*n[7],i[2]=o*n[2]+u*n[5]+f*n[8],i},t.transformMat4=fr,t.transformMat4$1=Su,t.transformQuat=zp,t.transitionTileAABBinECEF=Am,t.translate=ad,t.transpose=function(i,e){if(i===e){var n=e[1],o=e[2],u=e[5];i[1]=e[3],i[2]=e[6],i[3]=n,i[5]=e[7],i[6]=o,i[7]=u}else i[0]=e[0],i[1]=e[3],i[2]=e[6],i[3]=e[1],i[4]=e[4],i[5]=e[7],i[6]=e[2],i[7]=e[5],i[8]=e[8];return i},t.triggerPluginCompletionEvent=c,t.uniqueId=jn,t.updateGlobeVertexNormal=function(i,e,n,o,u){const f=5*e+2;i.float32[f+0]=n,i.float32[f+1]=o,i.float32[f+2]=u},t.validateCustomStyleLayer=function(i){const e=[],n=i.id;return void 0===n&&e.push({message:`layers.${n}: missing required property "id"`}),void 0===i.render&&e.push({message:`layers.${n}: missing required method "render"`}),i.renderingMode&&"2d"!==i.renderingMode&&"3d"!==i.renderingMode&&e.push({message:`layers.${n}: property "renderingMode" must be either "2d" or "3d"`}),e},t.validateFilter=i=>Ma(Lo(i)),t.validateFog=i=>Ma(pc(i)),t.validateLayer=i=>Ma(So(i)),t.validateLight=i=>Ma(hc(i)),t.validateSource=i=>Ma(Oc(i)),t.validateStyle=il,t.validateTerrain=i=>Ma(tl(i)),t.values=On,t.vectorTile=qh,t.version=J,t.warnOnce=Pi,t.window=P,t.wrap=on}),A(0,function(t){function P(ke){if("number"==typeof ke||"boolean"==typeof ke||"string"==typeof ke||null==ke)return JSON.stringify(ke);if(Array.isArray(ke)){let fe="[";for(const be of ke)fe+=`${P(be)},`;return`${fe}]`}let he="{";for(const fe of Object.keys(ke).sort())he+=`${fe}:${P(ke[fe])},`;return`${he}}`}function J(ke){let he="";for(const fe of t.refProperties)he+=`/${P(ke[fe])}`;return he}class Q{constructor(he){this.keyCache={},he&&this.replace(he)}replace(he){this._layerConfigs={},this._layers={},this.update(he,[])}update(he,fe){for(const Ae of he)this._layerConfigs[Ae.id]=Ae,(this._layers[Ae.id]=t.createStyleLayer(Ae)).compileFilter(),this.keyCache[Ae.id]&&delete this.keyCache[Ae.id];for(const Ae of fe)delete this.keyCache[Ae],delete this._layerConfigs[Ae],delete this._layers[Ae];this.familiesBySource={};const be=function(Ae,Be){const We={};for(let X=0;X<Ae.length;X++){const Xe=Be&&Be[Ae[X].id]||J(Ae[X]);Be&&(Be[Ae[X].id]=Xe);let wt=We[Xe];wt||(wt=We[Xe]=[]),wt.push(Ae[X])}const Ue=[];for(const X in We)Ue.push(We[X]);return Ue}(t.values(this._layerConfigs),this.keyCache);for(const Ae of be){const Be=Ae.map(St=>this._layers[St.id]),We=Be[0];if("none"===We.visibility)continue;const Ue=We.source||"";let X=this.familiesBySource[Ue];X||(X=this.familiesBySource[Ue]={});const Xe=We.sourceLayer||"_geojsonTileLayer";let wt=X[Xe];wt||(wt=X[Xe]=[]),wt.push(Be)}}}class oe{loadTile(he,fe){const{uid:be,encoding:Ae,rawImageData:Be,padding:We,buildQuadTree:Ue}=he,X=t.window.ImageBitmap&&Be instanceof t.window.ImageBitmap?this.getImageData(Be,We):Be;fe(null,new t.DEMData(be,X,Ae,We<1,Ue))}getImageData(he,fe){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(he.width,he.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=he.width,this.offscreenCanvas.height=he.height,this.offscreenCanvasContext.drawImage(he,0,0,he.width,he.height);const be=this.offscreenCanvasContext.getImageData(-fe,-fe,he.width+2*fe,he.height+2*fe);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),be}}function ye(ke,he){if(0!==ke.length){Fe(ke[0],he);for(var fe=1;fe<ke.length;fe++)Fe(ke[fe],!he)}}function Fe(ke,he){for(var fe=0,be=0,Ae=0,Be=ke.length,We=Be-1;Ae<Be;We=Ae++){var Ue=(ke[Ae][0]-ke[We][0])*(ke[We][1]+ke[Ae][1]),X=fe+Ue;be+=Math.abs(fe)>=Math.abs(Ue)?fe-X+Ue:Ue-X+fe,fe=X}fe+be>=0!=!!he&&ke.reverse()}var pt=t.getDefaultExportFromCjs(function ke(he,fe){var be,Ae=he&&he.type;if("FeatureCollection"===Ae)for(be=0;be<he.features.length;be++)ke(he.features[be],fe);else if("GeometryCollection"===Ae)for(be=0;be<he.geometries.length;be++)ke(he.geometries[be],fe);else if("Feature"===Ae)ke(he.geometry,fe);else if("Polygon"===Ae)ye(he.coordinates,fe);else if("MultiPolygon"===Ae)for(be=0;be<he.coordinates.length;be++)ye(he.coordinates[be],fe);return he});const Te=t.VectorTileFeature.prototype.toGeoJSON;var gt={exports:{}},Mt=t.pointGeometry,qe=t.vectorTile.VectorTileFeature,Me=Je;function Je(ke,he){this.options=he||{},this.features=ke,this.length=ke.length}function yt(ke,he){this.id="number"==typeof ke.id?ke.id:void 0,this.type=ke.type,this.rawGeometry=1===ke.type?[ke.geometry]:ke.geometry,this.properties=ke.tags,this.extent=he||4096}Je.prototype.feature=function(ke){return new yt(this.features[ke],this.options.extent)},yt.prototype.loadGeometry=function(){var ke=this.rawGeometry;this.geometry=[];for(var he=0;he<ke.length;he++){for(var fe=ke[he],be=[],Ae=0;Ae<fe.length;Ae++)be.push(new Mt(fe[Ae][0],fe[Ae][1]));this.geometry.push(be)}return this.geometry},yt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ke=this.geometry,he=1/0,fe=-1/0,be=1/0,Ae=-1/0,Be=0;Be<ke.length;Be++)for(var We=ke[Be],Ue=0;Ue<We.length;Ue++){var X=We[Ue];he=Math.min(he,X.x),fe=Math.max(fe,X.x),be=Math.min(be,X.y),Ae=Math.max(Ae,X.y)}return[he,be,fe,Ae]},yt.prototype.toGeoJSON=qe.prototype.toGeoJSON;var Ke=t.pbf,Ve=Me;function ut(ke){var he=new Ke;return function(fe,be){for(var Ae in fe.layers)be.writeMessage(3,He,fe.layers[Ae])}(ke,he),he.finish()}function He(ke,he){var fe;he.writeVarintField(15,ke.version||1),he.writeStringField(1,ke.name||""),he.writeVarintField(5,ke.extent||4096);var be={keys:[],values:[],keycache:{},valuecache:{}};for(fe=0;fe<ke.length;fe++)be.feature=ke.feature(fe),he.writeMessage(2,bt,be);var Ae=be.keys;for(fe=0;fe<Ae.length;fe++)he.writeStringField(3,Ae[fe]);var Be=be.values;for(fe=0;fe<Be.length;fe++)he.writeMessage(4,wi,Be[fe])}function bt(ke,he){var fe=ke.feature;void 0!==fe.id&&he.writeVarintField(1,fe.id),he.writeMessage(2,Yt,ke),he.writeVarintField(3,fe.type),he.writeMessage(4,en,fe)}function Yt(ke,he){var fe=ke.feature,be=ke.keys,Ae=ke.values,Be=ke.keycache,We=ke.valuecache;for(var Ue in fe.properties){var X=fe.properties[Ue],Xe=Be[Ue];if(null!==X){void 0===Xe&&(be.push(Ue),Be[Ue]=Xe=be.length-1),he.writeVarint(Xe);var wt=typeof X;"string"!==wt&&"boolean"!==wt&&"number"!==wt&&(X=JSON.stringify(X));var St=wt+":"+X,vt=We[St];void 0===vt&&(Ae.push(X),We[St]=vt=Ae.length-1),he.writeVarint(vt)}}}function kt(ke,he){return(he<<3)+(7&ke)}function Wt(ke){return ke<<1^ke>>31}function en(ke,he){for(var fe=ke.loadGeometry(),be=ke.type,Ae=0,Be=0,We=fe.length,Ue=0;Ue<We;Ue++){var X=fe[Ue],Xe=1;1===be&&(Xe=X.length),he.writeVarint(kt(1,Xe));for(var wt=3===be?X.length-1:X.length,St=0;St<wt;St++){1===St&&1!==be&&he.writeVarint(kt(2,wt-1));var vt=X[St].x-Ae,ti=X[St].y-Be;he.writeVarint(Wt(vt)),he.writeVarint(Wt(ti)),Ae+=vt,Be+=ti}3===be&&he.writeVarint(kt(7,1))}}function wi(ke,he){var fe=typeof ke;"string"===fe?he.writeStringField(1,ke):"boolean"===fe?he.writeBooleanField(7,ke):"number"===fe&&(ke%1!=0?he.writeDoubleField(3,ke):ke<0?he.writeSVarintField(6,ke):he.writeVarintField(5,ke))}gt.exports=ut,gt.exports.fromVectorTileJs=ut,gt.exports.fromGeojsonVt=function(ke,he){he=he||{};var fe={};for(var be in ke)fe[be]=new Ve(ke[be].features,he),fe[be].name=be,fe[be].version=he.version,fe[be].extent=he.extent;return ut({layers:fe})},gt.exports.GeoJSONWrapper=Ve;var mi=t.getDefaultExportFromCjs(gt.exports);const gr={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ke=>ke},ei=Math.fround||(Mn=new Float32Array(1),ke=>(Mn[0]=+ke,Mn[0]));var Mn;class Li{constructor(he){this.options=Object.assign(Object.create(gr),he),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(he){const{log:fe,minZoom:be,maxZoom:Ae}=this.options;fe&&console.time("total time");const Be=`prepare ${he.length} points`;fe&&console.time(Be),this.points=he;const We=[];for(let X=0;X<he.length;X++){const Xe=he[X];if(!Xe.geometry)continue;const[wt,St]=Xe.geometry.coordinates,vt=ei(Rn(wt)),ti=ei(Ut(St));We.push(vt,ti,1/0,X,-1,1),this.options.reduce&&We.push(0)}let Ue=this.trees[Ae+1]=this._createTree(We);fe&&console.timeEnd(Be);for(let X=Ae;X>=be;X--){const Xe=+Date.now();Ue=this.trees[X]=this._createTree(this._cluster(Ue,X)),fe&&console.log("z%d: %d clusters in %dms",X,Ue.numItems,+Date.now()-Xe)}return fe&&console.timeEnd("total time"),this}getClusters(he,fe){let be=((he[0]+180)%360+360)%360-180;const Ae=Math.max(-90,Math.min(90,he[1]));let Be=180===he[2]?180:((he[2]+180)%360+360)%360-180;const We=Math.max(-90,Math.min(90,he[3]));if(he[2]-he[0]>=360)be=-180,Be=180;else if(be>Be){const St=this.getClusters([be,Ae,180,We],fe),vt=this.getClusters([-180,Ae,Be,We],fe);return St.concat(vt)}const Ue=this.trees[this._limitZoom(fe)],X=Ue.range(Rn(be),Ut(We),Rn(Be),Ut(Ae)),Xe=Ue.data,wt=[];for(const St of X){const vt=this.stride*St;wt.push(Xe[vt+5]>1?fn(Xe,vt,this.clusterProps):this.points[Xe[vt+3]])}return wt}getChildren(he){const fe=this._getOriginId(he),be=this._getOriginZoom(he),Ae="No cluster with the specified id.",Be=this.trees[be];if(!Be)throw new Error(Ae);const We=Be.data;if(fe*this.stride>=We.length)throw new Error(Ae);const Ue=this.options.radius/(this.options.extent*Math.pow(2,be-1)),X=Be.within(We[fe*this.stride],We[fe*this.stride+1],Ue),Xe=[];for(const wt of X){const St=wt*this.stride;We[St+4]===he&&Xe.push(We[St+5]>1?fn(We,St,this.clusterProps):this.points[We[St+3]])}if(0===Xe.length)throw new Error(Ae);return Xe}getLeaves(he,fe,be){const Ae=[];return this._appendLeaves(Ae,he,fe=fe||10,be=be||0,0),Ae}getTile(he,fe,be){const Ae=this.trees[this._limitZoom(he)],Be=Math.pow(2,he),{extent:We,radius:Ue}=this.options,X=Ue/We,Xe=(be-X)/Be,wt=(be+1+X)/Be,St={features:[]};return this._addTileFeatures(Ae.range((fe-X)/Be,Xe,(fe+1+X)/Be,wt),Ae.data,fe,be,Be,St),0===fe&&this._addTileFeatures(Ae.range(1-X/Be,Xe,1,wt),Ae.data,Be,be,Be,St),fe===Be-1&&this._addTileFeatures(Ae.range(0,Xe,X/Be,wt),Ae.data,-1,be,Be,St),St.features.length?St:null}getClusterExpansionZoom(he){let fe=this._getOriginZoom(he)-1;for(;fe<=this.options.maxZoom;){const be=this.getChildren(he);if(fe++,1!==be.length)break;he=be[0].properties.cluster_id}return fe}_appendLeaves(he,fe,be,Ae,Be){const We=this.getChildren(fe);for(const Ue of We){const X=Ue.properties;if(X&&X.cluster?Be+X.point_count<=Ae?Be+=X.point_count:Be=this._appendLeaves(he,X.cluster_id,be,Ae,Be):Be<Ae?Be++:he.push(Ue),he.length===be)break}return Be}_createTree(he){const fe=new t.KDBush(he.length/this.stride|0,this.options.nodeSize,Float32Array);for(let be=0;be<he.length;be+=this.stride)fe.add(he[be],he[be+1]);return fe.finish(),fe.data=he,fe}_addTileFeatures(he,fe,be,Ae,Be,We){for(const Ue of he){const X=Ue*this.stride,Xe=fe[X+5]>1;let wt,St,vt;if(Xe)wt=jn(fe,X,this.clusterProps),St=fe[X],vt=fe[X+1];else{const Xt=this.points[fe[X+3]];wt=Xt.properties;const[_t,vi]=Xt.geometry.coordinates;St=Rn(_t),vt=Ut(vi)}const ti={type:1,geometry:[[Math.round(this.options.extent*(St*Be-be)),Math.round(this.options.extent*(vt*Be-Ae))]],tags:wt};let ri;ri=Xe||this.options.generateId?fe[X+3]:this.points[fe[X+3]].id,void 0!==ri&&(ti.id=ri),We.features.push(ti)}}_limitZoom(he){return Math.max(this.options.minZoom,Math.min(Math.floor(+he),this.options.maxZoom+1))}_cluster(he,fe){const{radius:be,extent:Ae,reduce:Be,minPoints:We}=this.options,Ue=be/(Ae*Math.pow(2,fe)),X=he.data,Xe=[],wt=this.stride;for(let St=0;St<X.length;St+=wt){if(X[St+2]<=fe)continue;X[St+2]=fe;const vt=X[St],ti=X[St+1],ri=he.within(X[St],X[St+1],Ue),Xt=X[St+5];let _t=Xt;for(const vi of ri){const pn=vi*wt;X[pn+2]>fe&&(_t+=X[pn+5])}if(_t>Xt&&_t>=We){let vi,pn=vt*Xt,ji=ti*Xt,Dn=-1;const ai=((St/wt|0)<<5)+(fe+1)+this.points.length;for(const Ti of ri){const Zn=Ti*wt;if(X[Zn+2]<=fe)continue;X[Zn+2]=fe;const qi=X[Zn+5];pn+=X[Zn]*qi,ji+=X[Zn+1]*qi,X[Zn+4]=ai,Be&&(vi||(vi=this._map(X,St,!0),Dn=this.clusterProps.length,this.clusterProps.push(vi)),Be(vi,this._map(X,Zn)))}X[St+4]=ai,Xe.push(pn/_t,ji/_t,1/0,ai,-1,_t),Be&&Xe.push(Dn)}else{for(let vi=0;vi<wt;vi++)Xe.push(X[St+vi]);if(_t>1)for(const vi of ri){const pn=vi*wt;if(!(X[pn+2]<=fe)){X[pn+2]=fe;for(let ji=0;ji<wt;ji++)Xe.push(X[pn+ji])}}}}return Xe}_getOriginId(he){return he-this.points.length>>5}_getOriginZoom(he){return(he-this.points.length)%32}_map(he,fe,be){if(he[fe+5]>1){const We=this.clusterProps[he[fe+6]];return be?Object.assign({},We):We}const Ae=this.points[he[fe+3]].properties,Be=this.options.map(Ae);return be&&Be===Ae?Object.assign({},Be):Be}}function fn(ke,he,fe){return{type:"Feature",id:ke[he+3],properties:jn(ke,he,fe),geometry:{type:"Point",coordinates:[(be=ke[he],360*(be-.5)),Er(ke[he+1])]}};var be}function jn(ke,he,fe){const be=ke[he+5],Ae=be>=1e4?`${Math.round(be/1e3)}k`:be>=1e3?Math.round(be/100)/10+"k":be,Be=ke[he+6],We=-1===Be?{}:Object.assign({},fe[Be]);return Object.assign(We,{cluster:!0,cluster_id:ke[he+3],point_count:be,point_count_abbreviated:Ae})}function Rn(ke){return ke/360+.5}function Ut(ke){const he=Math.sin(ke*Math.PI/180),fe=.5-.25*Math.log((1+he)/(1-he))/Math.PI;return fe<0?0:fe>1?1:fe}function Er(ke){const he=(180-360*ke)*Math.PI/180;return 360*Math.atan(Math.exp(he))/Math.PI-90}function Yi(ke,he,fe,be){for(var Ae,Be=be,We=fe-he>>1,Ue=fe-he,X=ke[he],Xe=ke[he+1],wt=ke[fe],St=ke[fe+1],vt=he+3;vt<fe;vt+=3){var ti=Wn(ke[vt],ke[vt+1],X,Xe,wt,St);if(ti>Be)Ae=vt,Be=ti;else if(ti===Be){var ri=Math.abs(vt-We);ri<Ue&&(Ae=vt,Ue=ri)}}Be>be&&(Ae-he>3&&Yi(ke,he,Ae,be),ke[Ae+2]=Be,fe-Ae>3&&Yi(ke,Ae,fe,be))}function Wn(ke,he,fe,be,Ae,Be){var We=Ae-fe,Ue=Be-be;if(0!==We||0!==Ue){var X=((ke-fe)*We+(he-be)*Ue)/(We*We+Ue*Ue);X>1?(fe=Ae,be=Be):X>0&&(fe+=We*X,be+=Ue*X)}return(We=ke-fe)*We+(Ue=he-be)*Ue}function ii(ke,he,fe,be){var Ae={id:void 0===ke?null:ke,type:he,geometry:fe,tags:be,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Be){var We=Be.geometry,Ue=Be.type;if("Point"===Ue||"MultiPoint"===Ue||"LineString"===Ue)Ur(Be,We);else if("Polygon"===Ue||"MultiLineString"===Ue)for(var X=0;X<We.length;X++)Ur(Be,We[X]);else if("MultiPolygon"===Ue)for(X=0;X<We.length;X++)for(var Xe=0;Xe<We[X].length;Xe++)Ur(Be,We[X][Xe])}(Ae),Ae}function Ur(ke,he){for(var fe=0;fe<he.length;fe+=3)ke.minX=Math.min(ke.minX,he[fe]),ke.minY=Math.min(ke.minY,he[fe+1]),ke.maxX=Math.max(ke.maxX,he[fe]),ke.maxY=Math.max(ke.maxY,he[fe+1])}function Fr(ke,he,fe,be){if(he.geometry){var Ae=he.geometry.coordinates,Be=he.geometry.type,We=Math.pow(fe.tolerance/((1<<fe.maxZoom)*fe.extent),2),Ue=[],X=he.id;if(fe.promoteId?X=he.properties[fe.promoteId]:fe.generateId&&(X=be||0),"Point"===Be)Ss(Ae,Ue);else if("MultiPoint"===Be)for(var Xe=0;Xe<Ae.length;Xe++)Ss(Ae[Xe],Ue);else if("LineString"===Be)Pi(Ae,Ue,We,!1);else if("MultiLineString"===Be){if(fe.lineMetrics){for(Xe=0;Xe<Ae.length;Xe++)Pi(Ae[Xe],Ue=[],We,!1),ke.push(ii(X,"LineString",Ue,he.properties));return}er(Ae,Ue,We,!1)}else if("Polygon"===Be)er(Ae,Ue,We,!0);else{if("MultiPolygon"!==Be){if("GeometryCollection"===Be){for(Xe=0;Xe<he.geometry.geometries.length;Xe++)Fr(ke,{id:X,geometry:he.geometry.geometries[Xe],properties:he.properties},fe,be);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Xe=0;Xe<Ae.length;Xe++){var wt=[];er(Ae[Xe],wt,We,!0),Ue.push(wt)}}ke.push(ii(X,Be,Ue,he.properties))}}function Ss(ke,he){he.push(ho(ke[0])),he.push(kn(ke[1])),he.push(0)}function Pi(ke,he,fe,be){for(var Ae,Be,We=0,Ue=0;Ue<ke.length;Ue++){var X=ho(ke[Ue][0]),Xe=kn(ke[Ue][1]);he.push(X),he.push(Xe),he.push(0),Ue>0&&(We+=be?(Ae*Xe-X*Be)/2:Math.sqrt(Math.pow(X-Ae,2)+Math.pow(Xe-Be,2))),Ae=X,Be=Xe}var wt=he.length-3;he[2]=1,Yi(he,0,wt,fe),he[wt+2]=1,he.size=Math.abs(We),he.start=0,he.end=he.size}function er(ke,he,fe,be){for(var Ae=0;Ae<ke.length;Ae++){var Be=[];Pi(ke[Ae],Be,fe,be),he.push(Be)}}function ho(ke){return ke/360+.5}function kn(ke){var he=Math.sin(ke*Math.PI/180),fe=.5-.25*Math.log((1+he)/(1-he))/Math.PI;return fe<0?0:fe>1?1:fe}function Ui(ke,he,fe,be,Ae,Be,We,Ue){if(be/=he,Be>=(fe/=he)&&We<be)return ke;if(We<fe||Be>=be)return null;for(var X=[],Xe=0;Xe<ke.length;Xe++){var wt=ke[Xe],St=wt.geometry,vt=wt.type,ti=0===Ae?wt.minX:wt.minY,ri=0===Ae?wt.maxX:wt.maxY;if(ti>=fe&&ri<be)X.push(wt);else if(!(ri<fe||ti>=be)){var Xt=[];if("Point"===vt||"MultiPoint"===vt)Wr(St,Xt,fe,be,Ae);else if("LineString"===vt)tr(St,Xt,fe,be,Ae,!1,Ue.lineMetrics);else if("MultiLineString"===vt)zi(St,Xt,fe,be,Ae,!1);else if("Polygon"===vt)zi(St,Xt,fe,be,Ae,!0);else if("MultiPolygon"===vt)for(var _t=0;_t<St.length;_t++){var vi=[];zi(St[_t],vi,fe,be,Ae,!0),vi.length&&Xt.push(vi)}if(Xt.length){if(Ue.lineMetrics&&"LineString"===vt){for(_t=0;_t<Xt.length;_t++)X.push(ii(wt.id,vt,Xt[_t],wt.tags));continue}"LineString"!==vt&&"MultiLineString"!==vt||(1===Xt.length?(vt="LineString",Xt=Xt[0]):vt="MultiLineString"),"Point"!==vt&&"MultiPoint"!==vt||(vt=3===Xt.length?"Point":"MultiPoint"),X.push(ii(wt.id,vt,Xt,wt.tags))}}}return X.length?X:null}function Wr(ke,he,fe,be,Ae){for(var Be=0;Be<ke.length;Be+=3){var We=ke[Be+Ae];We>=fe&&We<=be&&(he.push(ke[Be]),he.push(ke[Be+1]),he.push(ke[Be+2]))}}function tr(ke,he,fe,be,Ae,Be,We){for(var Ue,X,Xe=ni(ke),wt=0===Ae?Si:hn,St=ke.start,vt=0;vt<ke.length-3;vt+=3){var ti=ke[vt],ri=ke[vt+1],Xt=ke[vt+2],_t=ke[vt+3],vi=ke[vt+4],pn=0===Ae?ti:ri,ji=0===Ae?_t:vi,Dn=!1;We&&(Ue=Math.sqrt(Math.pow(ti-_t,2)+Math.pow(ri-vi,2))),pn<fe?ji>fe&&(X=wt(Xe,ti,ri,_t,vi,fe),We&&(Xe.start=St+Ue*X)):pn>be?ji<be&&(X=wt(Xe,ti,ri,_t,vi,be),We&&(Xe.start=St+Ue*X)):Fn(Xe,ti,ri,Xt),ji<fe&&pn>=fe&&(X=wt(Xe,ti,ri,_t,vi,fe),Dn=!0),ji>be&&pn<=be&&(X=wt(Xe,ti,ri,_t,vi,be),Dn=!0),!Be&&Dn&&(We&&(Xe.end=St+Ue*X),he.push(Xe),Xe=ni(ke)),We&&(St+=Ue)}var ai=ke.length-3;ti=ke[ai],ri=ke[ai+1],Xt=ke[ai+2],(pn=0===Ae?ti:ri)>=fe&&pn<=be&&Fn(Xe,ti,ri,Xt),ai=Xe.length-3,Be&&ai>=3&&(Xe[ai]!==Xe[0]||Xe[ai+1]!==Xe[1])&&Fn(Xe,Xe[0],Xe[1],Xe[2]),Xe.length&&he.push(Xe)}function ni(ke){var he=[];return he.size=ke.size,he.start=ke.start,he.end=ke.end,he}function zi(ke,he,fe,be,Ae,Be){for(var We=0;We<ke.length;We++)tr(ke[We],he,fe,be,Ae,Be,!1)}function Fn(ke,he,fe,be){ke.push(he),ke.push(fe),ke.push(be)}function Si(ke,he,fe,be,Ae,Be){var We=(Be-he)/(be-he);return ke.push(Be),ke.push(fe+(Ae-fe)*We),ke.push(1),We}function hn(ke,he,fe,be,Ae,Be){var We=(Be-fe)/(Ae-fe);return ke.push(he+(be-he)*We),ke.push(Be),ke.push(1),We}function Hi(ke,he){for(var fe=[],be=0;be<ke.length;be++){var Ae,Be=ke[be],We=Be.type;if("Point"===We||"MultiPoint"===We||"LineString"===We)Ae=yr(Be.geometry,he);else if("MultiLineString"===We||"Polygon"===We){Ae=[];for(var Ue=0;Ue<Be.geometry.length;Ue++)Ae.push(yr(Be.geometry[Ue],he))}else if("MultiPolygon"===We)for(Ae=[],Ue=0;Ue<Be.geometry.length;Ue++){for(var X=[],Xe=0;Xe<Be.geometry[Ue].length;Xe++)X.push(yr(Be.geometry[Ue][Xe],he));Ae.push(X)}fe.push(ii(Be.id,We,Ae,Be.tags))}return fe}function yr(ke,he){var fe=[];fe.size=ke.size,void 0!==ke.start&&(fe.start=ke.start,fe.end=ke.end);for(var be=0;be<ke.length;be+=3)fe.push(ke[be]+he,ke[be+1],ke[be+2]);return fe}function Bi(ke,he){if(ke.transformed)return ke;var fe,be,Ae,Be=1<<ke.z,We=ke.x,Ue=ke.y;for(fe=0;fe<ke.features.length;fe++){var X=ke.features[fe],Xe=X.geometry,wt=X.type;if(X.geometry=[],1===wt)for(be=0;be<Xe.length;be+=2)X.geometry.push(Mi(Xe[be],Xe[be+1],he,Be,We,Ue));else for(be=0;be<Xe.length;be++){var St=[];for(Ae=0;Ae<Xe[be].length;Ae+=2)St.push(Mi(Xe[be][Ae],Xe[be][Ae+1],he,Be,We,Ue));X.geometry.push(St)}}return ke.transformed=!0,ke}function Mi(ke,he,fe,be,Ae,Be){return[Math.round(fe*(ke*be-Ae)),Math.round(fe*(he*be-Be))]}function di(ke,he,fe,be,Ae){for(var Be=he===Ae.maxZoom?0:Ae.tolerance/((1<<he)*Ae.extent),We={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:fe,y:be,z:he,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ue=0;Ue<ke.length;Ue++){We.numFeatures++,cr(We,ke[Ue],Be,Ae);var X=ke[Ue].minX,Xe=ke[Ue].minY,wt=ke[Ue].maxX,St=ke[Ue].maxY;X<We.minX&&(We.minX=X),Xe<We.minY&&(We.minY=Xe),wt>We.maxX&&(We.maxX=wt),St>We.maxY&&(We.maxY=St)}return We}function cr(ke,he,fe,be){var Ae=he.geometry,Be=he.type,We=[];if("Point"===Be||"MultiPoint"===Be)for(var Ue=0;Ue<Ae.length;Ue+=3)We.push(Ae[Ue]),We.push(Ae[Ue+1]),ke.numPoints++,ke.numSimplified++;else if("LineString"===Be)Yn(We,Ae,ke,fe,!1,!1);else if("MultiLineString"===Be||"Polygon"===Be)for(Ue=0;Ue<Ae.length;Ue++)Yn(We,Ae[Ue],ke,fe,"Polygon"===Be,0===Ue);else if("MultiPolygon"===Be)for(var X=0;X<Ae.length;X++){var Xe=Ae[X];for(Ue=0;Ue<Xe.length;Ue++)Yn(We,Xe[Ue],ke,fe,!0,0===Ue)}if(We.length){var wt=he.tags||null;if("LineString"===Be&&be.lineMetrics){for(var St in wt={},he.tags)wt[St]=he.tags[St];wt.mapbox_clip_start=Ae.start/Ae.size,wt.mapbox_clip_end=Ae.end/Ae.size}var vt={geometry:We,type:"Polygon"===Be||"MultiPolygon"===Be?3:"LineString"===Be||"MultiLineString"===Be?2:1,tags:wt};null!==he.id&&(vt.id=he.id),ke.features.push(vt)}}function Yn(ke,he,fe,be,Ae,Be){var We=be*be;if(be>0&&he.size<(Ae?We:be))fe.numPoints+=he.length/3;else{for(var Ue=[],X=0;X<he.length;X+=3)(0===be||he[X+2]>We)&&(fe.numSimplified++,Ue.push(he[X]),Ue.push(he[X+1])),fe.numPoints++;Ae&&function(Xe,wt){for(var St=0,vt=0,ti=Xe.length,ri=ti-2;vt<ti;ri=vt,vt+=2)St+=(Xe[vt]-Xe[ri])*(Xe[vt+1]+Xe[ri+1]);if(St>0===wt)for(vt=0,ti=Xe.length;vt<ti/2;vt+=2){var Xt=Xe[vt],_t=Xe[vt+1];Xe[vt]=Xe[ti-2-vt],Xe[vt+1]=Xe[ti-1-vt],Xe[ti-2-vt]=Xt,Xe[ti-1-vt]=_t}}(Ue,Be),ke.push(Ue)}}function ma(ke,he){var fe=(he=this.options=function(Ae,Be){for(var We in Be)Ae[We]=Be[We];return Ae}(Object.create(this.options),he)).debug;if(fe&&console.time("preprocess data"),he.maxZoom<0||he.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(he.promoteId&&he.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ae,Be,We,Ue,X,Xe,be=function(Ae,Be){var We=[];if("FeatureCollection"===Ae.type)for(var Ue=0;Ue<Ae.features.length;Ue++)Fr(We,Ae.features[Ue],Be,Ue);else Fr(We,"Feature"===Ae.type?Ae:{geometry:Ae},Be);return We}(ke,he);this.tiles={},this.tileCoords=[],fe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",he.indexMaxZoom,he.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ue=Ae=be,X=Ui(Ae,1,-1-(We=(Be=he).buffer/Be.extent),We,0,-1,2,Be),Xe=Ui(Ae,1,1-We,2+We,0,-1,2,Be),(X||Xe)&&(Ue=Ui(Ae,1,-We,1+We,0,-1,2,Be)||[],X&&(Ue=Hi(X,1).concat(Ue)),Xe&&(Ue=Ue.concat(Hi(Xe,-1)))),(be=Ue).length&&this.splitTile(be,0,0,0),fe&&(be.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Gt(ke,he,fe){return 32*((1<<ke)*fe+he)+ke}function ea(ke,he){const fe=ke.tileID.canonical;if(!this._geoJSONIndex)return he(null,null);const be=this._geoJSONIndex.getTile(fe.z,fe.x,fe.y);if(!be)return he(null,null);const Ae=new class{constructor(We){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=We.length,this._features=We}feature(We){return new class{constructor(Ue){this._feature=Ue,this.extent=t.EXTENT,this.type=Ue.type,this.properties=Ue.tags,"id"in Ue&&!isNaN(Ue.id)&&(this.id=parseInt(Ue.id,10))}loadGeometry(){if(1===this._feature.type){const Ue=[];for(const X of this._feature.geometry)Ue.push([new t.Point(X[0],X[1])]);return Ue}{const Ue=[];for(const X of this._feature.geometry){const Xe=[];for(const wt of X)Xe.push(new t.Point(wt[0],wt[1]));Ue.push(Xe)}return Ue}}toGeoJSON(Ue,X,Xe){return Te.call(this,Ue,X,Xe)}}(this._features[We])}}(be.features);let Be=mi(Ae);0===Be.byteOffset&&Be.byteLength===Be.buffer.byteLength||(Be=new Uint8Array(Be)),he(null,{vectorTile:Ae,rawData:Be.buffer})}ma.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ma.prototype.splitTile=function(ke,he,fe,be,Ae,Be,We){for(var Ue=[ke,he,fe,be],X=this.options,Xe=X.debug;Ue.length;){be=Ue.pop(),fe=Ue.pop(),he=Ue.pop(),ke=Ue.pop();var wt=1<<he,St=Gt(he,fe,be),vt=this.tiles[St];if(!vt&&(Xe>1&&console.time("creation"),vt=this.tiles[St]=di(ke,he,fe,be,X),this.tileCoords.push({z:he,x:fe,y:be}),Xe)){Xe>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",he,fe,be,vt.numFeatures,vt.numPoints,vt.numSimplified),console.timeEnd("creation"));var ti="z"+he;this.stats[ti]=(this.stats[ti]||0)+1,this.total++}if(vt.source=ke,Ae){if(he===X.maxZoom||he===Ae)continue;var ri=1<<Ae-he;if(fe!==Math.floor(Be/ri)||be!==Math.floor(We/ri))continue}else if(he===X.indexMaxZoom||vt.numPoints<=X.indexMaxPoints)continue;if(vt.source=null,0!==ke.length){Xe>1&&console.time("clipping");var Xt,_t,vi,pn,ji,Dn,ai=.5*X.buffer/X.extent,Ti=.5-ai,Zn=.5+ai,qi=1+ai;Xt=_t=vi=pn=null,ji=Ui(ke,wt,fe-ai,fe+Zn,0,vt.minX,vt.maxX,X),Dn=Ui(ke,wt,fe+Ti,fe+qi,0,vt.minX,vt.maxX,X),ke=null,ji&&(Xt=Ui(ji,wt,be-ai,be+Zn,1,vt.minY,vt.maxY,X),_t=Ui(ji,wt,be+Ti,be+qi,1,vt.minY,vt.maxY,X),ji=null),Dn&&(vi=Ui(Dn,wt,be-ai,be+Zn,1,vt.minY,vt.maxY,X),pn=Ui(Dn,wt,be+Ti,be+qi,1,vt.minY,vt.maxY,X),Dn=null),Xe>1&&console.timeEnd("clipping"),Ue.push(Xt||[],he+1,2*fe,2*be),Ue.push(_t||[],he+1,2*fe,2*be+1),Ue.push(vi||[],he+1,2*fe+1,2*be),Ue.push(pn||[],he+1,2*fe+1,2*be+1)}}},ma.prototype.getTile=function(ke,he,fe){var be=this.options,Ae=be.extent,Be=be.debug;if(ke<0||ke>24)return null;var We=1<<ke,Ue=Gt(ke,he=(he%We+We)%We,fe);if(this.tiles[Ue])return Bi(this.tiles[Ue],Ae);Be>1&&console.log("drilling down to z%d-%d-%d",ke,he,fe);for(var X,Xe=ke,wt=he,St=fe;!X&&Xe>0;)Xe--,wt=Math.floor(wt/2),St=Math.floor(St/2),X=this.tiles[Gt(Xe,wt,St)];return X&&X.source?(Be>1&&console.log("found parent tile z%d-%d-%d",Xe,wt,St),Be>1&&console.time("drilling down"),this.splitTile(X.source,Xe,wt,St,ke,he,fe),Be>1&&console.timeEnd("drilling down"),this.tiles[Ue]?Bi(this.tiles[Ue],Ae):null):null};class vr extends t.VectorTileWorkerSource{constructor(he,fe,be,Ae,Be){super(he,fe,be,Ae,ea),Be&&(this.loadGeoJSON=Be)}loadData(he,fe){const be=he&&he.request,Ae=be&&be.collectResourceTiming;this.loadGeoJSON(he,(Be,We)=>{if(Be||!We)return fe(Be);if("object"!=typeof We)return fe(new Error(`Input data given to '${he.source}' is not a valid GeoJSON object.`));{pt(We,!0);try{if(he.filter){const X=t.createExpression(he.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===X.result)throw new Error(X.value.map(wt=>`${wt.key}: ${wt.message}`).join(", "));const Xe=We.features.filter(wt=>X.value.evaluate({zoom:0},wt));We={type:"FeatureCollection",features:Xe}}this._geoJSONIndex=he.cluster?new Li(function({superclusterOptions:X,clusterProperties:Xe}){if(!Xe||!X)return X;const wt={},St={},vt={accumulated:null,zoom:0},ti={properties:null},ri=Object.keys(Xe);for(const Xt of ri){const[_t,vi]=Xe[Xt],pn=t.createExpression(vi),ji=t.createExpression("string"==typeof _t?[_t,["accumulated"],["get",Xt]]:_t);wt[Xt]=pn.value,St[Xt]=ji.value}return X.map=Xt=>{ti.properties=Xt;const _t={};for(const vi of ri)_t[vi]=wt[vi].evaluate(vt,ti);return _t},X.reduce=(Xt,_t)=>{ti.properties=_t;for(const vi of ri)vt.accumulated=Xt[vi],Xt[vi]=St[vi].evaluate(vt,ti)},X}(he)).load(We.features):new ma(X=We,he.geojsonVtOptions)}catch(X){return fe(X)}this.loaded={};const Ue={};if(Ae){const X=t.getPerformanceMeasurement(be);X&&(Ue.resourceTiming={},Ue.resourceTiming[he.source]=JSON.parse(JSON.stringify(X)))}fe(null,Ue)}var X})}reloadTile(he,fe){const be=this.loaded;return be&&be[he.uid]?super.reloadTile(he,fe):this.loadTile(he,fe)}loadGeoJSON(he,fe){if(he.request)t.getJSON(he.request,fe);else{if("string"!=typeof he.data)return fe(new Error(`Input data given to '${he.source}' is not a valid GeoJSON object.`));try{return fe(null,JSON.parse(he.data))}catch(be){return fe(new Error(`Input data given to '${he.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(he,fe){try{fe(null,this._geoJSONIndex.getClusterExpansionZoom(he.clusterId))}catch(be){fe(be)}}getClusterChildren(he,fe){try{fe(null,this._geoJSONIndex.getChildren(he.clusterId))}catch(be){fe(be)}}getClusterLeaves(he,fe){try{fe(null,this._geoJSONIndex.getLeaves(he.clusterId,he.limit,he.offset))}catch(be){fe(be)}}}class ur{constructor(he){this.self=he,this.actor=new t.Actor(he,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=t.getProjection({name:"mercator"}),this.workerSourceTypes={vector:t.VectorTileWorkerSource,geojson:vr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(fe,be)=>{if(this.workerSourceTypes[fe])throw new Error(`Worker source with name "${fe}" already registered.`);this.workerSourceTypes[fe]=be},this.self.registerRTLTextPlugin=fe=>{if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=fe.applyArabicShaping,t.plugin.processBidirectionalText=fe.processBidirectionalText,t.plugin.processStyledBidirectionalText=fe.processStyledBidirectionalText}}clearCaches(he,fe,be){delete this.layerIndexes[he],delete this.availableImages[he],delete this.workerSources[he],delete this.demWorkerSources[he],be()}checkIfReady(he,fe,be){be()}setReferrer(he,fe){this.referrer=fe}spriteLoaded(he,fe){this.isSpriteLoaded[he]=fe;for(const be in this.workerSources[he]){const Ae=this.workerSources[he][be];for(const Be in Ae)Ae[Be]instanceof t.VectorTileWorkerSource&&(Ae[Be].isSpriteLoaded=fe,Ae[Be].fire(new t.Event("isSpriteLoaded")))}}setImages(he,fe,be){this.availableImages[he]=fe;for(const Ae in this.workerSources[he]){const Be=this.workerSources[he][Ae];for(const We in Be)Be[We].availableImages=fe}be()}enableTerrain(he,fe,be){this.terrain=fe,be()}setProjection(he,fe){this.projections[he]=t.getProjection(fe)}setLayers(he,fe,be){this.getLayerIndex(he).replace(fe),be()}updateLayers(he,fe,be){this.getLayerIndex(he).update(fe.layers,fe.removedIds),be()}loadTile(he,fe,be){const Ae=this.enableTerrain?t.extend({enableTerrain:this.terrain},fe):fe;Ae.projection=this.projections[he]||this.defaultProjection,this.getWorkerSource(he,fe.type,fe.source).loadTile(Ae,be)}loadDEMTile(he,fe,be){const Ae=this.enableTerrain?t.extend({buildQuadTree:this.terrain},fe):fe;this.getDEMWorkerSource(he,fe.source).loadTile(Ae,be)}reloadTile(he,fe,be){const Ae=this.enableTerrain?t.extend({enableTerrain:this.terrain},fe):fe;Ae.projection=this.projections[he]||this.defaultProjection,this.getWorkerSource(he,fe.type,fe.source).reloadTile(Ae,be)}abortTile(he,fe,be){this.getWorkerSource(he,fe.type,fe.source).abortTile(fe,be)}removeTile(he,fe,be){this.getWorkerSource(he,fe.type,fe.source).removeTile(fe,be)}removeSource(he,fe,be){if(!this.workerSources[he]||!this.workerSources[he][fe.type]||!this.workerSources[he][fe.type][fe.source])return;const Ae=this.workerSources[he][fe.type][fe.source];delete this.workerSources[he][fe.type][fe.source],void 0!==Ae.removeSource?Ae.removeSource(fe,be):be()}loadWorkerSource(he,fe,be){try{this.self.importScripts(fe.url),be()}catch(Ae){be(Ae.toString())}}syncRTLPluginState(he,fe,be){try{t.plugin.setState(fe);const Ae=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&null!=Ae){this.self.importScripts(Ae);const Be=t.plugin.isParsed();be(Be?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Ae}`),Be)}}catch(Ae){be(Ae.toString())}}getAvailableImages(he){let fe=this.availableImages[he];return fe||(fe=[]),fe}getLayerIndex(he){let fe=this.layerIndexes[he];return fe||(fe=this.layerIndexes[he]=new Q),fe}getWorkerSource(he,fe,be){return this.workerSources[he]||(this.workerSources[he]={}),this.workerSources[he][fe]||(this.workerSources[he][fe]={}),this.workerSources[he][fe][be]||(this.workerSources[he][fe][be]=new this.workerSourceTypes[fe]({send:(Be,We,Ue,X,Xe,wt)=>{this.actor.send(Be,We,Ue,he,Xe,wt)},scheduler:this.actor.scheduler},this.getLayerIndex(he),this.getAvailableImages(he),this.isSpriteLoaded[he])),this.workerSources[he][fe][be]}getDEMWorkerSource(he,fe){return this.demWorkerSources[he]||(this.demWorkerSources[he]={}),this.demWorkerSources[he][fe]||(this.demWorkerSources[he][fe]=new oe),this.demWorkerSources[he][fe]}enforceCacheSizeLimit(he,fe){t.enforceCacheSizeLimit(fe)}getWorkerPerformanceMetrics(he,fe,be){be(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new ur(self)),ur}),A(0,function(t){function P(h,r){if(Array.isArray(h)){if(!Array.isArray(r)||h.length!==r.length)return!1;for(let c=0;c<h.length;c++)if(!P(h[c],r[c]))return!1;return!0}if("object"==typeof h&&null!==h&&null!==r){if("object"!=typeof r||Object.keys(h).length!==Object.keys(r).length)return!1;for(const c in h)if(!P(h[c],r[c]))return!1;return!0}return h===r}var J=Q;function Q(h){return r=h,!("undefined"==typeof window||"undefined"==typeof document||!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)||!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)||!("JSON"in window&&"parse"in JSON&&"stringify"in JSON)||!function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var _,x,T=new Blob([""],{type:"text/javascript"}),I=URL.createObjectURL(T);try{x=new Worker(I),_=!0}catch(R){_=!1}return x&&x.terminate(),URL.revokeObjectURL(I),_}()||!("Uint8ClampedArray"in window)||!ArrayBuffer.isView||!function(){var _=document.createElement("canvas");_.width=_.height=1;var x=_.getContext("2d");if(!x)return!1;var T=x.getImageData(0,0,1,1);return T&&T.width===_.width}()||(void 0===oe[c=r&&r.failIfMajorPerformanceCaveat]&&(oe[c]=function(_){var x,I,R,H,T=(I=_,R=document.createElement("canvas"),(H=Object.create(Q.webGLContextAttributes)).failIfMajorPerformanceCaveat=I,R.getContext("webgl",H)||R.getContext("experimental-webgl",H));if(!T)return!1;try{x=T.createShader(T.VERTEX_SHADER)}catch(I){return!1}return!(!x||T.isContextLost())&&(T.shaderSource(x,"void main() {}"),T.compileShader(x),!0===T.getShaderParameter(x,T.COMPILE_STATUS))}(c)),!oe[c]||document.documentMode));var r,c}var oe={};function ye(h,r,c){const _=t.window.document.createElement(h);return void 0!==r&&(_.className=r),c&&c.appendChild(_),_}function Fe(h,r,c){const _=t.window.document.createElementNS("http://www.w3.org/2000/svg",h);for(const x of Object.keys(r))_.setAttributeNS(null,x,r[x]);return c&&c.appendChild(_),_}Q.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const pt=t.window.document&&t.window.document.documentElement.style,Te=pt&&void 0!==pt.userSelect?"userSelect":"WebkitUserSelect";let gt;function Mt(){pt&&Te&&(gt=pt[Te],pt[Te]="none")}function qe(){pt&&Te&&(pt[Te]=gt)}function Me(h){h.preventDefault(),h.stopPropagation(),t.window.removeEventListener("click",Me,!0)}function Je(){t.window.addEventListener("click",Me,!0),t.window.setTimeout(()=>{t.window.removeEventListener("click",Me,!0)},0)}function yt(h,r){const c=h.getBoundingClientRect();return ut(h,c,r)}function Ke(h,r){const c=h.getBoundingClientRect(),_=[];for(let x=0;x<r.length;x++)_.push(ut(h,c,r[x]));return _}function Ve(h){return void 0!==t.window.InstallTrigger&&2===h.button&&h.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:h.button}function ut(h,r,c){const _=h.offsetWidth===r.width?1:h.offsetWidth/r.width;return new t.Point((c.clientX-r.left)*_,(c.clientY-r.top)*_)}function He(h,r){var c=r[0],_=r[1],x=r[2],T=r[3],I=c*T-x*_;return I?(h[0]=T*(I=1/I),h[1]=-_*I,h[2]=-x*I,h[3]=c*I,h):null}function bt(h){const{userImage:r}=h;return!!(r&&r.render&&r.render())&&(h.data.replace(new Uint8Array(r.data.buffer)),!0)}class Yt extends t.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(r){if(this.loaded!==r&&(this.loaded=r,r)){for(const{ids:c,callback:_}of this.requestors)this._notify(c,_);this.requestors=[]}}hasImage(r){return!!this.getImage(r)}getImage(r){return this.images[r]}addImage(r,c){this._validate(r,c)&&(this.images[r]=c)}_validate(r,c){let _=!0;return this._validateStretch(c.stretchX,c.data&&c.data.width)||(this.fire(new t.ErrorEvent(new Error(`Image "${r}" has invalid "stretchX" value`))),_=!1),this._validateStretch(c.stretchY,c.data&&c.data.height)||(this.fire(new t.ErrorEvent(new Error(`Image "${r}" has invalid "stretchY" value`))),_=!1),this._validateContent(c.content,c)||(this.fire(new t.ErrorEvent(new Error(`Image "${r}" has invalid "content" value`))),_=!1),_}_validateStretch(r,c){if(!r)return!0;let _=0;for(const x of r){if(x[0]<_||x[1]<x[0]||c<x[1])return!1;_=x[1]}return!0}_validateContent(r,c){return!(r&&(4!==r.length||r[0]<0||c.data.width<r[0]||r[1]<0||c.data.height<r[1]||r[2]<0||c.data.width<r[2]||r[3]<0||c.data.height<r[3]||r[2]<r[0]||r[3]<r[1]))}updateImage(r,c){c.version=this.images[r].version+1,this.images[r]=c,this.updatedImages[r]=!0}removeImage(r){const c=this.images[r];delete this.images[r],delete this.patterns[r],c.userImage&&c.userImage.onRemove&&c.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(r,c){let _=!0;if(!this.isLoaded())for(const x of r)this.images[x]||(_=!1);this.isLoaded()||_?this._notify(r,c):this.requestors.push({ids:r,callback:c})}_notify(r,c){const _={};for(const x of r){this.images[x]||this.fire(new t.Event("styleimagemissing",{id:x}));const T=this.images[x];T?_[x]={data:T.data.clone(),pixelRatio:T.pixelRatio,sdf:T.sdf,version:T.version,stretchX:T.stretchX,stretchY:T.stretchY,content:T.content,hasRenderCallback:Boolean(T.userImage&&T.userImage.render)}:t.warnOnce(`Image "${x}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}c(null,_)}getPixelSize(){const{width:r,height:c}=this.atlasImage;return{width:r,height:c}}getPattern(r){const c=this.patterns[r],_=this.getImage(r);if(!_)return null;if(c&&c.position.version===_.version)return c.position;if(c)c.position.version=_.version;else{const x={w:_.data.width+2,h:_.data.height+2,x:0,y:0},T=new t.ImagePosition(x,_);this.patterns[r]={bin:x,position:T}}return this._updatePatternAtlas(),this.patterns[r].position}bind(r){const c=r.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(r,this.atlasImage,c.RGBA),this.atlasTexture&&this.atlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE)}_updatePatternAtlas(){const r=[];for(const T in this.patterns)r.push(this.patterns[T].bin);const{w:c,h:_}=t.potpack(r),x=this.atlasImage;x.resize({width:c||1,height:_||1});for(const T in this.patterns){const{bin:I}=this.patterns[T],R=I.x+1,H=I.y+1,$=this.images[T].data,q=$.width,ae=$.height;t.RGBAImage.copy($,x,{x:0,y:0},{x:R,y:H},{width:q,height:ae}),t.RGBAImage.copy($,x,{x:0,y:ae-1},{x:R,y:H-1},{width:q,height:1}),t.RGBAImage.copy($,x,{x:0,y:0},{x:R,y:H+ae},{width:q,height:1}),t.RGBAImage.copy($,x,{x:q-1,y:0},{x:R-1,y:H},{width:1,height:ae}),t.RGBAImage.copy($,x,{x:0,y:0},{x:R+q,y:H},{width:1,height:ae})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(r){for(const c of r){if(this.callbackDispatchedThisFrame[c])continue;this.callbackDispatchedThisFrame[c]=!0;const _=this.images[c];bt(_)&&this.updateImage(c,_)}}}const kt=new t.Properties({anchor:new t.DataConstantProperty(t.spec.light.anchor),position:new class{constructor(){this.specification=t.spec.light.position}possiblyEvaluate(h,r){return function([c,_,x]){const T=t.degToRad(_+90),I=t.degToRad(x);return{x:c*Math.cos(T)*Math.sin(I),y:c*Math.sin(T)*Math.sin(I),z:c*Math.cos(I),azimuthal:_,polar:x}}(h.expression.evaluate(r))}interpolate(h,r,c){return{x:t.number(h.x,r.x,c),y:t.number(h.y,r.y,c),z:t.number(h.z,r.z,c),azimuthal:t.number(h.azimuthal,r.azimuthal,c),polar:t.number(h.polar,r.polar,c)}}},color:new t.DataConstantProperty(t.spec.light.color),intensity:new t.DataConstantProperty(t.spec.light.intensity)});class Wt extends t.Evented{constructor(r){super(),this._transitionable=new t.Transitionable(kt),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(r,c={}){if(!this._validate(t.validateLight,r,c))for(const _ in r){const x=r[_];t.endsWith(_,"-transition")?this._transitionable.setTransition(_.slice(0,-11),x):this._transitionable.setValue(_,x)}}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,c,_){return(!_||!1!==_.validate)&&t.emitValidationErrors(this,r.call(t.validateStyle,t.extend({value:c,style:{glyphs:!0,sprite:!0},styleSpec:t.spec})))}}const en=new t.Properties({source:new t.DataConstantProperty(t.spec.terrain.source),exaggeration:new t.DataConstantProperty(t.spec.terrain.exaggeration)});let wi=class extends t.Evented{constructor(h,r){super(),this._transitionable=new t.Transitionable(en),this.set(h),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=r}get(){return this._transitionable.serialize()}set(h){for(const r in h){const c=h[r];t.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-11),c):this._transitionable.setValue(r,c)}}updateTransitions(h){this._transitioning=this._transitionable.transitioned(h,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(h){this.properties=this._transitioning.possiblyEvaluate(h)}};function mi(h,r,c,_){const x=t.smoothstep(45,65,c),[T,I]=gr(h,_),R=t.length(r);let H=1-Math.min(1,Math.exp((R-T)/(I-T)*-6));return H*=H*H,H=Math.min(1,1.00747*H),H*x*h.alpha}function gr(h,r){const c=.5/Math.tan(.5*r);return[h.range[0]+c,h.range[1]+c]}const ei=new t.Properties({range:new t.DataConstantProperty(t.spec.fog.range),color:new t.DataConstantProperty(t.spec.fog.color),"high-color":new t.DataConstantProperty(t.spec.fog["high-color"]),"space-color":new t.DataConstantProperty(t.spec.fog["space-color"]),"horizon-blend":new t.DataConstantProperty(t.spec.fog["horizon-blend"]),"star-intensity":new t.DataConstantProperty(t.spec.fog["star-intensity"])});class Mn extends t.Evented{constructor(r,c){super(),this._transitionable=new t.Transitionable(ei),this.set(r),this._transitioning=this._transitionable.untransitioned(),this._transform=c}get state(){const r=this._transform,c="globe"===r.projection.name,_=t.globeToMercatorTransition(r.zoom),x=this.properties.get("range"),T=[.5,3];return{range:c?[t.number(T[0],x[0],_),t.number(T[1],x[1],_)]:x,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(r,c={}){if(!this._validate(t.validateFog,r,c)){for(const _ of Object.keys(t.spec.fog))r&&void 0===r[_]&&(r[_]=t.spec.fog[_].default);for(const _ in r){const x=r[_];t.endsWith(_,"-transition")?this._transitionable.setTransition(_.slice(0,-11),x):this._transitionable.setValue(_,x)}}}getOpacity(r){if(!this._transform.projection.supportsFog)return 0;const c=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:t.smoothstep(45,65,r))*c.a}getOpacityAtLatLng(r,c){return this._transform.projection.supportsFog?function(_,x,T){const I=t.MercatorCoordinate.fromLngLat(x),R=T.elevation?T.elevation.getAtPointOrZero(I):0,H=[I.x,I.y,R];return t.transformMat4(H,H,T.mercatorFogMatrix),mi(_,H,T.pitch,T._fov)}(this.state,r,c):0}getFovAdjustedRange(r){return this._transform.projection.supportsFog?gr(this.state,r):[0,1]}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,c,_){return(!_||!1!==_.validate)&&t.emitValidationErrors(this,r.call(t.validateStyle,t.extend({value:c,style:{glyphs:!0,sprite:!0},styleSpec:t.spec})))}}class on{constructor(r,c){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=t.uniqueId();const _=this.workerPool.acquire(this.id);for(let x=0;x<_.length;x++){const T=new on.Actor(_[x],c,this.id);T.name=`Worker ${x}`,this.actors.push(T)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(r,c,_){t.asyncAll(this.actors,(x,T)=>{x.send(r,c,T)},_=_||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(r=>{r.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Tn(h,r,c){return r*(t.EXTENT/(h.tileSize*Math.pow(2,c-h.tileID.overscaledZ)))}on.Actor=t.Actor;class On{constructor(r,c,_,x){this.screenBounds=r,this.cameraPoint=c,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=_,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,x)}static createFromScreenPoints(r,c){let _,x;if(r instanceof t.Point||"number"==typeof r[0]){const T=t.Point.convert(r);_=[T],x=c.isPointAboveHorizon(T)}else{const T=t.Point.convert(r[0]),I=t.Point.convert(r[1]);_=[T,I],x=t.polygonizeBounds(T,I).every(R=>c.isPointAboveHorizon(R))}return new On(_,c.getCameraPoint(),x,c)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(r){return t.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],r)}bufferedCameraGeometry(r){const c=this.screenBounds[0],_=1===this.screenBounds.length?this.screenBounds[0].add(new t.Point(1,1)):this.screenBounds[1],x=t.polygonizeBounds(c,_,0,!1);return this.cameraPoint.y>_.y&&(this.cameraPoint.x>c.x&&this.cameraPoint.x<_.x?x.splice(3,0,this.cameraPoint):this.cameraPoint.x>=_.x?x[2]=this.cameraPoint:this.cameraPoint.x<=c.x&&(x[3]=this.cameraPoint)),t.bufferConvexPolygon(x,r)}bufferedCameraGeometryGlobe(r){const c=this.screenBounds[0],_=1===this.screenBounds.length?this.screenBounds[0].add(new t.Point(1,1)):this.screenBounds[1],x=t.polygonizeBounds(c,_,r),T=this.cameraPoint.clone();switch(3*((T.y>c.y)+(T.y>_.y))+((T.x>c.x)+(T.x>_.x))){case 0:x[0]=T,x[4]=T.clone();break;case 1:x.splice(1,0,T);break;case 2:x[1]=T;break;case 3:x.splice(4,0,T);break;case 5:x.splice(2,0,T);break;case 6:x[3]=T;break;case 7:x.splice(3,0,T);break;case 8:x[2]=T}return x}containsTile(r,c,_,x=0){const T=r.queryPadding/c._pixelsPerMercatorPixel+1,I=_?this._bufferedCameraMercator(T,c):this._bufferedScreenMercator(T,c);let R=r.tileID.wrap+(I.unwrapped?x:0);const H=I.polygon.map(b=>t.getTilePoint(r.tileTransform,b,R));if(!t.polygonIntersectsBox(H,0,0,t.EXTENT,t.EXTENT))return;R=r.tileID.wrap+(this.screenGeometryMercator.unwrapped?x:0);const $=this.screenGeometryMercator.polygon.map(b=>t.getTileVec3(r.tileTransform,b,R)),q=$.map(b=>new t.Point(b[0],b[1])),ae=c.getFreeCameraOptions().position||new t.MercatorCoordinate(0,0,0),a=t.getTileVec3(r.tileTransform,ae,R),l=$.map(b=>{const w=t.sub(b,b,a);return t.normalize(w,w),new t.Ray(a,w)}),d=Tn(r,1,c.zoom)*c._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:q,tilespaceRays:l,bufferedTilespaceGeometry:H,bufferedTilespaceBounds:(p=t.getBounds(H),p.min.x=t.clamp(p.min.x,0,t.EXTENT),p.min.y=t.clamp(p.min.y,0,t.EXTENT),p.max.x=t.clamp(p.max.x,0,t.EXTENT),p.max.y=t.clamp(p.max.y,0,t.EXTENT),p),tile:r,tileID:r.tileID,pixelToTileUnitsFactor:d};var p}_bufferedScreenMercator(r,c){const _=jn(r);if(this._screenRaycastCache[_])return this._screenRaycastCache[_];{let x;return x="globe"===c.projection.name?this._projectAndResample(this.bufferedScreenGeometry(r),c):{polygon:this.bufferedScreenGeometry(r).map(T=>c.pointCoordinate3D(T)),unwrapped:!0},this._screenRaycastCache[_]=x,x}}_bufferedCameraMercator(r,c){const _=jn(r);if(this._cameraRaycastCache[_])return this._cameraRaycastCache[_];{let x;return x="globe"===c.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(r),c):{polygon:this.bufferedCameraGeometry(r).map(T=>c.pointCoordinate3D(T)),unwrapped:!0},this._cameraRaycastCache[_]=x,x}}_projectAndResample(r,c){const _=function(T,I){const R=t.multiply([],I.pixelMatrix,I.globeMatrix),H=[0,-t.GLOBE_RADIUS,0,1],$=[0,t.GLOBE_RADIUS,0,1],q=[0,0,0,1];t.transformMat4$1(H,H,R),t.transformMat4$1($,$,R),t.transformMat4$1(q,q,R);const ae=new t.Point(H[0]/H[3],H[1]/H[3]),a=new t.Point($[0]/$[3],$[1]/$[3]),l=t.polygonContainsPoint(T,ae)&&H[3]<q[3],d=t.polygonContainsPoint(T,a)&&$[3]<q[3];if(!l&&!d)return null;const p=function(W,ie,ce){for(let pe=1;pe<W.length;pe++){const ve=fn(ie.pointCoordinate3D(W[pe-1]).x),ge=fn(ie.pointCoordinate3D(W[pe]).x);if(ce<0){if(ve<ge)return{idx:pe,t:-ve/(ge-1-ve)}}else if(ge<ve)return{idx:pe,t:(1-ve)/(ge+1-ve)}}return null}(T,I,l?-1:1);if(!p)return null;const{idx:b,t:w}=p;let D=b>1?Li(T.slice(0,b),I):[],O=b<T.length?Li(T.slice(b),I):[];D=D.map(W=>new t.Point(fn(W.x),W.y)),O=O.map(W=>new t.Point(fn(W.x),W.y));const C=[...D];0===C.length&&C.push(O[O.length-1]);const z=t.number(C[C.length-1].y,(0===O.length?D[0]:O[0]).y,w);let U;return U=l?[new t.Point(0,z),new t.Point(0,0),new t.Point(1,0),new t.Point(1,z)]:[new t.Point(1,z),new t.Point(1,1),new t.Point(0,1),new t.Point(0,z)],C.push(...U),0===O.length?C.push(D[0]):C.push(...O),{polygon:C.map(W=>new t.MercatorCoordinate(W.x,W.y)),unwrapped:!1}}(r,c);if(_)return _;const x=function(T,I){let R=!1,H=-1/0,$=0;for(let ae=0;ae<T.length-1;ae++)T[ae].x>H&&(H=T[ae].x,$=ae);for(let ae=0;ae<T.length-1;ae++){const a=($+ae)%(T.length-1),l=T[a],d=T[a+1];Math.abs(l.x-d.x)>.5&&(l.x<d.x?(l.x+=1,0===a&&(T[T.length-1].x+=1)):(d.x+=1,a+1===T.length-1&&(T[0].x+=1)),R=!0)}const q=t.mercatorXfromLng(I.center.lng);return R&&q<Math.abs(q-1)&&T.forEach(ae=>{ae.x-=1}),{polygon:T,unwrapped:R}}(Li(r,c).map(T=>new t.Point(fn(T.x),T.y)),c);return{polygon:x.polygon.map(T=>new t.MercatorCoordinate(T.x,T.y)),unwrapped:x.unwrapped}}}function Li(h,r){return t.resample(h,c=>{const _=r.pointCoordinate3D(c);c.x=_.x,c.y=_.y},1/256)}function fn(h){return h<0?1+h%1:h%1}function jn(h){return 100*h|0}function Rn(h,r,c,_,x){const T=function(I,R){if(I)return x(I);if(R){h.url&&R.tiles&&h.tiles&&delete h.tiles;const H=t.pick(t.extend(R,h),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);R.vector_layers&&(H.vectorLayers=R.vector_layers,H.vectorLayerIds=H.vectorLayers.map($=>$.id)),H.tiles=r.canonicalizeTileset(H,h.url),x(null,H)}};return h.url?t.getJSON(r.transformRequest(r.normalizeSourceURL(h.url,null,c,_),t.ResourceType.Source),T):t.exported.frame(()=>T(null,h))}class Ut{constructor(r,c,_){this.bounds=t.LngLatBounds.convert(this.validateBounds(r)),this.minzoom=c||0,this.maxzoom=_||24}validateBounds(r){return Array.isArray(r)&&4===r.length?[Math.max(-180,r[0]),Math.max(-90,r[1]),Math.min(180,r[2]),Math.min(90,r[3])]:[-180,-90,180,90]}contains(r){const c=Math.pow(2,r.z),_=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*c),x=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*c),T=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*c),I=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*c);return r.x>=_&&r.x<T&&r.y>=x&&r.y<I}}class Er{constructor(r,c,_){this.context=r;const x=r.gl;this.buffer=x.createBuffer(),this.dynamicDraw=Boolean(_),this.context.unbindVAO(),r.bindElementBuffer.set(this.buffer),x.bufferData(x.ELEMENT_ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||c.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(r){const c=this.context.gl;this.context.unbindVAO(),this.bind(),c.bufferSubData(c.ELEMENT_ARRAY_BUFFER,0,r.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Yi={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Wn{constructor(r,c,_,x){this.length=c.length,this.attributes=_,this.itemSize=c.bytesPerElement,this.dynamicDraw=x,this.context=r;const T=r.gl;this.buffer=T.createBuffer(),r.bindVertexBuffer.set(this.buffer),T.bufferData(T.ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?T.DYNAMIC_DRAW:T.STATIC_DRAW),this.dynamicDraw||c.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(r){const c=this.context.gl;this.bind(),c.bufferSubData(c.ARRAY_BUFFER,0,r.arrayBuffer)}enableAttributes(r,c){for(let _=0;_<this.attributes.length;_++){const x=c.attributes[this.attributes[_].name];void 0!==x&&r.enableVertexAttribArray(x)}}setVertexAttribPointers(r,c,_){for(let x=0;x<this.attributes.length;x++){const T=this.attributes[x],I=c.attributes[T.name];void 0!==I&&r.vertexAttribPointer(I,T.components,r[Yi[T.type]],!1,this.itemSize,T.offset+this.itemSize*(_||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class ii{constructor(r){this.gl=r.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(r){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ur extends ii{getDefault(){return t.Color.transparent}set(r){const c=this.current;(r.r!==c.r||r.g!==c.g||r.b!==c.b||r.a!==c.a||this.dirty)&&(this.gl.clearColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class Fr extends ii{getDefault(){return 1}set(r){(r!==this.current||this.dirty)&&(this.gl.clearDepth(r),this.current=r,this.dirty=!1)}}class Ss extends ii{getDefault(){return 0}set(r){(r!==this.current||this.dirty)&&(this.gl.clearStencil(r),this.current=r,this.dirty=!1)}}class Pi extends ii{getDefault(){return[!0,!0,!0,!0]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||r[2]!==c[2]||r[3]!==c[3]||this.dirty)&&(this.gl.colorMask(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class er extends ii{getDefault(){return!0}set(r){(r!==this.current||this.dirty)&&(this.gl.depthMask(r),this.current=r,this.dirty=!1)}}class ho extends ii{getDefault(){return 255}set(r){(r!==this.current||this.dirty)&&(this.gl.stencilMask(r),this.current=r,this.dirty=!1)}}class kn extends ii{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(r){const c=this.current;(r.func!==c.func||r.ref!==c.ref||r.mask!==c.mask||this.dirty)&&(this.gl.stencilFunc(r.func,r.ref,r.mask),this.current=r,this.dirty=!1)}}class Ui extends ii{getDefault(){const r=this.gl;return[r.KEEP,r.KEEP,r.KEEP]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||r[2]!==c[2]||this.dirty)&&(this.gl.stencilOp(r[0],r[1],r[2]),this.current=r,this.dirty=!1)}}class Wr extends ii{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.STENCIL_TEST):c.disable(c.STENCIL_TEST),this.current=r,this.dirty=!1}}class tr extends ii{getDefault(){return[0,1]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||this.dirty)&&(this.gl.depthRange(r[0],r[1]),this.current=r,this.dirty=!1)}}class ni extends ii{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.DEPTH_TEST):c.disable(c.DEPTH_TEST),this.current=r,this.dirty=!1}}class zi extends ii{getDefault(){return this.gl.LESS}set(r){(r!==this.current||this.dirty)&&(this.gl.depthFunc(r),this.current=r,this.dirty=!1)}}class Fn extends ii{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.BLEND):c.disable(c.BLEND),this.current=r,this.dirty=!1}}class Si extends ii{getDefault(){const r=this.gl;return[r.ONE,r.ZERO]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||this.dirty)&&(this.gl.blendFunc(r[0],r[1]),this.current=r,this.dirty=!1)}}class hn extends ii{getDefault(){return t.Color.transparent}set(r){const c=this.current;(r.r!==c.r||r.g!==c.g||r.b!==c.b||r.a!==c.a||this.dirty)&&(this.gl.blendColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class Hi extends ii{getDefault(){return this.gl.FUNC_ADD}set(r){(r!==this.current||this.dirty)&&(this.gl.blendEquation(r),this.current=r,this.dirty=!1)}}class yr extends ii{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.CULL_FACE):c.disable(c.CULL_FACE),this.current=r,this.dirty=!1}}class Bi extends ii{getDefault(){return this.gl.BACK}set(r){(r!==this.current||this.dirty)&&(this.gl.cullFace(r),this.current=r,this.dirty=!1)}}class Mi extends ii{getDefault(){return this.gl.CCW}set(r){(r!==this.current||this.dirty)&&(this.gl.frontFace(r),this.current=r,this.dirty=!1)}}let di,cr=class extends ii{getDefault(){return null}set(h){(h!==this.current||this.dirty)&&(this.gl.useProgram(h),this.current=h,this.dirty=!1)}};class Yn extends ii{getDefault(){return this.gl.TEXTURE0}set(r){(r!==this.current||this.dirty)&&(this.gl.activeTexture(r),this.current=r,this.dirty=!1)}}class ma extends ii{getDefault(){const r=this.gl;return[0,0,r.drawingBufferWidth,r.drawingBufferHeight]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||r[2]!==c[2]||r[3]!==c[3]||this.dirty)&&(this.gl.viewport(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Gt extends ii{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindFramebuffer(c.FRAMEBUFFER,r),this.current=r,this.dirty=!1}}class ea extends ii{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindRenderbuffer(c.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class vr extends ii{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindTexture(c.TEXTURE_2D,r),this.current=r,this.dirty=!1}}class ur extends ii{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindBuffer(c.ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class ke extends ii{getDefault(){return null}set(r){const c=this.gl;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class he extends ii{constructor(r){super(r),this.vao=r.extVertexArrayObject}getDefault(){return null}set(r){this.vao&&(r!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(r),this.current=r,this.dirty=!1)}}class fe extends ii{getDefault(){return 4}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_ALIGNMENT,r),this.current=r,this.dirty=!1}}class be extends ii{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),this.current=r,this.dirty=!1}}class Ae extends ii{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,r),this.current=r,this.dirty=!1}}class Be extends ii{constructor(r,c){super(r),this.context=r,this.parent=c}getDefault(){return null}}class We extends Be{setDirty(){this.dirty=!0}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class Ue extends Be{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,this.attachment(),c.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class X extends Ue{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Xe{constructor(r,c,_,x){this.context=r,this.width=c,this.height=_;const T=this.framebuffer=r.gl.createFramebuffer();this.colorAttachment=new We(r,T),x&&(this.depthAttachment=new Ue(r,T))}destroy(){const r=this.context.gl,c=this.colorAttachment.get();if(c&&r.deleteTexture(c),this.depthAttachment){const _=this.depthAttachment.get();_&&r.deleteRenderbuffer(_)}r.deleteFramebuffer(this.framebuffer)}}class wt{constructor(r,c=!1){if(this.gl=r,this.isWebGL2=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),c){const _=r;this.extVertexArrayObject={createVertexArrayOES:_.createVertexArray.bind(r),deleteVertexArrayOES:_.deleteVertexArray.bind(r),bindVertexArrayOES:_.bindVertexArray.bind(r)}}this.clearColor=new Ur(this),this.clearDepth=new Fr(this),this.clearStencil=new Ss(this),this.colorMask=new Pi(this),this.depthMask=new er(this),this.stencilMask=new ho(this),this.stencilFunc=new kn(this),this.stencilOp=new Ui(this),this.stencilTest=new Wr(this),this.depthRange=new tr(this),this.depthTest=new ni(this),this.depthFunc=new zi(this),this.blend=new Fn(this),this.blendFunc=new Si(this),this.blendColor=new hn(this),this.blendEquation=new Hi(this),this.cullFace=new yr(this),this.cullFaceSide=new Bi(this),this.frontFace=new Mi(this),this.program=new cr(this),this.activeTexture=new Yn(this),this.viewport=new ma(this),this.bindFramebuffer=new Gt(this),this.bindRenderbuffer=new ea(this),this.bindTexture=new vr(this),this.bindVertexBuffer=new ur(this),this.bindElementBuffer=new ke(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new he(this),this.pixelStoreUnpack=new fe(this),this.pixelStoreUnpackPremultiplyAlpha=new be(this),this.pixelStoreUnpackFlipY=new Ae(this),this.extTextureFilterAnisotropic=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=r.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=r.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=r.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=r.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),c||(this.extTextureHalfFloat=r.getExtension("OES_texture_half_float")),(c||this.extTextureHalfFloat&&r.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=r.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=c||r.getExtension("OES_standard_derivatives"),this.extTimerQuery=r.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(r,c){return new Er(this,r,c)}createVertexBuffer(r,c,_){return new Wn(this,r,c,_)}createRenderbuffer(r,c,_){const x=this.gl,T=x.createRenderbuffer();return this.bindRenderbuffer.set(T),x.renderbufferStorage(x.RENDERBUFFER,r,c,_),this.bindRenderbuffer.set(null),T}createFramebuffer(r,c,_){return new Xe(this,r,c,_)}clear({color:r,depth:c,stencil:_}){const x=this.gl;let T=0;r&&(T|=x.COLOR_BUFFER_BIT,this.clearColor.set(r),this.colorMask.set([!0,!0,!0,!0])),void 0!==c&&(T|=x.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(c),this.depthMask.set(!0)),void 0!==_&&(T|=x.STENCIL_BUFFER_BIT,this.clearStencil.set(_),this.stencilMask.set(255)),x.clear(T)}setCullFace(r){!1===r.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(r.mode),this.frontFace.set(r.frontFace))}setDepthMode(r){r.func!==this.gl.ALWAYS||r.mask?(this.depthTest.set(!0),this.depthFunc.set(r.func),this.depthMask.set(r.mask),this.depthRange.set(r.range)):this.depthTest.set(!1)}setStencilMode(r){r.test.func!==this.gl.ALWAYS||r.mask?(this.stencilTest.set(!0),this.stencilMask.set(r.mask),this.stencilOp.set([r.fail,r.depthFail,r.pass]),this.stencilFunc.set({func:r.test.func,ref:r.ref,mask:r.test.mask})):this.stencilTest.set(!1)}setColorMode(r){P(r.blendFunction,t.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor)),this.colorMask.set(r.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class St extends t.Evented{constructor(r,c,_,x){if(super(),this.id=r,this.dispatcher=_,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(c,["url","scheme","tileSize","promoteId"])),this._options=t.extend({type:"vector"},c),this._collectResourceTiming=c.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(x),this._tileWorkers={},this._deduped=new t.DedupedRequest}load(r){this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"}));const c=Array.isArray(this.map._language)?this.map._language.join():this.map._language,_=this.map._worldview;this._tileJSONRequest=Rn(this._options,this.map._requestManager,c,_,(x,T)=>{this._tileJSONRequest=null,this._loaded=!0,x?(c&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${c}`),_&&2!==_.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${_}`),this.fire(new t.ErrorEvent(x))):T&&(t.extend(this,T),T.bounds&&(this.tileBounds=new Ut(T.bounds,this.minzoom,this.maxzoom)),t.postTurnstileEvent(T.tiles,this.map._requestManager._customAccessToken),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"}))),r&&r(x)})}loaded(){return this._loaded}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return t.extend({},this._options)}loadTile(r,c){const _=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme)),x={request:this.map._requestManager.transformRequest(_,t.ResourceType.Tile),data:void 0,uid:r.uid,tileID:r.tileID,tileZoom:r.tileZoom,zoom:r.tileID.overscaledZ,tileSize:this.tileSize*r.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:r.isSymbolTile};if(x.request.collectResourceTiming=this._collectResourceTiming,r.actor&&"expired"!==r.state)"loading"===r.state?r.reloadCallback=c:r.request=r.actor.send("reloadTile",x,T.bind(this));else if(r.actor=this._tileWorkers[_]=this._tileWorkers[_]||this.dispatcher.getActor(),this.dispatcher.ready)r.request=r.actor.send("loadTile",x,T.bind(this),void 0,!0);else{const I=t.loadVectorTile.call({deduped:this._deduped},x,(R,H)=>{R||!H?T.call(this,R):(x.data={cacheControl:H.cacheControl,expires:H.expires,rawData:H.rawData.slice(0)},r.actor&&r.actor.send("loadTile",x,T.bind(this),void 0,!0))},!0);r.request={cancel:I}}function T(I,R){return delete r.request,r.aborted?c(null):I&&404!==I.status?c(I):(R&&R.resourceTiming&&(r.resourceTiming=R.resourceTiming),this.map._refreshExpiredTiles&&R&&r.setExpiryData(R),r.loadVectorData(R,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),c(null),void(r.reloadCallback&&(this.loadTile(r,r.reloadCallback),r.reloadCallback=null)))}}abortTile(r){r.request&&(r.request.cancel(),delete r.request),r.actor&&r.actor.send("abortTile",{uid:r.uid,type:this.type,source:this.id})}unloadTile(r){r.unloadVectorData(),r.actor&&r.actor.send("removeTile",{uid:r.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class vt extends t.Evented{constructor(r,c,_,x){super(),this.id=r,this.dispatcher=_,this.setEventedParent(x),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},c),t.extend(this,t.pick(c,["url","scheme","tileSize"]))}load(r){this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Rn(this._options,this.map._requestManager,null,null,(c,_)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new t.ErrorEvent(c)):_&&(t.extend(this,_),_.bounds&&(this.tileBounds=new Ut(_.bounds,this.minzoom,this.maxzoom)),t.postTurnstileEvent(_.tiles),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"}))),r&&r(c)})}loaded(){return this._loaded}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return t.extend({},this._options)}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}loadTile(r,c){const _=t.exported.devicePixelRatio>=2,x=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),_,this.tileSize);r.request=t.getImage(this.map._requestManager.transformRequest(x,t.ResourceType.Tile),(T,I,R,H)=>(delete r.request,r.aborted?(r.state="unloaded",c(null)):T?(r.state="errored",c(T)):I?(this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:R,expires:H}),r.setTexture(I,this.map.painter),r.state="loaded",t.cacheEntryPossiblyAdded(this.dispatcher),void c(null)):c(null)))}static loadTileData(r,c,_){r.setTexture(c,_)}static unloadTileData(r,c){r.texture&&c.saveTileTexture(r.texture)}abortTile(r,c){r.request&&(r.request.cancel(),delete r.request),c()}unloadTile(r,c){r.texture&&this.map.painter.saveTileTexture(r.texture),c()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function ti(h,r,c,_,x,T,I,R){const H=[h,c,x,r,_,T,1,1,1],$=[I,R,1],q=t.adjoint([],H),[ae,a,l]=t.transformMat3($,$,t.transpose(q,q));return t.multiply$1(H,[ae,0,0,0,a,0,0,0,l],H)}class ri extends t.Evented{constructor(r,c,_,x){super(),this.id=r,this.dispatcher=_,this.coordinates=c.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(x),this.options=c,this._dirty=!1}load(r,c){this._loaded=c||!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),(_,x)=>{if(this._imageRequest=null,this._loaded=!0,_)this.fire(new t.ErrorEvent(_));else if(x){const{HTMLImageElement:T}=t.window;this.image=x instanceof T?t.exported.getImageData(x):x,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,r&&(this.coordinates=r),this._finishLoading()}})}loaded(){return this._loaded}updateImage(r){return this.image&&r.url?(this._imageRequest&&r.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=r.url,this.load(r.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(r){this.map=r,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(r){this.coordinates=r,this._boundsArray=void 0;const c=r.map(t.MercatorCoordinate.fromLngLat);return this.tileID=function(_){let x=1/0,T=1/0,I=-1/0,R=-1/0;for(const ae of _)x=Math.min(x,ae.x),T=Math.min(T,ae.y),I=Math.max(I,ae.x),R=Math.max(R,ae.y);const H=Math.max(I-x,R-T),$=Math.max(0,Math.floor(-Math.log(H)/Math.LN2)),q=Math.pow(2,$);return new t.CanonicalTileID($,Math.floor((x+I)/2*q),Math.floor((T+R)/2*q))}(c),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(r){for(const H in this.tiles){const $=this.tiles[H];"loaded"!==$.state&&($.state="loaded",$.texture=this.texture)}if(this._boundsArray)return;const c=t.tileTransform(this.tileID,this.map.transform.projection),[_,x,T,I]=this.coordinates.map(H=>{const $=c.projection.project(H[0],H[1]);return t.getTilePoint(c,$)._round()});this.perspectiveTransform=function(H,$,q,ae,a,l,d,p,b,w){const D=ti(0,0,H,0,0,$,H,$),O=ti(q,ae,a,l,d,p,b,w);return t.multiply$1(O,t.adjoint(D,D),O),[O[6]/O[8]*H/t.EXTENT,O[7]/O[8]*$/t.EXTENT]}(this.width,this.height,_.x,_.y,x.x,x.y,I.x,I.y,T.x,T.y);const R=this._boundsArray=new t.StructArrayLayout4i8;R.emplaceBack(_.x,_.y,0,0),R.emplaceBack(x.x,x.y,t.EXTENT,0),R.emplaceBack(I.x,I.y,0,t.EXTENT),R.emplaceBack(T.x,T.y,t.EXTENT,t.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=r.createVertexBuffer(R,t.boundsAttributes.members),this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const r=this.map.painter.context,c=r.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new t.Texture(r,this.image,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(r)}loadTile(r,c){this.tileID&&this.tileID.equals(r.tileID.canonical)?(this.tiles[String(r.tileID.wrap)]=r,r.buckets={},c(null)):(r.state="errored",c(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Xt={vector:St,raster:vt,"raster-dem":class extends vt{constructor(h,r,c,_){super(h,r,c,_),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}loadTile(h,r){const c=this.map._requestManager.normalizeTileURL(h.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function _(x,T){x&&(h.state="errored",r(x)),T&&(h.dem=T,h.dem.onDeserialize(),h.needsHillshadePrepare=!0,h.needsDEMTextureUpload=!0,h.state="loaded",r(null))}h.request=t.getImage(this.map._requestManager.transformRequest(c,t.ResourceType.Tile),function(x,T,I,R){if(delete h.request,h.aborted)h.state="unloaded",r(null);else if(x)h.state="errored",r(x);else if(T){this.map._refreshExpiredTiles&&h.setExpiryData({cacheControl:I,expires:R});const H=t.window.ImageBitmap&&T instanceof t.window.ImageBitmap&&(null==di&&(di=t.window.OffscreenCanvas&&new t.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof t.window.createImageBitmap),di),$=1-(T.width-t.prevPowerOfTwo(T.width))/2;$<1||h.neighboringTiles||(h.neighboringTiles=this._getNeighboringTiles(h.tileID));const q=H?T:t.exported.getImageData(T,$),ae={uid:h.uid,coord:h.tileID,source:this.id,rawImageData:q,encoding:this.encoding,padding:$};h.actor&&"expired"!==h.state||(h.actor=this.dispatcher.getActor(),h.actor.send("loadDEMTile",ae,_.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(h){const r=h.canonical,c=Math.pow(2,r.z),_=(r.x-1+c)%c,x=0===r.x?h.wrap-1:h.wrap,T=(r.x+1+c)%c,I=r.x+1===c?h.wrap+1:h.wrap,R={};return R[new t.OverscaledTileID(h.overscaledZ,x,r.z,_,r.y).key]={backfilled:!1},R[new t.OverscaledTileID(h.overscaledZ,I,r.z,T,r.y).key]={backfilled:!1},r.y>0&&(R[new t.OverscaledTileID(h.overscaledZ,x,r.z,_,r.y-1).key]={backfilled:!1},R[new t.OverscaledTileID(h.overscaledZ,h.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},R[new t.OverscaledTileID(h.overscaledZ,I,r.z,T,r.y-1).key]={backfilled:!1}),r.y+1<c&&(R[new t.OverscaledTileID(h.overscaledZ,x,r.z,_,r.y+1).key]={backfilled:!1},R[new t.OverscaledTileID(h.overscaledZ,h.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},R[new t.OverscaledTileID(h.overscaledZ,I,r.z,T,r.y+1).key]={backfilled:!1}),R}unloadTile(h){h.demTexture&&this.map.painter.saveTileTexture(h.demTexture),h.fbo&&(h.fbo.destroy(),delete h.fbo),h.dem&&delete h.dem,delete h.neighboringTiles,h.state="unloaded"}},geojson:class extends t.Evented{constructor(h,r,c,_){super(),this.id=h,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=c.getActor(),this.setEventedParent(_),this._data=r.data,this._options=t.extend({},r),this._collectResourceTiming=r.collectResourceTiming,void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;const x=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*x,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*x,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?r.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:t.EXTENT,radius:(void 0!==r.clusterRadius?r.clusterRadius:50)*x,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}onAdd(h){this.map=h,this.setData(this._data)}setData(h){return this._data=h,this._updateWorkerData(),this}getClusterExpansionZoom(h,r){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:h,source:this.id},r),this}getClusterChildren(h,r){return this.actor.send("geojson.getClusterChildren",{clusterId:h,source:this.id},r),this}getClusterLeaves(h,r,c,_){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:h,limit:r,offset:c},_),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new t.Event("dataloading",{dataType:"source"})),this._loaded=!1;const h=t.extend({},this.workerOptions),r=this._data;"string"==typeof r?(h.request=this.map._requestManager.transformRequest(t.exported.resolveURL(r),t.ResourceType.Source),h.request.collectResourceTiming=this._collectResourceTiming):h.data=JSON.stringify(r),this._pendingLoad=this.actor.send(`${this.type}.loadData`,h,(c,_)=>{if(this._loaded=!0,this._pendingLoad=null,c)this.fire(new t.ErrorEvent(c));else{const x={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&_&&_.resourceTiming&&_.resourceTiming[this.id]&&(x.resourceTiming=_.resourceTiming[this.id]),this.fire(new t.Event("data",x)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(h,r){const c=h.actor?"reloadTile":"loadTile";h.actor=this.actor,h.request=this.actor.send(c,{type:this.type,uid:h.uid,tileID:h.tileID,tileZoom:h.tileZoom,zoom:h.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(_,x)=>(delete h.request,h.unloadVectorData(),h.aborted?r(null):_?r(_):(h.loadVectorData(x,this.map.painter,"reloadTile"===c),r(null))),void 0,"loadTile"===c)}abortTile(h){h.request&&(h.request.cancel(),delete h.request),h.aborted=!0}unloadTile(h){h.unloadVectorData(),this.actor.send("removeTile",{uid:h.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return t.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends ri{constructor(h,r,c,_){super(h,r,c,_),this.roundZoom=!0,this.type="video",this.options=r}load(){this._loaded=!1;const h=this.options;this.urls=[];for(const r of h.urls)this.urls.push(this.map._requestManager.transformRequest(r,t.ResourceType.Source).url);t.getVideo(this.urls,(r,c)=>{this._loaded=!0,r?this.fire(new t.ErrorEvent(r)):c&&(this.video=c,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(h){if(this.video){const r=this.video.seekable;h<r.start(0)||h>r.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${r.start(0)} and ${r.end(0)}-second mark.`))):this.video.currentTime=h}}getVideo(){return this.video}onAdd(h){this.map||(this.map=h,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const h=this.map.painter.context,r=h.gl;this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(h,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(h)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:ri,canvas:class extends ri{constructor(h,r,c,_){super(h,r,c,_),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some(x=>!Array.isArray(x)||2!==x.length||x.some(T=>"number"!=typeof T))||this.fire(new t.ErrorEvent(new t.ValidationError(`sources.${h}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError(`sources.${h}`,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new t.ErrorEvent(new t.ValidationError(`sources.${h}`,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError(`sources.${h}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError(`sources.${h}`,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(h){this.map=h,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let h=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,h=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,h=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const r=this.map.painter.context;this.texture?(h||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(r,this.canvas,r.gl.RGBA,{premultiply:!0}),this._prepareData(r)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const h of[this.canvas.width,this.canvas.height])if(isNaN(h)||h<=0)return!0;return!1}},custom:class extends t.Evented{constructor(h,r,c,_){super(),this.id=h,this.type="custom",this._dataType="raster",this._dispatcher=c,this._implementation=r,this.setEventedParent(_),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new t.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new t.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Ut(this._implementation.bounds,this.minzoom,this.maxzoom)),r.update=this._update.bind(this),r.clearTiles=this._clearTiles.bind(this),r.coveringTiles=this._coveringTiles.bind(this),t.extend(this,t.pick(r,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return t.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(h){this._map=h,this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(h),this.load()}onRemove(h){this._implementation.onRemove&&this._implementation.onRemove(h)}hasTile(h){if(this._implementation.hasTile){const{x:r,y:c,z:_}=h.canonical;return this._implementation.hasTile({x:r,y:c,z:_})}return!this.tileBounds||this.tileBounds.contains(h.canonical)}loadTile(h,r){const{x:c,y:_,z:x}=h.tileID.canonical,T=new t.window.AbortController;h.request=Promise.resolve(this._implementation.loadTile({x:c,y:_,z:x},{signal:T.signal})).then(function(I){return delete h.request,h.aborted?(h.state="unloaded",r(null)):void 0===I?(h.state="errored",r(null)):null===I?(this.loadTileData(h,{width:this.tileSize,height:this.tileSize,data:null}),h.state="loaded",r(null)):(R=I)instanceof t.window.ImageData||R instanceof t.window.HTMLCanvasElement||R instanceof t.window.ImageBitmap||R instanceof t.window.HTMLImageElement?(this.loadTileData(h,I),h.state="loaded",void r(null)):(h.state="errored",r(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)));var R}.bind(this)).catch(I=>{20!==I.code&&(h.state="errored",r(I))}),h.request.cancel=()=>T.abort()}loadTileData(h,r){vt.loadTileData(h,r,this._map.painter)}unloadTileData(h){vt.unloadTileData(h,this._map.painter)}unloadTile(h,r){if(this.unloadTileData(h),this._implementation.unloadTile){const{x:c,y:_,z:x}=h.tileID.canonical;this._implementation.unloadTile({x:c,y:_,z:x})}r()}abortTile(h,r){h.request&&h.request.cancel&&(h.request.cancel(),delete h.request),r()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(h=>({x:h.canonical.x,y:h.canonical.y,z:h.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"}))}}},_t=function(h,r,c,_){const x=new Xt[r.type](h,r,c,_);if(x.id!==h)throw new Error(`Expected Source id to be ${h} instead of ${x.id}`);return t.bindAll(["load","abort","unload","serialize","prepare"],x),x};function vi(h,r){const c=t.identity([]);return t.scale(c,c,[.5*h.width,.5*-h.height,1]),t.translate(c,c,[1,-1,0]),t.multiply(c,c,h.calculateProjMatrix(r.toUnwrapped())),Float32Array.from(c)}function pn(h,r,c,_,x,T,I,R=!1){const H=h.tilesIn(_,I,R);H.sort(Dn);const $=[];for(const ae of H)$.push({wrappedTileID:ae.tile.tileID.wrapped().key,queryResults:ae.tile.queryRenderedFeatures(r,c,h._state,ae,x,T,vi(h.transform,ae.tile.tileID),R)});const q=function(ae){const a={},l={};for(const d of ae){const p=d.queryResults,b=d.wrappedTileID,w=l[b]=l[b]||{};for(const D in p){const O=p[D],C=w[D]=w[D]||{},z=a[D]=a[D]||[];for(const U of O)C[U.featureIndex]||(C[U.featureIndex]=!0,z.push(U))}}return a}($);for(const ae in q)q[ae].forEach(a=>{const l=a.feature,d=l.layer;d&&"background"!==d.type&&"sky"!==d.type&&(l.source=d.source,d["source-layer"]&&(l.sourceLayer=d["source-layer"]),l.state=void 0!==l.id?h.getFeatureState(d["source-layer"],l.id):{})});return q}function ji(h,r){const c=h.getRenderableIds().map(T=>h.getTileByID(T)),_=[],x={};for(let T=0;T<c.length;T++){const I=c[T],R=I.tileID.canonical.key;x[R]||(x[R]=!0,I.querySourceFeatures(_,r))}return _}function Dn(h,r){const c=h.tileID,_=r.tileID;return c.overscaledZ-_.overscaledZ||c.canonical.y-_.canonical.y||c.wrap-_.wrap||c.canonical.x-_.canonical.x}function ai(){return null!=Ao.workerClass?new Ao.workerClass:new t.window.Worker(Ao.workerUrl)}const Ti="mapboxgl_preloaded_worker_pool";class Zn{constructor(){this.active={}}acquire(r){if(!this.workers)for(this.workers=[];this.workers.length<Zn.workerCount;)this.workers.push(new ai);return this.active[r]=!0,this.workers.slice()}release(r){delete this.active[r],0===this.numActive()&&(this.workers.forEach(c=>{c.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Ti]}numActive(){return Object.keys(this.active).length}}let qi;function mn(){return qi||(qi=new Zn),qi}function qn(h,r){const c={};for(const _ in h)"ref"!==_&&(c[_]=h[_]);return t.refProperties.forEach(_=>{_ in r&&(c[_]=r[_])}),c}function Nn(h){h=h.slice();const r=Object.create(null);for(let c=0;c<h.length;c++)r[h[c].id]=h[c];for(let c=0;c<h.length;c++)"ref"in h[c]&&(h[c]=qn(h[c],r[h[c].ref]));return h}Zn.workerCount=2;const hi={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Yr(h,r,c){c.push({command:hi.addSource,args:[h,r[h]]})}function br(h,r,c){r.push({command:hi.removeSource,args:[h]}),c[h]=!0}function po(h,r,c,_){br(h,c,_),Yr(h,r,c)}function zr(h,r,c){let _;for(_ in h[c])if(h[c].hasOwnProperty(_)&&"data"!==_&&!P(h[c][_],r[c][_]))return!1;for(_ in r[c])if(r[c].hasOwnProperty(_)&&"data"!==_&&!P(h[c][_],r[c][_]))return!1;return!0}function yn(h,r,c,_,x,T){let I;for(I in r=r||{},h=h||{})h.hasOwnProperty(I)&&(P(h[I],r[I])||c.push({command:T,args:[_,I,r[I],x]}));for(I in r)r.hasOwnProperty(I)&&!h.hasOwnProperty(I)&&(P(h[I],r[I])||c.push({command:T,args:[_,I,r[I],x]}))}function an(h){return h.id}function Cs(h,r){return h[r.id]=r,h}class Bo{constructor(r,c){this.reset(r,c)}reset(r,c){this.points=r||[],this._distances=[0];for(let _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(c||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(r){if(1===this.points.length)return this.points[0];r=t.clamp(r,0,1);let c=1,_=this._distances[c];const x=r*this.paddedLength+this.padding;for(;_<x&&c<this._distances.length;)_=this._distances[++c];const T=c-1,I=this._distances[T],R=_-I,H=R>0?(x-I)/R:0;return this.points[T].mult(1-H).add(this.points[c].mult(H))}}class Ia{constructor(r,c,_){const x=this.boxCells=[],T=this.circleCells=[];this.xCellCount=Math.ceil(r/_),this.yCellCount=Math.ceil(c/_);for(let I=0;I<this.xCellCount*this.yCellCount;I++)x.push([]),T.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=r,this.height=c,this.xScale=this.xCellCount/r,this.yScale=this.yCellCount/c,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(r,c,_,x,T){this._forEachCell(c,_,x,T,this._insertBoxCell,this.boxUid++),this.boxKeys.push(r),this.bboxes.push(c),this.bboxes.push(_),this.bboxes.push(x),this.bboxes.push(T)}insertCircle(r,c,_,x){this._forEachCell(c-x,_-x,c+x,_+x,this._insertCircleCell,this.circleUid++),this.circleKeys.push(r),this.circles.push(c),this.circles.push(_),this.circles.push(x)}_insertBoxCell(r,c,_,x,T,I){this.boxCells[T].push(I)}_insertCircleCell(r,c,_,x,T,I){this.circleCells[T].push(I)}_query(r,c,_,x,T,I){if(_<0||r>this.width||x<0||c>this.height)return!T&&[];const R=[];if(r<=0&&c<=0&&this.width<=_&&this.height<=x){if(T)return!0;for(let H=0;H<this.boxKeys.length;H++)R.push({key:this.boxKeys[H],x1:this.bboxes[4*H],y1:this.bboxes[4*H+1],x2:this.bboxes[4*H+2],y2:this.bboxes[4*H+3]});for(let H=0;H<this.circleKeys.length;H++){const $=this.circles[3*H],q=this.circles[3*H+1],ae=this.circles[3*H+2];R.push({key:this.circleKeys[H],x1:$-ae,y1:q-ae,x2:$+ae,y2:q+ae})}return I?R.filter(I):R}return this._forEachCell(r,c,_,x,this._queryCell,R,{hitTest:T,seenUids:{box:{},circle:{}}},I),T?R.length>0:R}_queryCircle(r,c,_,x,T){const I=r-_,R=r+_,H=c-_,$=c+_;if(R<0||I>this.width||$<0||H>this.height)return!x&&[];const q=[];return this._forEachCell(I,H,R,$,this._queryCellCircle,q,{hitTest:x,circle:{x:r,y:c,radius:_},seenUids:{box:{},circle:{}}},T),x?q.length>0:q}query(r,c,_,x,T){return this._query(r,c,_,x,!1,T)}hitTest(r,c,_,x,T){return this._query(r,c,_,x,!0,T)}hitTestCircle(r,c,_,x){return this._queryCircle(r,c,_,!0,x)}_queryCell(r,c,_,x,T,I,R,H){const $=R.seenUids,q=this.boxCells[T];if(null!==q){const a=this.bboxes;for(const l of q)if(!$.box[l]){$.box[l]=!0;const d=4*l;if(r<=a[d+2]&&c<=a[d+3]&&_>=a[d+0]&&x>=a[d+1]&&(!H||H(this.boxKeys[l]))){if(R.hitTest)return I.push(!0),!0;I.push({key:this.boxKeys[l],x1:a[d],y1:a[d+1],x2:a[d+2],y2:a[d+3]})}}}const ae=this.circleCells[T];if(null!==ae){const a=this.circles;for(const l of ae)if(!$.circle[l]){$.circle[l]=!0;const d=3*l;if(this._circleAndRectCollide(a[d],a[d+1],a[d+2],r,c,_,x)&&(!H||H(this.circleKeys[l]))){if(R.hitTest)return I.push(!0),!0;{const p=a[d],b=a[d+1],w=a[d+2];I.push({key:this.circleKeys[l],x1:p-w,y1:b-w,x2:p+w,y2:b+w})}}}}}_queryCellCircle(r,c,_,x,T,I,R,H){const $=R.circle,q=R.seenUids,ae=this.boxCells[T];if(null!==ae){const l=this.bboxes;for(const d of ae)if(!q.box[d]){q.box[d]=!0;const p=4*d;if(this._circleAndRectCollide($.x,$.y,$.radius,l[p+0],l[p+1],l[p+2],l[p+3])&&(!H||H(this.boxKeys[d])))return I.push(!0),!0}}const a=this.circleCells[T];if(null!==a){const l=this.circles;for(const d of a)if(!q.circle[d]){q.circle[d]=!0;const p=3*d;if(this._circlesCollide(l[p],l[p+1],l[p+2],$.x,$.y,$.radius)&&(!H||H(this.circleKeys[d])))return I.push(!0),!0}}}_forEachCell(r,c,_,x,T,I,R,H){const $=this._convertToXCellCoord(r),q=this._convertToYCellCoord(c),ae=this._convertToXCellCoord(_),a=this._convertToYCellCoord(x);for(let l=$;l<=ae;l++)for(let d=q;d<=a;d++)if(T.call(this,r,c,_,x,this.xCellCount*d+l,I,R,H))return}_convertToXCellCoord(r){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(r*this.xScale)))}_convertToYCellCoord(r){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(r*this.yScale)))}_circlesCollide(r,c,_,x,T,I){const R=x-r,H=T-c,$=_+I;return $*$>R*R+H*H}_circleAndRectCollide(r,c,_,x,T,I,R){const H=(I-x)/2,$=Math.abs(r-(x+H));if($>H+_)return!1;const q=(R-T)/2,ae=Math.abs(c-(T+q));if(ae>q+_)return!1;if($<=H||ae<=q)return!0;const a=$-H,l=ae-q;return a*a+l*l<=_*_}}const _a_unknown=0,_a_flipRequired=1,_a_flipNotRequired=2,Pa=Math.tan(85*Math.PI/180);function at(h,r,c,_,x,T,I){const R=t.create();if(c)if("globe"===T.name){const H=t.calculateGlobeLabelMatrix(x,r);t.multiply(R,R,H)}else{const H=He([],I);R[0]=H[0],R[1]=H[1],R[4]=H[2],R[5]=H[3],_||t.rotateZ(R,R,x.angle)}else t.multiply(R,x.labelPlaneMatrix,h);return R}function ta(h,r,c,_,x,T,I){const R=at(h,r,c,_,x,T,I);return"globe"===T.name&&c||(R[2]=R[6]=R[10]=R[14]=0),R}function zn(h,r,c,_,x,T,I){if(c){if("globe"===T.name){const R=at(h,r,c,_,x,T,I);return t.invert(R,R),t.multiply(R,h,R),R}{const R=t.clone(h),H=t.identity([]);return H[0]=I[0],H[1]=I[1],H[4]=I[2],H[5]=I[3],t.multiply(R,R,H),_||t.rotateZ(R,R,-x.angle),R}}return x.glCoordMatrix}function $n(h,r,c,_){const x=[h,r,c,1];c?t.transformMat4$1(x,x,_):oi(x,x,_);const T=x[3];return x[0]/=T,x[1]/=T,x[2]/=T,x}function Yl(h,r){return Math.min(.5+h/r*.5,1.5)}function ia(h,r){const c=h[0]/h[3],_=h[1]/h[3];return c>=-r[0]&&c<=r[0]&&_>=-r[1]&&_<=r[1]}function ss(h,r,c,_,x,T,I,R,H,$){const q=c.transform,ae=_?h.textSizeData:h.iconSizeData,a=t.evaluateSizeForZoom(ae,c.transform.zoom),l="globe"===q.projection.name,d=[256/c.width*2+1,256/c.height*2+1],p=_?h.text.dynamicLayoutVertexArray:h.icon.dynamicLayoutVertexArray;p.clear();let b=null;l&&(b=_?h.text.globeExtVertexArray:h.icon.globeExtVertexArray);const w=h.lineVertexArray,D=_?h.text.placedSymbolArray:h.icon.placedSymbolArray,O=c.transform.width/c.transform.height;let C,z=!1;for(let U=0;U<D.length;U++){const W=D.get(U),{numGlyphs:ie,writingMode:ce}=W;if(ce!==t.WritingMode.vertical||z||C===t.WritingMode.horizontal||(z=!0),C=ce,(W.hidden||ce===t.WritingMode.vertical)&&!z){Hn(ie,p);continue}z=!1;const pe=new t.Point(W.tileAnchorX,W.tileAnchorY);let{x:ve,y:ge,z:Ee}=q.projection.projectTilePoint(pe.x,pe.y,$.canonical);if(H){const[Vt,It,Dt]=H(pe);ve+=Vt,ge+=It,Ee+=Dt}const Re=[ve,ge,Ee,1];if(t.transformMat4$1(Re,Re,r),!ia(Re,d)){Hn(ie,p);continue}const Ze=Yl(c.transform.cameraToCenterDistance,Re[3]),je=t.evaluateSizeForFeature(ae,a,W),Ge=I?je/Ze:je*Ze,lt=$n(ve,ge,Ee,x);if(lt[3]<=0){Hn(ie,p);continue}let tt={};const ot=I?null:H,Et=Ot(W,Ge,!1,R,r,x,T,h.glyphOffsetArray,w,p,b,lt,pe,tt,O,ot,q.projection,$,I);z=Et.useVertical,ot&&Et.needsFlipping&&(tt={}),(Et.notEnoughRoom||z||Et.needsFlipping&&Ot(W,Ge,!0,R,r,x,T,h.glyphOffsetArray,w,p,b,lt,pe,tt,O,ot,q.projection,$,I).notEnoughRoom)&&Hn(ie,p)}_?(h.text.dynamicLayoutVertexBuffer.updateData(p),b&&h.text.globeExtVertexBuffer.updateData(b)):(h.icon.dynamicLayoutVertexBuffer.updateData(p),b&&h.icon.globeExtVertexBuffer.updateData(b))}function zl(h,r,c,_,x,T,I,R,H,$,q,ae,a,l,d,p){const{lineStartIndex:b,glyphStartIndex:w,segment:D}=R,O=w+R.numGlyphs,C=b+R.lineLength,z=r.getoffsetX(w),U=r.getoffsetX(O-1),W=Ar(h*z,c,_,x,T,I,D,b,C,H,$,q,ae,a,!0,l,d,p);if(!W)return null;const ie=Ar(h*U,c,_,x,T,I,D,b,C,H,$,q,ae,a,!0,l,d,p);return ie?{first:W,last:ie}:null}function vn(h,r,c,_){return h===t.WritingMode.horizontal&&Math.abs(_)>Math.abs(c)?{useVertical:!0}:h===t.WritingMode.vertical?_>0?{needsFlipping:!0}:null:r!==_a_unknown&&(0===(x=c)||Math.abs(_/x)>Pa)?r===_a_flipRequired?{needsFlipping:!0}:null:c<0?{needsFlipping:!0}:null;var x}function Ot(h,r,c,_,x,T,I,R,H,$,q,ae,a,l,d,p,b,w,D){const O=r/24,C=h.lineOffsetX*O,z=h.lineOffsetY*O,{lineStartIndex:U,glyphStartIndex:W,numGlyphs:ie,segment:ce,writingMode:pe,flipState:ve}=h,ge=U+h.lineLength,Ee=Re=>{if(q){const[lt,tt,ot]=Re.up,Et=$.length;t.updateGlobeVertexNormal(q,Et+0,lt,tt,ot),t.updateGlobeVertexNormal(q,Et+1,lt,tt,ot),t.updateGlobeVertexNormal(q,Et+2,lt,tt,ot),t.updateGlobeVertexNormal(q,Et+3,lt,tt,ot)}const[Ze,je,Ge]=Re.point;t.addDynamicAttributes($,Ze,je,Ge,Re.angle)};if(ie>1){const Re=zl(O,R,C,z,c,ae,a,h,H,T,l,p,!1,b,w,D);if(!Re)return{notEnoughRoom:!0};if(_&&!c){let[Ze,je,Ge]=Re.first.point,[lt,tt,ot]=Re.last.point;[Ze,je]=$n(Ze,je,Ge,I),[lt,tt]=$n(lt,tt,ot,I);const Et=vn(pe,ve,(lt-Ze)*d,tt-je);if(h.flipState=Et&&Et.needsFlipping?_a_flipRequired:_a_flipNotRequired,Et)return Et}Ee(Re.first);for(let Ze=W+1;Ze<W+ie-1;Ze++){const je=Ar(O*R.getoffsetX(Ze),C,z,c,ae,a,ce,U,ge,H,T,l,p,!1,!1,b,w,D);if(!je)return $.length-=4*(Ze-W),{notEnoughRoom:!0};Ee(je)}Ee(Re.last)}else{if(_&&!c){const Ze=$n(a.x,a.y,0,x),je=U+ce+1,Ge=new t.Point(H.getx(je),H.gety(je)),lt=$n(Ge.x,Ge.y,0,x),tt=lt[3]>0?lt:si(a,Ge,Ze,1,x,void 0,b,w.canonical),ot=vn(pe,ve,(tt[0]-Ze[0])*d,tt[1]-Ze[1]);if(h.flipState=ot&&ot.needsFlipping?_a_flipRequired:_a_flipNotRequired,ot)return ot}const Re=Ar(O*R.getoffsetX(W),C,z,c,ae,a,ce,U,ge,H,T,l,p,!1,!1,b,w,D);if(!Re)return{notEnoughRoom:!0};Ee(Re)}return{}}function bi(h,r,c,_,x){const{x:T,y:I,z:R}=_.projectTilePoint(h.x,h.y,r);if(!x)return $n(T,I,R,c);const[H,$,q]=x(h);return $n(T+H,I+$,R+q,c)}function si(h,r,c,_,x,T,I,R){const H=bi(h.sub(r)._unit()._add(h),R,x,I,T);return t.sub(H,c,H),t.normalize(H,H),t.scaleAndAdd(H,c,H,_)}function Ar(h,r,c,_,x,T,I,R,H,$,q,ae,a,l,d,p,b,w){const D=_?h-r:h+r;let O=D>0?1:-1,C=0;_&&(O*=-1,C=Math.PI),O<0&&(C+=Math.PI);let z=R+I+(O>0?0:1)|0,U=x,W=x,ie=0,ce=0;const pe=Math.abs(D),ve=[],ge=[];let Ee=T,Re=Ee;const Ze=()=>si(Re,Ee,W,pe-ie+1,q,a,p,b.canonical);for(;ie+ce<=pe;){if(z+=O,z<R||z>=H)return null;if(W=U,Re=Ee,ve.push(W),l&&ge.push(Re),Ee=new t.Point($.getx(z),$.gety(z)),U=ae[z],!U){const Dt=bi(Ee,b.canonical,q,p,a);U=Dt[3]>0?ae[z]=Dt:Ze()}ie+=ce,ce=t.distance(W,U)}d&&a&&(ae[z]&&(U=Ze(),ce=t.distance(W,U)),ae[z]=U);const je=(pe-ie)/ce,Ge=Ee.sub(Re)._mult(je)._add(Re),lt=t.sub([],U,W),tt=t.scaleAndAdd([],W,lt,je);let ot=[0,0,1],Et=lt[0],Vt=lt[1];if(w&&(ot=p.upVector(b.canonical,Ge.x,Ge.y),0!==ot[0]||0!==ot[1]||1!==ot[2])){const Dt=[ot[2],0,-ot[0]],Zt=t.cross([],ot,Dt);t.normalize(Dt,Dt),t.normalize(Zt,Zt),Et=t.dot(lt,Dt),Vt=t.dot(lt,Zt)}if(c){const Dt=t.cross([],ot,lt);t.normalize(Dt,Dt),t.scaleAndAdd(tt,tt,Dt,c*O)}const It=C+Math.atan2(Vt,Et);return ve.push(tt),l&&ge.push(Ge),{point:tt,angle:It,path:ve,tilePath:ge,up:ot}}function Hn(h,r){const c=r.length,_=c+4*h;r.resize(_),r.float32.fill(-1/0,4*c,4*_)}function oi(h,r,c){const _=r[0],x=r[1];return h[0]=c[0]*_+c[4]*x+c[12],h[1]=c[1]*_+c[5]*x+c[13],h[3]=c[3]*_+c[7]*x+c[15],h}const rr=100;class Br{constructor(r,c,_=new Ia(r.width+200,r.height+200,25),x=new Ia(r.width+200,r.height+200,25)){this.transform=r,this.grid=_,this.ignoredGrid=x,this.pitchfactor=Math.cos(r._pitch)*r.cameraToCenterDistance,this.screenRightBoundary=r.width+rr,this.screenBottomBoundary=r.height+rr,this.gridRightBoundary=r.width+200,this.gridBottomBoundary=r.height+200,this.fogState=c}placeCollisionBox(r,c,_,x,T,I,R,H){let $=_.projectedAnchorX,q=_.projectedAnchorY,ae=_.projectedAnchorZ;const a=_.elevation,l=_.tileID,d=r.getProjection();if(a&&l){const[U,W,ie]=d.upVector(l.canonical,_.tileAnchorX,_.tileAnchorY),ce=d.upVectorScale(l.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;$+=U*a*ce,q+=W*a*ce,ae+=ie*a*ce}const p=this.projectAndGetPerspectiveRatio(R,$,q,ae,_.tileID,"globe"===d.name||!!a||this.transform.pitch>0,d),b=I*p.perspectiveRatio,w=(_.x1*c+x.x-_.padding)*b+p.point.x,D=(_.y1*c+x.y-_.padding)*b+p.point.y,O=(_.x2*c+x.x+_.padding)*b+p.point.x,C=(_.y2*c+x.y+_.padding)*b+p.point.y,z=p.perspectiveRatio<=.55||p.occluded;return!this.isInsideGrid(w,D,O,C)||!T&&this.grid.hitTest(w,D,O,C,H)||z?{box:[],offscreen:!1,occluded:p.occluded}:{box:[w,D,O,C],offscreen:this.isOffscreen(w,D,O,C),occluded:!1}}placeCollisionCircles(r,c,_,x,T,I,R,H,$,q,ae,a,l,d,p){const b=[],w=this.transform.elevation,D=r.getProjection(),O=w?w.getAtTileOffsetFunc(p,this.transform.center.lat,this.transform.worldSize,D):null,C=new t.Point(_.tileAnchorX,_.tileAnchorY);let{x:z,y:U,z:W}=D.projectTilePoint(C.x,C.y,p.canonical);if(O){const[Ge,lt,tt]=O(C);z+=Ge,U+=lt,W+=tt}const ie="globe"===D.name,ce=this.projectAndGetPerspectiveRatio(R,z,U,W,p,ie||!!w||this.transform.pitch>0,D),{perspectiveRatio:pe}=ce,ve=(ae?I/pe:I*pe)/t.ONE_EM,ge=$n(z,U,W,H),Ee=ce.signedDistanceFromCamera>0?zl(ve,T,_.lineOffsetX*ve,_.lineOffsetY*ve,!1,ge,C,_,x,H,{},w&&!ae?O:null,ae&&!!w,D,p,ae):null;let Re=!1,Ze=!1,je=!0;if(Ee&&!ce.occluded){const Ge=.5*l*pe+d,lt=new t.Point(-100,-100),tt=new t.Point(this.screenRightBoundary,this.screenBottomBoundary),ot=new Bo,{first:Et,last:Vt}=Ee,It=Et.path.length;let Dt=[];for(let jt=It-1;jt>=1;jt--)Dt.push(Et.path[jt]);for(let jt=1;jt<Vt.path.length;jt++)Dt.push(Vt.path[jt]);const Zt=2.5*Ge;$&&(Dt=Dt.map(([jt,Ei,Ji],qt)=>(O&&!ie&&(Ji=O(qt<It-1?Et.tilePath[It-1-qt]:Vt.tilePath[qt-It+2])[2]),$n(jt,Ei,Ji,$))),Dt.some(jt=>jt[3]<=0)&&(Dt=[]));let ci=[];if(Dt.length>0){let jt=1/0,Ei=-1/0,Ji=1/0,qt=-1/0;for(const k of Dt)jt=Math.min(jt,k[0]),Ji=Math.min(Ji,k[1]),Ei=Math.max(Ei,k[0]),qt=Math.max(qt,k[1]);Ei>=lt.x&&jt<=tt.x&&qt>=lt.y&&Ji<=tt.y&&(ci=[Dt.map(k=>new t.Point(k[0],k[1]))],(jt<lt.x||Ei>tt.x||Ji<lt.y||qt>tt.y)&&(ci=t.clipLine(ci,lt.x,lt.y,tt.x,tt.y)))}for(const jt of ci){ot.reset(jt,.25*Ge);let Ei=0;Ei=ot.length<=.5*Ge?1:Math.ceil(ot.paddedLength/Zt)+1;for(let Ji=0;Ji<Ei;Ji++){const qt=Ji/Math.max(Ei-1,1),k=ot.lerp(qt),F=k.x+rr,K=k.y+rr;b.push(F,K,Ge,0);const re=F-Ge,me=K-Ge,Oe=F+Ge,et=K+Ge;if(je=je&&this.isOffscreen(re,me,Oe,et),Ze=Ze||this.isInsideGrid(re,me,Oe,et),!c&&this.grid.hitTestCircle(F,K,Ge,a)&&(Re=!0,!q))return{circles:[],offscreen:!1,collisionDetected:Re,occluded:!1}}}}return{circles:!q&&Re||!Ze?[]:b,offscreen:je,collisionDetected:Re,occluded:ce.occluded}}queryRenderedSymbols(r){if(0===r.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const c=[];let _=1/0,x=1/0,T=-1/0,I=-1/0;for(const q of r){const ae=new t.Point(q.x+rr,q.y+rr);_=Math.min(_,ae.x),x=Math.min(x,ae.y),T=Math.max(T,ae.x),I=Math.max(I,ae.y),c.push(ae)}const R=this.grid.query(_,x,T,I).concat(this.ignoredGrid.query(_,x,T,I)),H={},$={};for(const q of R){const ae=q.key;if(void 0===H[ae.bucketInstanceId]&&(H[ae.bucketInstanceId]={}),H[ae.bucketInstanceId][ae.featureIndex])continue;const a=[new t.Point(q.x1,q.y1),new t.Point(q.x2,q.y1),new t.Point(q.x2,q.y2),new t.Point(q.x1,q.y2)];t.polygonIntersectsPolygon(c,a)&&(H[ae.bucketInstanceId][ae.featureIndex]=!0,void 0===$[ae.bucketInstanceId]&&($[ae.bucketInstanceId]=[]),$[ae.bucketInstanceId].push(ae.featureIndex))}return $}insertCollisionBox(r,c,_,x,T){(c?this.ignoredGrid:this.grid).insert({bucketInstanceId:_,featureIndex:x,collisionGroupID:T},r[0],r[1],r[2],r[3])}insertCollisionCircles(r,c,_,x,T){const I=c?this.ignoredGrid:this.grid,R={bucketInstanceId:_,featureIndex:x,collisionGroupID:T};for(let H=0;H<r.length;H+=4)I.insertCircle(R,r[H],r[H+1],r[H+2])}projectAndGetPerspectiveRatio(r,c,_,x,T,I,R){const H=[c,_,x,1];let $=!1;x||this.transform.pitch>0?(t.transformMat4$1(H,H,r),this.fogState&&T&&"globe"!==R.name&&($=function(a,l,d,p,b,w){const D=w.calculateFogTileMatrix(b),O=[l,d,p];return t.transformMat4(O,O,D),mi(a,O,w.pitch,w._fov)}(this.fogState,c,_,x,T.toUnwrapped(),this.transform)>.9)):oi(H,H,r);const q=H[3];return{point:new t.Point((H[0]/q+1)/2*this.transform.width+rr,(-H[1]/q+1)/2*this.transform.height+rr),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(R)/q*.5,1.5),signedDistanceFromCamera:q,occluded:I&&H[2]>q||$}}isOffscreen(r,c,_,x){return _<rr||r>=this.screenRightBoundary||x<rr||c>this.screenBottomBoundary}isInsideGrid(r,c,_,x){return _>=0&&r<this.gridRightBoundary&&x>=0&&c<this.gridBottomBoundary}getViewportMatrix(){const r=t.identity([]);return t.translate(r,r,[-100,-100,0]),r}}function Oa(h,r,c){const _=r.createTileMatrix(h,h.worldSize,c.toUnwrapped());return t.multiply(new Float32Array(16),h.projMatrix,_)}function ir(h,r,c){if(r.projection.name===c.projection.name)return h.projMatrix;const _=c.clone();return _.setProjection(r.projection),Oa(_,r.getProjection(),h)}function Ci(h,r,c){return r.name===c.projection.name?h.projMatrix:Oa(c,r,h)}class jo{constructor(r,c,_,x){this.opacity=r?Math.max(0,Math.min(1,r.opacity+(r.placed?c:-c))):x&&_?1:0,this.placed=_}isHidden(){return 0===this.opacity&&!this.placed}}class Ra{constructor(r,c,_,x,T,I=!1){this.text=new jo(r?r.text:null,c,_,T),this.icon=new jo(r?r.icon:null,c,x,T),this.clipped=I}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class os{constructor(r,c,_,x=!1){this.text=r,this.icon=c,this.skipFade=_,this.clipped=x}}class na{constructor(){this.invProjMatrix=t.create(),this.viewportMatrix=t.create(),this.circles=[]}}class Gr{constructor(r,c,_,x,T){this.bucketInstanceId=r,this.featureIndex=c,this.sourceLayerIndex=_,this.bucketIndex=x,this.tileID=T}}class ls{constructor(r){this.crossSourceCollisions=r,this.maxGroupID=0,this.collisionGroups={}}get(r){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[r]){const c=++this.maxGroupID;this.collisionGroups[r]={ID:c,predicate:_=>_.collisionGroupID===c}}return this.collisionGroups[r]}}function Fa(h,r,c,_,x){const{horizontalAlign:T,verticalAlign:I}=t.getAnchorAlignment(h),R=-(T-.5)*r,H=-(I-.5)*c,$=t.evaluateVariableOffset(h,_);return new t.Point(R+$[0]*x,H+$[1]*x)}function Ya(h,r,c,_,x){const T=new t.Point(h,r);return c&&T._rotate(_?x:-x),T}class Ir{constructor(r,c,_,x,T){this.transform=r.clone(),this.projection=r.projection.name,this.collisionIndex=new Br(this.transform,T),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=c,this.retainedQueryData={},this.collisionGroups=new ls(_),this.collisionCircleArrays={},this.prevPlacement=x,x&&(x.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(r,c,_,x){const T=_.getBucket(c),I=_.latestFeatureIndex;if(!T||!I||c.id!==T.layerIds[0])return;const R=T.layers[0].layout,H=_.collisionBoxArray,$=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),q=_.tileSize/t.EXTENT,ae=_.tileID.toUnwrapped();this.transform.setProjection(T.projection);const a=(l=_.tileID,d=T.getProjection(),p=this.transform,d.name===this.projection?p.calculateProjMatrix(l.toUnwrapped()):Oa(p,d,l));var l,d,p;const b="map"===R.get("text-pitch-alignment"),w="map"===R.get("text-rotation-alignment");c.compileFilter();const D=c.dynamicFilter(),O=c.dynamicFilterNeedsFeature(),C=this.transform.calculatePixelsToTileUnitsMatrix(_),z=ta(a,_.tileID.canonical,b,w,this.transform,T.getProjection(),C);let U=null;if(b){const ce=zn(a,_.tileID.canonical,b,w,this.transform,T.getProjection(),C);U=t.multiply([],this.transform.labelPlaneMatrix,ce)}let W=null;D&&_.latestFeatureIndex&&(W={unwrappedTileID:ae,dynamicFilter:D,dynamicFilterNeedsFeature:O,featureIndex:_.latestFeatureIndex}),this.retainedQueryData[T.bucketInstanceId]=new Gr(T.bucketInstanceId,I,T.sourceLayerIndex,T.index,_.tileID);const ie={bucket:T,layout:R,posMatrix:a,textLabelPlaneMatrix:z,labelToScreenMatrix:U,clippingData:W,scale:$,textPixelRatio:q,holdingForFade:_.holdingForFade(),collisionBoxArray:H,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(T.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:t.evaluateSizeForZoom(T.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(T.sourceID)};if(x)for(const ce of T.sortKeyRanges){const{sortKey:pe,symbolInstanceStart:ve,symbolInstanceEnd:ge}=ce;r.push({sortKey:pe,symbolInstanceStart:ve,symbolInstanceEnd:ge,parameters:ie})}else r.push({symbolInstanceStart:0,symbolInstanceEnd:T.symbolInstances.length,parameters:ie})}attemptAnchorPlacement(r,c,_,x,T,I,R,H,$,q,ae,a,l,d,p,b,w,D){const{textOffset0:O,textOffset1:C,crossTileID:z}=a,U=[O,C],W=Fa(r,_,x,U,T),ie=this.collisionIndex.placeCollisionBox(d,T,c,Ya(W.x,W.y,I,R,this.transform.angle),ae,H,$,q.predicate);if(b){const ce=d.getSymbolInstanceIconSize(D,this.transform.zoom,a.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(d,ce,b,Ya(W.x,W.y,I,R,this.transform.angle),ae,H,$,q.predicate).box.length)return}if(ie.box.length>0){let ce;return this.prevPlacement&&this.prevPlacement.variableOffsets[z]&&this.prevPlacement.placements[z]&&this.prevPlacement.placements[z].text&&(ce=this.prevPlacement.variableOffsets[z].anchor),this.variableOffsets[z]={textOffset:U,width:_,height:x,anchor:r,textScale:T,prevAnchor:ce},this.markUsedJustification(d,r,a,p),d.allowVerticalPlacement&&(this.markUsedOrientation(d,p,a),this.placedOrientations[z]=p),{shift:W,placedGlyphBoxes:ie}}}placeLayerBucketPart(r,c,_,x){const{bucket:T,layout:I,posMatrix:R,textLabelPlaneMatrix:H,labelToScreenMatrix:$,clippingData:q,textPixelRatio:ae,holdingForFade:a,collisionBoxArray:l,partiallyEvaluatedTextSize:d,partiallyEvaluatedIconSize:p,collisionGroup:b}=r.parameters,w=I.get("text-optional"),D=I.get("icon-optional"),O=I.get("text-allow-overlap"),C=I.get("icon-allow-overlap"),z="map"===I.get("text-rotation-alignment"),U="map"===I.get("text-pitch-alignment"),W="none"!==I.get("icon-text-fit"),ie="viewport-y"===I.get("symbol-z-order");this.transform.setProjection(T.projection);let ce=O&&(C||!T.hasIconData()||D),pe=C&&(O||!T.hasTextData()||w);!T.collisionArrays&&l&&T.deserializeCollisionBoxes(l),_&&x&&T.updateCollisionDebugBuffers(this.transform.zoom,l);const ve=(ge,Ee,Re)=>{const{crossTileID:Ze,numVerticalGlyphVertices:je}=ge;if(q){const Oe={zoom:this.transform.zoom,pitch:this.transform.pitch};let et=null;if(q.dynamicFilterNeedsFeature){const Pt=this.retainedQueryData[T.bucketInstanceId];et=q.featureIndex.loadFeature({featureIndex:ge.featureIndex,bucketIndex:Pt.bucketIndex,sourceLayerIndex:Pt.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,q.dynamicFilter)(Oe,et,this.retainedQueryData[T.bucketInstanceId].tileID.canonical,new t.Point(ge.tileAnchorX,ge.tileAnchorY),this.transform.calculateDistanceTileData(q.unwrappedTileID)))return this.placements[Ze]=new os(!1,!1,!1,!0),void c.add(Ze)}if(c.has(Ze))return;if(a)return void(this.placements[Ze]=new os(!1,!1,!1));let Ge=!1,lt=!1,tt=!0,ot=!1,Et=!1,Vt=null,It={box:null,offscreen:null,occluded:null},Dt={box:null,offscreen:null,occluded:null},Zt=null,ci=null,jt=null,Ei=0,Ji=0,qt=0;Re.textFeatureIndex?Ei=Re.textFeatureIndex:ge.useRuntimeCollisionCircles&&(Ei=ge.featureIndex),Re.verticalTextFeatureIndex&&(Ji=Re.verticalTextFeatureIndex);const k=Oe=>{Oe.tileID=this.retainedQueryData[T.bucketInstanceId].tileID;const et=this.transform.elevation;(et||Oe.elevation)&&(Oe.elevation=et?et.getAtTileOffset(Oe.tileID,Oe.tileAnchorX,Oe.tileAnchorY):0)},F=Re.textBox;if(F){k(F);const Oe=Pt=>{let Kt=t.WritingMode.horizontal;if(T.allowVerticalPlacement&&!Pt&&this.prevPlacement){const Di=this.prevPlacement.placedOrientations[Ze];Di&&(this.placedOrientations[Ze]=Di,Kt=Di,this.markUsedOrientation(T,Kt,ge))}return Kt},et=(Pt,Kt)=>{if(T.allowVerticalPlacement&&je>0&&Re.verticalTextBox){for(const Di of T.writingModes)if(Di===t.WritingMode.vertical?(It=Kt(),Dt=It):It=Pt(),It&&It.box&&It.box.length)break}else It=Pt()};if(I.get("text-variable-anchor")){let Pt=I.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ze]){const Ai=this.prevPlacement.variableOffsets[Ze];Pt.indexOf(Ai.anchor)>0&&(Pt=Pt.filter(Vn=>Vn!==Ai.anchor),Pt.unshift(Ai.anchor))}const Kt=(Ai,Vn,Us)=>{const Bc=T.getSymbolInstanceTextSize(d,ge,this.transform.zoom,Ee),sn=(Ai.x2-Ai.x1)*Bc+2*Ai.padding,bl=(Ai.y2-Ai.y1)*Bc+2*Ai.padding,Zl=W&&!C?Vn:null;Zl&&k(Zl);let jc={box:[],offscreen:!1,occluded:!1};const ed=O?2*Pt.length:Pt.length;for(let Mu=0;Mu<ed;++Mu){const Bd=this.attemptAnchorPlacement(Pt[Mu%Pt.length],Ai,sn,bl,Bc,z,U,ae,R,b,Mu>=Pt.length,ge,Ee,T,Us,Zl,d,p);if(Bd&&(jc=Bd.placedGlyphBoxes,jc&&jc.box&&jc.box.length)){Ge=!0,Vt=Bd.shift;break}}return jc};et(()=>Kt(F,Re.iconBox,t.WritingMode.horizontal),()=>{const Ai=Re.verticalTextBox;return Ai&&k(Ai),T.allowVerticalPlacement&&!(It&&It.box&&It.box.length)&&je>0&&Ai?Kt(Ai,Re.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),It&&(Ge=It.box,tt=It.offscreen,ot=It.occluded);const Di=Oe(!(!It||!It.box));if(!Ge&&this.prevPlacement){const Ai=this.prevPlacement.variableOffsets[Ze];Ai&&(this.variableOffsets[Ze]=Ai,this.markUsedJustification(T,Ai.anchor,ge,Di))}}else{const Pt=(Kt,Di)=>{const Ai=T.getSymbolInstanceTextSize(d,ge,this.transform.zoom,Ee),Vn=this.collisionIndex.placeCollisionBox(T,Ai,Kt,new t.Point(0,0),O,ae,R,b.predicate);return Vn&&Vn.box&&Vn.box.length&&(this.markUsedOrientation(T,Di,ge),this.placedOrientations[Ze]=Di),Vn};et(()=>Pt(F,t.WritingMode.horizontal),()=>{const Kt=Re.verticalTextBox;return T.allowVerticalPlacement&&je>0&&Kt?(k(Kt),Pt(Kt,t.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Oe(!!(It&&It.box&&It.box.length))}}if(Zt=It,Ge=Zt&&Zt.box&&Zt.box.length>0,tt=Zt&&Zt.offscreen,ot=Zt&&Zt.occluded,ge.useRuntimeCollisionCircles){const Oe=T.text.placedSymbolArray.get(ge.centerJustifiedTextSymbolIndex>=0?ge.centerJustifiedTextSymbolIndex:ge.verticalPlacedTextSymbolIndex),et=t.evaluateSizeForFeature(T.textSizeData,d,Oe),Pt=I.get("text-padding");ci=this.collisionIndex.placeCollisionCircles(T,O,Oe,T.lineVertexArray,T.glyphOffsetArray,et,R,H,$,_,U,b.predicate,ge.collisionCircleDiameter*et/t.ONE_EM,Pt,this.retainedQueryData[T.bucketInstanceId].tileID),Ge=O||ci.circles.length>0&&!ci.collisionDetected,tt=tt&&ci.offscreen,ot=ci.occluded}if(Re.iconFeatureIndex&&(qt=Re.iconFeatureIndex),Re.iconBox){const Oe=et=>{k(et);const Pt=W&&Vt?Ya(Vt.x,Vt.y,z,U,this.transform.angle):new t.Point(0,0),Kt=T.getSymbolInstanceIconSize(p,this.transform.zoom,ge.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(T,Kt,et,Pt,C,ae,R,b.predicate)};Dt&&Dt.box&&Dt.box.length&&Re.verticalIconBox?(jt=Oe(Re.verticalIconBox),lt=jt.box.length>0):(jt=Oe(Re.iconBox),lt=jt.box.length>0),tt=tt&&jt.offscreen,Et=jt.occluded}const K=w||0===ge.numHorizontalGlyphVertices&&0===je,re=D||0===ge.numIconVertices;if(K||re?re?K||(lt=lt&&Ge):Ge=lt&&Ge:lt=Ge=lt&&Ge,Ge&&Zt&&Zt.box&&this.collisionIndex.insertCollisionBox(Zt.box,I.get("text-ignore-placement"),T.bucketInstanceId,Dt&&Dt.box&&Ji?Ji:Ei,b.ID),lt&&jt&&this.collisionIndex.insertCollisionBox(jt.box,I.get("icon-ignore-placement"),T.bucketInstanceId,qt,b.ID),ci&&(Ge&&this.collisionIndex.insertCollisionCircles(ci.circles,I.get("text-ignore-placement"),T.bucketInstanceId,Ei,b.ID),_)){const Oe=T.bucketInstanceId;let et=this.collisionCircleArrays[Oe];void 0===et&&(et=this.collisionCircleArrays[Oe]=new na);for(let Pt=0;Pt<ci.circles.length;Pt+=4)et.circles.push(ci.circles[Pt+0]),et.circles.push(ci.circles[Pt+1]),et.circles.push(ci.circles[Pt+2]),et.circles.push(ci.collisionDetected?1:0)}const me="globe"!==T.projection.name;ce=ce&&(me||!ot),pe=pe&&(me||!Et),this.placements[Ze]=new os(Ge||ce,lt||pe,tt||T.justReloaded),c.add(Ze)};if(ie){const ge=T.getSortedSymbolIndexes(this.transform.angle);for(let Ee=ge.length-1;Ee>=0;--Ee){const Re=ge[Ee];ve(T.symbolInstances.get(Re),Re,T.collisionArrays[Re])}}else for(let ge=r.symbolInstanceStart;ge<r.symbolInstanceEnd;ge++)ve(T.symbolInstances.get(ge),ge,T.collisionArrays[ge]);if(_&&T.bucketInstanceId in this.collisionCircleArrays){const ge=this.collisionCircleArrays[T.bucketInstanceId];t.invert(ge.invProjMatrix,R),ge.viewportMatrix=this.collisionIndex.getViewportMatrix()}T.justReloaded=!1}markUsedJustification(r,c,_,x){const{leftJustifiedTextSymbolIndex:T,centerJustifiedTextSymbolIndex:I,rightJustifiedTextSymbolIndex:R,verticalPlacedTextSymbolIndex:H,crossTileID:$}=_,q=t.getAnchorJustification(c),ae=x===t.WritingMode.vertical?H:"left"===q?T:"center"===q?I:"right"===q?R:-1;T>=0&&(r.text.placedSymbolArray.get(T).crossTileID=ae>=0&&T!==ae?0:$),I>=0&&(r.text.placedSymbolArray.get(I).crossTileID=ae>=0&&I!==ae?0:$),R>=0&&(r.text.placedSymbolArray.get(R).crossTileID=ae>=0&&R!==ae?0:$),H>=0&&(r.text.placedSymbolArray.get(H).crossTileID=ae>=0&&H!==ae?0:$)}markUsedOrientation(r,c,_){const x=c===t.WritingMode.horizontal||c===t.WritingMode.horizontalOnly?c:0,T=c===t.WritingMode.vertical?c:0,{leftJustifiedTextSymbolIndex:I,centerJustifiedTextSymbolIndex:R,rightJustifiedTextSymbolIndex:H,verticalPlacedTextSymbolIndex:$}=_,q=r.text.placedSymbolArray;I>=0&&(q.get(I).placedOrientation=x),R>=0&&(q.get(R).placedOrientation=x),H>=0&&(q.get(H).placedOrientation=x),$>=0&&(q.get($).placedOrientation=T)}commit(r){this.commitTime=r,this.zoomAtLastRecencyCheck=this.transform.zoom;const c=this.prevPlacement;let _=!1;this.prevZoomAdjustment=c?c.zoomAdjustment(this.transform.zoom):0;const x=c?c.symbolFadeChange(r):1,T=c?c.opacities:{},I=c?c.variableOffsets:{},R=c?c.placedOrientations:{};for(const H in this.placements){const $=this.placements[H],q=T[H];q?(this.opacities[H]=new Ra(q,x,$.text,$.icon,null,$.clipped),_=_||$.text!==q.text.placed||$.icon!==q.icon.placed):(this.opacities[H]=new Ra(null,x,$.text,$.icon,$.skipFade,$.clipped),_=_||$.text||$.icon)}for(const H in T){const $=T[H];if(!this.opacities[H]){const q=new Ra($,x,!1,!1);q.isHidden()||(this.opacities[H]=q,_=_||$.text.placed||$.icon.placed)}}for(const H in I)this.variableOffsets[H]||!this.opacities[H]||this.opacities[H].isHidden()||(this.variableOffsets[H]=I[H]);for(const H in R)this.placedOrientations[H]||!this.opacities[H]||this.opacities[H].isHidden()||(this.placedOrientations[H]=R[H]);_?this.lastPlacementChangeTime=r:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=c?c.lastPlacementChangeTime:r)}updateLayerOpacities(r,c){const _=new Set;for(const x of c){const T=x.getBucket(r);T&&x.latestFeatureIndex&&r.id===T.layerIds[0]&&this.updateBucketOpacities(T,_,x.collisionBoxArray)}}updateBucketOpacities(r,c,_){r.hasTextData()&&r.text.opacityVertexArray.clear(),r.hasIconData()&&r.icon.opacityVertexArray.clear(),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexArray.clear(),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexArray.clear();const x=r.layers[0].layout,T=!!r.layers[0].dynamicFilter(),I=new Ra(null,0,!1,!1,!0),R=x.get("text-allow-overlap"),H=x.get("icon-allow-overlap"),$=x.get("text-variable-anchor"),q="map"===x.get("text-rotation-alignment"),ae="map"===x.get("text-pitch-alignment"),a="none"!==x.get("icon-text-fit"),l=new Ra(null,0,R&&(H||!r.hasIconData()||x.get("icon-optional")),H&&(R||!r.hasTextData()||x.get("text-optional")),!0);!r.collisionArrays&&_&&(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData())&&r.deserializeCollisionBoxes(_);const d=(b,w,D)=>{for(let O=0;O<w/4;O++)b.opacityVertexArray.emplaceBack(D)};let p=0;for(let b=0;b<r.symbolInstances.length;b++){const w=r.symbolInstances.get(b),{numHorizontalGlyphVertices:D,numVerticalGlyphVertices:O,crossTileID:C,numIconVertices:z}=w,U=c.has(C);let W=this.opacities[C];U?W=I:W||(W=l,this.opacities[C]=W),c.add(C);const ie=D>0||O>0,ce=z>0,pe=this.placedOrientations[C],ve=pe===t.WritingMode.vertical,ge=pe===t.WritingMode.horizontal||pe===t.WritingMode.horizontalOnly;if(!ie&&!ce||W.isHidden()||p++,ie){const Ee=fo(W.text);d(r.text,D,ve?Vi:Ee),d(r.text,O,ge?Vi:Ee);const Re=W.text.isHidden(),{leftJustifiedTextSymbolIndex:Ze,centerJustifiedTextSymbolIndex:je,rightJustifiedTextSymbolIndex:Ge,verticalPlacedTextSymbolIndex:lt}=w,tt=r.text.placedSymbolArray,ot=Re||ve?1:0;Ze>=0&&(tt.get(Ze).hidden=ot),je>=0&&(tt.get(je).hidden=ot),Ge>=0&&(tt.get(Ge).hidden=ot),lt>=0&&(tt.get(lt).hidden=Re||ge?1:0);const Et=this.variableOffsets[C];Et&&this.markUsedJustification(r,Et.anchor,w,pe);const Vt=this.placedOrientations[C];Vt&&(this.markUsedJustification(r,"left",w,Vt),this.markUsedOrientation(r,Vt,w))}if(ce){const Ee=fo(W.icon),{placedIconSymbolIndex:Re,verticalPlacedIconSymbolIndex:Ze}=w,je=r.icon.placedSymbolArray,Ge=W.icon.isHidden()?1:0;Re>=0&&(d(r.icon,z,ve?Vi:Ee),je.get(Re).hidden=Ge),Ze>=0&&(d(r.icon,w.numVerticalIconVertices,ge?Vi:Ee),je.get(Ze).hidden=Ge)}if(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData()){const Ee=r.collisionArrays[b];if(Ee){let Re=new t.Point(0,0),Ze=!0;if(Ee.textBox||Ee.verticalTextBox){if($){const Ge=this.variableOffsets[C];Ge?(Re=Fa(Ge.anchor,Ge.width,Ge.height,Ge.textOffset,Ge.textScale),q&&Re._rotate(ae?this.transform.angle:-this.transform.angle)):Ze=!1}T&&(Ze=!W.clipped),Ee.textBox&&Es(r.textCollisionBox.collisionVertexArray,W.text.placed,!Ze||ve,Re.x,Re.y),Ee.verticalTextBox&&Es(r.textCollisionBox.collisionVertexArray,W.text.placed,!Ze||ge,Re.x,Re.y)}const je=Ze&&Boolean(!ge&&Ee.verticalIconBox);Ee.iconBox&&Es(r.iconCollisionBox.collisionVertexArray,W.icon.placed,je,a?Re.x:0,a?Re.y:0),Ee.verticalIconBox&&Es(r.iconCollisionBox.collisionVertexArray,W.icon.placed,!je,a?Re.x:0,a?Re.y:0)}}}if(r.fullyClipped=0===p,r.sortFeatures(this.transform.angle),this.retainedQueryData[r.bucketInstanceId]&&(this.retainedQueryData[r.bucketInstanceId].featureSortOrder=r.featureSortOrder),r.hasTextData()&&r.text.opacityVertexBuffer&&r.text.opacityVertexBuffer.updateData(r.text.opacityVertexArray),r.hasIconData()&&r.icon.opacityVertexBuffer&&r.icon.opacityVertexBuffer.updateData(r.icon.opacityVertexArray),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexBuffer&&r.iconCollisionBox.collisionVertexBuffer.updateData(r.iconCollisionBox.collisionVertexArray),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexBuffer&&r.textCollisionBox.collisionVertexBuffer.updateData(r.textCollisionBox.collisionVertexArray),r.bucketInstanceId in this.collisionCircleArrays){const b=this.collisionCircleArrays[r.bucketInstanceId];r.placementInvProjMatrix=b.invProjMatrix,r.placementViewportMatrix=b.viewportMatrix,r.collisionCircleArray=b.circles,delete this.collisionCircleArrays[r.bucketInstanceId]}}symbolFadeChange(r){return 0===this.fadeDuration?1:(r-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(r){return Math.max(0,(this.transform.zoom-r)/1.5)}hasTransitions(r){return this.stale||r-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(r,c){const _=this.zoomAtLastRecencyCheck===c?1-this.zoomAdjustment(c):1;return this.zoomAtLastRecencyCheck=c,this.commitTime+this.fadeDuration*_>r}setStale(){this.stale=!0}}function Es(h,r,c,_,x){h.emplaceBack(r?1:0,c?1:0,_||0,x||0),h.emplaceBack(r?1:0,c?1:0,_||0,x||0),h.emplaceBack(r?1:0,c?1:0,_||0,x||0),h.emplaceBack(r?1:0,c?1:0,_||0,x||0)}const Bn=Math.pow(2,25),Ln=Math.pow(2,24),dl=Math.pow(2,17),No=Math.pow(2,16),dr=Math.pow(2,9),Zr=Math.pow(2,8),Bl=Math.pow(2,1);function fo(h){if(0===h.opacity&&!h.placed)return 0;if(1===h.opacity&&h.placed)return 4294967295;const r=h.placed?1:0,c=Math.floor(127*h.opacity);return c*Bn+r*Ln+c*dl+r*No+c*dr+r*Zr+c*Bl+r}const Vi=0;class mo{constructor(r){this._sortAcrossTiles="viewport-y"!==r.layout.get("symbol-z-order")&&void 0!==r.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(r,c,_,x,T){const I=this._bucketParts;for(;this._currentTileIndex<r.length;)if(c.getBucketParts(I,x,r[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,T())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,I.sort((R,H)=>R.sortKey-H.sortKey));this._currentPartIndex<I.length;){const R=I[this._currentPartIndex];if(c.placeLayerBucketPart(R,this._seenCrossTileIDs,_,0===R.symbolInstanceStart),this._currentPartIndex++,T())return!0}return!1}}class _o{constructor(r,c,_,x,T,I,R,H){this.placement=new Ir(r,T,I,R,H),this._currentPlacementIndex=c.length-1,this._forceFullPlacement=_,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(r,c,_){const x=t.exported.now(),T=()=>{const I=t.exported.now()-x;return!this._forceFullPlacement&&I>2};for(;this._currentPlacementIndex>=0;){const I=c[r[this._currentPlacementIndex]],R=this.placement.collisionIndex.transform.zoom;if("symbol"===I.type&&(!I.minzoom||I.minzoom<=R)&&(!I.maxzoom||I.maxzoom>R)){if(this._inProgressLayer||(this._inProgressLayer=new mo(I)),this._inProgressLayer.continuePlacement(_[I.source],this.placement,this._showCollisionBoxes,I,T))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(r){return this.placement.commit(r),this.placement}}const za=512/t.EXTENT/2;class Sn{constructor(r,c,_){this.tileID=r,this.bucketInstanceId=_,this.index=new t.KDBush(c.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const x=r.canonical.x*t.EXTENT,T=r.canonical.y*t.EXTENT;for(let I=0;I<c.length;I++){const{key:R,crossTileID:H,tileAnchorX:$,tileAnchorY:q}=c.get(I),ae=Math.floor((x+$)*za),a=Math.floor((T+q)*za);this.index.add(ae,a),this.keys.push(R),this.crossTileIDs.push(H)}this.index.finish()}findMatches(r,c,_){const x=this.tileID.canonical.z<c.canonical.z?1:Math.pow(2,this.tileID.canonical.z-c.canonical.z),T=za/Math.pow(2,c.canonical.z-this.tileID.canonical.z),I=c.canonical.x*t.EXTENT,R=c.canonical.y*t.EXTENT;for(let H=0;H<r.length;H++){const $=r.get(H);if($.crossTileID)continue;const{key:q,tileAnchorX:ae,tileAnchorY:a}=$,l=Math.floor((I+ae)*T),d=Math.floor((R+a)*T),p=this.index.range(l-x,d-x,l+x,d+x);for(const b of p){const w=this.crossTileIDs[b];if(this.keys[b]===q&&!_.has(w)){_.add(w),$.crossTileID=w;break}}}}}class xr{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class $s{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(r){const c=Math.round((r-this.lng)/360);if(0!==c)for(const _ in this.indexes){const x=this.indexes[_],T={};for(const I in x){const R=x[I];R.tileID=R.tileID.unwrapTo(R.tileID.wrap+c),T[R.tileID.key]=R}this.indexes[_]=T}this.lng=r}addBucket(r,c,_){if(this.indexes[r.overscaledZ]&&this.indexes[r.overscaledZ][r.key]){if(this.indexes[r.overscaledZ][r.key].bucketInstanceId===c.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(r.overscaledZ,this.indexes[r.overscaledZ][r.key])}for(let T=0;T<c.symbolInstances.length;T++)c.symbolInstances.get(T).crossTileID=0;this.usedCrossTileIDs[r.overscaledZ]||(this.usedCrossTileIDs[r.overscaledZ]=new Set);const x=this.usedCrossTileIDs[r.overscaledZ];for(const T in this.indexes){const I=this.indexes[T];if(Number(T)>r.overscaledZ)for(const R in I){const H=I[R];H.tileID.isChildOf(r)&&H.findMatches(c.symbolInstances,r,x)}else{const R=I[r.scaledTo(Number(T)).key];R&&R.findMatches(c.symbolInstances,r,x)}}for(let T=0;T<c.symbolInstances.length;T++){const I=c.symbolInstances.get(T);I.crossTileID||(I.crossTileID=_.generate(),x.add(I.crossTileID))}return void 0===this.indexes[r.overscaledZ]&&(this.indexes[r.overscaledZ]={}),this.indexes[r.overscaledZ][r.key]=new Sn(r,c.symbolInstances,c.bucketInstanceId),!0}removeBucketCrossTileIDs(r,c){for(const _ of c.crossTileIDs)this.usedCrossTileIDs[r].delete(_)}removeStaleBuckets(r){let c=!1;for(const _ in this.indexes){const x=this.indexes[_];for(const T in x)r[x[T].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,x[T]),delete x[T],c=!0)}return c}}class qr{constructor(){this.layerIndexes={},this.crossTileIDs=new xr,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(r,c,_,x){let T=this.layerIndexes[r.id];void 0===T&&(T=this.layerIndexes[r.id]=new $s);let I=!1;const R={};"globe"!==x.name&&T.handleWrapJump(_);for(const H of c){const $=H.getBucket(r);$&&r.id===$.layerIds[0]&&($.bucketInstanceId||($.bucketInstanceId=++this.maxBucketInstanceId),T.addBucket(H.tileID,$,this.crossTileIDs)&&(I=!0),R[$.bucketInstanceId]=!0)}return T.removeStaleBuckets(R)&&(I=!0),I}pruneUnusedLayers(r){const c={};r.forEach(_=>{c[_]=!0});for(const _ in this.layerIndexes)c[_]||delete this.layerIndexes[_]}}const ar=(h,r)=>t.emitValidationErrors(h,r&&r.filter(c=>"source.canvas"!==c.identifier)),cs=t.pick(hi,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Xs=t.pick(hi,["setCenter","setZoom","setBearing","setPitch"]),As={version:8,layers:[],sources:{}},$r={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class nr extends t.Evented{constructor(r,c={}){super(),this.map=r,this.dispatcher=new on(mn(),this),this.imageManager=new Yt,this.imageManager.setEventedParent(this),this.glyphManager=new t.GlyphManager(r._requestManager,c.localFontFamily?t.LocalGlyphMode.all:c.localIdeographFontFamily?t.LocalGlyphMode.ideographs:t.LocalGlyphMode.none,c.localFontFamily||c.localIdeographFontFamily),this.crossTileSymbolIndex=new qr,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());const _=this;this._rtlTextPluginCallback=nr.registerForPluginStateChange(x=>{_.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:x.pluginStatus,pluginURL:x.pluginURL},(T,I)=>{if(t.triggerPluginCompletionEvent(T),I&&I.every(R=>R))for(const R in _._sourceCaches){const H=_._sourceCaches[R],$=H.getSource().type;"vector"!==$&&"geojson"!==$||H.reload()}})}),this.on("data",x=>{if("source"!==x.dataType||"metadata"!==x.sourceDataType)return;const T=this.getSource(x.sourceId);if(T&&T.vectorLayerIds)for(const I in this._layers){const R=this._layers[I];R.source===T.id&&this._validateLayer(R)}})}loadURL(r,c={}){this.fire(new t.Event("dataloading",{dataType:"style"}));const _="boolean"==typeof c.validate?c.validate:!t.isMapboxURL(r);r=this.map._requestManager.normalizeStyleURL(r,c.accessToken);const x=this.map._requestManager.transformRequest(r,t.ResourceType.Style);this._request=t.getJSON(x,(T,I)=>{this._request=null,T?this.fire(new t.ErrorEvent(T)):I&&this._load(I,_)})}loadJSON(r,c={}){this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.exported.frame(()=>{this._request=null,this._load(r,!1!==c.validate)})}loadEmpty(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(As,!1)}_updateLayerCount(r,c){const _=c?1:-1;r.is3D()&&(this._num3DLayers+=_),"circle"===r.type&&(this._numCircleLayers+=_),"symbol"===r.type&&(this._numSymbolLayers+=_)}_load(r,c){if(c&&ar(this,t.validateStyle(r)))return;this._loaded=!0,this.stylesheet=t.clone$1(r),this._updateMapProjection();for(const x in r.sources)this.addSource(x,r.sources[x],{validate:!1});this._changed=!1,r.sprite?this._loadSprite(r.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(r.glyphs);const _=Nn(this.stylesheet.layers);this._order=_.map(x=>x.id),this._layers={},this._serializedLayers={};for(const x of _){const T=t.createStyleLayer(x);T.setEventedParent(this,{layer:{id:T.id}}),this._layers[T.id]=T,this._serializedLayers[T.id]=T.serialize(),this._updateLayerCount(T,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Wt(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(r){r?this.stylesheet.projection=r:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(r){this._spriteRequest=function(c,_,x){let T,I,R;const H=t.exported.devicePixelRatio>1?"@2x":"";let $=t.getJSON(_.transformRequest(_.normalizeSpriteURL(c,H,".json"),t.ResourceType.SpriteJSON),(a,l)=>{$=null,R||(R=a,T=l,ae())}),q=t.getImage(_.transformRequest(_.normalizeSpriteURL(c,H,".png"),t.ResourceType.SpriteImage),(a,l)=>{q=null,R||(R=a,I=l,ae())});function ae(){if(R)x(R);else if(T&&I){const a=t.exported.getImageData(I),l={};for(const d in T){const{width:p,height:b,x:w,y:D,sdf:O,pixelRatio:C,stretchX:z,stretchY:U,content:W}=T[d],ie=new t.RGBAImage({width:p,height:b});t.RGBAImage.copy(a,ie,{x:w,y:D},{x:0,y:0},{width:p,height:b}),l[d]={data:ie,pixelRatio:C,sdf:O,stretchX:z,stretchY:U,content:W}}x(null,l)}}return{cancel(){$&&($.cancel(),$=null),q&&(q.cancel(),q=null)}}}(r,this.map._requestManager,(c,_)=>{if(this._spriteRequest=null,c)this.fire(new t.ErrorEvent(c));else if(_)for(const x in _)this.imageManager.addImage(x,_[x]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new t.Event("data",{dataType:"style"}))})}_validateLayer(r){const c=this.getSource(r.source);if(!c)return;const _=r.sourceLayer;_&&("geojson"===c.type||c.vectorLayerIds&&-1===c.vectorLayerIds.indexOf(_))&&this.fire(new t.ErrorEvent(new Error(`Source layer "${_}" does not exist on source "${c.id}" as specified by style layer "${r.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const r in this._sourceCaches)if(!this._sourceCaches[r].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(r){const c=[];for(const _ of r){const x=this._layers[_];"custom"!==x.type&&c.push(x.serialize())}return c}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const r in this._sourceCaches)if(this._sourceCaches[r].hasTransition())return!0;for(const r in this._layers)if(this._layers[r].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(r){return!!this.terrain&&("function"==typeof r.isLayerDraped?r.isLayerDraped():$r[r.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(r){if(!this._loaded)return;const c=this._changed;if(this._changed){const x=Object.keys(this._updatedLayers),T=Object.keys(this._removedLayers);(x.length||T.length)&&this._updateWorkerLayers(x,T);for(const I in this._updatedSources){const R=this._updatedSources[I];"reload"===R?this._reloadSource(I):"clear"===R&&this._clearSource(I)}this._updateTilesForChangedImages();for(const I in this._updatedPaintProps)this._layers[I].updateTransitions(r);this.light.updateTransitions(r),this.fog&&this.fog.updateTransitions(r),this._resetUpdates()}const _={};for(const x in this._sourceCaches){const T=this._sourceCaches[x];_[x]=T.used,T.used=!1}for(const x of this._order){const T=this._layers[x];if(T.recalculate(r,this._availableImages),!T.isHidden(r.zoom)){const R=this._getLayerSourceCache(T);R&&(R.used=!0)}const I=this.map.painter;if(I){const R=T.getProgramIds();if(!R)continue;const H=T.getProgramConfiguration(r.zoom);for(const $ of R)I.useProgram($,H)}}for(const x in _){const T=this._sourceCaches[x];_[x]!==T.used&&T.getSource().fire(new t.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:T.getSource().id}))}this.light.recalculate(r),this.terrain&&this.terrain.recalculate(r),this.fog&&this.fog.recalculate(r),this.z=r.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),c&&this.fire(new t.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const r=Object.keys(this._changedImages);if(r.length){for(const c in this._sourceCaches)this._sourceCaches[c].reloadTilesForDependencies(["icons","patterns"],r);this._changedImages={}}}_updateWorkerLayers(r,c){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(r),removedIds:c})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(r){if(this._checkLoaded(),ar(this,t.validateStyle(r)))return!1;(r=t.clone$1(r)).layers=Nn(r.layers);const c=function(x,T){if(!x)return[{command:hi.setStyle,args:[T]}];let I=[];try{if(!P(x.version,T.version))return[{command:hi.setStyle,args:[T]}];P(x.center,T.center)||I.push({command:hi.setCenter,args:[T.center]}),P(x.zoom,T.zoom)||I.push({command:hi.setZoom,args:[T.zoom]}),P(x.bearing,T.bearing)||I.push({command:hi.setBearing,args:[T.bearing]}),P(x.pitch,T.pitch)||I.push({command:hi.setPitch,args:[T.pitch]}),P(x.sprite,T.sprite)||I.push({command:hi.setSprite,args:[T.sprite]}),P(x.glyphs,T.glyphs)||I.push({command:hi.setGlyphs,args:[T.glyphs]}),P(x.transition,T.transition)||I.push({command:hi.setTransition,args:[T.transition]}),P(x.light,T.light)||I.push({command:hi.setLight,args:[T.light]}),P(x.fog,T.fog)||I.push({command:hi.setFog,args:[T.fog]}),P(x.projection,T.projection)||I.push({command:hi.setProjection,args:[T.projection]});const R={},H=[];!function(ae,a,l,d){let p;for(p in a=a||{},ae=ae||{})ae.hasOwnProperty(p)&&(a.hasOwnProperty(p)||br(p,l,d));for(p in a){if(!a.hasOwnProperty(p))continue;const b=a[p];ae.hasOwnProperty(p)?P(ae[p],b)||("geojson"===ae[p].type&&"geojson"===b.type&&zr(ae,a,p)?l.push({command:hi.setGeoJSONSourceData,args:[p,b.data]}):po(p,a,l,d)):Yr(p,a,l)}}(x.sources,T.sources,H,R);const $=[];x.layers&&x.layers.forEach(ae=>{ae.source&&R[ae.source]?I.push({command:hi.removeLayer,args:[ae.id]}):$.push(ae)});let q=x.terrain;q&&R[q.source]&&(I.push({command:hi.setTerrain,args:[void 0]}),q=void 0),I=I.concat(H),P(q,T.terrain)||I.push({command:hi.setTerrain,args:[T.terrain]}),function(ae,a,l){a=a||[];const d=(ae=ae||[]).map(an),p=a.map(an),b=ae.reduce(Cs,{}),w=a.reduce(Cs,{}),D=d.slice(),O=Object.create(null);let C,z,U,W,ie,ce,pe;for(C=0,z=0;C<d.length;C++)U=d[C],w.hasOwnProperty(U)?z++:(l.push({command:hi.removeLayer,args:[U]}),D.splice(D.indexOf(U,z),1));for(C=0,z=0;C<p.length;C++)U=p[p.length-1-C],D[D.length-1-C]!==U&&(b.hasOwnProperty(U)?(l.push({command:hi.removeLayer,args:[U]}),D.splice(D.lastIndexOf(U,D.length-z),1)):z++,ce=D[D.length-C],l.push({command:hi.addLayer,args:[w[U],ce]}),D.splice(D.length-C,0,U),O[U]=!0);for(C=0;C<p.length;C++)if(U=p[C],W=b[U],ie=w[U],!O[U]&&!P(W,ie))if(P(W.source,ie.source)&&P(W["source-layer"],ie["source-layer"])&&P(W.type,ie.type)){for(pe in yn(W.layout,ie.layout,l,U,null,hi.setLayoutProperty),yn(W.paint,ie.paint,l,U,null,hi.setPaintProperty),P(W.filter,ie.filter)||l.push({command:hi.setFilter,args:[U,ie.filter]}),P(W.minzoom,ie.minzoom)&&P(W.maxzoom,ie.maxzoom)||l.push({command:hi.setLayerZoomRange,args:[U,ie.minzoom,ie.maxzoom]}),W)W.hasOwnProperty(pe)&&"layout"!==pe&&"paint"!==pe&&"filter"!==pe&&"metadata"!==pe&&"minzoom"!==pe&&"maxzoom"!==pe&&(0===pe.indexOf("paint.")?yn(W[pe],ie[pe],l,U,pe.slice(6),hi.setPaintProperty):P(W[pe],ie[pe])||l.push({command:hi.setLayerProperty,args:[U,pe,ie[pe]]}));for(pe in ie)ie.hasOwnProperty(pe)&&!W.hasOwnProperty(pe)&&"layout"!==pe&&"paint"!==pe&&"filter"!==pe&&"metadata"!==pe&&"minzoom"!==pe&&"maxzoom"!==pe&&(0===pe.indexOf("paint.")?yn(W[pe],ie[pe],l,U,pe.slice(6),hi.setPaintProperty):P(W[pe],ie[pe])||l.push({command:hi.setLayerProperty,args:[U,pe,ie[pe]]}))}else l.push({command:hi.removeLayer,args:[U]}),ce=D[D.lastIndexOf(U)+1],l.push({command:hi.addLayer,args:[ie,ce]})}($,T.layers,I)}catch(R){console.warn("Unable to compute style diff:",R),I=[{command:hi.setStyle,args:[T]}]}return I}(this.serialize(),r).filter(x=>!(x.command in Xs));if(0===c.length)return!1;const _=c.filter(x=>!(x.command in cs));if(_.length>0)throw new Error(`Unimplemented: ${_.map(x=>x.command).join(", ")}.`);return c.forEach(x=>{"setTransition"!==x.command&&"setProjection"!==x.command&&this[x.command].apply(this,x.args)}),this.stylesheet=r,this._updateMapProjection(),!0}addImage(r,c){return this.getImage(r)?this.fire(new t.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(r,c),this._afterImageUpdated(r),this)}updateImage(r,c){this.imageManager.updateImage(r,c)}getImage(r){return this.imageManager.getImage(r)}removeImage(r){return this.getImage(r)?(this.imageManager.removeImage(r),this._afterImageUpdated(r),this):this.fire(new t.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(r){this._availableImages=this.imageManager.listImages(),this._changedImages[r]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(r,c,_={}){if(this._checkLoaded(),void 0!==this.getSource(r))throw new Error("There is already a source with this ID");if(!c.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(c).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(c.type)>=0&&this._validate(t.validateSource,`sources.${r}`,c,null,_))return;this.map&&this.map._collectResourceTiming&&(c.collectResourceTiming=!0);const x=_t(r,c,this.dispatcher,this);x.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(r),source:x.serialize(),sourceId:r}));const T=I=>{const R=(I?"symbol:":"other:")+r,H=this._sourceCaches[R]=new t.SourceCache(R,x,I);(I?this._symbolSourceCaches:this._otherSourceCaches)[r]=H,H.style=this,H.onAdd(this.map)};T(!1),"vector"!==c.type&&"geojson"!==c.type||T(!0),x.onAdd&&x.onAdd(this.map),this._changed=!0}removeSource(r){this._checkLoaded();const c=this.getSource(r);if(!c)throw new Error("There is no source with this ID");for(const x in this._layers)if(this._layers[x].source===r)return this.fire(new t.ErrorEvent(new Error(`Source "${r}" cannot be removed while layer "${x}" is using it.`)));if(this.terrain&&this.terrain.get().source===r)return this.fire(new t.ErrorEvent(new Error(`Source "${r}" cannot be removed while terrain is using it.`)));const _=this._getSourceCaches(r);for(const x of _)delete this._sourceCaches[x.id],delete this._updatedSources[x.id],x.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:x.getSource().id})),x.setEventedParent(null),x.clearTiles();return delete this._otherSourceCaches[r],delete this._symbolSourceCaches[r],c.setEventedParent(null),c.onRemove&&c.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(r,c){this._checkLoaded(),this.getSource(r).setData(c),this._changed=!0}getSource(r){const c=this._getSourceCache(r);return c&&c.getSource()}_getSources(){const r=[];for(const c in this._otherSourceCaches){const _=this._getSourceCache(c);_&&r.push(_.getSource())}return r}addLayer(r,c,_={}){this._checkLoaded();const x=r.id;if(this.getLayer(x))return void this.fire(new t.ErrorEvent(new Error(`Layer with id "${x}" already exists on this map`)));let T;if("custom"===r.type){if(ar(this,t.validateCustomStyleLayer(r)))return;T=t.createStyleLayer(r)}else{if("object"==typeof r.source&&(this.addSource(x,r.source),r=t.clone$1(r),r=t.extend(r,{source:x})),this._validate(t.validateLayer,`layers.${x}`,r,{arrayIndex:-1},_))return;T=t.createStyleLayer(r),this._validateLayer(T),T.setEventedParent(this,{layer:{id:x}}),this._serializedLayers[T.id]=T.serialize(),this._updateLayerCount(T,!0)}const I=c?this._order.indexOf(c):this._order.length;if(c&&-1===I)return void this.fire(new t.ErrorEvent(new Error(`Layer with id "${c}" does not exist on this map.`)));this._order.splice(I,0,x),this._layerOrderChanged=!0,this._layers[x]=T;const R=this._getLayerSourceCache(T);if(this._removedLayers[x]&&T.source&&R&&"custom"!==T.type){const H=this._removedLayers[x];delete this._removedLayers[x],H.type!==T.type?this._updatedSources[T.source]="clear":(this._updatedSources[T.source]="reload",R.pause())}this._updateLayer(T),T.onAdd&&T.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(r,c){if(this._checkLoaded(),this._changed=!0,!this._layers[r])return void this.fire(new t.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be moved.`)));if(r===c)return;const _=this._order.indexOf(r);this._order.splice(_,1);const x=c?this._order.indexOf(c):this._order.length;c&&-1===x?this.fire(new t.ErrorEvent(new Error(`Layer with id "${c}" does not exist on this map.`))):(this._order.splice(x,0,r),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(r){this._checkLoaded();const c=this._layers[r];if(!c)return void this.fire(new t.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be removed.`)));c.setEventedParent(null),this._updateLayerCount(c,!1);const _=this._order.indexOf(r);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[r]=c,delete this._layers[r],delete this._serializedLayers[r],delete this._updatedLayers[r],delete this._updatedPaintProps[r],c.onRemove&&c.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(r){return this._layers[r]}hasLayer(r){return r in this._layers}hasLayerType(r){for(const c in this._layers)if(this._layers[c].type===r)return!0;return!1}setLayerZoomRange(r,c,_){this._checkLoaded();const x=this.getLayer(r);x?x.minzoom===c&&x.maxzoom===_||(null!=c&&(x.minzoom=c),null!=_&&(x.maxzoom=_),this._updateLayer(x)):this.fire(new t.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(r,c,_={}){this._checkLoaded();const x=this.getLayer(r);if(x){if(!P(x.filter,c))return null==c?(x.filter=void 0,void this._updateLayer(x)):void(this._validate(t.validateFilter,`layers.${x.id}.filter`,c,{layerType:x.type},_)||(x.filter=t.clone$1(c),this._updateLayer(x)))}else this.fire(new t.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be filtered.`)))}getFilter(r){const c=this.getLayer(r);return c&&t.clone$1(c.filter)}setLayoutProperty(r,c,_,x={}){this._checkLoaded();const T=this.getLayer(r);T?P(T.getLayoutProperty(c),_)||(T.setLayoutProperty(c,_,x),this._updateLayer(T)):this.fire(new t.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(r,c){const _=this.getLayer(r);if(_)return _.getLayoutProperty(c);this.fire(new t.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style.`)))}setPaintProperty(r,c,_,x={}){this._checkLoaded();const T=this.getLayer(r);T?P(T.getPaintProperty(c),_)||(T.setPaintProperty(c,_,x)&&this._updateLayer(T),this._changed=!0,this._updatedPaintProps[r]=!0):this.fire(new t.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(r,c){const _=this.getLayer(r);return _&&_.getPaintProperty(c)}setFeatureState(r,c){this._checkLoaded();const _=r.source,x=r.sourceLayer,T=this.getSource(_);if(!T)return void this.fire(new t.ErrorEvent(new Error(`The source '${_}' does not exist in the map's style.`)));const I=T.type;if("geojson"===I&&x)return void this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===I&&!x)return void this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===r.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided.")));const R=this._getSourceCaches(_);for(const H of R)H.setFeatureState(x,r.id,c)}removeFeatureState(r,c){this._checkLoaded();const _=r.source,x=this.getSource(_);if(!x)return void this.fire(new t.ErrorEvent(new Error(`The source '${_}' does not exist in the map's style.`)));const T=x.type,I="vector"===T?r.sourceLayer:void 0;if("vector"===T&&!I)return void this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(c&&"string"!=typeof r.id&&"number"!=typeof r.id)return void this.fire(new t.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const R=this._getSourceCaches(_);for(const H of R)H.removeFeatureState(I,r.id,c)}getFeatureState(r){this._checkLoaded();const c=r.source,_=r.sourceLayer,x=this.getSource(c);if(x){if("vector"!==x.type||_)return void 0===r.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(c)[0].getFeatureState(_,r.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error(`The source '${c}' does not exist in the map's style.`)))}getTransition(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const r={};for(const c in this._sourceCaches){const _=this._sourceCaches[c].getSource();r[_.id]||(r[_.id]=_.serialize())}return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:r,layers:this._serializeLayers(this._order)},c=>void 0!==c)}_updateLayer(r){this._updatedLayers[r.id]=!0;const c=this._getLayerSourceCache(r);r.source&&!this._updatedSources[r.source]&&c&&"raster"!==c.getSource().type&&(this._updatedSources[r.source]="reload",c.pause()),this._changed=!0,r.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(r){const c=I=>"fill-extrusion"===this._layers[I].type,_={},x=[];for(let I=this._order.length-1;I>=0;I--){const R=this._order[I];if(c(R)){_[R]=I;for(const H of r){const $=H[R];if($)for(const q of $)x.push(q)}}}x.sort((I,R)=>R.intersectionZ-I.intersectionZ);const T=[];for(let I=this._order.length-1;I>=0;I--){const R=this._order[I];if(c(R))for(let H=x.length-1;H>=0;H--){const $=x[H].feature;if(_[$.layer.id]<I)break;T.push($),x.pop()}else for(const H of r){const $=H[R];if($)for(const q of $)T.push(q.feature)}}return T}queryRenderedFeatures(r,c,_){c&&c.filter&&this._validate(t.validateFilter,"queryRenderedFeatures.filter",c.filter,null,c);const x={};if(c&&c.layers){if(!Array.isArray(c.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const H of c.layers){const $=this._layers[H];if(!$)return this.fire(new t.ErrorEvent(new Error(`The layer '${H}' does not exist in the map's style and cannot be queried for features.`))),[];x[$.source]=!0}}const T=[];c.availableImages=this._availableImages;const I=c&&c.layers?c.layers.some(H=>{const $=this.getLayer(H);return $&&$.is3D()}):this.has3DLayers(),R=On.createFromScreenPoints(r,_);for(const H in this._sourceCaches){const $=this._sourceCaches[H].getSource().id;c.layers&&!x[$]||T.push(pn(this._sourceCaches[H],this._layers,this._serializedLayers,R,c,_,I,!!this.map._showQueryGeometry))}return this.placement&&T.push(function(H,$,q,ae,a,l,d){const p={},b=l.queryRenderedSymbols(ae),w=[];for(const D of Object.keys(b).map(Number))w.push(d[D]);w.sort(Dn);for(const D of w){const O=D.featureIndex.lookupSymbolFeatures(b[D.bucketInstanceId],$,D.bucketIndex,D.sourceLayerIndex,a.filter,a.layers,a.availableImages,H);for(const C in O){const z=p[C]=p[C]||[],U=O[C];U.sort((W,ie)=>{const ce=D.featureSortOrder;if(ce){const pe=ce.indexOf(W.featureIndex);return ce.indexOf(ie.featureIndex)-pe}return ie.featureIndex-W.featureIndex});for(const W of U)z.push(W)}}for(const D in p)p[D].forEach(O=>{const C=O.feature,z=q(H[D]);if(!z)return;const U=z.getFeatureState(C.layer["source-layer"],C.id);C.source=C.layer.source,C.layer["source-layer"]&&(C.sourceLayer=C.layer["source-layer"]),C.state=U});return p}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),R.screenGeometry,c,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(T)}querySourceFeatures(r,c){c&&c.filter&&this._validate(t.validateFilter,"querySourceFeatures.filter",c.filter,null,c);const _=this._getSourceCaches(r);let x=[];for(const T of _)x=x.concat(ji(T,c));return x}addSourceType(r,c,_){return nr.getSourceType(r)?_(new Error(`A source type called "${r}" already exists.`)):(nr.setSourceType(r,c),c.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:r,url:c.workerSourceURL},_):_(null,null))}getLight(){return this.light.getLight()}setLight(r,c={}){this._checkLoaded();const _=this.light.getLight();let x=!1;for(const I in r)if(!P(r[I],_[I])){x=!0;break}if(!x)return;const T=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(r,c),this.light.updateTransitions(T)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(r,c=1){if(this._checkLoaded(),!r)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let _=r;if(1===c){if("object"==typeof _.source){const x="terrain-dem-src";this.addSource(x,_.source),_=t.clone$1(_),_=t.extend(_,{source:x})}if(this._validate(t.validateTerrain,"terrain",_))return}if(!this.terrain||this.terrain&&c!==this.terrain.drapeRenderMode){if(!_)return;this._createTerrain(_,c)}else{const x=this.terrain,T=x.get();for(const I of Object.keys(t.spec.terrain))!_.hasOwnProperty(I)&&t.spec.terrain[I].default&&(_[I]=t.spec.terrain[I].default);for(const I in _)if(!P(_[I],T[I])){x.set(_),this.stylesheet.terrain=_;const R=this._setTransitionParameters({duration:0});x.updateTransitions(R);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(r){const c=this.fog=new Mn(r,this.map.transform);this.stylesheet.fog=r;const _=this._setTransitionParameters({duration:0});c.updateTransitions(_)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const r of this.map._markers)r._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(r){if(this._checkLoaded(),!r)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const c=this.fog,_=c.get();0===Object.keys(r).length&&c.set(r);for(const x in r)if(!P(r[x],_[x])){c.set(r),this.stylesheet.fog=r;const T=this._setTransitionParameters({duration:0});c.updateTransitions(T);break}}else this._createFog(r);this._markersNeedUpdate=!0}_setTransitionParameters(r){return{now:t.exported.now(),transition:t.extend(r,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const r=this._order.filter(_=>this.isLayerDraped(this._layers[_])),c=this._order.filter(_=>!this.isLayerDraped(this._layers[_]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...r),this._drapedFirstOrder.push(...c)}_createTerrain(r,c){const _=this.terrain=new wi(r,c);this.stylesheet.terrain=r,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const x=this._setTransitionParameters({duration:0});_.updateTransitions(x)}_force3DLayerUpdate(){for(const r in this._layers){const c=this._layers[r];"fill-extrusion"===c.type&&this._updateLayer(c)}}_forceSymbolLayerUpdate(){for(const r in this._layers){const c=this._layers[r];"symbol"===c.type&&this._updateLayer(c)}}_validate(r,c,_,x,T={}){return(!T||!1!==T.validate)&&ar(this,r.call(t.validateStyle,t.extend({key:c,style:this.serialize(),value:_,styleSpec:t.spec},x)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const r in this._layers)this._layers[r].setEventedParent(null);for(const r in this._sourceCaches)this._sourceCaches[r].clearTiles(),this._sourceCaches[r].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(r){const c=this._getSourceCaches(r);for(const _ of c)_.clearTiles()}_reloadSource(r){const c=this._getSourceCaches(r);for(const _ of c)_.resume(),_.reload()}_reloadSources(){for(const r of this._getSources())r.reload&&r.reload()}_updateSources(r){for(const c in this._sourceCaches)this._sourceCaches[c].update(r)}_generateCollisionBoxes(){for(const r in this._sourceCaches){const c=this._sourceCaches[r];c.resume(),c.reload()}}_updatePlacement(r,c,_,x,T=!1){let I=!1,R=!1;const H={};for(const $ of this._order){const q=this._layers[$];if("symbol"!==q.type)continue;if(!H[q.source]){const a=this._getLayerSourceCache(q);if(!a)continue;H[q.source]=a.getRenderableIds(!0).map(l=>a.getTileByID(l)).sort((l,d)=>d.tileID.overscaledZ-l.tileID.overscaledZ||(l.tileID.isLessThan(d.tileID)?-1:1))}const ae=this.crossTileSymbolIndex.addLayer(q,H[q.source],r.center.lng,r.projection);I=I||ae}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),T=T||this._layerOrderChanged||0===_,this._layerOrderChanged&&this.fire(new t.Event("neworder")),(T||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.exported.now(),r.zoom))&&(this.pauseablePlacement=new _o(r,this._order,T,c,_,x,this.placement,this.fog&&r.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,H),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.exported.now()),R=!0),I&&this.pauseablePlacement.placement.setStale()),R||I)for(const $ of this._order){const q=this._layers[$];"symbol"===q.type&&this.placement.updateLayerOpacities(q,H[q.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.exported.now())}_releaseSymbolFadeTiles(){for(const r in this._sourceCaches)this._sourceCaches[r].releaseSymbolFadeTiles()}getImages(r,c,_){this.imageManager.getImages(c.icons,_),this._updateTilesForChangedImages();const x=T=>{T&&T.setDependencies(c.tileID.key,c.type,c.icons)};x(this._otherSourceCaches[c.source]),x(this._symbolSourceCaches[c.source])}getGlyphs(r,c,_){this.glyphManager.getGlyphs(c.stacks,_)}getResource(r,c,_){return t.makeRequest(c,_)}_getSourceCache(r){return this._otherSourceCaches[r]}_getLayerSourceCache(r){return"symbol"===r.type?this._symbolSourceCaches[r.source]:this._otherSourceCaches[r.source]}_getSourceCaches(r){const c=[];return this._otherSourceCaches[r]&&c.push(this._otherSourceCaches[r]),this._symbolSourceCaches[r]&&c.push(this._symbolSourceCaches[r]),c}_isSourceCacheLoaded(r){const c=this._getSourceCaches(r);return 0===c.length?(this.fire(new t.ErrorEvent(new Error(`There is no source with ID '${r}'`))),!1):c.every(_=>_.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}nr.getSourceType=function(h){return Xt[h]},nr.setSourceType=function(h,r){Xt[h]=r},nr.registerForPluginStateChange=t.registerForPluginStateChange;var hl="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",Is="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Ba="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\nconst float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)\n{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nfloat nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nreturn currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",Ps="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",Wi="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif";let us={},ga={};const ds=[];jr(hl,ds),jr(Ba,ds),jr(Ps,ds),jr(Wi,ds),us=Oi("",Ba),ga=Oi(Wi,Ps);const Ho=Oi("\n#if __VERSION__ >=300\n#define varying in\n#define gl_FragColor glFragColor\n#define texture2D texture\n#define textureCube texture\nout vec4 glFragColor;\n#endif\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\n#if __VERSION__ >=300\n#define attribute in\n#define varying out\n#define texture2D texture\n#endif\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),wr=hl,Js="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif";var Os={background:Oi("uniform vec4 u_color;uniform float u_opacity;\n#ifdef LIGHTING_3D_MODE\nvarying vec4 v_color;\n#endif\nvoid main() {vec4 out_color;\n#ifdef LIGHTING_3D_MODE\nout_color=v_color;\n#else\nout_color=u_color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#ifdef LIGHTING_3D_MODE\nuniform vec4 u_color;varying vec4 v_color;\n#endif\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(u_color);\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:Oi("uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:Oi("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\n#else \nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:Oi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Oi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\npos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:Oi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Oi("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Oi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Oi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:Oi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:Oi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:Oi("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:Oi("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:Oi("varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\nvoid main() {\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvec3 normal=v_normal;\n#endif\nfloat z;vec4 color;\n#ifdef ZERO_ROOF_RADIUS\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\n#else\ncolor=v_color;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\n#ifdef ZERO_ROOF_RADIUS\nconcave*=(1.0-z);\n#endif\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\n#ifdef ZERO_ROOF_RADIUS\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\n#endif\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nv_normal=normal;\n#endif\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\n#endif\nfloat NdotL=0.0;float colorvalue=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\ncolorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(color,NdotL);\n#else\nv_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_color*=u_opacity;\n#ifdef ZERO_ROOF_RADIUS\nv_roof_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef LIGHTING_3D_MODE\nv_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));\n#else\nfloat roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_roof_color*=u_opacity;\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:Oi("uniform vec2 u_texsize;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color,v_NdotL)*u_opacity;\n#else\nout_color=out_color*v_lighting;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\n#else\np=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\nNdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_NdotL=NdotL;\n#else\nv_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#endif \n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:Oi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Oi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef LIGHTING_3D_MODE\ngl_FragColor=apply_lighting(gl_FragColor);\n#endif\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:Oi("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nfloat linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\nhighp vec4 out_color;\n#ifdef RENDER_LINE_GRADIENT\nout_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nout_color=color;\n#endif\nfloat trimmed=1.0;\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}\n#endif\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\n#ifdef RENDER_LINE_BORDER\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\n#ifdef RENDER_LINE_BORDER_AUTO\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\n#else\nout_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);\n#endif\n}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:Oi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\ncolor=apply_lighting(color);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:Oi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:Oi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:Oi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:Oi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:Oi("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#else\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=wireframeOffset;\n#endif\nv_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\nv_fog_pos=fog_position(decodedPos);\n#else\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:Oi("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Oi("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Is),skyboxGradient:Oi("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Is),skyboxCapture:Oi("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Oi("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {vec4 color;\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\ncolor=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;\n#ifdef GLOBE_POLES\nvec3 up_vector=globe_derived_up_vector;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifndef GLOBE_POLES\nglobe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;\n#endif\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:Oi("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\n#ifdef PROJECTION_GLOBE_VIEW\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nhorizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function jr(h,r){const c=h.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n");for(let _ of c)if(_=_.trim(),"#"===_[0]&&_.includes("if")&&!_.includes("endif")){_=_.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const x=_.split(" ");for(const T of x)r.includes(T)||r.push(T)}}function Oi(h,r){const c=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=r.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),x={},T=[...ds];return jr(h,T),jr(r,T),{fragmentSource:h=h.replace(c,(I,R,H,$,q)=>(x[q]=!0,"define"===R?`\n#ifndef HAS_UNIFORM_u_${q}\nvarying ${H} ${$} ${q};\n#else\nuniform ${H} ${$} u_${q};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${q}\n    ${H} ${$} ${q} = u_${q};\n#endif\n`)),vertexSource:r=r.replace(c,(I,R,H,$,q)=>{const ae="float"===$?"vec2":"vec4",a=q.match(/color/)?"color":ae;return x[q]?"define"===R?`\n#ifndef HAS_UNIFORM_u_${q}\nuniform lowp float u_${q}_t;\nattribute ${H} ${ae} a_${q};\nvarying ${H} ${$} ${q};\n#else\nuniform ${H} ${$} u_${q};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${q}\n    ${q} = a_${q};\n#else\n    ${H} ${$} ${q} = u_${q};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${q}\n    ${q} = unpack_mix_${a}(a_${q}, u_${q}_t);\n#else\n    ${H} ${$} ${q} = u_${q};\n#endif\n`:"define"===R?`\n#ifndef HAS_UNIFORM_u_${q}\nuniform lowp float u_${q}_t;\nattribute ${H} ${ae} a_${q};\n#else\nuniform ${H} ${$} u_${q};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${q}\n    ${H} ${$} ${q} = a_${q};\n#else\n    ${H} ${$} ${q} = u_${q};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${q}\n    ${H} ${$} ${q} = unpack_mix_${a}(a_${q}, u_${q}_t);\n#else\n    ${H} ${$} ${q} = u_${q};\n#endif\n`}),staticAttributes:_,usedDefines:T}}class Mr{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(r,c,_,x,T,I,R){this.context=r;let H=this.boundPaintVertexBuffers.length!==x.length;for(let q=0;!H&&q<x.length;q++)this.boundPaintVertexBuffers[q]!==x[q]&&(H=!0);let $=this.boundDynamicVertexBuffers.length!==R.length;for(let q=0;!$&&q<R.length;q++)this.boundDynamicVertexBuffers[q]!==R[q]&&($=!0);if(!r.extVertexArrayObject||!this.vao||this.boundProgram!==c||this.boundLayoutVertexBuffer!==_||H||$||this.boundIndexBuffer!==T||this.boundVertexOffset!==I)this.freshBind(c,_,x,T,I,R);else{r.bindVertexArrayOES.set(this.vao);for(const q of R)q&&q.bind();T&&T.dynamicDraw&&T.bind()}}freshBind(r,c,_,x,T,I){let R;const H=r.numAttributes,$=this.context,q=$.gl;if($.extVertexArrayObject)this.vao&&this.destroy(),this.vao=$.extVertexArrayObject.createVertexArrayOES(),$.bindVertexArrayOES.set(this.vao),R=0,this.boundProgram=r,this.boundLayoutVertexBuffer=c,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=x,this.boundVertexOffset=T,this.boundDynamicVertexBuffers=I;else{R=$.currentNumAttributes||0;for(let ae=H;ae<R;ae++)q.disableVertexAttribArray(ae)}c.enableAttributes(q,r),c.bind(),c.setVertexAttribPointers(q,r,T);for(const ae of _)ae.enableAttributes(q,r),ae.bind(),ae.setVertexAttribPointers(q,r,T);for(const ae of I)ae&&(ae.enableAttributes(q,r),ae.bind(),ae.setVertexAttribPointers(q,r,T));x&&x.bind(),$.currentNumAttributes=H}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Pr(h,r){const c=Math.pow(2,r.canonical.z),_=r.canonical.y;return[new t.MercatorCoordinate(0,_/c).toLngLat().lat,new t.MercatorCoordinate(0,(_+1)/c).toLngLat().lat]}function Vo(h,r,c,_,x,T,I){const R=h.context,H=R.gl,$=c.fbo;if(!$)return;h.prepareDrawTile();const q=h.useProgram("hillshade");R.activeTexture.set(H.TEXTURE0),H.bindTexture(H.TEXTURE_2D,$.colorAttachment.get());const ae=((p,b,w,D)=>{const O=w.paint.get("hillshade-shadow-color"),C=w.paint.get("hillshade-highlight-color"),z=w.paint.get("hillshade-accent-color");let U=w.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===w.paint.get("hillshade-illumination-anchor")&&(U-=p.transform.angle);const W=!p.options.moving;return{u_matrix:D||p.transform.calculateProjMatrix(b.tileID.toUnwrapped(),W),u_image:0,u_latrange:Pr(0,b.tileID),u_light:[w.paint.get("hillshade-exaggeration"),U],u_shadow:O,u_highlight:C,u_accent:z}})(h,c,_,h.terrain?r.projMatrix:null);h.prepareDrawProgram(R,q,r.toUnwrapped());const{tileBoundsBuffer:a,tileBoundsIndexBuffer:l,tileBoundsSegments:d}=h.getTileBoundsBuffers(c);q.draw(R,H.TRIANGLES,x,T,I,t.CullFaceMode.disabled,ae,_.id,a,l,d)}function hs(h,r,c){if(!r.needsDEMTextureUpload)return;const _=h.context,x=_.gl;_.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||h.getTileTexture(c.stride);const T=c.getPixels();r.demTexture?r.demTexture.update(T,{premultiply:!1}):r.demTexture=new t.Texture(_,T,x.RGBA,{premultiply:!1}),r.needsDEMTextureUpload=!1}function pl(h,r,c,_,x,T){const I=h.context,R=I.gl;if(!r.dem)return;const H=r.dem;if(I.activeTexture.set(R.TEXTURE1),hs(h,r,H),!r.demTexture)return;r.demTexture.bind(R.NEAREST,R.CLAMP_TO_EDGE);const $=H.dim;I.activeTexture.set(R.TEXTURE0);let q=r.fbo;if(!q){const d=new t.Texture(I,{width:$,height:$,data:null},R.RGBA);d.bind(R.LINEAR,R.CLAMP_TO_EDGE),q=r.fbo=I.createFramebuffer($,$,!0),q.colorAttachment.set(d.texture)}I.bindFramebuffer.set(q.framebuffer),I.viewport.set([0,0,$,$]);const{tileBoundsBuffer:ae,tileBoundsIndexBuffer:a,tileBoundsSegments:l}=h.getMercatorTileBoundsBuffers();h.useProgram("hillshadePrepare").draw(I,R.TRIANGLES,_,x,T,t.CullFaceMode.disabled,((d,p)=>{const b=p.stride,w=t.create();return t.ortho(w,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(w,w,[0,-t.EXTENT,0]),{u_matrix:w,u_image:1,u_dimension:[b,b],u_zoom:d.overscaledZ,u_unpack:p.unpackVector}})(r.tileID,H),c.id,ae,a,l),r.needsHillshadePrepare=!1}const go=h=>({u_matrix:new t.UniformMatrix4f(h),u_image0:new t.Uniform1i(h),u_skirt_height:new t.Uniform1f(h)}),ps=(h,r)=>({u_matrix:h,u_image0:0,u_skirt_height:r}),ra=(h,r,c,_,x,T,I,R,H,$,q,ae,a,l,d)=>({u_proj_matrix:Float32Array.from(h),u_globe_matrix:r,u_normalize_matrix:Float32Array.from(_),u_merc_matrix:c,u_zoom_transition:x,u_merc_center:T,u_image0:0,u_frustum_tl:I,u_frustum_tr:R,u_frustum_br:H,u_frustum_bl:$,u_globe_pos:q,u_globe_radius:ae,u_viewport:a,u_grid_matrix:d?Float32Array.from(d):new Float32Array(9),u_skirt_height:l});function fs(h,r){return null!=h&&null!=r&&!(!h.hasData()||!r.hasData())&&null!=h.demTexture&&null!=r.demTexture&&h.tileID.key!==r.tileID.key}const ya=new class{constructor(){this.operations={}}newMorphing(h,r,c,_,x){if(h in this.operations){const T=this.operations[h];T.to.tileID.key!==c.tileID.key&&(T.queued=c)}else this.operations[h]={startTime:_,phase:0,duration:x,from:r,to:c,queued:null}}getMorphValuesForProxy(h){if(!(h in this.operations))return null;const r=this.operations[h];return{from:r.from,to:r.to,phase:r.phase}}update(h){for(const r in this.operations){const c=this.operations[r];for(c.phase=(h-c.startTime)/c.duration;c.phase>=1||!this._validOp(c);)if(!this._nextOp(c,h)){delete this.operations[r];break}}}_nextOp(h,r){return!!h.queued&&(h.from=h.to,h.to=h.queued,h.queued=null,h.phase=0,h.startTime=r,!0)}_validOp(h){return h.from.hasData()&&h.to.hasData()}},ja={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Na(h){return 6*Math.pow(1.5,22-h)}function Ks(h,r){const c=1<<h.z;return!r&&(0===h.x||h.x===c-1)||0===h.y||h.y===c-1}const ms=h=>({u_matrix:h});function Uo(h,r,c,_,x){if(x>0){const T=t.exported.now(),I=(T-h.timeAdded)/x,R=r?(T-r.timeAdded)/x:-1,H=c.getSource(),$=_.coveringZoomLevel({tileSize:H.tileSize,roundZoom:H.roundZoom}),q=!r||Math.abs(r.tileID.overscaledZ-$)>Math.abs(h.tileID.overscaledZ-$),ae=q&&h.refreshedUponExpiration?1:t.clamp(q?I:1-R,0,1);return h.refreshedUponExpiration&&I>=1&&(h.refreshedUponExpiration=!1),r?{opacity:1,mix:1-ae}:{opacity:ae,mix:0}}return{opacity:1,mix:0}}class ln extends t.SourceCache{constructor(r){const c={type:"raster-dem",maxzoom:r.transform.maxZoom},_=new on(mn(),null),x=_t("mock-dem",c,_,r.style);super("mock-dem",x,!1),x.setEventedParent(this),this._sourceLoaded=!0}_loadTile(r,c){r.state="loaded",c(null)}}class Ha extends t.SourceCache{constructor(r){const c=_t("proxy",{type:"geojson",maxzoom:r.transform.maxZoom},new on(mn(),null),r.style);super("proxy",c,!1),c.setEventedParent(this),this.map=this.getSource().map=r,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(r,c,_){if(r.freezeTileCoverage)return;this.transform=r;const x=r.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((T,I)=>{if(T[I.key]="",!this._tiles[I.key]){const R=new t.Tile(I,this._source.tileSize*I.overscaleFactor(),r.tileZoom);R.state="loaded",this._tiles[I.key]=R}return T},{});for(const T in this._tiles)T in x||(this.freeFBO(T),this._tiles[T].unloadVectorData(),delete this._tiles[T])}freeFBO(r){const c=this.proxyCachedFBO[r];if(void 0!==c){const _=Object.values(c);this.renderCachePool.push(..._),delete this.proxyCachedFBO[r]}}deallocRenderCache(){this.renderCache.forEach(r=>r.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class yo extends t.OverscaledTileID{constructor(r,c,_){super(r.overscaledZ,r.wrap,r.canonical.z,r.canonical.x,r.canonical.y),this.proxyTileKey=c,this.projMatrix=_}}class Va extends t.Elevation{constructor(r,c){super(),this.painter=r,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[_,x,T]=function(H){const $=new t.StructArrayLayout2i4,q=new t.StructArrayLayout3ui6;$.reserve(17161),q.reserve(33800);const a=t.EXTENT/128,l=t.EXTENT+a/2,d=l+a;for(let b=-a;b<d;b+=a)for(let w=-a;w<d;w+=a){const D=w<0||w>l||b<0||b>l?24575:0,O=t.clamp(Math.round(w),0,t.EXTENT),C=t.clamp(Math.round(b),0,t.EXTENT);$.emplaceBack(O+D,C)}const p=(b,w)=>{const D=131*w+b;q.emplaceBack(D+1,D,D+131),q.emplaceBack(D+131,D+131+1,D+1)};for(let b=1;b<129;b++)for(let w=1;w<129;w++)p(w,b);return[0,129].forEach(b=>{for(let w=0;w<130;w++)p(w,b),p(b,w)}),[$,q,32768]}(),I=r.context;this.gridBuffer=I.createVertexBuffer(_,t.posAttributes.members),this.gridIndexBuffer=I.createIndexBuffer(x),this.gridSegments=t.SegmentVector.simpleSegment(0,0,_.length,x.length),this.gridNoSkirtSegments=t.SegmentVector.simpleSegment(0,0,_.length,T),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Ha(c.map),this.orthoMatrix=t.create(),t.ortho(this.orthoMatrix,"globe"===this.painter.transform.projection.name?.015:0,t.EXTENT,0,t.EXTENT,0,1);const R=I.gl;this._overlapStencilMode=new t.StencilMode({func:R.GEQUAL,mask:255},0,255,R.KEEP,R.KEEP,R.REPLACE),this._previousZoom=r.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=c,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new ln(c.map)}set style(r){r.on("data",this._onStyleDataEvent.bind(this)),r.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=r,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(r,c,_){if(r&&r.terrain){this._style!==r&&(this.style=r),this.enabled=!0;const x=r.terrain.properties;this.sourceCache=0===r.terrain.drapeRenderMode?this._mockSourceCache:r._getSourceCache(x.get("source")),this._exaggeration=x.get("exaggeration");const T=()=>{this.sourceCache.used&&t.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const I=this.getScaledDemTileSize();this.sourceCache.update(c,I,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,T(),this._initializing=!0),T(),c.updateElevation(!0,_),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(c),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(r){this._findCoveringTileCache[r]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const r=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==r.efficiency&&t.warnOnce(`Terrain render cache efficiency is not optimal (${r.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${r.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(r){r.coord&&"source"===r.dataType?this._clearRenderCacheForTile(r.sourceCacheId,r.coord):"style"===r.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const r in this._style._sourceCaches)this._style._sourceCaches[r].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(r=>r.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const r=2*this.proxySourceCache.getSource().tileSize;return[r,r]}set useVertexMorphing(r){this._useVertexMorphing=r}updateTileBinding(r){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const c=this.proxySourceCache,_=this.painter.transform;this._initializing&&(this._initializing=0===_._centerAltitude&&-1===this.getAtPointOrZero(t.MercatorCoordinate.fromLngLat(_.center),-1),this._emptyDEMTextureDirty=!this._initializing);const x=this.proxyCoords=c.getIds().map(H=>{const $=c.getTileByID(H).tileID;return $.projMatrix=_.calculateProjMatrix($.toUnwrapped()),$});(function(H,$){const q=$.transform.pointCoordinate($.transform.getCameraPoint()),ae=new t.Point(q.x,q.y);H.sort((a,l)=>{if(l.overscaledZ-a.overscaledZ)return l.overscaledZ-a.overscaledZ;const d=new t.Point(a.canonical.x+(1<<a.canonical.z)*a.wrap,a.canonical.y),p=new t.Point(l.canonical.x+(1<<l.canonical.z)*l.wrap,l.canonical.y),b=ae.mult(1<<a.canonical.z);return b.x-=.5,b.y-=.5,b.distSqr(d)-b.distSqr(p)})})(x,this.painter),this._previousZoom=_.zoom;const T=this.proxyToSource||{};this.proxyToSource={},x.forEach(H=>{this.proxyToSource[H.key]={}}),this.terrainTileForTile={};const I=this._style._sourceCaches;for(const H in I){const $=I[H];if(!$.used||($!==this.sourceCache&&this.resetTileLookupCache($.id),this._setupProxiedCoordsForOrtho($,r[H],T),$.usedForTerrain))continue;const q=r[H];$.getSource().reparseOverscaled&&this._assignTerrainTiles(q)}this.proxiedCoords[c.id]=x.map(H=>new yo(H,H.key,this.orthoMatrix)),this._assignTerrainTiles(x),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(T),this.renderingToTexture=!1,this._updateTimestamp=t.exported.now();const R={};this._visibleDemTiles=[];for(const H of this.proxyCoords){const $=this.terrainTileForTile[H.key];if(!$)continue;const q=$.tileID.key;q in R||(this._visibleDemTiles.push($),R[q]=q)}}_assignTerrainTiles(r){this._initializing||r.forEach(c=>{if(this.terrainTileForTile[c.key])return;const _=this._findTileCoveringTileID(c,this.sourceCache);_&&(this.terrainTileForTile[c.key]=_)})}_prepareDEMTextures(){const r=this.painter.context,c=r.gl;for(const _ in this.terrainTileForTile){const x=this.terrainTileForTile[_],T=x.dem;!T||x.demTexture&&!x.needsDEMTextureUpload||(r.activeTexture.set(c.TEXTURE1),hs(this.painter,x,T))}}_prepareDemTileUniforms(r,c,_,x){if(!c||null==c.demTexture)return!1;const T=r.tileID.canonical,I=Math.pow(2,c.tileID.canonical.z-T.z),R=x||"";return _[`u_dem_tl${R}`]=[T.x*I%1,T.y*I%1],_[`u_dem_scale${R}`]=I,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const r=this.painter.context,c=r.gl;if(!this._emptyDepthBufferTexture){const _=new t.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new t.Texture(r,_,c.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let r=0;const c=this._visibleDemTiles.reduce((_,x)=>{if(!x.dem)return _;const T=x.dem.tree.minimums[0];return T>0&&r++,_+T},0);return r?c/r:0}_updateEmptyDEMTexture(){const r=this.painter.context,c=r.gl;r.activeTexture.set(c.TEXTURE2);const _=this._getLoadedAreaMinimum(),x=new t.RGBAImage({width:1,height:1},new Uint8Array(t.DEMData.pack(_,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let T=this._emptyDEMTexture;return T?T.update(x,{premultiply:!1}):T=this._emptyDEMTexture=new t.Texture(r,x,c.RGBA,{premultiply:!1}),T}setupElevationDraw(r,c,_){const x=this.painter.context,T=x.gl,I=(R=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:t.DEMData.getUnpackVector(R),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var R;I.u_dem_size=this.sourceCache.getSource().tileSize,I.u_exaggeration=this.exaggeration();let H=null,$=null,q=1;if(_&&_.morphing&&this._useVertexMorphing){const ae=_.morphing.srcDemTile,a=_.morphing.dstDemTile;q=_.morphing.phase,ae&&a&&(this._prepareDemTileUniforms(r,ae,I,"_prev")&&($=ae),this._prepareDemTileUniforms(r,a,I)&&(H=a))}if($&&H?(x.activeTexture.set(T.TEXTURE2),H.demTexture.bind(T.NEAREST,T.CLAMP_TO_EDGE,T.NEAREST),x.activeTexture.set(T.TEXTURE4),$.demTexture.bind(T.NEAREST,T.CLAMP_TO_EDGE,T.NEAREST),I.u_dem_lerp=q):(H=this.terrainTileForTile[r.tileID.key],x.activeTexture.set(T.TEXTURE2),(this._prepareDemTileUniforms(r,H,I)?H.demTexture:this.emptyDEMTexture).bind(T.NEAREST,T.CLAMP_TO_EDGE)),x.activeTexture.set(T.TEXTURE3),_&&_.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(T.NEAREST,T.CLAMP_TO_EDGE),this._depthFBO&&(I.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(T.NEAREST,T.CLAMP_TO_EDGE),I.u_depth_size_inv=[1,1]),_&&_.useMeterToDem&&H){const ae=(1<<H.tileID.canonical.z)*t.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;I.u_meter_to_dem=ae}if(_&&_.labelPlaneMatrixInv&&(I.u_label_plane_matrix_inv=_.labelPlaneMatrixInv),c.setTerrainUniformValues(x,I),"globe"===this.painter.transform.projection.name){const ae=this.globeUniformValues(this.painter.transform,r.tileID.canonical,_&&_.useDenormalizedUpVectorScale);c.setGlobeUniformValues(x,ae)}}globeUniformValues(r,c,_){const x=r.projection;return{u_tile_tl_up:x.upVector(c,0,0),u_tile_tr_up:x.upVector(c,t.EXTENT,0),u_tile_br_up:x.upVector(c,t.EXTENT,t.EXTENT),u_tile_bl_up:x.upVector(c,0,t.EXTENT),u_tile_up_scale:_?t.globeMetersToEcef(1):x.upVectorScale(c,r.center.lat,r.worldSize).metersToTile}}renderToBackBuffer(r){const c=this.painter,_=this.painter.context;0!==r.length&&(_.bindFramebuffer.set(null),_.viewport.set([0,0,c.width,c.height]),c.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(x,T,I,R,H){if("globe"===x.transform.projection.name)!function($,q,ae,a,l){const d=$.context,p=d.gl;let b,w;const D=$.options.showTerrainWireframe?2:0,O=$.transform,C=t.globeUseCustomAntiAliasing($,d,O),z=(Ze,je)=>{if(w===Ze)return;const Ge=[ja[Ze],"PROJECTION_GLOBE_VIEW"];C&&Ge.push("CUSTOM_ANTIALIASING"),je&&Ge.push(ja[D]),b=$.useProgram("globeRaster",null,Ge),w=Ze},U=$.colorModeForRenderPass(),W=new t.DepthMode(p.LEQUAL,t.DepthMode.ReadWrite,$.depthRangeFor3D);ya.update(l);const ie=t.calculateGlobeMercatorMatrix(O),ce=[t.mercatorXfromLng(O.center.lng),t.mercatorYfromLat(O.center.lat)],pe=D?[!1,!0]:[!1],ve=$.globeSharedBuffers,ge=[O.width*t.exported.devicePixelRatio,O.height*t.exported.devicePixelRatio],Ee=Float32Array.from(O.globeMatrix),Re={useDenormalizedUpVectorScale:!0};if(pe.forEach(Ze=>{const je=$.transform,Ge=Na(je.zoom)*q.exaggeration();w=-1;const lt=Ze?p.LINES:p.TRIANGLES;for(const tt of a){const ot=ae.getTile(tt),Et=t.StencilMode.disabled,Vt=q.prevTerrainTileForTile[tt.key],It=q.terrainTileForTile[tt.key];fs(Vt,It)&&ya.newMorphing(tt.key,Vt,It,l,250),d.activeTexture.set(p.TEXTURE0),ot.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE);const Dt=ya.getMorphValuesForProxy(tt.key),Zt=Dt?1:0;Dt&&t.extend$1(Re,{morphing:{srcDemTile:Dt.from,dstDemTile:Dt.to,phase:t.easeCubicInOut(Dt.phase)}});const ci=t.tileCornersToBounds(tt.canonical),jt=t.getLatitudinalLod(ci.getCenter().lat),Ei=t.getGridMatrix(tt.canonical,ci,jt,je.worldSize/je._pixelsPerMercatorPixel),Ji=t.globeNormalizeECEF(t.globeTileBounds(tt.canonical)),qt=ra(je.projMatrix,Ee,ie,Ji,t.globeToMercatorTransition(je.zoom),ce,je.frustumCorners.TL,je.frustumCorners.TR,je.frustumCorners.BR,je.frustumCorners.BL,je.globeCenterInViewSpace,je.globeRadius,ge,Ge,Ei);if(z(Zt,Ze),q.setupElevationDraw(ot,b,Re),$.prepareDrawProgram(d,b,tt.toUnwrapped()),ve){const[k,F,K]=Ze?ve.getWirefameBuffers($.context,jt):ve.getGridBuffers(jt,0!==Ge);b.draw(d,lt,W,Et,U,t.CullFaceMode.backCCW,qt,"globe_raster",k,F,K)}}}),ve){const Ze=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];C&&Ze.push("CUSTOM_ANTIALIASING"),b=$.useProgram("globeRaster",null,Ze);for(const je of a){const{x:Ge,y:lt,z:tt}=je.canonical,ot=0===lt,Et=lt===(1<<tt)-1,[Vt,It,Dt,Zt]=ve.getPoleBuffers(tt);if(Zt&&(ot||Et)){const ci=ae.getTile(je);d.activeTexture.set(p.TEXTURE0),ci.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE);let jt=t.globePoleMatrixForTile(tt,Ge,O);const Ei=t.globeNormalizeECEF(t.globeTileBounds(je.canonical)),Ji=(qt,k)=>qt.draw(d,p.TRIANGLES,W,t.StencilMode.disabled,U,t.CullFaceMode.disabled,ra(O.projMatrix,jt,jt,Ei,0,ce,O.frustumCorners.TL,O.frustumCorners.TR,O.frustumCorners.BR,O.frustumCorners.BL,O.globeCenterInViewSpace,O.globeRadius,ge,0),"globe_pole_raster",k,Dt,Zt);q.setupElevationDraw(ci,b,Re),$.prepareDrawProgram(d,b,je.toUnwrapped()),ot&&Ji(b,Vt),Et&&(jt=t.scale(t.create(),jt,[1,-1,1]),Ji(b,It))}}}}(x,T,I,R,H);else{const $=x.context,q=$.gl;let ae,a;const l=x.options.showTerrainWireframe?2:0,d=(O,C)=>{if(a===O)return;const z=[ja[O]];C&&z.push(ja[l]),ae=x.useProgram("terrainRaster",null,z),a=O},p=x.colorModeForRenderPass(),b=new t.DepthMode(q.LEQUAL,t.DepthMode.ReadWrite,x.depthRangeFor3D);ya.update(H);const w=x.transform,D=Na(w.zoom)*T.exaggeration();(l?[!1,!0]:[!1]).forEach(O=>{a=-1;const C=O?q.LINES:q.TRIANGLES,[z,U]=O?T.getWirefameBuffer():[T.gridIndexBuffer,T.gridSegments];for(const W of R){const ie=I.getTile(W),ce=t.StencilMode.disabled,pe=T.prevTerrainTileForTile[W.key],ve=T.terrainTileForTile[W.key];fs(pe,ve)&&ya.newMorphing(W.key,pe,ve,H,250),$.activeTexture.set(q.TEXTURE0),ie.texture.bind(q.LINEAR,q.CLAMP_TO_EDGE,q.LINEAR_MIPMAP_NEAREST);const ge=ya.getMorphValuesForProxy(W.key),Ee=ge?1:0;let Re;ge&&(Re={morphing:{srcDemTile:ge.from,dstDemTile:ge.to,phase:t.easeCubicInOut(ge.phase)}});const Ze=ps(W.projMatrix,Ks(W.canonical,w.renderWorldCopies)?D/10:D);d(Ee,O),T.setupElevationDraw(ie,ae,Re),x.prepareDrawProgram($,ae,W.toUnwrapped()),ae.draw($,C,b,ce,p,t.CullFaceMode.backCCW,Ze,"terrain_raster",T.gridBuffer,z,U)}})}}(c,this,this.proxySourceCache,r,this._updateTimestamp),this.renderingToTexture=!0,c.gpuTimingDeferredRenderEnd(),r.splice(0,r.length))}renderBatch(r){if(0===this._drapedRenderBatches.length)return r+1;this.renderingToTexture=!0;const c=this.painter,_=this.painter.context,x=this.proxySourceCache,T=this.proxiedCoords[x.id],I=this._drapedRenderBatches.shift(),R=[],H=c.style.order;let $=0;for(const q of T){const ae=x.getTileByID(q.proxyTileKey),a=x.proxyCachedFBO[q.key]?x.proxyCachedFBO[q.key][r]:void 0,l=void 0!==a?x.renderCache[a]:this.pool[$++],d=void 0!==a;if(ae.texture=l.tex,d&&!l.dirty){R.push(ae.tileID);continue}let p;_.bindFramebuffer.set(l.fb.framebuffer),this.renderedToTile=!1,l.dirty&&(_.clear({color:t.Color.transparent,stencil:0}),l.dirty=!1);for(let b=I.start;b<=I.end;++b){const w=c.style._layers[H[b]];if(w.isHidden(c.transform.zoom))continue;const D=c.style._getLayerSourceCache(w),O=D?this.proxyToSource[q.key][D.id]:[q];if(!O)continue;const C=O;_.viewport.set([0,0,l.fb.width,l.fb.height]),p!==(D?D.id:null)&&(this._setupStencil(l,O,w,D),p=D?D.id:null),c.renderLayer(c,D,w,C)}this.renderedToTile?(l.dirty=!0,R.push(ae.tileID)):d||--$,5===$&&($=0,this.renderToBackBuffer(R))}return this.renderToBackBuffer(R),this.renderingToTexture=!1,_.bindFramebuffer.set(null),_.viewport.set([0,0,c.width,c.height]),I.end+1}postRender(){}renderCacheEfficiency(r){const c=r.order.length;if(0===c)return{efficiency:100};let _,x=0,T=0,I=!1;for(let R=0;R<c;++R){const H=r._layers[r.order[R]];this._style.isLayerDraped(H)?(I&&++x,++T):I||(I=!0,_=H.id)}return 0===T?{efficiency:100}:{efficiency:100*(1-x/T),firstUndrapedLayer:_}}getMinElevationBelowMSL(){let r=0;return this._visibleDemTiles.filter(c=>c.dem).forEach(c=>{r=Math.min(r,c.dem.tree.minimums[0])}),0===r?r:(r-30)*this._exaggeration}raycast(r,c,_){if(!this._visibleDemTiles)return null;const x=this._visibleDemTiles.filter(T=>T.dem).map(T=>{const I=T.tileID,R=1<<I.overscaledZ,{x:H,y:$}=I.canonical,q=H/R,ae=(H+1)/R,a=$/R,l=($+1)/R;return{minx:q,miny:a,maxx:ae,maxy:l,t:T.dem.tree.raycastRoot(q,a,ae,l,r,c,_),tile:T}});x.sort((T,I)=>(null!==T.t?T.t:Number.MAX_VALUE)-(null!==I.t?I.t:Number.MAX_VALUE));for(const T of x){if(null==T.t)return null;const I=T.tile.dem.tree.raycast(T.minx,T.miny,T.maxx,T.maxy,r,c,_);if(null!=I)return I}return null}_createFBO(){const r=this.painter.context,c=r.gl,_=this.drapeBufferSize;r.activeTexture.set(c.TEXTURE0);const x=new t.Texture(r,{width:_[0],height:_[1],data:null},c.RGBA);x.bind(c.LINEAR,c.CLAMP_TO_EDGE);const T=r.createFramebuffer(_[0],_[1],!1);return T.colorAttachment.set(x.texture),T.depthAttachment=new X(r,T.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=r.createRenderbuffer(r.gl.DEPTH_STENCIL,_[0],_[1]),this._stencilRef=0,T.depthAttachment.set(this._sharedDepthStencil),r.clear({stencil:0})):T.depthAttachment.set(this._sharedDepthStencil),r.extTextureFilterAnisotropic&&!r.extTextureFilterAnisotropicForceOff&&c.texParameterf(c.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax),{fb:T,tex:x,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const r in this._style._sourceCaches)if(this._style._sourceCaches[r].hasTransition())return!0;return this._style.order.some(r=>{const c=this._style._layers[r],_=c.isHidden(this.painter.transform.zoom);return"custom"===c.type?!_&&c.shouldRedrape():!_&&c.hasTransition()})}_clearLineLayersFromRenderCache(){let r=!1;for(const _ of this._style._getSources())if(_ instanceof St){r=!0;break}if(!r)return;const c={};for(let _=0;_<this._style.order.length;++_){const x=this._style._layers[this._style.order[_]],T=this._style._getLayerSourceCache(x);if(T&&!c[T.id]&&!x.isHidden(this.painter.transform.zoom)&&"line"===x.type&&x.widthExpression()instanceof t.ZoomDependentExpression){c[T.id]=!0;for(const I of this.proxyCoords){const R=this.proxyToSource[I.key][T.id];if(R)for(const H of R)this._clearRenderCacheForTile(T.id,H)}}}}_clearRasterLayersFromRenderCache(){let r=!1;for(const _ in this._style._sourceCaches)if(this._style._sourceCaches[_]._source instanceof vt){r=!0;break}if(!r)return;const c={};for(let _=0;_<this._style.order.length;++_){const x=this._style._layers[this._style.order[_]],T=this._style._getLayerSourceCache(x);if(!T||c[T.id]||x.isHidden(this.painter.transform.zoom)||"raster"!==x.type)continue;const I=x.paint.get("raster-fade-duration");for(const R of this.proxyCoords){const H=this.proxyToSource[R.key][T.id];if(H)for(const $ of H){const q=Uo(T.getTile($),T.findLoadedParent($,0),T,this.painter.transform,I);(1!==q.opacity||0!==q.mix)&&this._clearRenderCacheForTile(T.id,$)}}}}_setupDrapedRenderBatches(){const r=this._style.order,c=r.length;if(0===c)return;const _=[];let x,T=0,I=this._style._layers[r[T]];for(;!this._style.isLayerDraped(I)&&I.isHidden(this.painter.transform.zoom)&&++T<c;)I=this._style._layers[r[T]];for(;T<c;++T){const R=this._style._layers[r[T]];R.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(R)?void 0===x&&(x=T):void 0!==x&&(_.push({start:x,end:T-1}),x=void 0))}void 0!==x&&_.push({start:x,end:T-1}),this._drapedRenderBatches=_}_setupRenderCache(r){const c=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,c.renderCache.length>c.renderCachePool.length){const I=Object.values(c.proxyCachedFBO);c.proxyCachedFBO={};for(let R=0;R<I.length;++R){const H=Object.values(I[R]);c.renderCachePool.push(...H)}}return}this._clearRasterLayersFromRenderCache();const _=this.proxyCoords,x=this._tilesDirty;for(let I=_.length-1;I>=0;I--){const R=_[I];if(c.getTileByID(R.key),void 0!==c.proxyCachedFBO[R.key]){const H=r[R.key],$=this.proxyToSource[R.key];let q=0;for(const ae in $){const a=$[ae],l=H[ae];if(!l||l.length!==a.length||a.some((d,p)=>d!==l[p]||x[ae]&&x[ae].hasOwnProperty(d.key))){q=-1;break}++q}for(const ae in c.proxyCachedFBO[R.key])c.renderCache[c.proxyCachedFBO[R.key][ae]].dirty=q<0||q!==Object.values(H).length}}const T=[...this._drapedRenderBatches];T.sort((I,R)=>R.end-R.start-(I.end-I.start));for(const I of T)for(const R of _){if(c.proxyCachedFBO[R.key])continue;let H=c.renderCachePool.pop();void 0===H&&c.renderCache.length<50&&(H=c.renderCache.length,c.renderCache.push(this._createFBO())),void 0!==H&&(c.proxyCachedFBO[R.key]={},c.proxyCachedFBO[R.key][I.start]=H,c.renderCache[H].dirty=!0)}this._tilesDirty={}}_setupStencil(r,c,_,x){if(!x||!this._sourceTilesOverlap[x.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const T=this.painter.context,I=T.gl;if(c.length<=1)return void(this._overlapStencilType=!1);let R;if(_.isTileClipped())R=c.length,this._overlapStencilMode.test={func:I.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(c[0].overscaledZ>c[c.length-1].overscaledZ))return void(this._overlapStencilType=!1);R=1,this._overlapStencilMode.test={func:I.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+R>255&&(T.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=R,this._overlapStencilMode.ref=this._stencilRef,_.isTileClipped()&&this._renderTileClippingMasks(c,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(r){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[r.key]),this._overlapStencilMode):t.StencilMode.disabled}_renderTileClippingMasks(r,c){const _=this.painter,x=this.painter.context,T=x.gl;_._tileClippingMaskIDs={},x.setColorMode(t.ColorMode.disabled),x.setDepthMode(t.DepthMode.disabled);const I=_.useProgram("clippingMask");for(const R of r){const H=_._tileClippingMaskIDs[R.key]=--c;I.draw(x,T.TRIANGLES,t.DepthMode.disabled,new t.StencilMode({func:T.ALWAYS,mask:0},H,255,T.KEEP,T.KEEP,T.REPLACE),t.ColorMode.disabled,t.CullFaceMode.disabled,ms(R.projMatrix),"$clipping",_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}}pointCoordinate(r){const c=this.painter.transform;if(r.x<0||r.x>c.width||r.y<0||r.y>c.height)return null;const _=[r.x,r.y,1,1];t.transformMat4$1(_,_,c.pixelMatrixInverse),t.scale$1(_,_,1/_[3]),_[0]/=c.worldSize,_[1]/=c.worldSize;const x=c._camera.position,T=t.mercatorZfromAltitude(1,c.center.lat),I=[x[0],x[1],x[2]/T,0],R=t.subtract([],_.slice(0,3),I);t.normalize(R,R);const H=this.raycast(I,R,this._exaggeration);return null!==H&&H?(t.scaleAndAdd(I,I,R,H),I[3]=I[2],I[2]*=T,I):null}drawDepth(){const r=this.painter,c=r.context,_=this.proxySourceCache,x=Math.ceil(r.width),T=Math.ceil(r.height);if(!this._depthFBO||this._depthFBO.width===x&&this._depthFBO.height===T||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const I=c.gl,R=c.createFramebuffer(x,T,!0);c.activeTexture.set(I.TEXTURE0);const H=new t.Texture(c,{width:x,height:T,data:null},I.RGBA);H.bind(I.NEAREST,I.CLAMP_TO_EDGE),R.colorAttachment.set(H.texture);const $=c.createRenderbuffer(c.gl.DEPTH_COMPONENT16,x,T);R.depthAttachment.set($),this._depthFBO=R,this._depthTexture=H}c.bindFramebuffer.set(this._depthFBO.framebuffer),c.viewport.set([0,0,x,T]),function(I,R,H,$){if("globe"===I.transform.projection.name)return;const q=I.context,ae=q.gl;q.clear({depth:1});const a=I.useProgram("terrainDepth"),l=new t.DepthMode(ae.LESS,t.DepthMode.ReadWrite,I.depthRangeFor3D);for(const d of $){const p=H.getTile(d),b=ps(d.projMatrix,0);R.setupElevationDraw(p,a),a.draw(q,ae.TRIANGLES,l,t.StencilMode.disabled,t.ColorMode.unblended,t.CullFaceMode.backCCW,b,"terrain_depth",R.gridBuffer,R.gridIndexBuffer,R.gridNoSkirtSegments)}}(r,this,_,this.proxyCoords)}_setupProxiedCoordsForOrtho(r,c,_){if(r.getSource()instanceof ri)return this._setupProxiedCoordsForImageSource(r,c,_);this._findCoveringTileCache[r.id]=this._findCoveringTileCache[r.id]||{};const x=this.proxiedCoords[r.id]=[],T=this.proxyCoords;for(let R=0;R<T.length;R++){const H=T[R],$=this._findTileCoveringTileID(H,r);if($){const q=this._createProxiedId(H,$,_[H.key]&&_[H.key][r.id]);x.push(q),this.proxyToSource[H.key][r.id]=[q]}}let I=!1;for(let R=0;R<c.length;R++){const H=r.getTile(c[R]);if(!H||!H.hasData())continue;const $=this._findTileCoveringTileID(H.tileID,this.proxySourceCache);if($&&$.tileID.canonical.z!==H.tileID.canonical.z){const q=this.proxyToSource[$.tileID.key][r.id],ae=this._createProxiedId($.tileID,H,_[$.tileID.key]&&_[$.tileID.key][r.id]);q?q.splice(q.length-1,0,ae):this.proxyToSource[$.tileID.key][r.id]=[ae],x.push(ae),I=!0}}this._sourceTilesOverlap[r.id]=I}_setupProxiedCoordsForImageSource(r,c,_){if(!r.getSource().loaded())return;const x=this.proxiedCoords[r.id]=[],T=this.proxyCoords,I=r.getSource(),R=new t.Point(I.tileID.x,I.tileID.y)._div(1<<I.tileID.z),H=I.coordinates.map(t.MercatorCoordinate.fromLngLat).reduce((q,ae)=>(q.min.x=Math.min(q.min.x,ae.x-R.x),q.min.y=Math.min(q.min.y,ae.y-R.y),q.max.x=Math.max(q.max.x,ae.x-R.x),q.max.y=Math.max(q.max.y,ae.y-R.y),q),{min:new t.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new t.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),$=(q,ae)=>{const a=q.wrap+q.canonical.x/(1<<q.canonical.z),l=q.canonical.y/(1<<q.canonical.z),d=t.EXTENT/(1<<q.canonical.z),p=ae.wrap+ae.canonical.x/(1<<ae.canonical.z),b=ae.canonical.y/(1<<ae.canonical.z);return a+d<p+H.min.x||a>p+H.max.x||l+d<b+H.min.y||l>b+H.max.y};for(let q=0;q<T.length;q++){const ae=T[q];for(let a=0;a<c.length;a++){const l=r.getTile(c[a]);if(!l||!l.hasData()||$(ae,l.tileID))continue;const d=this._createProxiedId(ae,l,_[ae.key]&&_[ae.key][r.id]),p=this.proxyToSource[ae.key][r.id];p?p.push(d):this.proxyToSource[ae.key][r.id]=[d],x.push(d)}}}_createProxiedId(r,c,_){let x=this.orthoMatrix;if(_){const T=_.find(I=>I.key===c.tileID.key);if(T)return T}if(c.tileID.key!==r.key){const T=r.canonical.z-c.tileID.canonical.z;let I,R,H;x=t.create();const $=c.tileID.wrap-r.wrap<<r.overscaledZ;T>0?(I=t.EXTENT>>T,R=I*((c.tileID.canonical.x<<T)-r.canonical.x+$),H=I*((c.tileID.canonical.y<<T)-r.canonical.y)):(I=t.EXTENT<<-T,R=t.EXTENT*(c.tileID.canonical.x-(r.canonical.x+$<<-T)),H=t.EXTENT*(c.tileID.canonical.y-(r.canonical.y<<-T))),t.ortho(x,0,I,0,I,0,1),t.translate(x,x,[R,H,0])}return new yo(c.tileID,r.key,x)}_findTileCoveringTileID(r,c){let _=c.getTile(r);if(_&&_.hasData())return _;const x=this._findCoveringTileCache[c.id],T=x[r.key];if(_=T?c.getTileByID(T):null,_&&_.hasData()||null===T)return _;let I=_?_.tileID:r,R=I.overscaledZ;const H=c.getSource().minzoom,$=[];if(!T){const ae=c.getSource().maxzoom;if(r.canonical.z>=ae){const a=r.canonical.z-ae;c.getSource().reparseOverscaled?(R=Math.max(r.canonical.z+2,c.transform.tileZoom),I=new t.OverscaledTileID(R,r.wrap,ae,r.canonical.x>>a,r.canonical.y>>a)):0!==a&&(R=ae,I=new t.OverscaledTileID(R,r.wrap,ae,r.canonical.x>>a,r.canonical.y>>a))}I.key!==r.key&&($.push(I.key),_=c.getTile(I))}const q=ae=>{$.forEach(a=>{x[a]=ae}),$.length=0};for(R-=1;R>=H&&(!_||!_.hasData());R--){_&&q(_.tileID.key);const ae=I.calculateScaledKey(R);if(_=c.getTileByID(ae),_&&_.hasData())break;const a=x[ae];if(null===a)break;void 0===a?$.push(ae):_=c.getTileByID(a)}return q(_?_.tileID.key:null),_&&_.hasData()?_:null}findDEMTileFor(r){return this.enabled?this._findTileCoveringTileID(r,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(r,c){let _=this._tilesDirty[r];_||(_=this._tilesDirty[r]={}),_[c.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const r=function(c){let _=0;const x=new t.StructArrayLayout2ui4,T=131;for(let I=1;I<129;I++){for(let R=1;R<129;R++)_=I*T+R,x.emplaceBack(_,_+1),x.emplaceBack(_,_+T),x.emplaceBack(_+1,_+T),128===I&&x.emplaceBack(_+T,_+T+1);x.emplaceBack(_+1,_+1+T)}return x}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(r),this.wireframeSegments=t.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,r.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class ki{static cacheKey(r,c,_,x){let T=`${c}${x?x.cacheKey:""}`;for(const I of _)r.usedDefines.includes(I)&&(T+=`/${I}`);return T}constructor(r,c,_,x,T,I){const R=r.gl;this.program=R.createProgram();const H=function(w){const D=[];for(let O=0;O<w.length;O++){if(null===w[O])continue;const C=w[O].split(" ");D.push(C.pop())}return D}(_.staticAttributes),$=x?x.getBinderAttributes():[],q=H.concat($);let ae=x?x.defines():[];ae=ae.concat(I.map(w=>`#define ${w}`));const a=r.isWebGL2?"#version 300 es\n":"",l=a+ae.concat(r.extStandardDerivatives&&0===a.length?"#extension GL_OES_standard_derivatives : enable\n".concat(Js):Js,Js,wr,Ho.fragmentSource,ga.fragmentSource,_.fragmentSource).join("\n"),d=a+ae.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",wr,Ho.vertexSource,ga.vertexSource,us.vertexSource,_.vertexSource).join("\n"),p=R.createShader(R.FRAGMENT_SHADER);if(R.isContextLost())return void(this.failedToCreate=!0);R.shaderSource(p,l),R.compileShader(p),R.attachShader(this.program,p);const b=R.createShader(R.VERTEX_SHADER);if(R.isContextLost())this.failedToCreate=!0;else{R.shaderSource(b,d),R.compileShader(b),R.attachShader(this.program,b),this.attributes={},this.numAttributes=q.length;for(let w=0;w<this.numAttributes;w++)q[w]&&(R.bindAttribLocation(this.program,w,q[w]),this.attributes[q[w]]=w);R.linkProgram(this.program),R.deleteShader(b),R.deleteShader(p),this.fixedUniforms=T(r),this.binderUniforms=x?x.getUniforms(r):[],I.includes("TERRAIN")&&(this.terrainUniforms={u_dem:new t.Uniform1i(w=r),u_dem_prev:new t.Uniform1i(w),u_dem_unpack:new t.Uniform4f(w),u_dem_tl:new t.Uniform2f(w),u_dem_scale:new t.Uniform1f(w),u_dem_tl_prev:new t.Uniform2f(w),u_dem_scale_prev:new t.Uniform1f(w),u_dem_size:new t.Uniform1f(w),u_dem_lerp:new t.Uniform1f(w),u_exaggeration:new t.Uniform1f(w),u_depth:new t.Uniform1i(w),u_depth_size_inv:new t.Uniform2f(w),u_meter_to_dem:new t.Uniform1f(w),u_label_plane_matrix_inv:new t.UniformMatrix4f(w)}),I.includes("GLOBE")&&(this.globeUniforms=(w=>({u_tile_tl_up:new t.Uniform3f(w),u_tile_tr_up:new t.Uniform3f(w),u_tile_br_up:new t.Uniform3f(w),u_tile_bl_up:new t.Uniform3f(w),u_tile_up_scale:new t.Uniform1f(w)}))(r)),I.includes("FOG")&&(this.fogUniforms=(w=>({u_fog_matrix:new t.UniformMatrix4f(w),u_fog_range:new t.Uniform2f(w),u_fog_color:new t.Uniform4f(w),u_fog_horizon_blend:new t.Uniform1f(w),u_fog_temporal_offset:new t.Uniform1f(w),u_frustum_tl:new t.Uniform3f(w),u_frustum_tr:new t.Uniform3f(w),u_frustum_br:new t.Uniform3f(w),u_frustum_bl:new t.Uniform3f(w),u_globe_pos:new t.Uniform3f(w),u_globe_radius:new t.Uniform1f(w),u_globe_transition:new t.Uniform1f(w),u_is_globe:new t.Uniform1i(w),u_viewport:new t.Uniform2f(w)}))(r))}var w}setTerrainUniformValues(r,c){if(!this.terrainUniforms)return;const _=this.terrainUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const x in c)_[x]&&_[x].set(this.program,x,c[x])}}setGlobeUniformValues(r,c){if(!this.globeUniforms)return;const _=this.globeUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const x in c)_[x]&&_[x].set(this.program,x,c[x])}}setFogUniformValues(r,c){if(!this.fogUniforms)return;const _=this.fogUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const x in c)_[x].set(this.program,x,c[x])}}draw(r,c,_,x,T,I,R,H,$,q,ae,a,l,d,p){const b=r.gl;if(this.failedToCreate)return;r.program.set(this.program),r.setDepthMode(_),r.setStencilMode(x),r.setColorMode(T),r.setCullFace(I);for(const D of Object.keys(this.fixedUniforms))this.fixedUniforms[D].set(this.program,D,R[D]);d&&d.setUniforms(this.program,r,this.binderUniforms,a,{zoom:l});const w={[b.LINES]:2,[b.TRIANGLES]:3,[b.LINE_STRIP]:1}[c];for(const D of ae.get()){const O=D.vaos||(D.vaos={});(O[H]||(O[H]=new Mr)).bind(r,this,$,d?d.getPaintVertexBuffers():[],q,D.vertexOffset,p||[]),b.drawElements(c,D.primitiveLength*w,b.UNSIGNED_SHORT,D.primitiveOffset*w*2)}}}function aa(h,r){const c=Math.pow(2,r.tileID.overscaledZ),_=r.tileSize*Math.pow(2,h.transform.tileZoom)/c,x=_*(r.tileID.canonical.x+r.tileID.wrap*c),T=_*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_tile_units_to_pixels:1/Tn(r,1,h.transform.tileZoom),u_pixel_coord_upper:[x>>16,T>>16],u_pixel_coord_lower:[65535&x,65535&T]}}const Qs=t.create(),eo=(h,r,c,_,x,T,I,R,H,$,q)=>{const ae=r.style.light,a=ae.properties.get("position"),l=[a.x,a.y,a.z],d=t.create$1();"viewport"===ae.properties.get("anchor")&&(t.fromRotation(d,-r.transform.angle),t.transformMat3(l,l,d));const p=ae.properties.get("color"),b=r.transform,w={u_matrix:h,u_lightpos:l,u_lightintensity:ae.properties.get("intensity"),u_lightcolor:[p.r,p.g,p.b],u_vertical_gradient:+c,u_opacity:_,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Qs,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:x,u_edge_radius:T};return"globe"===b.projection.name&&(w.u_tile_id=[I.canonical.x,I.canonical.y,1<<I.canonical.z],w.u_zoom_transition=H,w.u_inv_rot_matrix=q,w.u_merc_center=$,w.u_up_dir=b.projection.upVector(new t.CanonicalTileID(0,0,0),$[0]*t.EXTENT,$[1]*t.EXTENT),w.u_height_lift=R),w},to=(h,r,c,_,x,T,I,R,H,$,q,ae)=>{const a=eo(h,r,c,_,x,T,I,H,$,q,ae),l={u_height_factor:-Math.pow(2,I.overscaledZ)/R.tileSize/8};return t.extend(a,aa(r,R),l)},va=h=>({u_matrix:h}),Nr=(h,r,c)=>t.extend(va(h),aa(r,c)),cn=(h,r)=>({u_matrix:h,u_world:r}),vo=(h,r,c,_)=>t.extend(Nr(h,r,c),{u_world:_}),Ua=t.create(),Rs=(h,r,c,_,x,T)=>{const I=h.transform,R="globe"===I.projection.name;let H;if("map"===T.paint.get("circle-pitch-alignment"))if(R){const q=t.globePixelsToTileUnits(I.zoom,r.canonical)*I._pixelsPerMercatorPixel;H=Float32Array.from([q,0,0,q])}else H=I.calculatePixelsToTileUnitsMatrix(c);else H=new Float32Array([I.pixelsToGLUnits[0],0,0,I.pixelsToGLUnits[1]]);const $={u_camera_to_center_distance:I.cameraToCenterDistance,u_matrix:h.translatePosMatrix(r.projMatrix,c,T.paint.get("circle-translate"),T.paint.get("circle-translate-anchor")),u_device_pixel_ratio:t.exported.devicePixelRatio,u_extrude_scale:H,u_inv_rot_matrix:Ua,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(R){$.u_inv_rot_matrix=_,$.u_merc_center=x,$.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],$.u_zoom_transition=t.globeToMercatorTransition(I.zoom);const q=x[0]*t.EXTENT,ae=x[1]*t.EXTENT;$.u_up_dir=I.projection.upVector(new t.CanonicalTileID(0,0,0),q,ae)}return $},Wo=h=>{const r=[];return"map"===h.paint.get("circle-pitch-alignment")&&r.push("PITCH_WITH_MAP"),"map"===h.paint.get("circle-pitch-scale")&&r.push("SCALE_WITH_MAP"),r},Or=(h,r,c,_)=>{const x=t.EXTENT/c.tileSize;return{u_matrix:h,u_camera_to_center_distance:r.getCameraToCenterDistance(_),u_extrude_scale:[r.pixelsToGLUnits[0]/x,r.pixelsToGLUnits[1]/x]}},Ii=(h,r,c=1)=>({u_matrix:h,u_color:r,u_overlay:0,u_overlay_scale:c}),fl=t.create(),bo=(h,r,c,_,x,T,I)=>{const R=h.transform,H="globe"===R.projection.name,$=H?t.globePixelsToTileUnits(R.zoom,r.canonical)*R._pixelsPerMercatorPixel:Tn(c,1,T),q={u_matrix:r.projMatrix,u_extrude_scale:$,u_intensity:I,u_inv_rot_matrix:fl,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(H){q.u_inv_rot_matrix=_,q.u_merc_center=x,q.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],q.u_zoom_transition=t.globeToMercatorTransition(R.zoom);const ae=x[0]*t.EXTENT,a=x[1]*t.EXTENT;q.u_up_dir=R.projection.upVector(new t.CanonicalTileID(0,0,0),ae,a)}return q},Go=(h,r,c,_,x,T,I)=>{const R=h.transform,H=R.calculatePixelsToTileUnitsMatrix(r);return{u_matrix:io(h,r,c,_),u_pixels_to_tile_units:H,u_device_pixel_ratio:T,u_units_to_pixels:[1/R.pixelsToGLUnits[0],1/R.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:x,u_texsize:Hr(c)?r.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Fs(r,h.transform),u_alpha_discard_threshold:0,u_trim_offset:I}},xo=(h,r,c,_,x)=>{const T=h.transform;return{u_matrix:io(h,r,c,_),u_texsize:r.imageAtlasTexture.size,u_pixels_to_tile_units:T.calculatePixelsToTileUnitsMatrix(r),u_device_pixel_ratio:x,u_image:0,u_tile_units_to_pixels:Fs(r,T),u_units_to_pixels:[1/T.pixelsToGLUnits[0],1/T.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Fs(h,r){return 1/Tn(h,1,r.tileZoom)}function io(h,r,c,_){return h.translatePosMatrix(_||r.tileID.projMatrix,r,c.paint.get("line-translate"),c.paint.get("line-translate-anchor"))}function Hr(h){const r=h.paint.get("line-dasharray").value;return r.value||"constant"!==r.kind}const ml=(h,r,c,_,x,T)=>{return{u_matrix:h,u_tl_parent:r,u_scale_parent:c,u_fade_t:_.mix,u_opacity:_.opacity*x.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:x.paint.get("raster-brightness-min"),u_brightness_high:x.paint.get("raster-brightness-max"),u_saturation_factor:(R=x.paint.get("raster-saturation"),R>0?1-1/(1.001-R):-R),u_contrast_factor:(I=x.paint.get("raster-contrast"),I>0?1/(1-I):1+I),u_spin_weights:ba(x.paint.get("raster-hue-rotate")),u_perspective_transform:T};var I,R};function ba(h){h*=Math.PI/180;const r=Math.sin(h),c=Math.cos(h);return[(2*c+1)/3,(-Math.sqrt(3)*r-c+1)/3,(Math.sqrt(3)*r-c+1)/3]}const no=t.create(),_s=(h,r,c,_,x,T,I,R,H,$,q,ae,a,l,d,p)=>{const b=x.transform,w={u_is_size_zoom_constant:+("constant"===h||"source"===h),u_is_size_feature_constant:+("constant"===h||"camera"===h),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:b.cameraToCenterDistance,u_rotate_symbol:+c,u_aspect_ratio:b.width/b.height,u_fade_change:x.options.fadeDuration?x.symbolFadeChange:1,u_matrix:T,u_label_plane_matrix:I,u_coord_matrix:R,u_is_text:+H,u_pitch_with_map:+_,u_texsize:$,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:no,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:no,u_up_vector:[0,-1,0]};return"globe"===p.name&&(w.u_tile_id=[q.canonical.x,q.canonical.y,1<<q.canonical.z],w.u_zoom_transition=ae,w.u_inv_rot_matrix=l,w.u_merc_center=a,w.u_camera_forward=b._camera.forward(),w.u_ecef_origin=t.globeECEFOrigin(b.globeMatrix,q.toUnwrapped()),w.u_tile_matrix=Float32Array.from(b.globeMatrix),w.u_up_vector=d),w},Wa=(h,r,c,_,x,T,I,R,H,$,q,ae,a,l,d,p,b)=>t.extend(_s(h,r,c,_,x,T,I,R,H,$,ae,a,l,d,p,b),{u_gamma_scale:_?x.transform.cameraToCenterDistance*Math.cos(x.terrain?0:x.transform._pitch):1,u_device_pixel_ratio:t.exported.devicePixelRatio,u_is_halo:+q}),Ys=(h,r,c,_,x,T,I,R,H,$,q,ae,a,l,d,p)=>t.extend(Wa(h,r,c,_,x,T,I,R,!0,H,!0,q,ae,a,l,d,p),{u_texsize_icon:$,u_texture_icon:1}),_l=(h,r,c)=>({u_matrix:h,u_opacity:r,u_color:c}),Zo=(h,r,c,_,x)=>t.extend(function(T,I,R){const H=I.imageManager.getPattern(T.toString()),{width:$,height:q}=I.imageManager.getPixelSize(),ae=Math.pow(2,R.tileID.overscaledZ),a=R.tileSize*Math.pow(2,I.transform.tileZoom)/ae,l=a*(R.tileID.canonical.x+R.tileID.wrap*ae),d=a*R.tileID.canonical.y;return{u_image:0,u_pattern_tl:H.tl,u_pattern_br:H.br,u_texsize:[$,q],u_pattern_size:H.displaySize,u_tile_units_to_pixels:1/Tn(R,1,I.transform.tileZoom),u_pixel_coord_upper:[l>>16,d>>16],u_pixel_coord_lower:[65535&l,65535&d]}}(_,c,x),{u_matrix:h,u_opacity:r}),qo={fillExtrusion:h=>({u_matrix:new t.UniformMatrix4f(h),u_lightpos:new t.Uniform3f(h),u_lightintensity:new t.Uniform1f(h),u_lightcolor:new t.Uniform3f(h),u_vertical_gradient:new t.Uniform1f(h),u_opacity:new t.Uniform1f(h),u_edge_radius:new t.Uniform1f(h),u_ao:new t.Uniform2f(h),u_tile_id:new t.Uniform3f(h),u_zoom_transition:new t.Uniform1f(h),u_inv_rot_matrix:new t.UniformMatrix4f(h),u_merc_center:new t.Uniform2f(h),u_up_dir:new t.Uniform3f(h),u_height_lift:new t.Uniform1f(h)}),fillExtrusionPattern:h=>({u_matrix:new t.UniformMatrix4f(h),u_lightpos:new t.Uniform3f(h),u_lightintensity:new t.Uniform1f(h),u_lightcolor:new t.Uniform3f(h),u_vertical_gradient:new t.Uniform1f(h),u_height_factor:new t.Uniform1f(h),u_edge_radius:new t.Uniform1f(h),u_ao:new t.Uniform2f(h),u_tile_id:new t.Uniform3f(h),u_zoom_transition:new t.Uniform1f(h),u_inv_rot_matrix:new t.UniformMatrix4f(h),u_merc_center:new t.Uniform2f(h),u_up_dir:new t.Uniform3f(h),u_height_lift:new t.Uniform1f(h),u_image:new t.Uniform1i(h),u_texsize:new t.Uniform2f(h),u_pixel_coord_upper:new t.Uniform2f(h),u_pixel_coord_lower:new t.Uniform2f(h),u_tile_units_to_pixels:new t.Uniform1f(h),u_opacity:new t.Uniform1f(h)}),fill:h=>({u_matrix:new t.UniformMatrix4f(h)}),fillPattern:h=>({u_matrix:new t.UniformMatrix4f(h),u_image:new t.Uniform1i(h),u_texsize:new t.Uniform2f(h),u_pixel_coord_upper:new t.Uniform2f(h),u_pixel_coord_lower:new t.Uniform2f(h),u_tile_units_to_pixels:new t.Uniform1f(h)}),fillOutline:h=>({u_matrix:new t.UniformMatrix4f(h),u_world:new t.Uniform2f(h)}),fillOutlinePattern:h=>({u_matrix:new t.UniformMatrix4f(h),u_world:new t.Uniform2f(h),u_image:new t.Uniform1i(h),u_texsize:new t.Uniform2f(h),u_pixel_coord_upper:new t.Uniform2f(h),u_pixel_coord_lower:new t.Uniform2f(h),u_tile_units_to_pixels:new t.Uniform1f(h)}),circle:h=>({u_camera_to_center_distance:new t.Uniform1f(h),u_extrude_scale:new t.UniformMatrix2f(h),u_device_pixel_ratio:new t.Uniform1f(h),u_matrix:new t.UniformMatrix4f(h),u_inv_rot_matrix:new t.UniformMatrix4f(h),u_merc_center:new t.Uniform2f(h),u_tile_id:new t.Uniform3f(h),u_zoom_transition:new t.Uniform1f(h),u_up_dir:new t.Uniform3f(h)}),collisionBox:h=>({u_matrix:new t.UniformMatrix4f(h),u_camera_to_center_distance:new t.Uniform1f(h),u_extrude_scale:new t.Uniform2f(h)}),collisionCircle:h=>({u_matrix:new t.UniformMatrix4f(h),u_inv_matrix:new t.UniformMatrix4f(h),u_camera_to_center_distance:new t.Uniform1f(h),u_viewport_size:new t.Uniform2f(h)}),debug:h=>({u_color:new t.UniformColor(h),u_matrix:new t.UniformMatrix4f(h),u_overlay:new t.Uniform1i(h),u_overlay_scale:new t.Uniform1f(h)}),clippingMask:h=>({u_matrix:new t.UniformMatrix4f(h)}),heatmap:h=>({u_extrude_scale:new t.Uniform1f(h),u_intensity:new t.Uniform1f(h),u_matrix:new t.UniformMatrix4f(h),u_inv_rot_matrix:new t.UniformMatrix4f(h),u_merc_center:new t.Uniform2f(h),u_tile_id:new t.Uniform3f(h),u_zoom_transition:new t.Uniform1f(h),u_up_dir:new t.Uniform3f(h)}),heatmapTexture:h=>({u_image:new t.Uniform1i(h),u_color_ramp:new t.Uniform1i(h),u_opacity:new t.Uniform1f(h)}),hillshade:h=>({u_matrix:new t.UniformMatrix4f(h),u_image:new t.Uniform1i(h),u_latrange:new t.Uniform2f(h),u_light:new t.Uniform2f(h),u_shadow:new t.UniformColor(h),u_highlight:new t.UniformColor(h),u_accent:new t.UniformColor(h)}),hillshadePrepare:h=>({u_matrix:new t.UniformMatrix4f(h),u_image:new t.Uniform1i(h),u_dimension:new t.Uniform2f(h),u_zoom:new t.Uniform1f(h),u_unpack:new t.Uniform4f(h)}),line:h=>({u_matrix:new t.UniformMatrix4f(h),u_pixels_to_tile_units:new t.UniformMatrix2f(h),u_device_pixel_ratio:new t.Uniform1f(h),u_units_to_pixels:new t.Uniform2f(h),u_dash_image:new t.Uniform1i(h),u_gradient_image:new t.Uniform1i(h),u_image_height:new t.Uniform1f(h),u_texsize:new t.Uniform2f(h),u_tile_units_to_pixels:new t.Uniform1f(h),u_alpha_discard_threshold:new t.Uniform1f(h),u_trim_offset:new t.Uniform2f(h)}),linePattern:h=>({u_matrix:new t.UniformMatrix4f(h),u_texsize:new t.Uniform2f(h),u_pixels_to_tile_units:new t.UniformMatrix2f(h),u_device_pixel_ratio:new t.Uniform1f(h),u_image:new t.Uniform1i(h),u_units_to_pixels:new t.Uniform2f(h),u_tile_units_to_pixels:new t.Uniform1f(h),u_alpha_discard_threshold:new t.Uniform1f(h)}),raster:h=>({u_matrix:new t.UniformMatrix4f(h),u_tl_parent:new t.Uniform2f(h),u_scale_parent:new t.Uniform1f(h),u_fade_t:new t.Uniform1f(h),u_opacity:new t.Uniform1f(h),u_image0:new t.Uniform1i(h),u_image1:new t.Uniform1i(h),u_brightness_low:new t.Uniform1f(h),u_brightness_high:new t.Uniform1f(h),u_saturation_factor:new t.Uniform1f(h),u_contrast_factor:new t.Uniform1f(h),u_spin_weights:new t.Uniform3f(h),u_perspective_transform:new t.Uniform2f(h)}),symbolIcon:h=>({u_is_size_zoom_constant:new t.Uniform1i(h),u_is_size_feature_constant:new t.Uniform1i(h),u_size_t:new t.Uniform1f(h),u_size:new t.Uniform1f(h),u_camera_to_center_distance:new t.Uniform1f(h),u_rotate_symbol:new t.Uniform1i(h),u_aspect_ratio:new t.Uniform1f(h),u_fade_change:new t.Uniform1f(h),u_matrix:new t.UniformMatrix4f(h),u_label_plane_matrix:new t.UniformMatrix4f(h),u_coord_matrix:new t.UniformMatrix4f(h),u_is_text:new t.Uniform1i(h),u_pitch_with_map:new t.Uniform1i(h),u_texsize:new t.Uniform2f(h),u_tile_id:new t.Uniform3f(h),u_zoom_transition:new t.Uniform1f(h),u_inv_rot_matrix:new t.UniformMatrix4f(h),u_merc_center:new t.Uniform2f(h),u_camera_forward:new t.Uniform3f(h),u_tile_matrix:new t.UniformMatrix4f(h),u_up_vector:new t.Uniform3f(h),u_ecef_origin:new t.Uniform3f(h),u_texture:new t.Uniform1i(h)}),symbolSDF:h=>({u_is_size_zoom_constant:new t.Uniform1i(h),u_is_size_feature_constant:new t.Uniform1i(h),u_size_t:new t.Uniform1f(h),u_size:new t.Uniform1f(h),u_camera_to_center_distance:new t.Uniform1f(h),u_rotate_symbol:new t.Uniform1i(h),u_aspect_ratio:new t.Uniform1f(h),u_fade_change:new t.Uniform1f(h),u_matrix:new t.UniformMatrix4f(h),u_label_plane_matrix:new t.UniformMatrix4f(h),u_coord_matrix:new t.UniformMatrix4f(h),u_is_text:new t.Uniform1i(h),u_pitch_with_map:new t.Uniform1i(h),u_texsize:new t.Uniform2f(h),u_texture:new t.Uniform1i(h),u_gamma_scale:new t.Uniform1f(h),u_device_pixel_ratio:new t.Uniform1f(h),u_tile_id:new t.Uniform3f(h),u_zoom_transition:new t.Uniform1f(h),u_inv_rot_matrix:new t.UniformMatrix4f(h),u_merc_center:new t.Uniform2f(h),u_camera_forward:new t.Uniform3f(h),u_tile_matrix:new t.UniformMatrix4f(h),u_up_vector:new t.Uniform3f(h),u_ecef_origin:new t.Uniform3f(h),u_is_halo:new t.Uniform1i(h)}),symbolTextAndIcon:h=>({u_is_size_zoom_constant:new t.Uniform1i(h),u_is_size_feature_constant:new t.Uniform1i(h),u_size_t:new t.Uniform1f(h),u_size:new t.Uniform1f(h),u_camera_to_center_distance:new t.Uniform1f(h),u_rotate_symbol:new t.Uniform1i(h),u_aspect_ratio:new t.Uniform1f(h),u_fade_change:new t.Uniform1f(h),u_matrix:new t.UniformMatrix4f(h),u_label_plane_matrix:new t.UniformMatrix4f(h),u_coord_matrix:new t.UniformMatrix4f(h),u_is_text:new t.Uniform1i(h),u_pitch_with_map:new t.Uniform1i(h),u_texsize:new t.Uniform2f(h),u_texsize_icon:new t.Uniform2f(h),u_texture:new t.Uniform1i(h),u_texture_icon:new t.Uniform1i(h),u_gamma_scale:new t.Uniform1f(h),u_device_pixel_ratio:new t.Uniform1f(h),u_is_halo:new t.Uniform1i(h)}),background:h=>({u_matrix:new t.UniformMatrix4f(h),u_opacity:new t.Uniform1f(h),u_color:new t.UniformColor(h)}),backgroundPattern:h=>({u_matrix:new t.UniformMatrix4f(h),u_opacity:new t.Uniform1f(h),u_image:new t.Uniform1i(h),u_pattern_tl:new t.Uniform2f(h),u_pattern_br:new t.Uniform2f(h),u_texsize:new t.Uniform2f(h),u_pattern_size:new t.Uniform2f(h),u_pixel_coord_upper:new t.Uniform2f(h),u_pixel_coord_lower:new t.Uniform2f(h),u_tile_units_to_pixels:new t.Uniform1f(h)}),terrainRaster:go,terrainDepth:go,skybox:h=>({u_matrix:new t.UniformMatrix4f(h),u_sun_direction:new t.Uniform3f(h),u_cubemap:new t.Uniform1i(h),u_opacity:new t.Uniform1f(h),u_temporal_offset:new t.Uniform1f(h)}),skyboxGradient:h=>({u_matrix:new t.UniformMatrix4f(h),u_color_ramp:new t.Uniform1i(h),u_center_direction:new t.Uniform3f(h),u_radius:new t.Uniform1f(h),u_opacity:new t.Uniform1f(h),u_temporal_offset:new t.Uniform1f(h)}),skyboxCapture:h=>({u_matrix_3f:new t.UniformMatrix3f(h),u_sun_direction:new t.Uniform3f(h),u_sun_intensity:new t.Uniform1f(h),u_color_tint_r:new t.Uniform4f(h),u_color_tint_m:new t.Uniform4f(h),u_luminance:new t.Uniform1f(h)}),globeRaster:h=>({u_proj_matrix:new t.UniformMatrix4f(h),u_globe_matrix:new t.UniformMatrix4f(h),u_normalize_matrix:new t.UniformMatrix4f(h),u_merc_matrix:new t.UniformMatrix4f(h),u_zoom_transition:new t.Uniform1f(h),u_merc_center:new t.Uniform2f(h),u_image0:new t.Uniform1i(h),u_grid_matrix:new t.UniformMatrix3f(h),u_skirt_height:new t.Uniform1f(h),u_frustum_tl:new t.Uniform3f(h),u_frustum_tr:new t.Uniform3f(h),u_frustum_br:new t.Uniform3f(h),u_frustum_bl:new t.Uniform3f(h),u_globe_pos:new t.Uniform3f(h),u_globe_radius:new t.Uniform1f(h),u_viewport:new t.Uniform2f(h)}),globeAtmosphere:h=>({u_frustum_tl:new t.Uniform3f(h),u_frustum_tr:new t.Uniform3f(h),u_frustum_br:new t.Uniform3f(h),u_frustum_bl:new t.Uniform3f(h),u_horizon:new t.Uniform1f(h),u_transition:new t.Uniform1f(h),u_fadeout_range:new t.Uniform1f(h),u_color:new t.Uniform4f(h),u_high_color:new t.Uniform4f(h),u_space_color:new t.Uniform4f(h),u_star_intensity:new t.Uniform1f(h),u_star_density:new t.Uniform1f(h),u_star_size:new t.Uniform1f(h),u_temporal_offset:new t.Uniform1f(h),u_horizon_angle:new t.Uniform1f(h),u_rotation_matrix:new t.UniformMatrix4f(h)})};let gs;function Ga(h,r,c,_,x,T,I){const R=h.context,H=R.gl,$=h.transform,q=h.useProgram("collisionBox"),ae=[];let a=0,l=0;for(let C=0;C<_.length;C++){const z=_[C],U=r.getTile(z),W=U.getBucket(c);if(!W)continue;const ie=ir(z,W,$);let ce=ie;0===x[0]&&0===x[1]||(ce=h.translatePosMatrix(ie,U,x,T));const pe=I?W.textCollisionBox:W.iconCollisionBox,ve=W.collisionCircleArray;if(ve.length>0){const ge=t.create(),Ee=ce;t.mul(ge,W.placementInvProjMatrix,$.glCoordMatrix),t.mul(ge,ge,W.placementViewportMatrix),ae.push({circleArray:ve,circleOffset:l,transform:Ee,invTransform:ge,projection:W.getProjection()}),a+=ve.length/4,l=a}pe&&(h.terrain&&h.terrain.setupElevationDraw(U,q),q.draw(R,H.LINES,t.DepthMode.disabled,t.StencilMode.disabled,h.colorModeForRenderPass(),t.CullFaceMode.disabled,Or(ce,$,U,W.getProjection()),c.id,pe.layoutVertexBuffer,pe.indexBuffer,pe.segments,null,$.zoom,null,[pe.collisionVertexBuffer,pe.collisionVertexBufferExt]))}if(!I||!ae.length)return;const d=h.useProgram("collisionCircle"),p=new t.StructArrayLayout2f1f2i16;p.resize(4*a),p._trim();let b=0;for(const C of ae)for(let z=0;z<C.circleArray.length/4;z++){const U=4*z,W=C.circleArray[U+0],ie=C.circleArray[U+1],ce=C.circleArray[U+2],pe=C.circleArray[U+3];p.emplace(b++,W,ie,ce,pe,0),p.emplace(b++,W,ie,ce,pe,1),p.emplace(b++,W,ie,ce,pe,2),p.emplace(b++,W,ie,ce,pe,3)}(!gs||gs.length<2*a)&&(gs=function(C){const z=2*C,U=new t.StructArrayLayout3ui6;U.resize(z),U._trim();for(let W=0;W<z;W++){const ie=6*W;U.uint16[ie+0]=4*W+0,U.uint16[ie+1]=4*W+1,U.uint16[ie+2]=4*W+2,U.uint16[ie+3]=4*W+2,U.uint16[ie+4]=4*W+3,U.uint16[ie+5]=4*W+0}return U}(a));const w=R.createIndexBuffer(gs,!0),D=R.createVertexBuffer(p,t.collisionCircleLayout.members,!0);for(const C of ae){const z={u_matrix:C.transform,u_inv_matrix:C.invTransform,u_camera_to_center_distance:(O=$).getCameraToCenterDistance(C.projection),u_viewport_size:[O.width,O.height]};d.draw(R,H.TRIANGLES,t.DepthMode.disabled,t.StencilMode.disabled,h.colorModeForRenderPass(),t.CullFaceMode.disabled,z,c.id,D,w,t.SegmentVector.simpleSegment(0,2*C.circleOffset,C.circleArray.length,C.circleArray.length/2),null,$.zoom)}var O;D.destroy(),w.destroy()}const sa=t.create();function xi({width:h,height:r,anchor:c,textOffset:_,textScale:x},T){const{horizontalAlign:I,verticalAlign:R}=t.getAnchorAlignment(c),H=-(I-.5)*h,$=-(R-.5)*r,q=t.evaluateVariableOffset(c,_);return new t.Point((H/x+q[0])*T,($/x+q[1])*T)}function oc(h,r,c,_,x,T,I,R,H,$,q){const ae=h.text.placedSymbolArray,a=h.text.dynamicLayoutVertexArray,l=h.icon.dynamicLayoutVertexArray,d={},p=h.getProjection(),b=Ci(R,p,T),w=T.elevation,D=p.upVectorScale(R.canonical,T.center.lat,T.worldSize).metersToTile;a.clear();for(let O=0;O<ae.length;O++){const C=ae.get(O),{tileAnchorX:z,tileAnchorY:U,numGlyphs:W}=C,ie=C.hidden||!C.crossTileID||h.allowVerticalPlacement&&!C.placedOrientation?null:_[C.crossTileID];if(ie){let ce=0,pe=0,ve=0;if(w){const ot=w?w.getAtTileOffset(R,z,U):0,[Et,Vt,It]=p.upVector(R.canonical,z,U);ce=ot*Et*D,pe=ot*Vt*D,ve=ot*It*D}let[ge,Ee,Re,Ze]=$n(C.projectedAnchorX+ce,C.projectedAnchorY+pe,C.projectedAnchorZ+ve,c?b:I);const je=Yl(T.getCameraToCenterDistance(p),Ze);let Ge=x.evaluateSizeForFeature(h.textSizeData,$,C)*je/t.ONE_EM;c&&(Ge*=h.tilePixelRatio/H);const lt=xi(ie,Ge);c?(({x:ge,y:Ee,z:Re}=p.projectTilePoint(z+lt.x,U+lt.y,R.canonical)),[ge,Ee,Re]=$n(ge+ce,Ee+pe,Re+ve,I)):(r&&lt._rotate(-T.angle),ge+=lt.x,Ee+=lt.y,Re=0);const tt=h.allowVerticalPlacement&&C.placedOrientation===t.WritingMode.vertical?Math.PI/2:0;for(let ot=0;ot<W;ot++)t.addDynamicAttributes(a,ge,Ee,Re,tt);q&&C.associatedIconIndex>=0&&(d[C.associatedIconIndex]={x:ge,y:Ee,z:Re,angle:tt})}else Hn(W,a)}if(q){l.clear();const O=h.icon.placedSymbolArray;for(let C=0;C<O.length;C++){const z=O.get(C),{numGlyphs:U}=z,W=d[C];if(z.hidden||!W)Hn(U,l);else{const{x:ie,y:ce,z:pe,angle:ve}=W;for(let ge=0;ge<U;ge++)t.addDynamicAttributes(l,ie,ce,pe,ve)}}h.icon.dynamicLayoutVertexBuffer.updateData(l)}h.text.dynamicLayoutVertexBuffer.updateData(a)}function xa(h,r,c){return c.iconsInText&&r?"symbolTextAndIcon":h?"symbolSDF":"symbolIcon"}function zs(h,r,c,_,x,T,I,R,H,$,q,ae){const a=h.context,l=a.gl,d=h.transform,p="map"===R,b="map"===H,w=p&&"point"!==c.layout.get("symbol-placement"),D=p&&!b&&!w,O=void 0!==c.layout.get("symbol-sort-key").constantOr(1);let C=!1;const z=h.depthModeForSublayer(0,t.DepthMode.ReadOnly),U=[t.mercatorXfromLng(d.center.lng),t.mercatorYfromLat(d.center.lat)],W=c.layout.get("text-variable-anchor"),ie="globe"===d.projection.name,ce=[],pe=[0,-1,0];let ve=pe;!ie&&!d.mercatorFromTransition||p||(ve=function(ge){const Ee=ge._camera.getWorldToCamera(ge.worldSize,1),Re=t.multiply([],Ee,ge.globeMatrix);t.invert(Re,Re);const Ze=[0,0,0],je=[0,1,0,0];return t.transformMat4$1(je,je,Re),Ze[0]=je[0],Ze[1]=je[1],Ze[2]=je[2],t.normalize(Ze,Ze),Ze}(d));for(const ge of _){const Ee=r.getTile(ge),Re=Ee.getBucket(c);if(!Re||"mercator"===Re.projection.name&&ie)continue;const Ze=x?Re.text:Re.icon;if(!Ze||Re.fullyClipped||!Ze.segments.get().length)continue;const je=Ze.programConfigurations.get(c.id),Ge=x||Re.sdfIcons,lt=x?Re.textSizeData:Re.iconSizeData,tt=b||0!==d.pitch,ot=t.evaluateSizeForZoom(lt,d.zoom);let Et,Vt,It,Dt,Zt=[0,0],ci=null;if(x)Vt=Ee.glyphAtlasTexture,It=l.LINEAR,Et=Ee.glyphAtlasTexture.size,Re.iconsInText&&(Zt=Ee.imageAtlasTexture.size,ci=Ee.imageAtlasTexture,Dt=tt||h.options.rotating||h.options.zooming||"composite"===lt.kind||"camera"===lt.kind?l.LINEAR:l.NEAREST);else{const bl=1!==c.layout.get("icon-size").constantOr(0)||Re.iconsNeedLinear;Vt=Ee.imageAtlasTexture,It=Ge||h.options.rotating||h.options.zooming||bl||tt?l.LINEAR:l.NEAREST,Et=Ee.imageAtlasTexture.size}const jt="globe"===Re.projection.name,Ei=jt?ve:pe,Ji=jt?t.globeToMercatorTransition(d.zoom):0,qt=Ci(ge,Re.getProjection(),d),k=d.calculatePixelsToTileUnitsMatrix(Ee),F=at(qt,Ee.tileID.canonical,b,p,d,Re.getProjection(),k),K=h.terrain&&b&&w?t.invert(t.create(),F):sa,re=zn(qt,Ee.tileID.canonical,b,p,d,Re.getProjection(),k),me=W&&Re.hasTextData(),Oe="none"!==c.layout.get("icon-text-fit")&&me&&Re.hasIconData();if(w){const bl=d.elevation,Zl=bl?bl.getAtTileOffsetFunc(ge,d.center.lat,d.worldSize,Re.getProjection()):null,jc=ta(qt,Ee.tileID.canonical,b,p,d,Re.getProjection(),k);ss(Re,qt,h,x,jc,re,b,$,Zl,ge)}const et=w||x&&W||Oe,Pt=h.translatePosMatrix(qt,Ee,T,I),Kt=et?sa:F,Di=h.translatePosMatrix(re,Ee,T,I,!0),Ai=Re.getProjection().createInversionMatrix(d,ge.canonical),Vn=[];h.terrainRenderModeElevated()&&b&&Vn.push("PITCH_WITH_MAP_TERRAIN"),jt&&Vn.push("PROJECTION_GLOBE_VIEW"),et&&Vn.push("PROJECTED_POS_ON_VIEWPORT");const Us=Ge&&0!==c.paint.get(x?"text-halo-width":"icon-halo-width").constantOr(1);let Bc;Bc=Ge?Re.iconsInText?Ys(lt.kind,ot,D,b,h,Pt,Kt,Di,Et,Zt,ge,Ji,U,Ai,Ei,Re.getProjection()):Wa(lt.kind,ot,D,b,h,Pt,Kt,Di,x,Et,!0,ge,Ji,U,Ai,Ei,Re.getProjection()):_s(lt.kind,ot,D,b,h,Pt,Kt,Di,x,Et,ge,Ji,U,Ai,Ei,Re.getProjection());const sn={program:h.useProgram(xa(Ge,x,Re),je,Vn),buffers:Ze,uniformValues:Bc,atlasTexture:Vt,atlasTextureIcon:ci,atlasInterpolation:It,atlasInterpolationIcon:Dt,isSDF:Ge,hasHalo:Us,tile:Ee,labelPlaneMatrixInv:K};if(O&&Re.canOverlap){C=!0;const bl=Ze.segments.get();for(const Zl of bl)ce.push({segments:new t.SegmentVector([Zl]),sortKey:Zl.sortKey,state:sn})}else ce.push({segments:Ze.segments,sortKey:0,state:sn})}C&&ce.sort((ge,Ee)=>ge.sortKey-Ee.sortKey);for(const ge of ce){const Ee=ge.state;if(h.terrain&&h.terrain.setupElevationDraw(Ee.tile,Ee.program,{useDepthForOcclusion:!ie,labelPlaneMatrixInv:Ee.labelPlaneMatrixInv}),a.activeTexture.set(l.TEXTURE0),Ee.atlasTexture.bind(Ee.atlasInterpolation,l.CLAMP_TO_EDGE),Ee.atlasTextureIcon&&(a.activeTexture.set(l.TEXTURE1),Ee.atlasTextureIcon&&Ee.atlasTextureIcon.bind(Ee.atlasInterpolationIcon,l.CLAMP_TO_EDGE)),Ee.isSDF){const Re=Ee.uniformValues;Ee.hasHalo&&(Re.u_is_halo=1,wo(Ee.buffers,ge.segments,c,h,Ee.program,z,q,ae,Re)),Re.u_is_halo=0}wo(Ee.buffers,ge.segments,c,h,Ee.program,z,q,ae,Ee.uniformValues)}}function wo(h,r,c,_,x,T,I,R,H){const $=_.context,q=[h.dynamicLayoutVertexBuffer,h.opacityVertexBuffer,h.globeExtVertexBuffer];x.draw($,$.gl.TRIANGLES,T,I,R,t.CullFaceMode.disabled,H,c.id,h.layoutVertexBuffer,h.indexBuffer,r,c.paint,_.transform.zoom,h.programConfigurations.get(c.id),q)}function ro(h,r,c,_,x,T,I){const R=h.context.gl,H=c.paint.get("fill-pattern"),$=H&&H.constantOr(1);let q,ae,a,l,d;I?(ae=$&&!c.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",q=R.LINES):(ae=$?"fillPattern":"fill",q=R.TRIANGLES);for(const p of _){const b=r.getTile(p);if($&&!b.patternsLoaded())continue;const w=b.getBucket(c);if(!w)continue;h.prepareDrawTile();const D=w.programConfigurations.get(c.id),O=h.useProgram(ae,D);$&&(h.context.activeTexture.set(R.TEXTURE0),b.imageAtlasTexture.bind(R.LINEAR,R.CLAMP_TO_EDGE),D.updatePaintBuffers());const C=H.constantOr(null);if(C&&b.imageAtlas){const U=b.imageAtlas.patternPositions[C.toString()];U&&D.setConstantPatternPositions(U)}const z=h.translatePosMatrix(p.projMatrix,b,c.paint.get("fill-translate"),c.paint.get("fill-translate-anchor"));if(I){l=w.indexBuffer2,d=w.segments2;const U=h.terrain&&h.terrain.renderingToTexture?h.terrain.drapeBufferSize:[R.drawingBufferWidth,R.drawingBufferHeight];a="fillOutlinePattern"===ae&&$?vo(z,h,b,U):cn(z,U)}else l=w.indexBuffer,d=w.segments,a=$?Nr(z,h,b):va(z);h.prepareDrawProgram(h.context,O,p.toUnwrapped()),O.draw(h.context,q,x,h.stencilModeForClipping(p),T,t.CullFaceMode.disabled,a,c.id,w.layoutVertexBuffer,l,d,c.paint,h.transform.zoom,D)}}function ys(h,r,c,_,x,T,I){const R=h.context,H=R.gl,$=h.transform,q=c.paint.get("fill-extrusion-pattern"),ae=q.constantOr(1),a=c.paint.get("fill-extrusion-opacity"),l=[c.paint.get("fill-extrusion-ambient-occlusion-intensity"),c.paint.get("fill-extrusion-ambient-occlusion-radius")],d=c.layout.get("fill-extrusion-edge-radius"),p=d>0&&!c.paint.get("fill-extrusion-rounded-roof"),b=p?0:d,w="globe"===$.projection.name?t.fillExtrusionHeightLift():0,D="globe"===$.projection.name,O=D?t.globeToMercatorTransition($.zoom):0,C=[t.mercatorXfromLng($.center.lng),t.mercatorYfromLat($.center.lat)],z=[];D&&z.push("PROJECTION_GLOBE_VIEW"),l[0]>0&&z.push("FAUX_AO"),p&&z.push("ZERO_ROOF_RADIUS");for(const U of _){const W=r.getTile(U),ie=W.getBucket(c);if(!ie||ie.projection.name!==$.projection.name)continue;const ce=ie.programConfigurations.get(c.id),pe=h.useProgram(ae?"fillExtrusionPattern":"fillExtrusion",ce,z);if(h.terrain){const Ge=h.terrain;if(h.style.terrainSetForDrapingOnly())Ge.setupElevationDraw(W,pe,{useMeterToDem:!0});else{if(!ie.enableTerrain)continue;if(Ge.setupElevationDraw(W,pe,{useMeterToDem:!0}),vs(R,r,U,ie,c,Ge),!ie.centroidVertexBuffer){const lt=pe.attributes.a_centroid_pos;void 0!==lt&&H.vertexAttrib2f(lt,0,0)}}}ae&&(h.context.activeTexture.set(H.TEXTURE0),W.imageAtlasTexture.bind(H.LINEAR,H.CLAMP_TO_EDGE),ce.updatePaintBuffers());const ve=q.constantOr(null);if(ve&&W.imageAtlas){const Ge=W.imageAtlas.patternPositions[ve.toString()];Ge&&ce.setConstantPatternPositions(Ge)}const ge=h.translatePosMatrix(U.projMatrix,W,c.paint.get("fill-extrusion-translate"),c.paint.get("fill-extrusion-translate-anchor")),Ee=$.projection.createInversionMatrix($,U.canonical),Re=c.paint.get("fill-extrusion-vertical-gradient"),Ze=ae?to(ge,h,Re,a,l,b,U,W,w,O,C,Ee):eo(ge,h,Re,a,l,b,U,w,O,C,Ee);h.prepareDrawProgram(R,pe,U.toUnwrapped());const je=[];h.terrain&&je.push(ie.centroidVertexBuffer),D&&je.push(ie.layoutVertexExtBuffer),pe.draw(R,R.gl.TRIANGLES,x,T,I,t.CullFaceMode.backCCW,Ze,c.id,ie.layoutVertexBuffer,ie.indexBuffer,ie.segments,c.paint,h.transform.zoom,ce,je)}}function vs(h,r,c,_,x,T){const I=[w=>{let D=w.canonical.x-1,O=w.wrap;return D<0&&(D=(1<<w.canonical.z)-1,O--),new t.OverscaledTileID(w.overscaledZ,O,w.canonical.z,D,w.canonical.y)},w=>{let D=w.canonical.x+1,O=w.wrap;return D===1<<w.canonical.z&&(D=0,O++),new t.OverscaledTileID(w.overscaledZ,O,w.canonical.z,D,w.canonical.y)},w=>new t.OverscaledTileID(w.overscaledZ,w.wrap,w.canonical.z,w.canonical.x,(0===w.canonical.y?1<<w.canonical.z:w.canonical.y)-1),w=>new t.OverscaledTileID(w.overscaledZ,w.wrap,w.canonical.z,w.canonical.x,w.canonical.y===(1<<w.canonical.z)-1?0:w.canonical.y+1)],R=w=>{const D=r.getSource().minzoom,O=z=>{const U=r.getTileByID(z);if(U&&U.hasData())return U.getBucket(x)},C=[0,-1,1];for(const z of C){if(w.overscaledZ+z<D)continue;const U=O(w.calculateScaledKey(w.overscaledZ+z));if(U)return U}},H=[0,0,0],$=(w,D)=>(H[0]=Math.min(w.min.y,D.min.y),H[1]=Math.max(w.max.y,D.max.y),H[2]=t.EXTENT-D.min.x>w.max.x?D.min.x-t.EXTENT:w.max.x,H),q=(w,D)=>(H[0]=Math.min(w.min.x,D.min.x),H[1]=Math.max(w.max.x,D.max.x),H[2]=t.EXTENT-D.min.y>w.max.y?D.min.y-t.EXTENT:w.max.y,H),ae=[(w,D)=>$(w,D),(w,D)=>$(D,w),(w,D)=>q(w,D),(w,D)=>q(D,w)],a=new t.Point(0,0);let l,d,p;const b=(w,D,O,C,z)=>{const U=[[C?O:w,C?w:O,0],[C?O:D,C?D:O,0]],W=z<0?t.EXTENT+z:z,ie=[C?W:(w+D)/2,C?(w+D)/2:W,0];return 0===O&&z<0||0!==O&&z>0?T.getForTilePoints(p,[ie],!0,d):U.push(ie),T.getForTilePoints(c,U,!0,l),Math.max(U[0][2],U[1][2],ie[2])/T.exaggeration()};for(let w=0;w<4;w++){const D=(w<2?1:5)-w,O=_.borders[w];if(0===O.length)continue;const C=p=I[w](c),z=R(C);if(!(z&&z instanceof t.FillExtrusionBucket&&z.enableTerrain)||_.borderDoneWithNeighborZ[w]===z.canonical.z&&z.borderDoneWithNeighborZ[D]===_.canonical.z||(d=T.findDEMTileFor(C),!d||!d.dem))continue;if(!l){const ce=T.findDEMTileFor(c);if(!ce||!ce.dem)return;l=ce}const U=z.borders[D];let W=0;const ie=z.borderDoneWithNeighborZ[D]!==_.canonical.z;if(_.canonical.z===z.canonical.z){for(let ce=0;ce<O.length;ce++){const pe=_.featuresOnBorder[O[ce]],ve=pe.borders[w];let ge;for(;W<U.length&&(ge=z.featuresOnBorder[U[W]],!(ge.borders[D][1]>ve[0]+3));)ie&&z.encodeCentroid(void 0,ge,!1),W++;if(ge&&W<U.length){const Ee=W;let Re=0;for(;!(ge.borders[D][0]>ve[1]-3)&&(Re++,++W!==U.length);)ge=z.featuresOnBorder[U[W]];if(ge=z.featuresOnBorder[U[Ee]],pe.intersectsCount()>1||ge.intersectsCount()>1||1!==Re){1!==Re&&(W=Ee),_.encodeCentroid(void 0,pe,!1),ie&&z.encodeCentroid(void 0,ge,!1);continue}const Ze=ae[w](pe,ge),je=w%2?t.EXTENT-1:0;a.x=b(Ze[0],Math.min(t.EXTENT-1,Ze[1]),je,w<2,Ze[2]),a.y=0,_.encodeCentroid(a,pe,!1),ie&&z.encodeCentroid(a,ge,!1)}else _.encodeCentroid(void 0,pe,!1)}_.borderDoneWithNeighborZ[w]=z.canonical.z,_.needsCentroidUpdate=!0,ie&&(z.borderDoneWithNeighborZ[D]=_.canonical.z,z.needsCentroidUpdate=!0)}else{for(const ce of O)_.encodeCentroid(void 0,_.featuresOnBorder[ce],!1);if(ie){for(const ce of U)z.encodeCentroid(void 0,z.featuresOnBorder[ce],!1);z.borderDoneWithNeighborZ[D]=_.canonical.z,z.needsCentroidUpdate=!0}_.borderDoneWithNeighborZ[w]=z.canonical.z,_.needsCentroidUpdate=!0}}(_.needsCentroidUpdate||!_.centroidVertexBuffer&&0!==_.centroidVertexArray.length)&&_.uploadCentroid(h)}const Xr=new t.Color(1,0,0,1),bs=new t.Color(0,1,0,1),Bs=new t.Color(0,0,1,1),jl=new t.Color(1,0,1,1),Nl=new t.Color(0,1,1,1);function oa(h,r,c){const _=h.context,x=h.transform,T=_.gl,I="globe"===x.projection.name,R=I?["PROJECTION_GLOBE_VIEW"]:null;let H=c.projMatrix;if(I&&t.globeToMercatorTransition(x.zoom)>0){const pe=t.transitionTileAABBinECEF(c.canonical,x),ve=t.globeDenormalizeECEF(pe);H=t.multiply(new Float32Array(16),x.globeMatrix,ve),t.multiply(H,x.projMatrix,H)}const $=h.useProgram("debug",null,R),q=r.getTileByID(c.key);h.terrain&&h.terrain.setupElevationDraw(q,$);const ae=t.DepthMode.disabled,a=t.StencilMode.disabled,l=h.colorModeForRenderPass(),d="$debug";_.activeTexture.set(T.TEXTURE0),h.emptyTexture.bind(T.LINEAR,T.CLAMP_TO_EDGE),I?q._makeGlobeTileDebugBuffers(h.context,x):q._makeDebugTileBoundsBuffers(h.context,x.projection);const p=q._tileDebugBuffer||h.debugBuffer,b=q._tileDebugIndexBuffer||h.debugIndexBuffer,w=q._tileDebugSegments||h.debugSegments;$.draw(_,T.LINE_STRIP,ae,a,l,t.CullFaceMode.disabled,Ii(H,t.Color.red),d,p,b,w,null,null,null,[q._globeTileDebugBorderBuffer]);const D=q.latestRawTileData,O=Math.floor((D&&D.byteLength||0)/1024),C=r.getTile(c).tileSize,z=512/Math.min(C,512)*(c.overscaledZ/x.zoom)*.5;let U=c.canonical.toString();c.overscaledZ!==c.canonical.z&&(U+=` => ${c.overscaledZ}`),U+=` ${O}kb`,function(pe,ve){pe.initDebugOverlayCanvas();const ge=pe.debugOverlayCanvas,Ee=pe.context.gl,Re=pe.debugOverlayCanvas.getContext("2d");Re.clearRect(0,0,ge.width,ge.height),Re.shadowColor="white",Re.shadowBlur=2,Re.lineWidth=1.5,Re.strokeStyle="white",Re.textBaseline="top",Re.font="bold 36px Open Sans, sans-serif",Re.fillText(ve,5,5),Re.strokeText(ve,5,5),pe.debugOverlayTexture.update(ge),pe.debugOverlayTexture.bind(Ee.LINEAR,Ee.CLAMP_TO_EDGE)}(h,U);const W=q._tileDebugTextBuffer||h.debugBuffer,ie=q._tileDebugTextIndexBuffer||h.quadTriangleIndexBuffer,ce=q._tileDebugTextSegments||h.debugSegments;$.draw(_,T.TRIANGLES,ae,a,t.ColorMode.alphaBlended,t.CullFaceMode.disabled,Ii(H,t.Color.transparent,z),d,W,ie,ce,null,null,null,[q._globeTileDebugTextBuffer])}function xs(h,r,c,_){ws(h,0,r+c/2,h.transform.width,c,_)}function Za(h,r,c,_){ws(h,r-c/2,0,c,h.transform.height,_)}function ws(h,r,c,_,x,T){const I=h.context,R=I.gl;R.enable(R.SCISSOR_TEST),R.scissor(r*t.exported.devicePixelRatio,c*t.exported.devicePixelRatio,_*t.exported.devicePixelRatio,x*t.exported.devicePixelRatio),I.clear({color:T}),R.disable(R.SCISSOR_TEST)}const $o=t.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:la}=$o;function Jr(h,r,c,_){h.emplaceBack(r,c,_)}class Mo{constructor(r){this.vertexArray=new t.StructArrayLayout3f12,this.indices=new t.StructArrayLayout3ui6,Jr(this.vertexArray,-1,-1,1),Jr(this.vertexArray,1,-1,1),Jr(this.vertexArray,-1,1,1),Jr(this.vertexArray,1,1,1),Jr(this.vertexArray,-1,-1,-1),Jr(this.vertexArray,1,-1,-1),Jr(this.vertexArray,-1,1,-1),Jr(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=r.createVertexBuffer(this.vertexArray,la),this.indexBuffer=r.createIndexBuffer(this.indices),this.segment=t.SegmentVector.simpleSegment(0,0,36,12)}}function Rr(h,r,c,_,x,T){const I=h.gl,R=r.paint.get("sky-atmosphere-color"),H=r.paint.get("sky-atmosphere-halo-color"),$=r.paint.get("sky-atmosphere-sun-intensity"),q={u_matrix_3f:t.fromMat4(t.create$1(),_),u_sun_direction:x,u_sun_intensity:$,u_color_tint_r:[(d=R).r,d.g,d.b,d.a],u_color_tint_m:[(p=H).r,p.g,p.b,p.a],u_luminance:5e-5};var d,p;I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_CUBE_MAP_POSITIVE_X+T,r.skyboxTexture,0),c.draw(h,I.TRIANGLES,t.DepthMode.disabled,t.StencilMode.disabled,t.ColorMode.unblended,t.CullFaceMode.frontCW,q,"skyboxCapture",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}const To=t.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class gl{constructor(r){const c=new t.StructArrayLayout5f20;c.emplaceBack(-1,1,1,0,0),c.emplaceBack(1,1,1,1,0),c.emplaceBack(1,-1,1,1,1),c.emplaceBack(-1,-1,1,0,1);const _=new t.StructArrayLayout3ui6;_.emplaceBack(0,1,2),_.emplaceBack(2,3,0),this.vertexBuffer=r.createVertexBuffer(c,To.members),this.indexBuffer=r.createIndexBuffer(_),this.segments=t.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const wa={symbol:function(h,r,c,_,x){if("translucent"!==h.renderPass)return;const T=t.StencilMode.disabled,I=h.colorModeForRenderPass();c.layout.get("text-variable-anchor")&&function(R,H,$,q,ae,a,l){const d=H.transform,p="map"===ae,b="map"===a;for(const w of R){const D=q.getTile(w),O=D.getBucket($);if(!O||!O.text||!O.text.segments.get().length)continue;const C=t.evaluateSizeForZoom(O.textSizeData,d.zoom),z=Ci(w,O.getProjection(),d),U=d.calculatePixelsToTileUnitsMatrix(D),W=at(z,D.tileID.canonical,b,p,d,O.getProjection(),U),ie="none"!==$.layout.get("icon-text-fit")&&O.hasIconData();if(C){const ce=Math.pow(2,d.zoom-D.tileID.overscaledZ);oc(O,p,b,l,t.symbolSize,d,W,w,ce,C,ie)}}}(_,h,c,r,c.layout.get("text-rotation-alignment"),c.layout.get("text-pitch-alignment"),x),0!==c.paint.get("icon-opacity").constantOr(1)&&zs(h,r,c,_,!1,c.paint.get("icon-translate"),c.paint.get("icon-translate-anchor"),c.layout.get("icon-rotation-alignment"),c.layout.get("icon-pitch-alignment"),c.layout.get("icon-keep-upright"),T,I),0!==c.paint.get("text-opacity").constantOr(1)&&zs(h,r,c,_,!0,c.paint.get("text-translate"),c.paint.get("text-translate-anchor"),c.layout.get("text-rotation-alignment"),c.layout.get("text-pitch-alignment"),c.layout.get("text-keep-upright"),T,I),r.map.showCollisionBoxes&&(Ga(h,r,c,_,c.paint.get("text-translate"),c.paint.get("text-translate-anchor"),!0),Ga(h,r,c,_,c.paint.get("icon-translate"),c.paint.get("icon-translate-anchor"),!1))},circle:function(h,r,c,_){if("translucent"!==h.renderPass)return;const x=c.paint.get("circle-opacity"),T=c.paint.get("circle-stroke-width"),I=c.paint.get("circle-stroke-opacity"),R=void 0!==c.layout.get("circle-sort-key").constantOr(1);if(0===x.constantOr(1)&&(0===T.constantOr(1)||0===I.constantOr(1)))return;const H=h.context,$=H.gl,q=h.transform,ae=h.depthModeForSublayer(0,t.DepthMode.ReadOnly),a=t.StencilMode.disabled,l=h.colorModeForRenderPass(),d="globe"===q.projection.name,p=[t.mercatorXfromLng(q.center.lng),t.mercatorYfromLat(q.center.lat)],b=[];for(let D=0;D<_.length;D++){const O=_[D],C=r.getTile(O),z=C.getBucket(c);if(!z||z.projection.name!==q.projection.name)continue;const U=z.programConfigurations.get(c.id),W=Wo(c);d&&W.push("PROJECTION_GLOBE_VIEW");const ie=h.useProgram("circle",U,W),ce=z.layoutVertexBuffer,pe=z.globeExtVertexBuffer,ve=z.indexBuffer,ge=q.projection.createInversionMatrix(q,O.canonical),Ee={programConfiguration:U,program:ie,layoutVertexBuffer:ce,globeExtVertexBuffer:pe,indexBuffer:ve,uniformValues:Rs(h,O,C,ge,p,c),tile:C};if(R){const Re=z.segments.get();for(const Ze of Re)b.push({segments:new t.SegmentVector([Ze]),sortKey:Ze.sortKey,state:Ee})}else b.push({segments:z.segments,sortKey:0,state:Ee})}R&&b.sort((D,O)=>D.sortKey-O.sortKey);const w={useDepthForOcclusion:!d};for(const D of b){const{programConfiguration:O,program:C,layoutVertexBuffer:z,globeExtVertexBuffer:U,indexBuffer:W,uniformValues:ie,tile:ce}=D.state,pe=D.segments;h.terrain&&h.terrain.setupElevationDraw(ce,C,w),h.prepareDrawProgram(H,C,ce.tileID.toUnwrapped()),C.draw(H,$.TRIANGLES,ae,a,l,t.CullFaceMode.disabled,ie,c.id,z,W,pe,c.paint,q.zoom,O,[U])}},heatmap:function(h,r,c,_){if(0!==c.paint.get("heatmap-opacity"))if("offscreen"===h.renderPass){const x=h.context,T=x.gl,I=t.StencilMode.disabled,R=new t.ColorMode([T.ONE,T.ONE],t.Color.transparent,[!0,!0,!0,!0]);(function(l,d,p,b){const w=l.gl,D=d.width*b,O=d.height*b;l.activeTexture.set(w.TEXTURE1),l.viewport.set([0,0,D,O]);let C=p.heatmapFbo;if(!C||C&&(C.width!==D||C.height!==O)){C&&C.destroy();const z=w.createTexture();w.bindTexture(w.TEXTURE_2D,z),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.LINEAR),C=p.heatmapFbo=l.createFramebuffer(D,O,!1),function(U,W,ie,ce,pe,ve){const ge=U.gl;ge.texImage2D(ge.TEXTURE_2D,0,U.isWebGL2&&U.extRenderToTextureHalfFloat?ge.RGBA16F:ge.RGBA,pe,ve,0,ge.RGBA,U.extRenderToTextureHalfFloat?U.isWebGL2?ge.HALF_FLOAT:U.extTextureHalfFloat.HALF_FLOAT_OES:ge.UNSIGNED_BYTE,null),ce.colorAttachment.set(ie)}(l,0,z,C,D,O)}else w.bindTexture(w.TEXTURE_2D,C.colorAttachment.get()),l.bindFramebuffer.set(C.framebuffer)})(x,h,c,"globe"===h.transform.projection.name?.5:.25),x.clear({color:t.Color.transparent});const H=h.transform,$="globe"===H.projection.name,q=$?["PROJECTION_GLOBE_VIEW"]:null,ae=$?t.CullFaceMode.frontCCW:t.CullFaceMode.disabled,a=[t.mercatorXfromLng(H.center.lng),t.mercatorYfromLat(H.center.lat)];for(let l=0;l<_.length;l++){const d=_[l];if(r.hasRenderableParent(d))continue;const p=r.getTile(d),b=p.getBucket(c);if(!b||b.projection.name!==H.projection.name)continue;const w=b.programConfigurations.get(c.id),D=h.useProgram("heatmap",w,q),{zoom:O}=h.transform;h.terrain&&h.terrain.setupElevationDraw(p,D),h.prepareDrawProgram(x,D,d.toUnwrapped());const C=H.projection.createInversionMatrix(H,d.canonical);D.draw(x,T.TRIANGLES,t.DepthMode.disabled,I,R,ae,bo(h,d,p,C,a,O,c.paint.get("heatmap-intensity")),c.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,c.paint,h.transform.zoom,w,$?[b.globeExtVertexBuffer]:null)}x.viewport.set([0,0,h.width,h.height])}else"translucent"===h.renderPass&&(h.context.setColorMode(h.colorModeForRenderPass()),function(x,T){const I=x.context,R=I.gl,H=T.heatmapFbo;if(!H)return;I.activeTexture.set(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,H.colorAttachment.get()),I.activeTexture.set(R.TEXTURE1);let $=T.colorRampTexture;$||($=T.colorRampTexture=new t.Texture(I,T.colorRamp,R.RGBA)),$.bind(R.LINEAR,R.CLAMP_TO_EDGE),x.useProgram("heatmapTexture").draw(I,R.TRIANGLES,t.DepthMode.disabled,t.StencilMode.disabled,x.colorModeForRenderPass(),t.CullFaceMode.disabled,{u_image:0,u_color_ramp:1,u_opacity:T.paint.get("heatmap-opacity")},T.id,x.viewportBuffer,x.quadTriangleIndexBuffer,x.viewportSegments,T.paint,x.transform.zoom)}(h,c))},line:function(h,r,c,_){if("translucent"!==h.renderPass)return;const x=c.paint.get("line-opacity"),T=c.paint.get("line-width");if(0===x.constantOr(1)||0===T.constantOr(1))return;const I=h.depthModeForSublayer(0,t.DepthMode.ReadOnly),R=h.colorModeForRenderPass(),H=h.terrain&&h.terrain.renderingToTexture?1:t.exported.devicePixelRatio,$=c.paint.get("line-dasharray"),q=$.constantOr(1),ae=c.layout.get("line-cap"),a=c.paint.get("line-pattern"),l=a.constantOr(1),d=c.paint.get("line-gradient"),p=l?"linePattern":"line",b=h.context,w=b.gl,D=(C=>{const z=[];Hr(C)&&z.push("RENDER_LINE_DASH"),C.paint.get("line-gradient")&&z.push("RENDER_LINE_GRADIENT");const U=C.paint.get("line-trim-offset");0===U[0]&&0===U[1]||z.push("RENDER_LINE_TRIM_OFFSET");const W=C.paint.get("line-pattern").constantOr(1),ie=1!==C.paint.get("line-opacity").constantOr(1);return!W&&ie&&z.push("RENDER_LINE_ALPHA_DISCARD"),z})(c);let O=D.includes("RENDER_LINE_ALPHA_DISCARD");h.terrain&&h.terrain.clipOrMaskOverlapStencilType()&&(O=!1);for(const C of _){const z=r.getTile(C);if(l&&!z.patternsLoaded())continue;const U=z.getBucket(c);if(!U)continue;h.prepareDrawTile();const W=U.programConfigurations.get(c.id),ie=h.useProgram(p,W,D),ce=a.constantOr(null);if(ce&&z.imageAtlas){const Ge=z.imageAtlas.patternPositions[ce.toString()];Ge&&W.setConstantPatternPositions(Ge)}const pe=$.constantOr(null),ve=ae.constantOr(null);if(!l&&pe&&ve&&z.lineAtlas){const Ge=z.lineAtlas.getDash(pe,ve);Ge&&W.setConstantPatternPositions(Ge)}let[ge,Ee]=c.paint.get("line-trim-offset");("round"===ve||"square"===ve)&&ge!==Ee&&(0===ge&&(ge-=1),1===Ee&&(Ee+=1));const Re=h.terrain?C.projMatrix:null,Ze=l?xo(h,z,c,Re,H):Go(h,z,c,Re,U.lineClipsArray.length,H,[ge,Ee]);if(d){const Ge=U.gradients[c.id];let lt=Ge.texture;if(c.gradientVersion!==Ge.version){let tt=256;if(c.stepInterpolant){const ot=r.getSource().maxzoom,Et=C.canonical.z===ot?Math.ceil(1<<h.transform.maxZoom-C.canonical.z):1;tt=t.clamp(t.nextPowerOfTwo(U.maxLineLength/t.EXTENT*1024*Et),256,b.maxTextureSize)}Ge.gradient=t.renderColorRamp({expression:c.gradientExpression(),evaluationKey:"lineProgress",resolution:tt,image:Ge.gradient||void 0,clips:U.lineClipsArray}),Ge.texture?Ge.texture.update(Ge.gradient):Ge.texture=new t.Texture(b,Ge.gradient,w.RGBA),Ge.version=c.gradientVersion,lt=Ge.texture}b.activeTexture.set(w.TEXTURE1),lt.bind(c.stepInterpolant?w.NEAREST:w.LINEAR,w.CLAMP_TO_EDGE)}q&&(b.activeTexture.set(w.TEXTURE0),z.lineAtlasTexture.bind(w.LINEAR,w.REPEAT),W.updatePaintBuffers()),l&&(b.activeTexture.set(w.TEXTURE0),z.imageAtlasTexture.bind(w.LINEAR,w.CLAMP_TO_EDGE),W.updatePaintBuffers()),h.prepareDrawProgram(b,ie,C.toUnwrapped());const je=Ge=>{ie.draw(b,w.TRIANGLES,I,Ge,R,t.CullFaceMode.disabled,Ze,c.id,U.layoutVertexBuffer,U.indexBuffer,U.segments,c.paint,h.transform.zoom,W,[U.layoutVertexBuffer2])};if(O){const Ge=h.stencilModeForClipping(C).ref;0===Ge&&h.terrain&&b.clear({stencil:0});const lt={func:w.EQUAL,mask:255};Ze.u_alpha_discard_threshold=.8,je(new t.StencilMode(lt,Ge,255,w.KEEP,w.KEEP,w.INVERT)),Ze.u_alpha_discard_threshold=0,je(new t.StencilMode(lt,Ge,255,w.KEEP,w.KEEP,w.KEEP))}else je(h.stencilModeForClipping(C))}O&&(h.resetStencilClippingMasks(),h.terrain&&b.clear({stencil:0}))},fill:function(h,r,c,_){const x=c.paint.get("fill-color"),T=c.paint.get("fill-opacity");if(0===T.constantOr(1))return;const I=h.colorModeForRenderPass(),R=c.paint.get("fill-pattern"),H=h.opaquePassEnabledForLayer()&&!R.constantOr(1)&&1===x.constantOr(t.Color.transparent).a&&1===T.constantOr(0)?"opaque":"translucent";if(h.renderPass===H){const $=h.depthModeForSublayer(1,"opaque"===h.renderPass?t.DepthMode.ReadWrite:t.DepthMode.ReadOnly);ro(h,r,c,_,$,I,!1)}if("translucent"===h.renderPass&&c.paint.get("fill-antialias")){const $=h.depthModeForSublayer(c.getPaintProperty("fill-outline-color")?2:0,t.DepthMode.ReadOnly);ro(h,r,c,_,$,I,!0)}},"fill-extrusion":function(h,r,c,_){const x=c.paint.get("fill-extrusion-opacity");if(0!==x&&"translucent"===h.renderPass){const T=new t.DepthMode(h.context.gl.LEQUAL,t.DepthMode.ReadWrite,h.depthRangeFor3D);if(1!==x||c.paint.get("fill-extrusion-pattern").constantOr(1))ys(h,r,c,_,T,t.StencilMode.disabled,t.ColorMode.disabled),ys(h,r,c,_,T,h.stencilModeFor3D(),h.colorModeForRenderPass()),h.resetStencilClippingMasks();else{const I=h.colorModeForRenderPass();ys(h,r,c,_,T,t.StencilMode.disabled,I)}}},hillshade:function(h,r,c,_){if("offscreen"!==h.renderPass&&"translucent"!==h.renderPass)return;const x=h.context,T=h.depthModeForSublayer(0,t.DepthMode.ReadOnly),I=h.colorModeForRenderPass(),R=h.terrain&&h.terrain.renderingToTexture,[H,$]="translucent"!==h.renderPass||R?[{},_]:h.stencilConfigForOverlap(_);for(const q of $){const ae=r.getTile(q);if(ae.needsHillshadePrepare&&"offscreen"===h.renderPass)pl(h,ae,c,T,t.StencilMode.disabled,I);else if("translucent"===h.renderPass){const a=R&&h.terrain?h.terrain.stencilModeForRTTOverlap(q):H[q.overscaledZ];Vo(h,q,ae,c,T,a,I)}}x.viewport.set([0,0,h.width,h.height]),h.resetStencilClippingMasks()},raster:function(h,r,c,_,x,T){if("translucent"!==h.renderPass||0===c.paint.get("raster-opacity")||!_.length)return;const I=h.context,R=I.gl,H=r.getSource(),$=h.useProgram("raster"),q=h.colorModeForRenderPass(),ae=h.terrain&&h.terrain.renderingToTexture,[a,l]=H instanceof ri||ae?[{},_]:h.stencilConfigForOverlap(_),d=l[l.length-1].overscaledZ,p=!h.options.moving;for(const b of l){const w=ae?t.DepthMode.disabled:h.depthModeForSublayer(b.overscaledZ-d,1===c.paint.get("raster-opacity")?t.DepthMode.ReadWrite:t.DepthMode.ReadOnly,R.LESS),D=b.toUnwrapped(),O=r.getTile(b);if(ae&&(!O||!O.hasData()))continue;const C=ae?b.projMatrix:h.transform.calculateProjMatrix(D,p),z=h.terrain&&ae?h.terrain.stencilModeForRTTOverlap(b):a[b.overscaledZ],U=T?0:c.paint.get("raster-fade-duration");O.registerFadeDuration(U);const W=r.findLoadedParent(b,0),ie=Uo(O,W,r,h.transform,U);let ce,pe;h.terrain&&h.terrain.prepareDrawTile();const ve="nearest"===c.paint.get("raster-resampling")?R.NEAREST:R.LINEAR;I.activeTexture.set(R.TEXTURE0),O.texture.bind(ve,R.CLAMP_TO_EDGE),I.activeTexture.set(R.TEXTURE1),W?(W.texture.bind(ve,R.CLAMP_TO_EDGE),ce=Math.pow(2,W.tileID.overscaledZ-O.tileID.overscaledZ),pe=[O.tileID.canonical.x*ce%1,O.tileID.canonical.y*ce%1]):O.texture.bind(ve,R.CLAMP_TO_EDGE),O.texture.useMipmap&&I.extTextureFilterAnisotropic&&h.transform.pitch>20&&R.texParameterf(R.TEXTURE_2D,I.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,I.extTextureFilterAnisotropicMax);const ge=ml(C,pe||[0,0],ce||1,ie,c,H instanceof ri?H.perspectiveTransform:[0,0]);if(h.prepareDrawProgram(I,$,D),H instanceof ri)H.boundsBuffer&&H.boundsSegments&&$.draw(I,R.TRIANGLES,w,t.StencilMode.disabled,q,t.CullFaceMode.disabled,ge,c.id,H.boundsBuffer,h.quadTriangleIndexBuffer,H.boundsSegments);else{const{tileBoundsBuffer:Ee,tileBoundsIndexBuffer:Re,tileBoundsSegments:Ze}=h.getTileBoundsBuffers(O);$.draw(I,R.TRIANGLES,w,z,q,t.CullFaceMode.disabled,ge,c.id,Ee,Re,Ze)}}h.resetStencilClippingMasks()},background:function(h,r,c,_){const x=c.paint.get("background-color"),T=c.paint.get("background-opacity");if(0===T)return;const I=h.context,R=I.gl,H=h.transform,$=H.tileSize,q=c.paint.get("background-pattern");if(h.isPatternMissing(q))return;const ae=!q&&1===x.a&&1===T&&h.opaquePassEnabledForLayer()?"opaque":"translucent";if(h.renderPass!==ae)return;const a=t.StencilMode.disabled,l=h.depthModeForSublayer(0,"opaque"===ae?t.DepthMode.ReadWrite:t.DepthMode.ReadOnly),d=h.colorModeForRenderPass(),p=h.useProgram(q?"backgroundPattern":"background");let b,w=_;w||(b=h.getBackgroundTiles(),w=Object.values(b).map(D=>D.tileID)),q&&(I.activeTexture.set(R.TEXTURE0),h.imageManager.bind(h.context));for(const D of w){const O=D.toUnwrapped(),C=_?D.projMatrix:h.transform.calculateProjMatrix(O);h.prepareDrawTile();const z=r?r.getTile(D):b?b[D.key]:new t.Tile(D,$,H.zoom,h),U=q?Zo(C,T,h,q,{tileID:D,tileSize:$}):_l(C,T,x);h.prepareDrawProgram(I,p,O);const{tileBoundsBuffer:W,tileBoundsIndexBuffer:ie,tileBoundsSegments:ce}=h.getTileBoundsBuffers(z);p.draw(I,R.TRIANGLES,l,a,d,t.CullFaceMode.disabled,U,c.id,W,ie,ce)}},sky:function(h,r,c){const _=h.transform,x="mercator"===_.projection.name||"globe"===_.projection.name?1:t.smoothstep(7,8,_.zoom),T=c.paint.get("sky-opacity")*x;if(0===T)return;const I=h.context,R=c.paint.get("sky-type"),H=new t.DepthMode(I.gl.LEQUAL,t.DepthMode.ReadOnly,[0,1]),$=h.frameCounter/1e3%1;"atmosphere"===R?"offscreen"===h.renderPass?c.needsSkyboxCapture(h)&&(function(q,ae,a,l){const d=q.context,p=d.gl;let b=ae.skyboxFbo;if(!b){b=ae.skyboxFbo=d.createFramebuffer(32,32,!1),ae.skyboxGeometry=new Mo(d),ae.skyboxTexture=d.gl.createTexture(),p.bindTexture(p.TEXTURE_CUBE_MAP,ae.skyboxTexture),p.texParameteri(p.TEXTURE_CUBE_MAP,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_CUBE_MAP,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_CUBE_MAP,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_CUBE_MAP,p.TEXTURE_MAG_FILTER,p.LINEAR);for(let C=0;C<6;++C)p.texImage2D(p.TEXTURE_CUBE_MAP_POSITIVE_X+C,0,p.RGBA,32,32,0,p.RGBA,p.UNSIGNED_BYTE,null)}d.bindFramebuffer.set(b.framebuffer),d.viewport.set([0,0,32,32]);const w=ae.getCenter(q,!0),D=q.useProgram("skyboxCapture"),O=new Float64Array(16);t.identity(O),t.rotateY(O,O,.5*-Math.PI),Rr(d,ae,D,O,w,0),t.identity(O),t.rotateY(O,O,.5*Math.PI),Rr(d,ae,D,O,w,1),t.identity(O),t.rotateX(O,O,.5*-Math.PI),Rr(d,ae,D,O,w,2),t.identity(O),t.rotateX(O,O,.5*Math.PI),Rr(d,ae,D,O,w,3),t.identity(O),Rr(d,ae,D,O,w,4),t.identity(O),t.rotateY(O,O,Math.PI),Rr(d,ae,D,O,w,5),d.viewport.set([0,0,q.width,q.height])}(h,c),c.markSkyboxValid(h)):"sky"===h.renderPass&&function(q,ae,a,l,d){const p=q.context,b=p.gl,w=q.transform,D=q.useProgram("skybox");p.activeTexture.set(b.TEXTURE0),b.bindTexture(b.TEXTURE_CUBE_MAP,ae.skyboxTexture);const O={u_matrix:w.skyboxMatrix,u_sun_direction:ae.getCenter(q,!1),u_cubemap:0,u_opacity:l,u_temporal_offset:d};q.prepareDrawProgram(p,D),D.draw(p,b.TRIANGLES,a,t.StencilMode.disabled,q.colorModeForRenderPass(),t.CullFaceMode.backCW,O,"skybox",ae.skyboxGeometry.vertexBuffer,ae.skyboxGeometry.indexBuffer,ae.skyboxGeometry.segment)}(h,c,H,T,$):"gradient"===R&&"sky"===h.renderPass&&function(q,ae,a,l,d){const p=q.context,b=p.gl,w=q.transform,D=q.useProgram("skyboxGradient");ae.skyboxGeometry||(ae.skyboxGeometry=new Mo(p)),p.activeTexture.set(b.TEXTURE0);let O=ae.colorRampTexture;O||(O=ae.colorRampTexture=new t.Texture(p,ae.colorRamp,b.RGBA)),O.bind(b.LINEAR,b.CLAMP_TO_EDGE);const C=(z=w.skyboxMatrix,U=ae.getCenter(q,!1),W=ae.paint.get("sky-gradient-radius"),ie=l,ce=d,{u_matrix:z,u_color_ramp:0,u_center_direction:U,u_radius:t.degToRad(W),u_opacity:ie,u_temporal_offset:ce});var z,U,W,ie,ce;q.prepareDrawProgram(p,D),D.draw(p,b.TRIANGLES,a,t.StencilMode.disabled,q.colorModeForRenderPass(),t.CullFaceMode.backCW,C,"skyboxGradient",ae.skyboxGeometry.vertexBuffer,ae.skyboxGeometry.indexBuffer,ae.skyboxGeometry.segment)}(h,c,H,T,$)},debug:function(h,r,c){for(let _=0;_<c.length;_++)oa(h,r,c[_])},custom:function(h,r,c,_){const x=h.context,T=c.implementation;if(!h.transform.projection.unsupportedLayers||!h.transform.projection.unsupportedLayers.includes("custom")||h.terrain&&(h.terrain.renderingToTexture||"offscreen"===h.renderPass)&&c.isLayerDraped()){if("offscreen"===h.renderPass){const I=T.prerender;if(I){if(h.setCustomLayerDefaults(),x.setColorMode(h.colorModeForRenderPass()),"globe"===h.transform.projection.name){const R=h.transform.pointMerc;I.call(T,x.gl,h.transform.customLayerMatrix(),h.transform.getProjection(),h.transform.globeToMercatorMatrix(),t.globeToMercatorTransition(h.transform.zoom),[R.x,R.y],h.transform.pixelsPerMeterRatio)}else I.call(T,x.gl,h.transform.customLayerMatrix());x.setDirty(),h.setBaseState()}}else if("translucent"===h.renderPass){if(h.terrain&&h.terrain.renderingToTexture){const R=T.renderToTile;if(R){const H=_[0].canonical,$=new t.MercatorCoordinate(H.x+_[0].wrap*(1<<H.z),H.y,H.z);x.setDepthMode(t.DepthMode.disabled),x.setStencilMode(t.StencilMode.disabled),x.setColorMode(h.colorModeForRenderPass()),h.setCustomLayerDefaults(),R.call(T,x.gl,$),x.setDirty(),h.setBaseState()}return}h.setCustomLayerDefaults(),x.setColorMode(h.colorModeForRenderPass()),x.setStencilMode(t.StencilMode.disabled);const I="3d"===T.renderingMode?new t.DepthMode(h.context.gl.LEQUAL,t.DepthMode.ReadWrite,h.depthRangeFor3D):h.depthModeForSublayer(0,t.DepthMode.ReadOnly);if(x.setDepthMode(I),"globe"===h.transform.projection.name){const R=h.transform.pointMerc;T.render(x.gl,h.transform.customLayerMatrix(),h.transform.getProjection(),h.transform.globeToMercatorMatrix(),t.globeToMercatorTransition(h.transform.zoom),[R.x,R.y],h.transform.pixelsPerMeterRatio)}else T.render(x.gl,h.transform.customLayerMatrix());x.setDirty(),h.setBaseState(),x.bindFramebuffer.set(null)}}else t.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class ca{constructor(r,c,_=!1){this.context=new wt(r,_),this.transform=c,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=t.SourceCache.maxUnderzooming+t.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(r,c){const _=!!r&&!!r.terrain&&this.transform.projection.supportsTerrain;if(!(_||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Va(this,r));const x=this._terrain;this.transform.elevation=_?x:null,x.update(r,this.transform,c)}_updateFog(r){const c=r.fog;if(!c||"globe"===this.transform.projection.name||c.getOpacity(this.transform.pitch)<1||c.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[_,x]=c.getFovAdjustedRange(this.transform._fov);if(_>x)return void(this.transform.fogCullDistSq=null);const T=_+.78*(x-_);this.transform.fogCullDistSq=T*T}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(r,c){if(this.width=r*t.exported.devicePixelRatio,this.height=c*t.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const _ of this.style.order)this.style._layers[_].resize()}setup(){const r=this.context,c=new t.StructArrayLayout2i4;c.emplaceBack(0,0),c.emplaceBack(t.EXTENT,0),c.emplaceBack(0,t.EXTENT),c.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=r.createVertexBuffer(c,t.posAttributes.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);const _=new t.StructArrayLayout2i4;_.emplaceBack(0,0),_.emplaceBack(t.EXTENT,0),_.emplaceBack(0,t.EXTENT),_.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=r.createVertexBuffer(_,t.posAttributes.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);const x=new t.StructArrayLayout2i4;x.emplaceBack(-1,-1),x.emplaceBack(1,-1),x.emplaceBack(-1,1),x.emplaceBack(1,1),this.viewportBuffer=r.createVertexBuffer(x,t.posAttributes.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);const T=new t.StructArrayLayout4i8;T.emplaceBack(0,0,0,0),T.emplaceBack(t.EXTENT,0,t.EXTENT,0),T.emplaceBack(0,t.EXTENT,0,t.EXTENT),T.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.mercatorBoundsBuffer=r.createVertexBuffer(T,t.boundsAttributes.members),this.mercatorBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);const I=new t.StructArrayLayout3ui6;I.emplaceBack(0,1,2),I.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=r.createIndexBuffer(I);const R=new t.StructArrayLayout1ui2;for(const $ of[0,1,3,2,0])R.emplaceBack($);this.debugIndexBuffer=r.createIndexBuffer(R),this.emptyTexture=new t.Texture(r,new t.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),r.gl.RGBA),this.identityMat=t.create();const H=this.context.gl;this.stencilClearMode=new t.StencilMode({func:H.ALWAYS,mask:0},0,255,H.ZERO,H.ZERO,H.ZERO),this.loadTimeStamps.push(t.window.performance.now()),this.atmosphereBuffer=new gl(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(r){return r._makeTileBoundsBuffers(this.context,this.transform.projection),r._tileBoundsBuffer?{tileBoundsBuffer:r._tileBoundsBuffer,tileBoundsIndexBuffer:r._tileBoundsIndexBuffer,tileBoundsSegments:r._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const r=this.context,c=r.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(r,c.TRIANGLES,t.DepthMode.disabled,this.stencilClearMode,t.ColorMode.disabled,t.CullFaceMode.disabled,ms(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(r,c,_){if(!c||this.currentStencilSource===c.id||!r.isTileClipped()||!_||0===_.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let R=!1;for(const H of _)if(void 0===this._tileClippingMaskIDs[H.key]){R=!0;break}if(!R)return}this.currentStencilSource=c.id;const x=this.context,T=x.gl;this.nextStencilID+_.length>256&&this.clearStencil(),x.setColorMode(t.ColorMode.disabled),x.setDepthMode(t.DepthMode.disabled);const I=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const R of _){const H=c.getTile(R),$=this._tileClippingMaskIDs[R.key]=this.nextStencilID++,{tileBoundsBuffer:q,tileBoundsIndexBuffer:ae,tileBoundsSegments:a}=this.getTileBoundsBuffers(H);I.draw(x,T.TRIANGLES,t.DepthMode.disabled,new t.StencilMode({func:T.ALWAYS,mask:0},$,255,T.KEEP,T.KEEP,T.REPLACE),t.ColorMode.disabled,t.CullFaceMode.disabled,ms(R.projMatrix),"$clipping",q,ae,a)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const r=this.nextStencilID++,c=this.context.gl;return new t.StencilMode({func:c.NOTEQUAL,mask:255},r,255,c.KEEP,c.KEEP,c.REPLACE)}stencilModeForClipping(r){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(r);const c=this.context.gl;return new t.StencilMode({func:c.EQUAL,mask:255},this._tileClippingMaskIDs[r.key],0,c.KEEP,c.KEEP,c.REPLACE)}stencilConfigForOverlap(r){const c=this.context.gl,_=r.sort((I,R)=>R.overscaledZ-I.overscaledZ),x=_[_.length-1].overscaledZ,T=_[0].overscaledZ-x+1;if(T>1){this.currentStencilSource=void 0,this.nextStencilID+T>256&&this.clearStencil();const I={};for(let R=0;R<T;R++)I[R+x]=new t.StencilMode({func:c.GEQUAL,mask:255},R+this.nextStencilID,255,c.KEEP,c.KEEP,c.REPLACE);return this.nextStencilID+=T,[I,_]}return[{[x]:t.StencilMode.disabled},_]}colorModeForRenderPass(){const r=this.context.gl;return this._showOverdrawInspector?new t.ColorMode([r.CONSTANT_COLOR,r.ONE],new t.Color(.125,.125,.125,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?t.ColorMode.unblended:t.ColorMode.alphaBlended}depthModeForSublayer(r,c,_){if(!this.opaquePassEnabledForLayer())return t.DepthMode.disabled;const x=1-((1+this.currentLayer)*this.numSublayers+r)*this.depthEpsilon;return new t.DepthMode(_||this.context.gl.LEQUAL,c,[x,x])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(r,c){this.style=r,this.options=c,this.imageManager=r.imageManager,this.glyphManager=r.glyphManager,this.symbolFadeChange=r.placement.symbolFadeChange(t.exported.now()),this.imageManager.beginFrame();const _=this.style.order,x=this.style._sourceCaches;for(const $ in x){const q=x[$];q.used&&q.prepare(this.context)}const T={},I={},R={};for(const $ in x){const q=x[$];T[$]=q.getVisibleCoordinates(),I[$]=T[$].slice().reverse(),R[$]=q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let $=0;$<_.length;$++)if(this.style._layers[_[$]].is3D()){this.opaquePassCutoff=$;break}if(this.terrain&&(this.terrain.updateTileBinding(R),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new t.GlobeSharedBuffers(this.context)),!t.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const $ of _){const q=this.style._layers[$],ae=r._getLayerSourceCache(q);if(!q.hasOffscreenPass()||q.isHidden(this.transform.zoom))continue;const a=ae?I[ae.id]:void 0;("custom"===q.type||q.isSky()||a&&a.length)&&this.renderLayer(this,ae,q,a)}this.depthRangeFor3D=[0,1-(r.order.length+2)*this.numSublayers*this.depthEpsilon];const H=this.terrain;if(H&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&H.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:c.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=c.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=_.length-1;this.currentLayer>=0;this.currentLayer--){const $=this.style._layers[_[this.currentLayer]],q=r._getLayerSourceCache($);if($.isSky())continue;const ae=q?I[q.id]:void 0;this._renderTileClippingMasks($,q,ae),this.renderLayer(this,q,$,ae)}if(this.style.fog&&this.transform.projection.supportsFog&&function($,q){const ae=$.context,a=ae.gl,l=$.transform,d=new t.DepthMode(a.LEQUAL,t.DepthMode.ReadOnly,[0,1]),p=$.useProgram("globeAtmosphere",null,"globe"===l.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),b=t.globeToMercatorTransition(l.zoom),w=q.properties.get("color").toArray01(),D=q.properties.get("high-color").toArray01(),O=q.properties.get("space-color").toArray01PremultipliedAlpha(),C=t.identity$1([]);t.rotateY$1(C,C,-t.degToRad(l._center.lng)),t.rotateX$1(C,C,t.degToRad(l._center.lat)),t.rotateZ$1(C,C,l.angle),t.rotateX$1(C,C,-l._pitch);const z=t.fromQuat(new Float32Array(16),C),U=t.mapValue(q.properties.get("star-intensity"),0,1,0,.25),W=5e-4,ie=t.mapValue(q.properties.get("horizon-blend"),0,1,W,.25),ce=t.globeUseCustomAntiAliasing($,ae,l)&&ie===W?l.worldSize/(2*Math.PI*1.025)-1:l.globeRadius,pe=$.frameCounter/1e3%1,ve=t.length(l.globeCenterInViewSpace),ge=Math.sqrt(Math.pow(ve,2)-Math.pow(ce,2)),Ee=Math.acos(ge/ve),Re={u_frustum_tl:l.frustumCorners.TL,u_frustum_tr:l.frustumCorners.TR,u_frustum_br:l.frustumCorners.BR,u_frustum_bl:l.frustumCorners.BL,u_horizon:l.frustumCorners.horizon,u_transition:b,u_fadeout_range:ie,u_color:w,u_high_color:D,u_space_color:O,u_star_intensity:U,u_star_size:5*t.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:pe,u_horizon_angle:Ee,u_rotation_matrix:z};$.prepareDrawProgram(ae,p);const Ze=$.atmosphereBuffer;Ze&&p.draw(ae,a.TRIANGLES,d,t.StencilMode.disabled,t.ColorMode.alphaBlended,t.CullFaceMode.backCW,Re,"skybox",Ze.vertexBuffer,Ze.indexBuffer,Ze.segments)}(this,this.style.fog),this.renderPass="sky",(t.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<_.length;this.currentLayer++){const $=this.style._layers[_[this.currentLayer]],q=r._getLayerSourceCache($);$.isSky()&&this.renderLayer(this,q,$,q?I[q.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<_.length;){const $=this.style._layers[_[this.currentLayer]],q=r._getLayerSourceCache($);if($.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped($)){if($.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const ae=q?("symbol"===$.type?R:I)[q.id]:void 0;this._renderTileClippingMasks($,q,q?T[q.id]:void 0),this.renderLayer(this,q,$,ae),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let $=null;t.values(this.style._layers).forEach(q=>{const ae=r._getLayerSourceCache(q);ae&&!q.isHidden(this.transform.zoom)&&(!$||$.getSource().maxzoom<ae.getSource().maxzoom)&&($=ae)}),$&&this.options.showTileBoundaries&&wa.debug(this,$,$.getVisibleCoordinates())}this.options.showPadding&&function($){const q=$.transform.padding;xs($,$.transform.height-(q.top||0),3,Xr),xs($,q.bottom||0,3,bs),Za($,q.left||0,3,Bs),Za($,$.transform.width-(q.right||0),3,jl);const ae=$.transform.centerPoint;var a,l,d,p;ws(a=$,(l=ae.x)-1,(d=$.transform.height-ae.y)-10,2,20,p=Nl),ws(a,l-10,d-1,20,2,p)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(t.window.performance.now()),this.saveCanvasCopy())}renderLayer(r,c,_,x){_.isHidden(this.transform.zoom)||("background"===_.type||"sky"===_.type||"custom"===_.type||x&&x.length)&&(this.id=_.id,this.gpuTimingStart(_),(!r.transform.projection.unsupportedLayers||!r.transform.projection.unsupportedLayers.includes(_.type)||r.terrain&&"custom"===_.type)&&wa[_.type](r,c,_,x,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(r){if(!this.options.gpuTiming)return;const c=this.context.extTimerQuery;let _=this.gpuTimers[r.id];_||(_=this.gpuTimers[r.id]={calls:0,cpuTime:0,query:c.createQueryEXT()}),_.calls++,c.beginQueryEXT(c.TIME_ELAPSED_EXT,_.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const r=this.context.extTimerQuery,c=r.createQueryEXT();this.deferredRenderGpuTimeQueries.push(c),r.beginQueryEXT(r.TIME_ELAPSED_EXT,c)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const r=this.context.extTimerQuery;r.endQueryEXT(r.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const r=this.context.extTimerQuery;r.endQueryEXT(r.TIME_ELAPSED_EXT)}collectGpuTimers(){const r=this.gpuTimers;return this.gpuTimers={},r}collectDeferredRenderGpuQueries(){const r=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],r}queryGpuTimers(r){const c={};for(const _ in r){const x=r[_],T=this.context.extTimerQuery,I=T.getQueryObjectEXT(x.query,T.QUERY_RESULT_EXT)/1e6;T.deleteQueryEXT(x.query),c[_]=I}return c}queryGpuTimeDeferredRender(r){if(!this.options.gpuTimingDeferredRender)return 0;const c=this.context.extTimerQuery;let _=0;for(const x of r)_+=c.getQueryObjectEXT(x,c.QUERY_RESULT_EXT)/1e6,c.deleteQueryEXT(x);return _}translatePosMatrix(r,c,_,x,T){if(!_[0]&&!_[1])return r;const I=T?"map"===x?this.transform.angle:0:"viewport"===x?-this.transform.angle:0;if(I){const $=Math.sin(I),q=Math.cos(I);_=[_[0]*q-_[1]*$,_[0]*$+_[1]*q]}const R=[T?_[0]:Tn(c,_[0],this.transform.zoom),T?_[1]:Tn(c,_[1],this.transform.zoom),0],H=new Float32Array(16);return t.translate(H,r,R),H}saveTileTexture(r){const c=this._tileTextures[r.size[0]];c?c.push(r):this._tileTextures[r.size[0]]=[r]}getTileTexture(r){const c=this._tileTextures[r];return c&&c.length>0?c.pop():null}isPatternMissing(r){return null===r||void 0!==r&&!this.imageManager.getPattern(r.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const r=this.terrain&&this.terrain.renderingToTexture,c=this.terrain&&0===this.terrain.exaggeration(),_=this.style&&this.style.fog,x=[];return this.terrainRenderModeElevated()&&x.push("TERRAIN"),"globe"===this.transform.projection.name&&x.push("GLOBE"),c&&x.push("ZERO_EXAGGERATION"),_&&!r&&0!==_.getOpacity(this.transform.pitch)&&x.push("FOG"),r&&x.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&x.push("OVERDRAW_INSPECTOR"),x}useProgram(r,c,_){this.cache=this.cache||{};const x=_||[],T=this.currentGlobalDefines().concat(x),I=ki.cacheKey(Os[r],r,T,c);return this.cache[I]||(this.cache[I]=new ki(this.context,r,Os[r],c,qo[r],T)),this.cache[I]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const r=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(r.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=t.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(r,c,_){if(this.terrain&&this.terrain.renderingToTexture)return;const x=this.style.fog;if(x){const T=x.getOpacity(this.transform.pitch),I=((R,H,$,q,ae,a,l,d,p,b,w)=>{const D=R.transform,O=H.properties.get("color").toArray01();O[3]=q;const C=R.frameCounter/1e3%1;return{u_fog_matrix:$?D.calculateFogTileMatrix($):R.identityMat,u_fog_range:H.getFovAdjustedRange(D._fov),u_fog_color:O,u_fog_horizon_blend:H.properties.get("horizon-blend"),u_fog_temporal_offset:C,u_frustum_tl:ae,u_frustum_tr:a,u_frustum_br:l,u_frustum_bl:d,u_globe_pos:p,u_globe_radius:b,u_viewport:w,u_globe_transition:t.globeToMercatorTransition(D.zoom),u_is_globe:+("globe"===D.projection.name)}})(this,x,_,T,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*t.exported.devicePixelRatio,this.transform.height*t.exported.devicePixelRatio]);c.setFogUniformValues(r,I)}}setTileLoadedFlag(r){this.tileLoaded=r}saveCanvasCopy(){const r=this.canvasCopy();r&&(this.frameCopies.push(r),this.tileLoaded=!1)}canvasCopy(){const r=this.context.gl,c=r.createTexture();return r.bindTexture(r.TEXTURE_2D,c),r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,0,0,r.drawingBufferWidth,r.drawingBufferHeight,0),c}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const r=this.style&&this.style.fog;return!!r&&0!==r.getOpacity(this.transform.pitch)}getBackgroundTiles(){const r=this._backgroundTiles,c=this._backgroundTiles={},_=this.transform.coveringTiles({tileSize:512});for(const x of _)c[x.key]=r[x.key]||new t.Tile(x,512,this.transform.tileZoom,this);return c}clearBackgroundTiles(){this._backgroundTiles={}}}class sr{constructor(r=0,c=0,_=0,x=0){if(isNaN(r)||r<0||isNaN(c)||c<0||isNaN(_)||_<0||isNaN(x)||x<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=r,this.bottom=c,this.left=_,this.right=x}interpolate(r,c,_){return null!=c.top&&null!=r.top&&(this.top=t.number(r.top,c.top,_)),null!=c.bottom&&null!=r.bottom&&(this.bottom=t.number(r.bottom,c.bottom,_)),null!=c.left&&null!=r.left&&(this.left=t.number(r.left,c.left,_)),null!=c.right&&null!=r.right&&(this.right=t.number(r.right,c.right,_)),this}getCenter(r,c){const _=t.clamp((this.left+r-this.right)/2,0,r),x=t.clamp((this.top+c-this.bottom)/2,0,c);return new t.Point(_,x)}equals(r){return this.top===r.top&&this.bottom===r.bottom&&this.left===r.left&&this.right===r.right}clone(){return new sr(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function ao(h,r){const c=t.getColumn(h,3);t.fromQuat(h,r),t.setColumn(h,3,c)}function Ri(h,r){const c=t.identity$1([]);return t.rotateZ$1(c,c,-r),t.rotateX$1(c,c,-h),c}function hr(h,r){const c=[h[0],h[1],0],_=[r[0],r[1],0];if(t.length(c)>=1e-15){const I=t.normalize([],c);t.scale$2(_,I,t.dot(_,I)),r[0]=_[0],r[1]=_[1]}const x=t.cross([],r,h);if(t.len(x)<1e-15)return null;const T=Math.atan2(-x[1],x[0]);return Ri(Math.atan2(Math.sqrt(h[0]*h[0]+h[1]*h[1]),-h[2]),T)}class ko{constructor(r,c){this.position=r,this.orientation=c}get position(){return this._position}set position(r){if(r){const c=r instanceof t.MercatorCoordinate?r:new t.MercatorCoordinate(r[0],r[1],r[2]);this._renderWorldCopies&&(c.x=t.wrap(c.x,0,1)),this._position=c}else this._position=null}lookAtPoint(r,c){if(this.orientation=null,!this.position)return;const _=this.position,x=this._elevation?this._elevation.getAtPointOrZero(t.MercatorCoordinate.fromLngLat(r)):0,T=t.MercatorCoordinate.fromLngLat(r,x),I=[T.x-_.x,T.y-_.y,T.z-_.z];c||(c=[0,0,1]),c[2]=Math.abs(c[2]),this.orientation=hr(I,c)}setPitchBearing(r,c){this.orientation=Ri(t.degToRad(r),t.degToRad(-c))}}class _n{constructor(r,c){this._transform=t.identity([]),this.orientation=c,this.position=r}get mercatorPosition(){const r=this.position;return new t.MercatorCoordinate(r[0],r[1],r[2])}get position(){const r=t.getColumn(this._transform,3);return[r[0],r[1],r[2]]}set position(r){var c;r&&t.setColumn(this._transform,3,[(c=r)[0],c[1],c[2],1])}get orientation(){return this._orientation}set orientation(r){this._orientation=r||t.identity$1([]),r&&ao(this._transform,this._orientation)}getPitchBearing(){const r=this.forward(),c=this.right();return{bearing:Math.atan2(-c[1],c[0]),pitch:Math.atan2(Math.sqrt(r[0]*r[0]+r[1]*r[1]),-r[2])}}setPitchBearing(r,c){this._orientation=Ri(r,c),ao(this._transform,this._orientation)}forward(){const r=t.getColumn(this._transform,2);return[-r[0],-r[1],-r[2]]}up(){const r=t.getColumn(this._transform,1);return[-r[0],-r[1],-r[2]]}right(){const r=t.getColumn(this._transform,0);return[r[0],r[1],r[2]]}getCameraToWorld(r,c){const _=new Float64Array(16);return t.invert(_,this.getWorldToCamera(r,c)),_}getWorldToCameraPosition(r,c,_){const x=this.position;t.scale$2(x,x,-r);const T=new Float64Array(16);return t.fromScaling(T,[_,_,_]),t.translate(T,T,x),T[10]*=c,T}getWorldToCamera(r,c){const _=new Float64Array(16),x=new Float64Array(4),T=this.position;return t.conjugate(x,this._orientation),t.scale$2(T,T,-r),t.fromQuat(_,x),t.translate(_,_,T),_[1]*=-1,_[5]*=-1,_[9]*=-1,_[13]*=-1,_[8]*=c,_[9]*=c,_[10]*=c,_[11]*=c,_}getCameraToClipPerspective(r,c,_,x){const T=new Float64Array(16);return t.perspective(T,r,c,_,x),T}getDistanceToElevation(r,c=!1){const _=0===r?0:t.mercatorZfromAltitude(r,c?t.latFromMercatorY(this.position[1]):this.position[1]),x=this.forward();return(_-this.position[2])/x[2]}clone(){return new _n([...this.position],[...this.orientation])}}function Kr(h,r){const c=Ms(h.projection,h.zoom,h.width,h.height),_=function(T,I,R,H,$){const q=new t.LngLat(R.lng-180*qa,R.lat),ae=new t.LngLat(R.lng+180*qa,R.lat),a=T.project(q.lng,q.lat),l=T.project(ae.lng,ae.lat),d=-Math.atan2(l.y-a.y,l.x-a.x),p=t.MercatorCoordinate.fromLngLat(R);p.y=t.clamp(p.y,-1+qa,1-qa);const b=p.toLngLat(),w=T.project(b.lng,b.lat),D=t.MercatorCoordinate.fromLngLat(b);D.x+=qa;const O=D.toLngLat(),C=T.project(O.lng,O.lat),z=Xo(C.x-w.x,C.y-w.y,d),U=t.MercatorCoordinate.fromLngLat(b);U.y+=qa;const W=U.toLngLat(),ie=T.project(W.lng,W.lat),ce=Xo(ie.x-w.x,ie.y-w.y,d),pe=Math.abs(z.x)/Math.abs(ce.y),ve=t.identity([]);t.rotateZ(ve,ve,-d*(1-($?0:H)));const ge=t.identity([]);return t.scale(ge,ge,[1,1-(1-pe)*H,1]),ge[4]=-ce.x/ce.y*H,t.rotateZ(ge,ge,d),t.multiply(ge,ve,ge),ge}(h.projection,0,h.center,c,r),x=Hl(h);return t.scale(_,_,[x,x,1]),_}function Hl(h){const r=h.projection,c=Ms(h.projection,h.zoom,h.width,h.height),_=Do(r,h.center),x=Do(r,t.LngLat.convert(r.center));return Math.pow(2,_*c+(1-c)*x)}function Ms(h,r,c,_,x=1/0){const T=h.range;if(!T)return 0;const I=Math.min(x,Math.max(c,_)),R=Math.log(I/1024)/Math.LN2;return t.smoothstep(T[0]+R,T[1]+R,r)}const qa=1/4e4;function Do(h,r){const c=t.clamp(r.lat,-t.MAX_MERCATOR_LATITUDE,t.MAX_MERCATOR_LATITUDE),_=new t.LngLat(r.lng-180*qa,c),x=new t.LngLat(r.lng+180*qa,c),T=h.project(_.lng,c),I=h.project(x.lng,c),R=t.MercatorCoordinate.fromLngLat(_),H=t.MercatorCoordinate.fromLngLat(x),$=I.x-T.x,q=I.y-T.y,ae=H.x-R.x,a=H.y-R.y,l=Math.sqrt((ae*ae+a*a)/($*$+q*q));return Math.log(l)/Math.LN2}function Xo(h,r,c){const _=Math.cos(c),x=Math.sin(c);return{x:h*_-r*x,y:h*x+r*_}}class js{constructor(r,c,_,x,T,I,R){this.tileSize=512,this._renderWorldCopies=void 0===T||T,this._minZoom=r||0,this._maxZoom=c||22,this._minPitch=null==_?0:_,this._maxPitch=null==x?60:x,this.setProjection(I),this.setMaxBounds(R),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new sr,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new _n,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const r=new js(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return r._elevation=this._elevation,r._centerAltitude=this._centerAltitude,r._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,r.tileSize=this.tileSize,r.mercatorFromTransition=this.mercatorFromTransition,r.width=this.width,r.height=this.height,r.cameraElevationReference=this.cameraElevationReference,r._center=this._center,r._setZoom(this.zoom),r._seaLevelZoom=this._seaLevelZoom,r.angle=this.angle,r._fov=this._fov,r._pitch=this._pitch,r._nearZ=this._nearZ,r._farZ=this._farZ,r._averageElevation=this._averageElevation,r._unmodified=this._unmodified,r._edgeInsets=this._edgeInsets.clone(),r._camera=this._camera.clone(),r._calcMatrices(),r.freezeTileCoverage=this.freezeTileCoverage,r.frustumCorners=this.frustumCorners,r}get elevation(){return this._elevation}set elevation(r){this._elevation!==r&&(this._elevation=r,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(r,c=!1){const _=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||_)&&this._updateCameraOnTerrain(),(r||_)&&this._constrainCamera(c),this._calcMatrices()}getProjection(){return t.pick(this.projection,["name","center","parallels"])}setProjection(r){this.projectionOptions=r||{name:"mercator"};const c=this.projection?this.getProjection():void 0;this.projection=t.getProjection(this.projectionOptions);const _=!P(c,this.getProjection());return _&&this._calcMatrices(),this.mercatorFromTransition=!1,_}setMercatorFromTransition(){const r=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=t.getProjection({name:"mercator"});const c=r!==this.projection.name;return c&&this._calcMatrices(),c}get minZoom(){return this._minZoom}set minZoom(r){this._minZoom!==r&&(this._minZoom=r,this.zoom=Math.max(this.zoom,r))}get maxZoom(){return this._maxZoom}set maxZoom(r){this._maxZoom!==r&&(this._maxZoom=r,this.zoom=Math.min(this.zoom,r))}get minPitch(){return this._minPitch}set minPitch(r){this._minPitch!==r&&(this._minPitch=r,this.pitch=Math.max(this.pitch,r))}get maxPitch(){return this._maxPitch}set maxPitch(r){this._maxPitch!==r&&(this._maxPitch=r,this.pitch=Math.min(this.pitch,r))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(r){void 0===r?r=!0:null===r&&(r=!1),this._renderWorldCopies=r}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get cameraWorldSize(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return t.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new t.Point(this.width,this.height)}get bearing(){return t.wrap(this.rotation,-180,180)}set bearing(r){this.rotation=r}get rotation(){return-this.angle/Math.PI*180}set rotation(r){const c=-r*Math.PI/180;var _,x,T,I,R,H,$,q,ae,a;this.angle!==c&&(this._unmodified=!1,this.angle=c,this._calcMatrices(),this.rotationMatrix=(_=new t.ARRAY_TYPE(4),t.ARRAY_TYPE!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_),x=this.rotationMatrix,I=this.angle,R=(T=this.rotationMatrix)[0],H=T[1],$=T[2],q=T[3],ae=Math.sin(I),a=Math.cos(I),x[0]=R*a+$*ae,x[1]=H*a+q*ae,x[2]=R*-ae+$*a,x[3]=H*-ae+q*a)}get pitch(){return this._pitch/Math.PI*180}set pitch(r){const c=t.clamp(r,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==c&&(this._unmodified=!1,this._pitch=c,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const r=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/r)}set fov(r){r=Math.max(.01,Math.min(60,r)),this._fov!==r&&(this._unmodified=!1,this._fov=t.degToRad(r),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(r){this._averageElevation=r,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(r){const c=Math.min(Math.max(r,this.minZoom),this.maxZoom);this._zoom!==c&&(this._unmodified=!1,this._setZoom(c),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(r){this._zoom=r,this.scale=this.zoomScale(r),this.tileZoom=Math.floor(r),this.zoomFraction=r-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const r=this._elevation;this._centerAltitude=r.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=r.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const r=this._elevation,c=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],_=this.horizonLineFromTop();let x=0,T=0;for(let I=0;I<c.length;I++){const R=new t.Point(c[I][0]*this.width,_+c[I][1]*(this.height-_)),H=r.pointCoordinate(R);if(!H)continue;const $=1/Math.hypot(H[0]-this._camera.position[0],H[1]-this._camera.position[1]);x+=H[3]*$,T+=$}return 0===T?NaN:x/T}get center(){return this._center}set center(r){r.lat===this._center.lat&&r.lng===this._center.lng||(this._unmodified=!1,this._center=r,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const r=this._seaLevelZoom,c=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),_=this.pixelsPerMeter/this.worldSize*c,x=this._mercatorZfromZoom(r),T=this._mercatorZfromZoom(this._maxZoom),I=Math.max(x-_,T);this._setZoom(this._zoomFromMercatorZ(I))}get padding(){return this._edgeInsets.toJSON()}set padding(r){this._edgeInsets.equals(r)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,r,1),this._calcMatrices())}computeZoomRelativeTo(r){const c=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,r.toAltitude()));let _;_=r.z<this._camera.position[2]?[c.x,c.y,c.z]:[r.x,r.y,r.z];const x=t.length(t.sub([],this._camera.position,_));return t.clamp(this._zoomFromMercatorZ(x),this._minZoom,this._maxZoom)}setFreeCameraOptions(r){if(!this.height||!r.position&&!r.orientation)return;this._updateCameraState();let c=!1;if(r.orientation&&!t.exactEquals(r.orientation,this._camera.orientation)&&(c=this._setCameraOrientation(r.orientation)),r.position){const _=[r.position.x,r.position.y,r.position.z];t.exactEquals$1(_,this._camera.position)||(this._setCameraPosition(_),c=!0)}c&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const r=this._camera.position,c=new ko;return c.position=new t.MercatorCoordinate(r[0],r[1],r[2]),c.orientation=this._camera.orientation,c._elevation=this.elevation,c._renderWorldCopies=this.renderWorldCopies,c}_setCameraOrientation(r){if(!t.length$1(r))return!1;t.normalize$1(r,r);const c=t.transformQuat([],[0,0,-1],r),_=t.transformQuat([],[0,-1,0],r);if(_[2]<0)return!1;const x=hr(c,_);return!!x&&(this._camera.orientation=x,!0)}_setCameraPosition(r){const c=this.zoomScale(this.minZoom)*this.tileSize,_=this.zoomScale(this.maxZoom)*this.tileSize,x=this.cameraToCenterDistance;r[2]=t.clamp(r[2],x/_,x/c),this._camera.position=r}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(r){return this._edgeInsets.equals(r)}interpolatePadding(r,c,_){this._unmodified=!1,this._edgeInsets.interpolate(r,c,_),this._constrain(),this._calcMatrices()}coveringZoomLevel(r){const c=(r.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/r.tileSize));return Math.max(0,c)}getVisibleUnwrappedCoordinates(r){const c=[new t.UnwrappedTileID(0,r)];if(this.renderWorldCopies){const _=this.pointCoordinate(new t.Point(0,0)),x=this.pointCoordinate(new t.Point(this.width,0)),T=this.pointCoordinate(new t.Point(this.width,this.height)),I=this.pointCoordinate(new t.Point(0,this.height)),R=Math.floor(Math.min(_.x,x.x,T.x,I.x)),H=Math.floor(Math.max(_.x,x.x,T.x,I.x)),$=1;for(let q=R-$;q<=H+$;q++)0!==q&&c.push(new t.UnwrappedTileID(q,r))}return c}coveringTiles(r){let c=this.coveringZoomLevel(r);const _=c,x=this.elevation&&!r.isTerrainDEM,T="mercator"===this.projection.name;if(void 0!==r.minzoom&&c<r.minzoom)return[];void 0!==r.maxzoom&&c>r.maxzoom&&(c=r.maxzoom);const I=this.locationCoordinate(this.center),R=this.center.lat,H=1<<c,$=[H*I.x,H*I.y,0],q="globe"===this.projection.name,ae=!q,a=t.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,c,ae),l=q?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),d=H*t.mercatorZfromAltitude(1,this.center.lat),p=this._camera.position[2]/t.mercatorZfromAltitude(1,this.center.lat),b=[H*l.x,H*l.y,p*(ae?1:d)],w=this.cameraToCenterDistance/r.tileSize*(r.roundZoom?1:.502),D=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?c:0,O=r.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,C=r.isTerrainDEM?-O:this._elevation?this._elevation.getMinElevationBelowMSL():0,z=this.projection.isReprojectedInTileSpace?Hl(this):1,U=je=>{const lt=new t.MercatorCoordinate(je.x+25e-6,je.y,je.z),tt=new t.MercatorCoordinate(je.x,je.y+25e-6,je.z),ot=je.toLngLat(),Et=lt.toLngLat(),Vt=tt.toLngLat(),It=this.locationCoordinate(ot),Dt=this.locationCoordinate(Et),Zt=this.locationCoordinate(Vt),ci=Math.hypot(Dt.x-It.x,Dt.y-It.y),jt=Math.hypot(Zt.x-It.x,Zt.y-It.y);return Math.sqrt(ci*jt)*z/25e-6},W=je=>{const Ge=O,lt=C;return{aabb:t.tileAABB(this,H,0,0,0,je,lt,Ge,this.projection),zoom:0,x:0,y:0,minZ:lt,maxZ:Ge,wrap:je,fullyVisible:!1}},ie=[];let ce=[];const pe=c,ve=r.reparseOverscaled?_:c,ge=je=>je*je,Ee=ge((p-this._centerAltitude)*d),Re=je=>{if(!this._elevation||!je.tileID||!T)return;const Ge=this._elevation.getMinMaxForTile(je.tileID),lt=je.aabb;Ge?(lt.min[2]=Ge.min,lt.max[2]=Ge.max,lt.center[2]=(lt.min[2]+lt.max[2])/2):(je.shouldSplit=Ze(je),je.shouldSplit||(lt.min[2]=lt.max[2]=lt.center[2]=this._centerAltitude))},Ze=je=>{if(je.zoom<D)return!0;if(je.zoom===pe)return!1;if(null!=je.shouldSplit)return je.shouldSplit;const Ge=je.aabb.distanceX(b),lt=je.aabb.distanceY(b);let tt=Ee,ot=1;if(q){tt=ge(je.aabb.distanceZ(b));const It=Math.pow(2,je.zoom),Dt=t.latFromMercatorY((je.y+1)/It),Zt=t.latFromMercatorY(je.y/It),ci=Math.min(Math.max(R,Dt),Zt),jt=t.circumferenceAtLatitude(ci)/t.circumferenceAtLatitude(R);if(ot=ci===R?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,jt/this._mercatorScaleRatio),this.zoom<=t.GLOBE_ZOOM_THRESHOLD_MIN&&je.zoom===pe-1&&jt>=.9)return!0}else if(x&&(tt=ge(je.aabb.distanceZ(b)*d)),this.projection.isReprojectedInTileSpace&&_<=5){const It=Math.pow(2,je.zoom),Dt=U(new t.MercatorCoordinate((je.x+.5)/It,(je.y+.5)/It));ot=Dt>.85?1:Dt}const Et=Ge*Ge+lt*lt+tt;return Et<ge((1<<pe-je.zoom)*w*ot*((It,Dt)=>{if(Dt*ge(.707)<It)return 1;const Zt=Math.sqrt(Dt/It);return Zt/(1.4144271570014144+(Math.pow(1.1,Zt-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(tt,Ee),Et))};if(this.renderWorldCopies)for(let je=1;je<=3;je++)ie.push(W(-je)),ie.push(W(je));for(ie.push(W(0));ie.length>0;){const je=ie.pop(),Ge=je.x,lt=je.y;let tt=je.fullyVisible;if(!tt){const ot=je.aabb.intersects(a);if(0===ot)continue;tt=2===ot}if(je.zoom!==pe&&Ze(je))for(let ot=0;ot<4;ot++){const Et=(Ge<<1)+ot%2,Vt=(lt<<1)+(ot>>1),It={aabb:T?je.aabb.quadrant(ot):t.tileAABB(this,H,je.zoom+1,Et,Vt,je.wrap,je.minZ,je.maxZ,this.projection),zoom:je.zoom+1,x:Et,y:Vt,wrap:je.wrap,fullyVisible:tt,tileID:void 0,shouldSplit:void 0,minZ:je.minZ,maxZ:je.maxZ};x&&!q&&(It.tileID=new t.OverscaledTileID(je.zoom+1===pe?ve:je.zoom+1,je.wrap,je.zoom+1,Et,Vt),Re(It)),ie.push(It)}else{const ot=je.zoom===pe?ve:je.zoom;if(r.minzoom&&r.minzoom>ot)continue;const Et=$[0]-(.5+Ge+(je.wrap<<je.zoom))*(1<<c-je.zoom),Vt=$[1]-.5-lt,It=je.tileID?je.tileID:new t.OverscaledTileID(ot,je.wrap,je.zoom,Ge,lt);ce.push({tileID:It,distanceSq:Et*Et+Vt*Vt})}}if(this.fogCullDistSq){const je=this.fogCullDistSq,Ge=this.horizonLineFromTop();ce=ce.filter(lt=>{const tt=[0,0,0,1],ot=[t.EXTENT,t.EXTENT,0,1],Et=this.calculateFogTileMatrix(lt.tileID.toUnwrapped());t.transformMat4$1(tt,tt,Et),t.transformMat4$1(ot,ot,Et);const Vt=t.getAABBPointSquareDist(tt,ot);if(0===Vt)return!0;let It=!1;const Dt=this._elevation;if(Dt&&Vt>je&&0!==Ge){const Zt=this.calculateProjMatrix(lt.tileID.toUnwrapped());let ci;r.isTerrainDEM||(ci=Dt.getMinMaxForTile(lt.tileID)),ci||(ci={min:C,max:O});const jt=t.furthestTileCorner(this.rotation),Ei=[jt[0]*t.EXTENT,jt[1]*t.EXTENT,ci.max];t.transformMat4(Ei,Ei,Zt),It=(1-Ei[1])*this.height*.5<Ge}return Vt<je||It})}return ce.sort((je,Ge)=>je.distanceSq-Ge.distanceSq).map(je=>je.tileID)}resize(r,c){this.width=r,this.height=c,this.pixelsToGLUnits=[2/r,-2/c],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(r){return Math.pow(2,r)}scaleZoom(r){return Math.log(r)/Math.LN2}project(r){const c=t.clamp(r.lat,-t.MAX_MERCATOR_LATITUDE,t.MAX_MERCATOR_LATITUDE),_=this.projection.project(r.lng,c);return new t.Point(_.x*this.worldSize,_.y*this.worldSize)}unproject(r){return this.projection.unproject(r.x/this.worldSize,r.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/t.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(r,c){let _,x;const T=this.centerPoint;if("globe"===this.projection.name){const R=this.worldSize;_=(c.x-T.x)/R,x=(c.y-T.y)/R}else{const R=this.pointCoordinate(c),H=this.pointCoordinate(T);_=R.x-H.x,x=R.y-H.y}const I=this.locationCoordinate(r);this.setLocation(new t.MercatorCoordinate(I.x-_,I.y-x))}setLocation(r){this.center=this.coordinateLocation(r),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(r){return this.projection.locationPoint(this,r)}locationPoint3D(r){return this.projection.locationPoint(this,r,!0)}pointLocation(r){return this.coordinateLocation(this.pointCoordinate(r))}pointLocation3D(r){return this.coordinateLocation(this.pointCoordinate3D(r))}locationCoordinate(r,c){const _=c?t.mercatorZfromAltitude(c,r.lat):void 0,x=this.projection.project(r.lng,r.lat);return new t.MercatorCoordinate(x.x,x.y,_)}coordinateLocation(r){return this.projection.unproject(r.x,r.y)}pointRayIntersection(r,c){const _=null!=c?c:this._centerAltitude,x=[r.x,r.y,0,1],T=[r.x,r.y,1,1];t.transformMat4$1(x,x,this.pixelMatrixInverse),t.transformMat4$1(T,T,this.pixelMatrixInverse);const I=T[3];t.scale$1(x,x,1/x[3]),t.scale$1(T,T,1/I);const R=x[2],H=T[2];return{p0:x,p1:T,t:R===H?0:(_-R)/(H-R)}}screenPointToMercatorRay(r){const c=[r.x,r.y,0,1],_=[r.x,r.y,1,1];return t.transformMat4$1(c,c,this.pixelMatrixInverse),t.transformMat4$1(_,_,this.pixelMatrixInverse),t.scale$1(c,c,1/c[3]),t.scale$1(_,_,1/_[3]),c[2]=t.mercatorZfromAltitude(c[2],this._center.lat)*this.worldSize,_[2]=t.mercatorZfromAltitude(_[2],this._center.lat)*this.worldSize,t.scale$1(c,c,1/this.worldSize),t.scale$1(_,_,1/this.worldSize),new t.Ray([c[0],c[1],c[2]],t.normalize([],t.sub([],_,c)))}rayIntersectionCoordinate(r){const{p0:c,p1:_,t:x}=r,T=t.mercatorZfromAltitude(c[2],this._center.lat),I=t.mercatorZfromAltitude(_[2],this._center.lat);return new t.MercatorCoordinate(t.number(c[0],_[0],x)/this.worldSize,t.number(c[1],_[1],x)/this.worldSize,t.number(T,I,x))}pointCoordinate(r,c=this._centerAltitude){return this.projection.pointCoordinate(this,r.x,r.y,c)}pointCoordinate3D(r){if(!this.elevation)return this.pointCoordinate(r);let c=this.projection.pointCoordinate3D(this,r.x,r.y);if(c)return new t.MercatorCoordinate(c[0],c[1],c[2]);let _=0,x=this.horizonLineFromTop();if(r.y>x)return this.pointCoordinate(r);const T=.02*x,I=r.clone();for(let R=0;R<10&&x-_>T;R++){I.y=t.number(_,x,.66);const H=this.projection.pointCoordinate3D(this,I.x,I.y);H?(x=I.y,c=H):_=I.y}return c?new t.MercatorCoordinate(c[0],c[1],c[2]):this.pointCoordinate(r)}isPointAboveHorizon(r){return this.projection.isPointAboveHorizon(this,r)}isPointOnSurface(r){if(r.y<0||r.y>this.height||r.x<0||r.x>this.width)return!1;if(this.elevation||this.zoom>=t.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(r);const c=this.pointCoordinate(r);return c.y>=0&&c.y<=1}_coordinatePoint(r,c){const _=c&&this.elevation?this.elevation.getAtPointOrZero(r,this._centerAltitude):this._centerAltitude,x=[r.x*this.worldSize,r.y*this.worldSize,_+r.toAltitude(),1];return t.transformMat4$1(x,x,this.pixelMatrix),x[3]>0?new t.Point(x[0]/x[3],x[1]/x[3]):new t.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:r,left:c}=this._edgeInsets,_=this.height-this._edgeInsets.bottom,x=this.width-this._edgeInsets.right,T=this.pointLocation3D(new t.Point(c,r)),I=this.pointLocation3D(new t.Point(x,r)),R=this.pointLocation3D(new t.Point(x,_)),H=this.pointLocation3D(new t.Point(c,_));let $=Math.min(T.lng,I.lng,R.lng,H.lng),q=Math.max(T.lng,I.lng,R.lng,H.lng),ae=Math.min(T.lat,I.lat,R.lat,H.lat),a=Math.max(T.lat,I.lat,R.lat,H.lat);const l=Math.pow(2,-this.zoom)/16*270,d="globe"===this.projection.name?1:4,p=(b,w,D,O,C)=>{const z=(b+D)/2,U=(w+O)/2,W=new t.Point(z,U),{lng:ie,lat:ce}=this.pointLocation3D(W),pe=Math.max(0,$-ie,ae-ce,ie-q,ce-a);$=Math.min($,ie),q=Math.max(q,ie),ae=Math.min(ae,ce),a=Math.max(a,ce),(C<d||pe>l)&&(p(b,w,z,U,C+1),p(z,U,D,O,C+1))};if(p(c,r,x,r,1),p(x,r,x,_,1),p(x,_,c,_,1),p(c,_,c,r,1),"globe"===this.projection.name){const[b,w]=t.polesInViewport(this);b?(a=90,q=180,$=-180):w&&(ae=-90,q=180,$=-180)}return new t.LngLatBounds(new t.LngLat($,ae),new t.LngLat(q,a))}_getBoundsRectangular(r,c){const{top:_,left:x}=this._edgeInsets,T=this.height-this._edgeInsets.bottom,I=this.width-this._edgeInsets.right,R=new t.Point(x,_),H=new t.Point(I,_),$=new t.Point(I,T),q=new t.Point(x,T);let ae=this.pointCoordinate(R,r),a=this.pointCoordinate(H,r);const l=this.pointCoordinate($,c),d=this.pointCoordinate(q,c),p=(b,w)=>(w.y-b.y)/(w.x-b.x);return ae.y>1&&a.y>=0?ae=new t.MercatorCoordinate((1-d.y)/p(d,ae)+d.x,1):ae.y<0&&a.y<=1&&(ae=new t.MercatorCoordinate(-d.y/p(d,ae)+d.x,0)),a.y>1&&ae.y>=0?a=new t.MercatorCoordinate((1-l.y)/p(l,a)+l.x,1):a.y<0&&ae.y<=1&&(a=new t.MercatorCoordinate(-l.y/p(l,a)+l.x,0)),(new t.LngLatBounds).extend(this.coordinateLocation(ae)).extend(this.coordinateLocation(a)).extend(this.coordinateLocation(d)).extend(this.coordinateLocation(l))}_getBoundsRectangularTerrain(){const r=this.elevation;if(!r.visibleDemTiles.length||r.isUsingMockSource())return this._getBoundsRectangular(0,0);const c=r.visibleDemTiles.reduce((_,x)=>{if(x.dem){const T=x.dem.tree;_.min=Math.min(_.min,T.minimums[0]),_.max=Math.max(_.max,T.maximums[0])}return _},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(c.min*r.exaggeration(),c.max*r.exaggeration())}getBounds(){return"mercator"===this.projection.name||"equirectangular"===this.projection.name?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(r=!0){const c=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,_=this.height/2-c*(1-this._horizonShift);return r?Math.max(0,_):_}getMaxBounds(){return this.maxBounds}setMaxBounds(r){this.maxBounds=r,this.minLat=-t.MAX_MERCATOR_LATITUDE,this.maxLat=t.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,r&&(this.minLat=r.getSouth(),this.maxLat=r.getNorth(),this.minLng=r.getWest(),this.maxLng=r.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=t.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=t.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=t.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=t.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(r,c){return this.projection.createTileMatrix(this,c,r)}calculateDistanceTileData(r){const c=r.key,_=this._distanceTileDataCache;if(_[c])return _[c];const x=r.canonical,T=1/this.height,I=this.cameraWorldSize,R=I/this.zoomScale(x.z),H=(x.x+Math.pow(2,x.z)*r.wrap)*R,$=x.y*R,q=this.point;q.x*=I/this.worldSize,q.y*=I/this.worldSize;const ae=this.angle,a=Math.sin(-ae),l=-Math.cos(-ae);return _[c]={bearing:[a,l],center:[(q.x-H)*T,(q.y-$)*T],scale:R/t.EXTENT*T},_[c]}calculateFogTileMatrix(r){const c=r.key,_=this._fogTileMatrixCache;if(_[c])return _[c];const x=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,r);return t.multiply(x,this.worldToFogMatrix,x),_[c]=new Float32Array(x),_[c]}calculateProjMatrix(r,c=!1){const _=r.key,x=c?this._alignedProjMatrixCache:this._projMatrixCache;if(x[_])return x[_];const T=this.calculatePosMatrix(r,this.worldSize);return t.multiply(T,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:c?this.alignedProjMatrix:this.projMatrix,T),x[_]=new Float32Array(T),x[_]}calculatePixelsToTileUnitsMatrix(r){const c=r.tileID.key,_=this._pixelsToTileUnitsCache;if(_[c])return _[c];const x=function(T,I){const{scale:R}=T.tileTransform,H=R*t.EXTENT/(T.tileSize*Math.pow(2,I.zoom-T.tileID.overscaledZ+T.tileID.canonical.z));return $=new Float32Array(4),a=(q=I.inverseAdjustmentMatrix)[1],l=q[2],d=q[3],b=(ae=[H,H])[1],$[0]=q[0]*(p=ae[0]),$[1]=a*p,$[2]=l*b,$[3]=d*b,$;var $,q,ae,a,l,d,p,b}(r,this);return _[c]=x,_[c]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if("globe"===this.projection.name){const r=1/this.worldSize,c=t.fromScaling([],[r,r,r]);return t.multiply(c,c,this.globeMatrix),c}}recenterOnTerrain(){if(!this._elevation||"globe"===this.projection.name)return;const r=this._elevation;this._updateCameraState();const c=t.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,_=this._computeCameraPosition(c),x=this._camera.forward(),T=t.mercatorZfromAltitude(1,this._center.lat);_[2]/=T,x[2]/=T,t.normalize(x,x);const I=r.raycast(_,x,r.exaggeration());if(I){const R=t.scaleAndAdd([],_,x,I),H=new t.MercatorCoordinate(R[0],R[1],t.mercatorZfromAltitude(R[2],t.latFromMercatorY(R[1]))),$=(H.z+t.length([H.x-_[0],H.y-_[1],H.z-_[2]*T]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ($),this._centerAltitude=H.toAltitude(),this._center=this.coordinateLocation(H),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(r=!1){if(!this._elevation)return;const c=this._elevation,_=t.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,x=this._computeCameraPosition(_),T=c.getAtPointOrZero(new t.MercatorCoordinate(...x)),I=this.pixelsPerMeter/this.worldSize*T,R=this._minimumHeightOverTerrain(),H=x[2]-I;if(H<=R)if(H<0||r){const $=this.locationCoordinate(this._center,this._centerAltitude),q=[x[0],x[1],$.z-x[2]],ae=t.length(q);q[2]-=(R-H)/this._pixelsPerMercatorPixel;const a=t.length(q);if(0===a)return;t.scale$2(q,q,ae/a*this._pixelsPerMercatorPixel),this._camera.position=[x[0],x[1],$.z*this._pixelsPerMercatorPixel-q[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const r="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||r){const a=this.center;return a.lat=t.clamp(a.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!r)&&(a.lng=t.clamp(a.lng,this.minLng,this.maxLng)),this.center=a,void(this._constraining=!1)}const c=this._unmodified,{x:_,y:x}=this.point;let T=0,I=_,R=x;const H=this.width/2,$=this.height/2,q=this.worldMinY*this.scale,ae=this.worldMaxY*this.scale;if(x-$<q&&(R=q+$),x+$>ae&&(R=ae-$),ae-q<this.height&&(T=Math.max(T,this.height/(ae-q)),R=(ae+q)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const a=this.worldMinX*this.scale,l=this.worldMaxX*this.scale,d=this.worldSize/2-(a+l)/2;I=(_+d+this.worldSize)%this.worldSize-d,I-H<a&&(I=a+H),I+H>l&&(I=l-H),l-a<this.width&&(T=Math.max(T,this.width/(l-a)),I=(l+a)/2)}I===_&&R===x||(this.center=this.unproject(new t.Point(I,R))),T&&(this.zoom+=this.scaleZoom(T)),this._constrainCamera(),this._unmodified=c,this._constraining=!1}_minZoomForBounds(){let r=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(r=Math.max(r,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),r}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const r=this.centerOffset,c=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=t.mercatorZfromAltitude(1,this.center.lat)/t.mercatorZfromAltitude(1,t.GLOBE_SCALE_MATCH_LATITUDE));const _=Ms(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,_),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const x="meters"===this.projection.zAxisUnit?c:1,T=this._camera.getWorldToCamera(this.worldSize,x),I=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);I[8]=2*-r.x/this.width,I[9]=2*r.y/this.height;let R=t.mul([],I,T);if(this.projection.isReprojectedInTileSpace){const U=this.locationCoordinate(this.center),W=t.identity([]);t.translate(W,W,[U.x*this.worldSize,U.y*this.worldSize,0]),t.multiply(W,W,Kr(this)),t.translate(W,W,[-U.x*this.worldSize,-U.y*this.worldSize,0]),t.multiply(R,R,W),this.inverseAdjustmentMatrix=function(ie){const ce=Kr(ie,!0);return He([],[ce[0],ce[1],ce[4],ce[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=t.scale([],R,[this.worldSize,this.worldSize,this.worldSize/x,1]),this.projMatrix=R,this.invProjMatrix=t.invert(new Float64Array(16),this.projMatrix);const H=t.invert([],I);this.frustumCorners=t.FrustumCorners.fromInvProjectionMatrix(H,this.horizonLineFromTop(),this.height);const $=new Float32Array(16);t.identity($),t.scale($,$,[1,-1,1]),t.rotateX($,$,this._pitch),t.rotateZ($,$,this.angle);const q=t.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),ae=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;q[8]=2*-r.x/this.width,q[9]=2*(r.y+ae)/this.height,this.skyboxMatrix=t.multiply($,q,$);const a=this.point,l=a.x,d=a.y,p=this.width%2/2,b=this.height%2/2,w=Math.cos(this.angle),D=Math.sin(this.angle),O=l-Math.round(l)+w*p+D*b,C=d-Math.round(d)+w*b+D*p,z=new Float64Array(R);if(t.translate(z,z,[O>.5?O-1:O,C>.5?C-1:C,0]),this.alignedProjMatrix=z,R=t.create(),t.scale(R,R,[this.width/2,-this.height/2,1]),t.translate(R,R,[1,-1,0]),this.labelPlaneMatrix=R,R=t.create(),t.scale(R,R,[1,-1,1]),t.translate(R,R,[-1,-1,0]),t.scale(R,R,[2/this.width,2/this.height,1]),this.glCoordMatrix=R,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},R=t.invert(new Float64Array(16),this.pixelMatrix),!R)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=R,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=t.calculateGlobeMatrix(this);const U=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=t.transformMat4(U,U,T),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=R;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const r=this.cameraWorldSizeForFog,c=this.cameraPixelsPerMeter,_=this._camera.position,x=1/this.height/this._pixelsPerMercatorPixel,T=[r,r,c];t.scale$2(T,T,x),t.scale$2(_,_,-1),t.multiply$2(_,_,T);const I=t.create();t.translate(I,I,_),t.scale(I,I,T),this.mercatorFogMatrix=I,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(r,c,x)}_computeCameraPosition(r){const c=(r=r||this.pixelsPerMeter)/this.pixelsPerMeter,_=this._camera.forward(),x=this.point,T=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*c-r/this.worldSize*this._centerAltitude;return[x.x/this.worldSize-_[0]*T,x.y/this.worldSize-_[1]*T,r/this.worldSize*this._centerAltitude-_[2]*T]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(r){const c=this._maxCameraBoundsDistance()*Math.cos(this._pitch),_=this._camera.position[2],x=r[2];let T=1;this.projection.wrap&&(this.center=this.center.wrap()),x>0&&(T=Math.min((c-_)/x,1)),this._camera.position=t.scaleAndAdd([],this._camera.position,r,T),this._updateStateFromCamera()}_updateStateFromCamera(){const r=this._camera.position,c=this._camera.forward(),{pitch:_,bearing:x}=this._camera.getPitchBearing(),T=t.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,I=this._mercatorZfromZoom(this._maxZoom)*Math.cos(t.degToRad(this._maxPitch)),R=Math.max((r[2]-T)/Math.cos(_),I),H=this._zoomFromMercatorZ(R);t.scaleAndAdd(r,r,c,R),this._pitch=t.clamp(_,t.degToRad(this.minPitch),t.degToRad(this.maxPitch)),this.angle=t.wrap(x,-Math.PI,Math.PI),this._setZoom(t.clamp(H,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new t.MercatorCoordinate(r[0],r[1],r[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(r){return Math.pow(2,r)*this.tileSize}_mercatorZfromZoom(r){return this.cameraToCenterDistance/this._worldSizeFromZoom(r)}_minimumHeightOverTerrain(){const r=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(r)}_zoomFromMercatorZ(r){return this.scaleZoom(this.cameraToCenterDistance/(r*this.tileSize))}zoomFromMercatorZAdjusted(r){let c=0,_=t.GLOBE_ZOOM_THRESHOLD_MAX,x=0,T=1/0;for(;_-c>1e-6&&_>c;){const I=c+.5*(_-c),R=this.tileSize*Math.pow(2,I),H=this.getCameraToCenterDistance(this.projection,I,R),$=this.scaleZoom(H/(r*this.tileSize)),q=Math.abs(I-$);q<T&&(T=q,x=I),I<$?c=I:_=I}return x}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(t.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(r,c){const _=Math.min(r.x,c.x),x=Math.max(r.x,c.x),T=Math.min(r.y,c.y),I=Math.max(r.y,c.y);if(T<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const R=[new t.Point(_,T),new t.Point(x,I),new t.Point(_,I),new t.Point(x,T)],H=this.renderWorldCopies?-3:0,$=this.renderWorldCopies?4:1;for(const q of R){const ae=this.pointRayIntersection(q);if(ae.t<0)return!0;const a=this.rayIntersectionCoordinate(ae);if(a.x<H||a.y<0||a.x>$||a.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+t.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new t.Point(0,0),new t.Point(this.width,this.height))}zoomDeltaToMovement(r,c){const _=t.length(t.sub([],this._camera.position,r)),x=this._zoomFromMercatorZ(_)+c;return _-this._mercatorZfromZoom(x)}getCameraPoint(){if("globe"===this.projection.name){const r=function([c,_,x],T){const I=[c,_,x,1];t.transformMat4$1(I,I,T);const R=I[3]=Math.max(I[3],1e-6);return I[0]/=R,I[1]/=R,I[2]/=R,I}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new t.Point(r[0],r[1])}{const r=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,r))}}getCameraToCenterDistance(r,c=this.zoom,_=this.worldSize){const x=Ms(r,c,this.width,this.height,1024),T=r.pixelSpaceConversion(this.center.lat,_,x);return.5/Math.tan(.5*this._fov)*this.height*T}getWorldToCameraMatrix(){const r=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return"globe"===this.projection.name&&t.multiply(r,r,this.globeMatrix),r}}function $a(h,r){let c=!1,_=null;const x=()=>{_=null,c&&(h(),_=setTimeout(x,r),c=!1)};return()=>(c=!0,_||x(),_)}class N{constructor(r){this._hashName=r&&encodeURIComponent(r),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=$a(this._updateHashUnthrottled.bind(this),300)}addTo(r){return this._map=r,t.window.addEventListener("hashchange",this._onHashChange,!1),r.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),t.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const r=this._map;if(!r)return"";const c=G(r);if(this._hashName){const _=this._hashName;let x=!1;const T=t.window.location.hash.slice(1).split("&").map(I=>{const R=I.split("=")[0];return R===_?(x=!0,`${R}=${c}`):I}).filter(I=>I);return x||T.push(`${_}=${c}`),`#${T.join("&")}`}return`#${c}`}_getCurrentHash(){const r=t.window.location.hash.replace("#","");if(this._hashName){let c;return r.split("&").map(_=>_.split("=")).forEach(_=>{_[0]===this._hashName&&(c=_)}),(c&&c[1]||"").split("/")}return r.split("/")}_onHashChange(){const r=this._map;if(!r)return!1;const c=this._getCurrentHash();if(c.length>=3&&!c.some(_=>isNaN(_))){const _=r.dragRotate.isEnabled()&&r.touchZoomRotate.isEnabled()?+(c[3]||0):r.getBearing();return r.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:_,pitch:+(c[4]||0)}),!0}return!1}_updateHashUnthrottled(){const r=t.window.location.href.replace(/(#.+)?$/,this.getHashString());t.window.history.replaceState(t.window.history.state,null,r)}}function G(h,r){const c=h.getCenter(),_=Math.round(100*h.getZoom())/100,x=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),T=Math.pow(10,x),I=Math.round(c.lng*T)/T,R=Math.round(c.lat*T)/T,H=h.getBearing(),$=h.getPitch();let q=r?`/${I}/${R}/${_}`:`${_}/${R}/${I}`;return(H||$)&&(q+="/"+Math.round(10*H)/10),$&&(q+=`/${Math.round($)}`),q}const de={linearity:.3,easing:t.bezier(0,0,.3,1)},De=t.extend({deceleration:2500,maxSpeed:1400},de),rt=t.extend({deceleration:20,maxSpeed:1400},de),st=t.extend({deceleration:1e3,maxSpeed:360},de),pi=t.extend({deceleration:1e3,maxSpeed:90},de);class tn{constructor(r){this._map=r,this.clear()}clear(){this._inertiaBuffer=[]}record(r){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:t.exported.now(),settings:r})}_drainInertiaBuffer(){const r=this._inertiaBuffer,c=t.exported.now();for(;r.length>0&&c-r[0].time>160;)r.shift()}_onMoveEnd(r){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const c={zoom:0,bearing:0,pitch:0,pan:new t.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:T}of this._inertiaBuffer)c.zoom+=T.zoomDelta||0,c.bearing+=T.bearingDelta||0,c.pitch+=T.pitchDelta||0,T.panDelta&&c.pan._add(T.panDelta),T.around&&(c.around=T.around),T.pinchAround&&(c.pinchAround=T.pinchAround);const _=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,x={};if(c.pan.mag()){const T=Tr(c.pan.mag(),_,t.extend({},De,r||{}));x.offset=c.pan.mult(T.amount/c.pan.mag()),x.center=this._map.transform.center,Gi(x,T)}if(c.zoom){const T=Tr(c.zoom,_,rt);x.zoom=this._map.transform.zoom+T.amount,Gi(x,T)}if(c.bearing){const T=Tr(c.bearing,_,st);x.bearing=this._map.transform.bearing+t.clamp(T.amount,-179,179),Gi(x,T)}if(c.pitch){const T=Tr(c.pitch,_,pi);x.pitch=this._map.transform.pitch+T.amount,Gi(x,T)}if(x.zoom||x.bearing){const T=void 0===c.pinchAround?c.around:c.pinchAround;x.around=T?this._map.unproject(T):this._map.getCenter()}return this.clear(),x.noMoveStart=!0,x}}function Gi(h,r){(!h.duration||h.duration<r.duration)&&(h.duration=r.duration,h.easing=r.easing)}function Tr(h,r,c){const{maxSpeed:_,linearity:x,deceleration:T}=c,I=t.clamp(h*x/(r/1e3),-_,_),R=Math.abs(I)/(T*x);return{easing:c.easing,duration:1e3*R,amount:I*(R/2)}}class un extends t.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,c,_,x={}){const T=yt(c.getCanvasContainer(),_),I=c.unproject(T);super(r,t.extend({point:T,lngLat:I,originalEvent:_},x)),this._defaultPrevented=!1,this.target=c}}class Ns extends t.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,c,_){const x="touchend"===r?_.changedTouches:_.touches,T=Ke(c.getCanvasContainer(),x),I=T.map(H=>c.unproject(H)),R=T.reduce((H,$,q,ae)=>H.add($.div(ae.length)),new t.Point(0,0));super(r,{points:T,point:R,lngLats:I,lngLat:c.unproject(R),originalEvent:_}),this._defaultPrevented=!1}}class Ts extends t.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,c,_){super(r,{originalEvent:_}),this._defaultPrevented=!1}}class yl{constructor(r,c){this._map=r,this._clickTolerance=c.clickTolerance}reset(){this._mousedownPos=void 0}wheel(r){return this._firePreventable(new Ts(r.type,this._map,r))}mousedown(r,c){return this._mousedownPos=c,this._firePreventable(new un(r.type,this._map,r))}mouseup(r){this._map.fire(new un(r.type,this._map,r))}preclick(r){const c=t.extend({},r);c.type="preclick",this._map.fire(new un(c.type,this._map,c))}click(r,c){this._mousedownPos&&this._mousedownPos.dist(c)>=this._clickTolerance||(this.preclick(r),this._map.fire(new un(r.type,this._map,r)))}dblclick(r){return this._firePreventable(new un(r.type,this._map,r))}mouseover(r){this._map.fire(new un(r.type,this._map,r))}mouseout(r){this._map.fire(new un(r.type,this._map,r))}touchstart(r){return this._firePreventable(new Ns(r.type,this._map,r))}touchmove(r){this._map.fire(new Ns(r.type,this._map,r))}touchend(r){this._map.fire(new Ns(r.type,this._map,r))}touchcancel(r){this._map.fire(new Ns(r.type,this._map,r))}_firePreventable(r){if(this._map.fire(r),r.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class so{constructor(r){this._map=r}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(r){this._map.fire(new un(r.type,this._map,r))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new un("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(r){this._delayContextMenu?this._contextMenuEvent=r:this._map.fire(new un(r.type,this._map,r)),this._map.listens("contextmenu")&&r.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class lc{constructor(r,c){this._map=r,this._el=r.getCanvasContainer(),this._container=r.getContainer(),this._clickTolerance=c.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(r,c){this.isEnabled()&&r.shiftKey&&0===r.button&&(Mt(),this._startPos=this._lastPos=c,this._active=!0)}mousemoveWindow(r,c){if(!this._active)return;const _=c,x=this._startPos,T=this._lastPos;if(!x||!T||T.equals(_)||!this._box&&_.dist(x)<this._clickTolerance)return;this._lastPos=_,this._box||(this._box=ye("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",r));const I=Math.min(x.x,_.x),R=Math.max(x.x,_.x),H=Math.min(x.y,_.y),$=Math.max(x.y,_.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${I}px,${H}px)`,this._box.style.width=R-I+"px",this._box.style.height=$-H+"px")})}mouseupWindow(r,c){if(!this._active)return;const _=this._startPos,x=c;if(_&&0===r.button){if(this.reset(),Je(),_.x!==x.x||_.y!==x.y)return this._map.fire(new t.Event("boxzoomend",{originalEvent:r})),{cameraAnimation:T=>T.fitScreenCoordinates(_,x,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",r)}}keydown(r){this._active&&27===r.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",r))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),qe(),delete this._startPos,delete this._lastPos}_fireEvent(r,c){return this._map.fire(new t.Event(r,{originalEvent:c}))}}function Jo(h,r){const c={};for(let _=0;_<h.length;_++)c[h[_].identifier]=r[_];return c}class Ko{constructor(r){this.reset(),this.numTouches=r.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(r,c,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=r.timeStamp),_.length===this.numTouches&&(this.centroid=function(x){const T=new t.Point(0,0);for(const I of x)T._add(I);return T.div(x.length)}(c),this.touches=Jo(_,c)))}touchmove(r,c,_){if(this.aborted||!this.centroid)return;const x=Jo(_,c);for(const T in this.touches){const I=x[T];(!I||I.dist(this.touches[T])>30)&&(this.aborted=!0)}}touchend(r,c,_){if((!this.centroid||r.timeStamp-this.startTime>500)&&(this.aborted=!0),0===_.length){const x=!this.aborted&&this.centroid;if(this.reset(),x)return x}}}class cc{constructor(r){this.singleTap=new Ko(r),this.numTaps=r.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(r,c,_){this.singleTap.touchstart(r,c,_)}touchmove(r,c,_){this.singleTap.touchmove(r,c,_)}touchend(r,c,_){const x=this.singleTap.touchend(r,c,_);if(x){const T=r.timeStamp-this.lastTime<500,I=!this.lastTap||this.lastTap.dist(x)<30;if(T&&I||this.reset(),this.count++,this.lastTime=r.timeStamp,this.lastTap=x,this.count===this.numTaps)return this.reset(),x}}}class au{constructor(){this._zoomIn=new cc({numTouches:1,numTaps:2}),this._zoomOut=new cc({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(r,c,_){this._zoomIn.touchstart(r,c,_),this._zoomOut.touchstart(r,c,_)}touchmove(r,c,_){this._zoomIn.touchmove(r,c,_),this._zoomOut.touchmove(r,c,_)}touchend(r,c,_){const x=this._zoomIn.touchend(r,c,_),T=this._zoomOut.touchend(r,c,_);return x?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:I=>I.easeTo({duration:300,zoom:I.getZoom()+1,around:I.unproject(x)},{originalEvent:r})}):T?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:I=>I.easeTo({duration:300,zoom:I.getZoom()-1,around:I.unproject(T)},{originalEvent:r})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Pc={0:1,2:2};class Qo{constructor(r){this.reset(),this._clickTolerance=r.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(r,c){return!1}_move(r,c){return{}}mousedown(r,c){if(this._lastPoint)return;const _=Ve(r);this._correctButton(r,_)&&(this._lastPoint=c,this._eventButton=_)}mousemoveWindow(r,c){const _=this._lastPoint;if(_)if(r.preventDefault(),null!=this._eventButton&&function(x,T){const I=Pc[T];return void 0===x.buttons||(x.buttons&I)!==I}(r,this._eventButton))this.reset();else if(this._moved||!(c.dist(_)<this._clickTolerance))return this._moved=!0,this._lastPoint=c,this._move(_,c)}mouseupWindow(r){this._lastPoint&&Ve(r)===this._eventButton&&(this._moved&&Je(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Hs extends Qo{mousedown(r,c){super.mousedown(r,c),this._lastPoint&&(this._active=!0)}_correctButton(r,c){return 0===c&&!r.ctrlKey}_move(r,c){return{around:c,panDelta:c.sub(r)}}}class oo extends Qo{_correctButton(r,c){return 0===c&&r.ctrlKey||2===c}_move(r,c){const _=.8*(c.x-r.x);if(_)return this._active=!0,{bearingDelta:_}}contextmenu(r){r.preventDefault()}}class Vl extends Qo{_correctButton(r,c){return 0===c&&r.ctrlKey||2===c}_move(r,c){const _=-.5*(c.y-r.y);if(_)return this._active=!0,{pitchDelta:_}}contextmenu(r){r.preventDefault()}}class Ul{constructor(r,c){this._map=r,this._el=r.getCanvasContainer(),this._minTouches=1,this._clickTolerance=c.clickTolerance||1,this.reset(),t.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new t.Point(0,0)}touchstart(r,c,_){return this._calculateTransform(r,c,_)}touchmove(r,c,_){if(this._active&&!(_.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===_.length&&!t.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return r.cancelable&&r.preventDefault(),this._calculateTransform(r,c,_)}}touchend(r,c,_){this._calculateTransform(r,c,_),this._active&&_.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(r,c,_){_.length>0&&(this._active=!0);const x=Jo(_,c),T=new t.Point(0,0),I=new t.Point(0,0);let R=0;for(const $ in x){const q=x[$],ae=this._touches[$];ae&&(T._add(q),I._add(q.sub(ae)),R++,x[$]=q)}if(this._touches=x,R<this._minTouches||!I.mag())return;const H=I.div(R);return this._sum._add(H),this._sum.mag()<this._clickTolerance?void 0:{around:T.div(R),panDelta:H}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ye("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Lo{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(r){}_move(r,c,_){return{}}touchstart(r,c,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([c[0],c[1]]))}touchmove(r,c,_){const x=this._firstTwoTouches;if(!x)return;r.preventDefault();const[T,I]=x,R=el(_,c,T),H=el(_,c,I);if(!R||!H)return;const $=this._aroundCenter?null:R.add(H).div(2);return this._move([R,H],$,r)}touchend(r,c,_){if(!this._firstTwoTouches)return;const[x,T]=this._firstTwoTouches,I=el(_,c,x),R=el(_,c,T);I&&R||(this._active&&Je(),this.reset())}touchcancel(){this.reset()}enable(r){this._enabled=!0,this._aroundCenter=!!r&&"center"===r.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function el(h,r,c){for(let _=0;_<h.length;_++)if(h[_].identifier===c)return r[_]}function uc(h,r){return Math.log(h/r)/Math.LN2}class Wl extends Lo{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(r){this._startDistance=this._distance=r[0].dist(r[1])}_move(r,c){const _=this._distance;if(this._distance=r[0].dist(r[1]),this._active||!(Math.abs(uc(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:uc(this._distance,_),pinchAround:c}}}function vl(h,r){return 180*h.angleWith(r)/Math.PI}class So extends Lo{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(r){this._startVector=this._vector=r[0].sub(r[1]),this._minDiameter=r[0].dist(r[1])}_move(r,c){const _=this._vector;if(this._vector=r[0].sub(r[1]),_&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:vl(this._vector,_),pinchAround:c}}_isBelowThreshold(r){this._minDiameter=Math.min(this._minDiameter,r.mag());const c=25/(Math.PI*this._minDiameter)*360,_=this._startVector;if(!_)return!1;const x=vl(r,_);return Math.abs(x)<c}}function Xn(h){return Math.abs(h.y)>Math.abs(h.x)}class dc extends Lo{constructor(r){super(),this._map=r}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(r){this._lastPoints=r,Xn(r[0].sub(r[1]))&&(this._valid=!1)}_move(r,c,_){const x=this._lastPoints;if(!x)return;const T=r[0].sub(x[0]),I=r[1].sub(x[1]);return this._map._cooperativeGestures&&!t.isFullscreen()&&_.touches.length<3||(this._valid=this.gestureBeginsVertically(T,I,_.timeStamp),!this._valid)?void 0:(this._lastPoints=r,this._active=!0,{pitchDelta:(T.y+I.y)/2*-.5})}gestureBeginsVertically(r,c,_){if(void 0!==this._valid)return this._valid;const x=r.mag()>=2,T=c.mag()>=2;if(!x&&!T)return;if(!x||!T)return null==this._firstMove&&(this._firstMove=_),_-this._firstMove<100&&void 0;const I=r.y>0==c.y>0;return Xn(r)&&Xn(c)&&I}}const Oc={panStep:100,bearingStep:15,pitchStep:10};class Rc{constructor(){const r=Oc;this._panStep=r.panStep,this._bearingStep=r.bearingStep,this._pitchStep=r.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(r){if(r.altKey||r.ctrlKey||r.metaKey)return;let c=0,_=0,x=0,T=0,I=0;switch(r.keyCode){case 61:case 107:case 171:case 187:c=1;break;case 189:case 109:case 173:c=-1;break;case 37:r.shiftKey?_=-1:(r.preventDefault(),T=-1);break;case 39:r.shiftKey?_=1:(r.preventDefault(),T=1);break;case 38:r.shiftKey?x=1:(r.preventDefault(),I=-1);break;case 40:r.shiftKey?x=-1:(r.preventDefault(),I=1);break;default:return}return this._rotationDisabled&&(_=0,x=0),{cameraAnimation:R=>{const H=R.getZoom();R.easeTo({duration:300,easeId:"keyboardHandler",easing:hc,zoom:c?Math.round(H)+c*(r.shiftKey?2:1):H,bearing:R.getBearing()+_*this._bearingStep,pitch:R.getPitch()+x*this._pitchStep,offset:[-T*this._panStep,-I*this._panStep],center:R.getCenter()},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function hc(h){return h*(2-h)}const tl=4.000244140625;class pc{constructor(r,c){this._map=r,this._el=r.getCanvasContainer(),this._handler=c,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,t.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(r){this._defaultZoomRate=r}setWheelZoomRate(r){this._wheelZoomRate=r}isEnabled(){return!!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(r){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!r&&"center"===r.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(r){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(r.ctrlKey||r.metaKey||this.isZooming()||t.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let c=r.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*r.deltaY:r.deltaY;const _=t.exported.now(),x=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,0!==c&&c%tl==0?this._type="wheel":0!==c&&Math.abs(c)<4?this._type="trackpad":x>400?(this._type=null,this._lastValue=c,this._timeout=setTimeout(this._onTimeout,40,r)):this._type||(this._type=Math.abs(x*c)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,c+=this._lastValue)),r.shiftKey&&c&&(c/=4),this._type&&(this._lastWheelEvent=r,this._delta-=c,this._active||this._start(r)),r.preventDefault()}_onTimeout(r){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(r)}_start(r){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const c=yt(this._el,r);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:c,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const r=this._map.transform;"wheel"===this._type&&r.projection.wrap&&(r._center.lng>=180||r._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const c=()=>r._terrainEnabled()&&this._aroundCoord?r.computeZoomRelativeTo(this._aroundCoord):r.zoom;if(0!==this._delta){const H="wheel"===this._type&&Math.abs(this._delta)>tl?this._wheelZoomRate:this._defaultZoomRate;let $=2/(1+Math.exp(-Math.abs(this._delta*H)));this._delta<0&&0!==$&&($=1/$);const q=c(),ae=Math.pow(2,q),a="number"==typeof this._targetZoom?r.zoomScale(this._targetZoom):ae;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(a*$))),"wheel"===this._type&&(this._startZoom=q,this._easing=this._smoothOutEasing(200)),this._delta=0}const _="number"==typeof this._targetZoom?this._targetZoom:c(),x=this._startZoom,T=this._easing;let I,R=!1;if("wheel"===this._type&&x&&T){const H=Math.min((t.exported.now()-this._lastWheelEventTime)/200,1),$=T(H);I=t.number(x,_,$),H<1?this._frameId||(this._frameId=!0):R=!0}else I=_,R=!0;return this._active=!0,R&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!R,zoomDelta:I-c(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(r){let c=t.ease;if(this._prevEase){const _=this._prevEase,x=(t.exported.now()-_.start)/_.duration,T=_.easing(x+.01)-_.easing(x),I=.27/Math.sqrt(T*T+1e-4)*.01,R=Math.sqrt(.0729-I*I);c=t.bezier(I,R,.25,1)}return this._prevEase={start:t.exported.now(),duration:r,easing:c},c}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ye("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(t.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Co{constructor(r,c){this._clickZoom=r,this._tapZoom=c}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class pr{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(r,c){return r.preventDefault(),{cameraAnimation:_=>{_.easeTo({duration:300,zoom:_.getZoom()+(r.shiftKey?-1:1),around:_.unproject(c)},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vs{constructor(){this._tap=new cc({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(r,c,_){this._swipePoint||(this._tapTime&&r.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?_.length>0&&(this._swipePoint=c[0],this._swipeTouch=_[0].identifier):this._tap.touchstart(r,c,_))}touchmove(r,c,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;const x=c[0],T=x.y-this._swipePoint.y;return this._swipePoint=x,r.preventDefault(),this._active=!0,{zoomDelta:T/128}}}else this._tap.touchmove(r,c,_)}touchend(r,c,_){this._tapTime?this._swipePoint&&0===_.length&&this.reset():this._tap.touchend(r,c,_)&&(this._tapTime=r.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class il{constructor(r,c,_){this._el=r,this._mousePan=c,this._touchPan=_}enable(r){this._inertiaOptions=r||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class su{constructor(r,c,_){this._pitchWithRotate=r.pitchWithRotate,this._mouseRotate=c,this._mousePitch=_}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class ou{constructor(r,c,_,x){this._el=r,this._touchZoom=c,this._touchRotate=_,this._tapDragZoom=x,this._rotationDisabled=!1,this._enabled=!0}enable(r){this._touchZoom.enable(r),this._rotationDisabled||this._touchRotate.enable(r),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ma=h=>h.zoom||h.drag||h.pitch||h.rotate;class Fc extends t.Event{}class lu{constructor(){this.constants=[1,1,.01],this.radius=0}setup(r,c){const _=t.sub([],c,r);this.radius=t.length(_[2]<0?t.div([],_,this.constants):[_[0],_[1],0])}projectRay(r){t.div(r,r,this.constants),t.normalize(r,r),t.mul$1(r,r,this.constants);const c=t.scale$2([],r,this.radius);if(c[2]>0){const _=t.scale$2([],[0,0,1],t.dot(c,[0,0,1])),x=t.scale$2([],t.normalize([],[c[0],c[1],0]),this.radius),T=t.add([],c,t.scale$2([],t.sub([],t.add([],x,_),c),2));c[0]=T[0],c[1]=T[1]}return c}}function Ta(h){return h.panDelta&&h.panDelta.mag()||h.zoomDelta||h.bearingDelta||h.pitchDelta}class Xa{constructor(r,c){this._map=r,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new tn(r),this._bearingSnap=c.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new lu,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(c),t.bindAll(["handleEvent","handleWindowEvent"],this);const _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[t.window.document,"mousemove",{capture:!0}],[t.window.document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[t.window,"blur",void 0]];for(const[x,T,I]of this._listeners)x.addEventListener(T,x===t.window.document?this.handleWindowEvent:this.handleEvent,I)}destroy(){for(const[r,c,_]of this._listeners)r.removeEventListener(c,r===t.window.document?this.handleWindowEvent:this.handleEvent,_)}_addDefaultHandlers(r){const c=this._map,_=c.getCanvasContainer();this._add("mapEvent",new yl(c,r));const x=c.boxZoom=new lc(c,r);this._add("boxZoom",x);const T=new au,I=new pr;c.doubleClickZoom=new Co(I,T),this._add("tapZoom",T),this._add("clickZoom",I);const R=new Vs;this._add("tapDragZoom",R);const H=c.touchPitch=new dc(c);this._add("touchPitch",H);const $=new oo(r),q=new Vl(r);c.dragRotate=new su(r,$,q),this._add("mouseRotate",$,["mousePitch"]),this._add("mousePitch",q,["mouseRotate"]);const ae=new Hs(r),a=new Ul(c,r);c.dragPan=new il(_,ae,a),this._add("mousePan",ae),this._add("touchPan",a,["touchZoom","touchRotate"]);const l=new So,d=new Wl;c.touchZoomRotate=new ou(_,d,l,R),this._add("touchRotate",l,["touchPan","touchZoom"]),this._add("touchZoom",d,["touchPan","touchRotate"]),this._add("blockableMapEvent",new so(c));const p=c.scrollZoom=new pc(c,this);this._add("scrollZoom",p,["mousePan"]);const b=c.keyboard=new Rc;this._add("keyboard",b);for(const w of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])r.interactive&&r[w]&&c[w].enable(r[w])}_add(r,c,_){this._handlers.push({handlerName:r,handler:c,allowed:_}),this._handlersById[r]=c}stop(r){if(!this._updatingCamera){for(const{handler:c}of this._handlers)c.reset();this._inertia.clear(),this._fireEvents({},{},r),this._changes=[]}}isActive(){for(const{handler:r}of this._handlers)if(r.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ma(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(r,c,_){for(const x in r)if(x!==_&&(!c||c.indexOf(x)<0))return!0;return!1}handleWindowEvent(r){this.handleEvent(r,`${r.type}Window`)}_getMapTouches(r){const c=[];for(const _ of r)this._el.contains(_.target)&&c.push(_);return c}handleEvent(r,c){this._updatingCamera=!0;const _="renderFrame"===r.type,x=_?void 0:r,T={needsRenderFrame:!1},I={},R={},H=r.touches?this._getMapTouches(r.touches):void 0,$=H?Ke(this._el,H):_?void 0:yt(this._el,r);for(const{handlerName:a,handler:l,allowed:d}of this._handlers){if(!l.isEnabled())continue;let p;this._blockedByActive(R,d,a)?l.reset():l[c||r.type]&&(p=l[c||r.type](r,$,H),this.mergeHandlerResult(T,I,p,a,x),p&&p.needsRenderFrame&&this._triggerRenderFrame()),(p||l.isActive())&&(R[a]=l)}const q={};for(const a in this._previousActiveHandlers)R[a]||(q[a]=x);this._previousActiveHandlers=R,(Object.keys(q).length||Ta(T))&&(this._changes.push([T,I,q]),this._triggerRenderFrame()),(Object.keys(R).length||Ta(T))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ae}=T;ae&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ae(this._map))}mergeHandlerResult(r,c,_,x,T){if(!_)return;t.extend(r,_);const I={handlerName:x,originalEvent:_.originalEvent||T};void 0!==_.zoomDelta&&(c.zoom=I),void 0!==_.panDelta&&(c.drag=I),void 0!==_.pitchDelta&&(c.pitch=I),void 0!==_.bearingDelta&&(c.rotate=I)}_applyChanges(){const r={},c={},_={};for(const[x,T,I]of this._changes)x.panDelta&&(r.panDelta=(r.panDelta||new t.Point(0,0))._add(x.panDelta)),x.zoomDelta&&(r.zoomDelta=(r.zoomDelta||0)+x.zoomDelta),x.bearingDelta&&(r.bearingDelta=(r.bearingDelta||0)+x.bearingDelta),x.pitchDelta&&(r.pitchDelta=(r.pitchDelta||0)+x.pitchDelta),void 0!==x.around&&(r.around=x.around),void 0!==x.aroundCoord&&(r.aroundCoord=x.aroundCoord),void 0!==x.pinchAround&&(r.pinchAround=x.pinchAround),x.noInertia&&(r.noInertia=x.noInertia),t.extend(c,T),t.extend(_,I);this._updateMapTransform(r,c,_),this._changes=[]}_updateMapTransform(r,c,_){const x=this._map,T=x.transform,I=D=>[D.x,D.y,D.z];if((D=>{const O=this._eventsInProgress.drag;return O&&!this._handlersById[O.handlerName].isActive()})()&&!Ta(r)){const D=T.zoom;T.cameraElevationReference="sea",T.recenterOnTerrain(),T.cameraElevationReference="ground",D!==T.zoom&&this._map._update(!0)}if(T._isCameraConstrained&&x._stop(!0),!Ta(r))return void this._fireEvents(c,_,!0);let{panDelta:R,zoomDelta:H,bearingDelta:$,pitchDelta:q,around:ae,aroundCoord:a,pinchAround:l}=r;T._isCameraConstrained&&(H>0&&(H=0),T._isCameraConstrained=!1),void 0!==l&&(ae=l),(H||(D=>c[D]&&!this._eventsInProgress[D])("drag"))&&ae&&(this._dragOrigin=I(T.pointCoordinate3D(ae)),this._trackingEllipsoid.setup(T._camera.position,this._dragOrigin)),T.cameraElevationReference="sea",x._stop(!0),ae=ae||x.transform.centerPoint,$&&(T.bearing+=$),q&&(T.pitch+=q),T._updateCameraState();const d=[0,0,0];if(R)if("mercator"===T.projection.name){const D=this._trackingEllipsoid.projectRay(T.screenPointToMercatorRay(ae).dir),O=this._trackingEllipsoid.projectRay(T.screenPointToMercatorRay(ae.sub(R)).dir);d[0]=O[0]-D[0],d[1]=O[1]-D[1]}else{const D=T.pointCoordinate(ae);if("globe"===T.projection.name){R=R.rotate(-T.angle);const O=T._pixelsPerMercatorPixel/T.worldSize;d[0]=-R.x*t.mercatorScale(t.latFromMercatorY(D.y))*O,d[1]=-R.y*t.mercatorScale(T.center.lat)*O}else{const O=T.pointCoordinate(ae.sub(R));D&&O&&(d[0]=O.x-D.x,d[1]=O.y-D.y)}}const p=T.zoom,b=[0,0,0];if(H){const D=I(a||T.pointCoordinate3D(ae)),O={dir:t.normalize([],t.sub([],D,T._camera.position))};if(O.dir[2]<0){const C=T.zoomDeltaToMovement(D,H);t.scale$2(b,O.dir,C)}}const w=t.add(d,d,b);T._translateCameraConstrained(w),H&&Math.abs(T.zoom-p)>1e-4&&T.recenterOnTerrain(),T.cameraElevationReference="ground",this._map._update(),r.noInertia||this._inertia.record(r),this._fireEvents(c,_,!0)}_fireEvents(r,c,_){const x=Ma(this._eventsInProgress),T=Ma(r),I={};for(const q in r){const{originalEvent:ae}=r[q];this._eventsInProgress[q]||(I[`${q}start`]=ae),this._eventsInProgress[q]=r[q]}!x&&T&&this._fireEvent("movestart",T.originalEvent);for(const q in I)this._fireEvent(q,I[q]);T&&this._fireEvent("move",T.originalEvent);for(const q in r){const{originalEvent:ae}=r[q];this._fireEvent(q,ae)}const R={};let H;for(const q in this._eventsInProgress){const{handlerName:ae,originalEvent:a}=this._eventsInProgress[q];this._handlersById[ae].isActive()||(delete this._eventsInProgress[q],H=c[ae]||a,R[`${q}end`]=H)}for(const q in R)this._fireEvent(q,R[q]);const $=Ma(this._eventsInProgress);if(_&&(x||T)&&!$){this._updatingCamera=!0;const q=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ae=a=>0!==a&&-this._bearingSnap<a&&a<this._bearingSnap;q?(ae(q.bearing||this._map.getBearing())&&(q.bearing=0),this._map.easeTo(q,{originalEvent:H})):(this._map.fire(new t.Event("moveend",{originalEvent:H})),ae(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(r,c){this._map.fire(new t.Event(r,c?{originalEvent:c}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(r=>{this._frameId=void 0,this.handleEvent(new Fc("renderFrame",{timeStamp:r})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const lo="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Gl extends t.Evented{constructor(r,c){super(),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=c.bearingSnap,this._respectPrefersReducedMotion=!1!==c.respectPrefersReducedMotion,t.bindAll(["_renderFrameCallback"],this)}getCenter(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(r,c){return this.jumpTo({center:r},c)}panBy(r,c,_){return r=t.Point.convert(r).mult(-1),this.panTo(this.transform.center,t.extend({offset:r},c),_)}panTo(r,c,_){return this.easeTo(t.extend({center:r},c),_)}getZoom(){return this.transform.zoom}setZoom(r,c){return this.jumpTo({zoom:r},c),this}zoomTo(r,c,_){return this.easeTo(t.extend({zoom:r},c),_)}zoomIn(r,c){return this.zoomTo(this.getZoom()+1,r,c),this}zoomOut(r,c){return this.zoomTo(this.getZoom()-1,r,c),this}getBearing(){return this.transform.bearing}setBearing(r,c){return this.jumpTo({bearing:r},c),this}getPadding(){return this.transform.padding}setPadding(r,c){return this.jumpTo({padding:r},c),this}rotateTo(r,c,_){return this.easeTo(t.extend({bearing:r},c),_)}resetNorth(r,c){return this.rotateTo(0,t.extend({duration:1e3},r),c),this}resetNorthPitch(r,c){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},r),c),this}snapToNorth(r,c){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(r,c):this}getPitch(){return this.transform.pitch}setPitch(r,c){return this.jumpTo({pitch:r},c),this}cameraForBounds(r,c){r=t.LngLatBounds.convert(r);const _=c&&c.bearing||0,x=c&&c.pitch||0,T=r.getNorthWest(),I=r.getSouthEast();return this._cameraForBounds(this.transform,T,I,_,x,c)}_extendCameraOptions(r){const c={top:0,bottom:0,right:0,left:0};if("number"==typeof(r=t.extend({padding:c,offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding){const _=r.padding;r.padding={top:_,bottom:_,right:_,left:_}}return r.padding=t.extend(c,r.padding),r}_minimumAABBFrustumDistance(r,c){const _=c.max[0]-c.min[0],x=c.max[1]-c.min[1];return _/x>r.aspect?_/(2*Math.tan(.5*r.fovX)*r.aspect):x/(2*Math.tan(.5*r.fovY)*r.aspect)}_cameraForBoundsOnGlobe(r,c,_,x,T,I){const R=r.clone(),H=this._extendCameraOptions(I);R.bearing=x,R.pitch=T;const $=t.LngLat.convert(c),q=t.LngLat.convert(_),ae=.5*($.lat+q.lat),a=.5*($.lng+q.lng),l=t.latLngToECEF(ae,a),d=t.normalize([],l),p=t.normalize([],t.cross([],d,[0,1,0])),b=t.cross([],p,d),w=[p[0],p[1],p[2],0,b[0],b[1],b[2],0,d[0],d[1],d[2],0,0,0,0,1],D=[l,t.latLngToECEF($.lat,$.lng),t.latLngToECEF(q.lat,$.lng),t.latLngToECEF(q.lat,q.lng),t.latLngToECEF($.lat,q.lng),t.latLngToECEF(ae,$.lng),t.latLngToECEF(ae,q.lng),t.latLngToECEF($.lat,a),t.latLngToECEF(q.lat,a)];let O=t.Aabb.fromPoints(D.map(tt=>[t.dot(p,tt),t.dot(b,tt),t.dot(d,tt)]));const C=t.transformMat4([],O.center,w);0===t.squaredLength(C)&&t.set(C,0,0,1),t.normalize(C,C),t.scale$2(C,C,t.GLOBE_RADIUS),R.center=t.ecefToLatLng(C);const z=R.getWorldToCameraMatrix(),U=t.invert(new Float64Array(16),z);O=t.Aabb.applyTransform(O,t.multiply([],z,w)),t.transformMat4(C,C,z);const W=.5*(O.max[2]-O.min[2]),ie=this._minimumAABBFrustumDistance(R,O),ce=t.scale$2([],[0,0,1],W),pe=t.add(ce,C,ce),ve=ie+(0===R.pitch?0:t.distance(C,pe)),ge=R.globeCenterInViewSpace,Ee=t.sub([],C,[ge[0],ge[1],ge[2]]);t.normalize(Ee,Ee),t.scale$2(Ee,Ee,ve);const Re=t.add([],C,Ee);t.transformMat4(Re,Re,U);const Ze=t.earthRadius/t.GLOBE_RADIUS,je=t.length(Re),Ge=t.mercatorZfromAltitude(Math.max(je*Ze-t.earthRadius,Number.EPSILON),0),lt=Math.min(R.zoomFromMercatorZAdjusted(Ge),H.maxZoom);return lt>.5*(t.GLOBE_ZOOM_THRESHOLD_MIN+t.GLOBE_ZOOM_THRESHOLD_MAX)?(R.setProjection({name:"mercator"}),R.zoom=lt,this._cameraForBounds(R,c,_,x,T,I)):{center:R.center,zoom:lt,bearing:x,pitch:T}}queryTerrainElevation(r,c){const _=this.transform.elevation;return _?(c=t.extend({},{exaggerated:!0},c),_.getAtPoint(t.MercatorCoordinate.fromLngLat(r),null,c.exaggerated)):null}_cameraForBounds(r,c,_,x,T,I){if("globe"===r.projection.name)return this._cameraForBoundsOnGlobe(r,c,_,x,T,I);const R=r.clone(),H=this._extendCameraOptions(I),$=R.padding;R.bearing=x,R.pitch=T;const q=t.LngLat.convert(c),ae=t.LngLat.convert(_),a=new t.LngLat(q.lng,ae.lat),l=new t.LngLat(ae.lng,q.lat),d=R.project(q),p=R.project(ae),b=this.queryTerrainElevation(q),w=this.queryTerrainElevation(ae),D=this.queryTerrainElevation(a),O=this.queryTerrainElevation(l),C=[[d.x,d.y,Math.min(b||0,w||0,D||0,O||0)],[p.x,p.y,Math.max(b||0,w||0,D||0,O||0)]];let z=t.Aabb.fromPoints(C);const U=R.getWorldToCameraMatrix(),W=t.invert(new Float64Array(16),U);z=t.Aabb.applyTransform(z,U);const ie=t.sub([],z.max,z.min),ce=$.left||0,pe=$.right||0,ve=$.bottom||0,ge=$.top||0,{left:Ee,right:Re,top:Ze,bottom:je}=H.padding,Ge=.5*(ce+pe),lt=.5*(ge+ve),tt=Math.min(R.scaleZoom(R.scale*Math.min((R.width-(ce+pe+Ee+Re))/ie[0],(R.height-(ve+ge+je+Ze))/ie[1])),H.maxZoom),ot=R.scale/R.zoomScale(tt);z=new t.Aabb([z.min[0]-(Ee+Ge)*ot,z.min[1]-(je+lt)*ot,z.min[2]],[z.max[0]+(Re+Ge)*ot,z.max[1]+(Ze+lt)*ot,z.max[2]]);const Et=.5*ie[2],Vt=this._minimumAABBFrustumDistance(R,z),It=[0,0,1,0];t.transformMat4$1(It,It,U),t.normalize$2(It,It);const Dt=t.scale$2([],It,Vt+Et),Zt=t.add([],z.center,Dt),ci=("number"==typeof H.offset.x&&"number"==typeof H.offset.y?new t.Point(H.offset.x,H.offset.y):t.Point.convert(H.offset)).rotate(-t.degToRad(x));z.center[0]-=ci.x*ot,z.center[1]+=ci.y*ot,t.transformMat4(z.center,z.center,W),t.transformMat4(Zt,Zt,W);const jt=[z.center[0],z.center[1],Zt[2]*R.pixelsPerMeter];t.scale$2(jt,jt,1/R.worldSize);const Ei=t.lngFromMercatorX(jt[0]),Ji=t.latFromMercatorY(jt[1]),qt=Math.min(R._zoomFromMercatorZ(jt[2]),H.maxZoom),k=new t.LngLat(Ei,Ji);return R.mercatorFromTransition&&qt<.5*(t.GLOBE_ZOOM_THRESHOLD_MIN+t.GLOBE_ZOOM_THRESHOLD_MAX)?(R.setProjection({name:"globe"}),R.zoom=qt,this._cameraForBounds(R,c,_,x,T,I)):{center:k,zoom:qt,bearing:x,pitch:T}}fitBounds(r,c,_){const x=this.cameraForBounds(r,c);return this._fitInternal(x,c,_)}fitScreenCoordinates(r,c,_,x,T){const I=t.Point.convert(r),R=t.Point.convert(c),H=new t.Point(Math.min(I.x,R.x),Math.min(I.y,R.y)),$=new t.Point(Math.max(I.x,R.x),Math.max(I.y,R.y));if("mercator"===this.transform.projection.name&&this.transform.anyCornerOffEdge(I,R))return this;const q=this.transform.pointLocation3D(H),ae=this.transform.pointLocation3D($),a=this.transform.pointLocation3D(new t.Point(H.x,$.y)),l=this.transform.pointLocation3D(new t.Point($.x,H.y)),d=[Math.min(q.lng,ae.lng,a.lng,l.lng),Math.min(q.lat,ae.lat,a.lat,l.lat)],p=[Math.max(q.lng,ae.lng,a.lng,l.lng),Math.max(q.lat,ae.lat,a.lat,l.lat)],b=x&&x.pitch?x.pitch:this.getPitch(),w=this._cameraForBounds(this.transform,d,p,_,b,x);return this._fitInternal(w,x,T)}_fitInternal(r,c,_){return r?(delete(c=t.extend(r,c)).padding,c.linear?this.easeTo(c,_):this.flyTo(c,_)):this}jumpTo(r,c){this.stop();const _=r.preloadOnly?this.transform.clone():this.transform;let x=!1,T=!1,I=!1;return"zoom"in r&&_.zoom!==+r.zoom&&(x=!0,_.zoom=+r.zoom),void 0!==r.center&&(_.center=t.LngLat.convert(r.center)),"bearing"in r&&_.bearing!==+r.bearing&&(T=!0,_.bearing=+r.bearing),"pitch"in r&&_.pitch!==+r.pitch&&(I=!0,_.pitch=+r.pitch),null==r.padding||_.isPaddingEqual(r.padding)||(_.padding=r.padding),r.preloadOnly?(this._preloadTiles(_),this):(this.fire(new t.Event("movestart",c)).fire(new t.Event("move",c)),x&&this.fire(new t.Event("zoomstart",c)).fire(new t.Event("zoom",c)).fire(new t.Event("zoomend",c)),T&&this.fire(new t.Event("rotatestart",c)).fire(new t.Event("rotate",c)).fire(new t.Event("rotateend",c)),I&&this.fire(new t.Event("pitchstart",c)).fire(new t.Event("pitch",c)).fire(new t.Event("pitchend",c)),this.fire(new t.Event("moveend",c)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||t.warnOnce(lo),this.transform.getFreeCameraOptions()}setFreeCameraOptions(r,c){const _=this.transform;if(!_.projection.supportsFreeCamera)return t.warnOnce(lo),this;this.stop();const x=_.zoom,T=_.pitch,I=_.bearing;_.setFreeCameraOptions(r);const R=x!==_.zoom,H=T!==_.pitch,$=I!==_.bearing;return this.fire(new t.Event("movestart",c)).fire(new t.Event("move",c)),R&&this.fire(new t.Event("zoomstart",c)).fire(new t.Event("zoom",c)).fire(new t.Event("zoomend",c)),$&&this.fire(new t.Event("rotatestart",c)).fire(new t.Event("rotate",c)).fire(new t.Event("rotateend",c)),H&&this.fire(new t.Event("pitchstart",c)).fire(new t.Event("pitch",c)).fire(new t.Event("pitchend",c)),this.fire(new t.Event("moveend",c)),this}easeTo(r,c){this._stop(!1,r.easeId),(!1===(r=t.extend({offset:[0,0],duration:500,easing:t.ease},r)).animate||this._prefersReducedMotion(r))&&(r.duration=0);const _=this.transform,x=this.getZoom(),T=this.getBearing(),I=this.getPitch(),R=this.getPadding(),H="zoom"in r?+r.zoom:x,$="bearing"in r?this._normalizeBearing(r.bearing,T):T,q="pitch"in r?+r.pitch:I,ae="padding"in r?r.padding:_.padding,a=t.Point.convert(r.offset);let l,d,p;if("globe"===_.projection.name){const ce=t.MercatorCoordinate.fromLngLat(_.center),pe=a.rotate(-_.angle);ce.x+=pe.x/_.worldSize,ce.y+=pe.y/_.worldSize;const ve=ce.toLngLat(),ge=t.LngLat.convert(r.center||ve);this._normalizeCenter(ge),l=_.centerPoint.add(pe),d=new t.Point(ce.x,ce.y).mult(_.worldSize),p=new t.Point(t.mercatorXfromLng(ge.lng),t.mercatorYfromLat(ge.lat)).mult(_.worldSize).sub(d)}else{l=_.centerPoint.add(a);const ce=_.pointLocation(l),pe=t.LngLat.convert(r.center||ce);this._normalizeCenter(pe),d=_.project(ce),p=_.project(pe).sub(d)}const b=_.zoomScale(H-x);let w,D;r.around&&(w=t.LngLat.convert(r.around),D=_.locationPoint(w));const O=this._zooming||H!==x,C=this._rotating||T!==$,z=this._pitching||q!==I,U=!_.isPaddingEqual(ae),W=ce=>pe=>{if(O&&(ce.zoom=t.number(x,H,pe)),C&&(ce.bearing=t.number(T,$,pe)),z&&(ce.pitch=t.number(I,q,pe)),U&&(ce.interpolatePadding(R,ae,pe),l=ce.centerPoint.add(a)),w)ce.setLocationAtPoint(w,D);else{const ve=ce.zoomScale(ce.zoom-x),ge=H>x?Math.min(2,b):Math.max(.5,b),Ee=Math.pow(ge,1-pe),Re=ce.unproject(d.add(p.mult(pe*Ee)).mult(ve));ce.setLocationAtPoint(ce.renderWorldCopies?Re.wrap():Re,l)}return r.preloadOnly||this._fireMoveEvents(c),ce};if(r.preloadOnly){const ce=this._emulate(W,r.duration,_);return this._preloadTiles(ce),this}const ie={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=O,this._rotating=C,this._pitching=z,this._padding=U,this._easeId=r.easeId,this._prepareEase(c,r.noMoveStart,ie),this._ease(W(_),ce=>{_.recenterOnTerrain(),this._afterEase(c,ce)},r),this}_prepareEase(r,c,_={}){this._moving=!0,this.transform.cameraElevationReference="sea",c||_.moving||this.fire(new t.Event("movestart",r)),this._zooming&&!_.zooming&&this.fire(new t.Event("zoomstart",r)),this._rotating&&!_.rotating&&this.fire(new t.Event("rotatestart",r)),this._pitching&&!_.pitching&&this.fire(new t.Event("pitchstart",r))}_fireMoveEvents(r){this.fire(new t.Event("move",r)),this._zooming&&this.fire(new t.Event("zoom",r)),this._rotating&&this.fire(new t.Event("rotate",r)),this._pitching&&this.fire(new t.Event("pitch",r))}_afterEase(r,c){if(this._easeId&&c&&this._easeId===c)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const _=this._zooming,x=this._rotating,T=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,_&&this.fire(new t.Event("zoomend",r)),x&&this.fire(new t.Event("rotateend",r)),T&&this.fire(new t.Event("pitchend",r)),this.fire(new t.Event("moveend",r))}flyTo(r,c){if(this._prefersReducedMotion(r)){const tt=t.pick(r,["center","zoom","bearing","pitch","around"]);return this.jumpTo(tt,c)}this.stop(),r=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},r);const _=this.transform,x=this.getZoom(),T=this.getBearing(),I=this.getPitch(),R=this.getPadding(),H="zoom"in r?t.clamp(+r.zoom,_.minZoom,_.maxZoom):x,$="bearing"in r?this._normalizeBearing(r.bearing,T):T,q="pitch"in r?+r.pitch:I,ae="padding"in r?r.padding:_.padding,a=_.zoomScale(H-x),l=t.Point.convert(r.offset);let d=_.centerPoint.add(l);const p=_.pointLocation(d),b=t.LngLat.convert(r.center||p);this._normalizeCenter(b);const w=_.project(p),D=_.project(b).sub(w);let O=r.curve;const C=Math.max(_.width,_.height),z=C/a,U=D.mag();if("minZoom"in r){const tt=t.clamp(Math.min(r.minZoom,x,H),_.minZoom,_.maxZoom),ot=C/_.zoomScale(tt-x);O=Math.sqrt(ot/U*2)}const W=O*O;function ie(tt){const ot=(z*z-C*C+(tt?-1:1)*W*W*U*U)/(2*(tt?z:C)*W*U);return Math.log(Math.sqrt(ot*ot+1)-ot)}function ce(tt){return(Math.exp(tt)-Math.exp(-tt))/2}function pe(tt){return(Math.exp(tt)+Math.exp(-tt))/2}const ve=ie(0);let ge=function(tt){return pe(ve)/pe(ve+O*tt)},Ee=function(tt){return C*((pe(ve)*(ce(ot=ve+O*tt)/pe(ot))-ce(ve))/W)/U;var ot},Re=(ie(1)-ve)/O;if(Math.abs(U)<1e-6||!isFinite(Re)){if(Math.abs(C-z)<1e-6)return this.easeTo(r,c);const tt=z<C?-1:1;Re=Math.abs(Math.log(z/C))/O,Ee=function(){return 0},ge=function(ot){return Math.exp(tt*O*ot)}}r.duration="duration"in r?+r.duration:1e3*Re/("screenSpeed"in r?+r.screenSpeed/O:+r.speed),r.maxDuration&&r.duration>r.maxDuration&&(r.duration=0);const Ze=T!==$,je=q!==I,Ge=!_.isPaddingEqual(ae),lt=tt=>ot=>{const Et=ot*Re,Vt=1/ge(Et);tt.zoom=1===ot?H:x+tt.scaleZoom(Vt),Ze&&(tt.bearing=t.number(T,$,ot)),je&&(tt.pitch=t.number(I,q,ot)),Ge&&(tt.interpolatePadding(R,ae,ot),d=tt.centerPoint.add(l));const It=1===ot?b:tt.unproject(w.add(D.mult(Ee(Et))).mult(Vt));return tt.setLocationAtPoint(tt.renderWorldCopies?It.wrap():It,d),tt._updateCameraOnTerrain(),r.preloadOnly||this._fireMoveEvents(c),tt};if(r.preloadOnly){const tt=this._emulate(lt,r.duration,_);return this._preloadTiles(tt),this}return this._zooming=!0,this._rotating=Ze,this._pitching=je,this._padding=Ge,this._prepareEase(c,!1),this._ease(lt(_),()=>this._afterEase(c),r),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(r,c){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const _=this._onEaseEnd;this._onEaseEnd=void 0,_.call(this,c)}if(!r){const _=this.handlers;_&&_.stop(!1)}return this}_ease(r,c,_){!1===_.animate||0===_.duration?(r(1),c()):(this._easeStart=t.exported.now(),this._easeOptions=_,this._onEaseFrame=r,this._onEaseEnd=c,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const r=Math.min((t.exported.now()-this._easeStart)/this._easeOptions.duration,1),c=this._onEaseFrame;c&&c(this._easeOptions.easing(r)),r<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(r,c){r=t.wrap(r,-180,180);const _=Math.abs(r-c);return Math.abs(r-360-c)<_&&(r-=360),Math.abs(r+360-c)<_&&(r+=360),r}_normalizeCenter(r){const c=this.transform;if(!c.renderWorldCopies||c.maxBounds)return;const _=r.lng-c.center.lng;r.lng+=_>180?-360:_<-180?360:0}_prefersReducedMotion(r){return this._respectPrefersReducedMotion&&t.exported.prefersReducedMotion&&!(r&&r.essential)}_emulate(r,c,_){const x=Math.ceil(15*c/1e3),T=[],I=r(_.clone());for(let R=0;R<=x;R++){const H=I(R/x);T.push(H.clone())}return T}}class Bt{constructor(r={}){this.options=r,t.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(r){const c=this.options&&this.options.compact;return this._map=r,this._container=ye("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=ye("button","mapboxgl-ctrl-attrib-button",this._container),ye("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=ye("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),c&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===c&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(r,c){const _=this._map._getUIString(`AttributionControl.${c}`);r.setAttribute("aria-label",_),r.removeAttribute("title"),r.firstElementChild&&r.firstElementChild.setAttribute("title",_)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let r=this._editLink;r||(r=this._editLink=this._container.querySelector(".mapbox-improve-map"));const c=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(r){const _=c.reduce((x,T,I)=>(T.value&&(x+=`${T.key}=${T.value}${I<c.length-1?"&":""}`),x),"?");r.href=`${t.config.FEEDBACK_URL}/${_}#${G(this._map,!0)}`,r.rel="noopener nofollow",this._setElementTitle(r,"MapFeedback")}}_updateData(r){!r||"metadata"!==r.sourceDataType&&"visibility"!==r.sourceDataType&&"style"!==r.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let r=[];if(this._map.style.stylesheet){const x=this._map.style.stylesheet;this.styleOwner=x.owner,this.styleId=x.id}const c=this._map.style._sourceCaches;for(const x in c){const T=c[x];if(T.used){const I=T.getSource();I.attribution&&r.indexOf(I.attribution)<0&&r.push(I.attribution)}}r.sort((x,T)=>x.length-T.length),r=r.filter((x,T)=>{for(let I=T+1;I<r.length;I++)if(r[I].indexOf(x)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?r=[...this.options.customAttribution,...r]:r.unshift(this.options.customAttribution));const _=r.join(" | ");_!==this._attribHTML&&(this._attribHTML=_,r.length?(this._innerContainer.innerHTML=_,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class fc{constructor(){t.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(r){this._map=r,this._container=ye("div","mapboxgl-ctrl");const c=ye("a","mapboxgl-ctrl-logo");return c.target="_blank",c.rel="noopener nofollow",c.href="https://www.mapbox.com/",c.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),c.setAttribute("rel","noopener nofollow"),this._container.appendChild(c),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(r){r&&"metadata"!==r.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const r=this._map.style._sourceCaches;if(0===Object.entries(r).length)return!0;for(const c in r){const _=r[c].getSource();if(_.hasOwnProperty("mapbox_logo")&&!_.mapbox_logo)return!1}return!0}_updateCompact(){const r=this._container.children;if(r.length){const c=r[0];this._map.getCanvasContainer().offsetWidth<250?c.classList.add("mapboxgl-compact"):c.classList.remove("mapboxgl-compact")}}}class mc{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(r){const c=++this._id;return this._queue.push({callback:r,id:c,cancelled:!1}),c}remove(r){const c=this._currentlyRunning,_=c?this._queue.concat(c):this._queue;for(const x of _)if(x.id===r)return void(x.cancelled=!0)}run(r=0){const c=this._currentlyRunning=this._queue;this._queue=[];for(const _ of c)if(!_.cancelled&&(_.callback(r),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function nl(h,r,c){if(h=new t.LngLat(h.lng,h.lat),r){const _=new t.LngLat(h.lng-360,h.lat),x=new t.LngLat(h.lng+360,h.lat),T=360*Math.ceil(Math.abs(h.lng-c.center.lng)/360),I=c.locationPoint(h).distSqr(r),R=r.x<0||r.y<0||r.x>c.width||r.y>c.height;c.locationPoint(_).distSqr(r)<I&&(R||Math.abs(_.lng-c.center.lng)<T)?h=_:c.locationPoint(x).distSqr(r)<I&&(R||Math.abs(x.lng-c.center.lng)<T)&&(h=x)}for(;Math.abs(h.lng-c.center.lng)>180;){const _=c.locationPoint(h);if(_.x>=0&&_.y>=0&&_.x<=c.width&&_.y<=c.height)break;h.lng>c.center.lng?h.lng-=360:h.lng+=360}return h}const Qr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Rt extends t.Evented{constructor(r,c){if(super(),(r instanceof t.window.HTMLElement||c)&&(r=t.extend({element:r},c)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=r&&r.occludedOpacity||.2,r&&r.element)this._element=r.element,this._offset=t.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=ye("div");const x=41,T=27,I=Fe("svg",{display:"block",height:x*this._scale+"px",width:T*this._scale+"px",viewBox:`0 0 ${T} ${x}`},this._element),R=Fe("radialGradient",{id:"shadowGradient"},Fe("defs",{},I));Fe("stop",{offset:"10%","stop-opacity":.4},R),Fe("stop",{offset:"100%","stop-opacity":.05},R),Fe("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},I),Fe("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},I),Fe("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},I),Fe("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},I),this._offset=t.Point.convert(r&&r.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",x=>{x.preventDefault()}),this._element.addEventListener("mousedown",x=>{x.preventDefault()});const _=this._element.classList;for(const x in Qr)_.remove(`mapboxgl-marker-anchor-${x}`);_.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(r){return r===this._map||(this.remove(),this._map=r,r.getCanvasContainer().appendChild(this._element),r.on("move",this._updateMoving),r.on("moveend",this._update),r.on("remove",this._clearFadeTimer),r._addMarker(this),this.setDraggable(this._draggable),this._update(),r.on("click",this._onMapClick)),this}remove(){const r=this._map;return r&&(r.off("click",this._onMapClick),r.off("move",this._updateMoving),r.off("moveend",this._update),r.off("mousedown",this._addDragHandler),r.off("touchstart",this._addDragHandler),r.off("mouseup",this._onUp),r.off("touchend",this._onUp),r.off("mousemove",this._onMove),r.off("touchmove",this._onMove),r.off("remove",this._clearFadeTimer),r._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(r){return this._lngLat=t.LngLat.convert(r),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(r){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),r){if(!("offset"in r.options)){const x=Math.sqrt(Math.pow(13.5,2)/2);r.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[x,-1*(24.6+x)],"bottom-right":[-x,-1*(24.6+x)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=r,r._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(r){const c=r.code,_=r.charCode||r.keyCode;"Space"!==c&&"Enter"!==c&&32!==_&&13!==_||this.togglePopup()}_onMapClick(r){const c=r.originalEvent.target,_=this._element;this._popup&&(c===_||_.contains(c))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const r=this._popup;return r?(r.isOpen()?(r.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(r.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const r=this._map,c=this._pos;if(!r||!c)return!1;const _=r.unproject(c),x=r.getFreeCameraOptions();if(!x.position)return!1;const T=x.position.toLngLat();return T.distanceTo(_)<.9*T.distanceTo(this._lngLat)}_evaluateOpacity(){const r=this._map;if(!r)return;const c=this._pos;if(!c||c.x<0||c.x>r.transform.width||c.y<0||c.y>r.transform.height)return void this._clearFadeTimer();const _=r.unproject(c);let x;r._showingGlobe()&&t.isLngLatBehindGlobe(r.transform,this._lngLat)?x=0:(x=1-r._queryFogOpacity(_),r.transform._terrainEnabled()&&r.getTerrain()&&this._behindTerrain()&&(x*=this._occludedOpacity)),this._element.style.opacity=`${x}`,this._element.style.pointerEvents=x>0?"auto":"none",this._popup&&this._popup._setOpacity(x),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const r=this._pos;if(!r||!this._map)return;const c=this._offset.mult(this._scale);this._element.style.transform=`\n            translate(${r.x}px,${r.y}px)\n            ${Qr[this._anchor]}\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\n            translate(${c.x}px,${c.y}px)\n        `}_calculateXYTransform(){const r=this._pos,c=this._map,_=this.getPitchAlignment();if(!c||!r||"map"!==_)return"";if(!c._showingGlobe()){const H=c.getPitch();return H?`rotateX(${H}deg)`:""}const x=t.radToDeg(t.globeTiltAtLngLat(c.transform,this._lngLat)),T=r.sub(t.globeCenterToScreenPoint(c.transform)),I=Math.abs(T.x)+Math.abs(T.y);if(0===I)return"";const R=x/I;return`rotateX(${-T.y*R}deg) rotateY(${T.x*R}deg)`}_calculateZTransform(){const r=this._pos,c=this._map;if(!c||!r)return"";let _=0;const x=this.getRotationAlignment();if("map"===x)if(c._showingGlobe()){const T=c.project(new t.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),I=c.project(new t.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(T);_=t.radToDeg(Math.atan2(I.y,I.x))-90}else _=-c.getBearing();else if("horizon"===x){const T=t.smoothstep(4,6,c.getZoom()),I=t.globeCenterToScreenPoint(c.transform);I.y+=T*c.transform.height;const R=r.sub(I),H=t.radToDeg(Math.atan2(R.y,R.x));_=(H>90?H-270:H+90)*(1-T)}return _+=this._rotation,_?`rotateZ(${_}deg)`:""}_update(r){t.window.cancelAnimationFrame(this._updateFrameId);const c=this._map;c&&(c.transform.renderWorldCopies&&(this._lngLat=nl(this._lngLat,this._pos,c.transform)),this._pos=c.project(this._lngLat),!0===r?this._updateFrameId=t.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),c._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(c._showingGlobe()||c.getTerrain()||c.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(r){return this._offset=t.Point.convert(r),this._update(),this}_onMove(r){const c=this._map;if(!c)return;const _=this._pointerdownPos,x=this._positionDelta;if(_&&x){if(!this._isDragging){const T=this._clickTolerance||c._clickTolerance;if(r.point.dist(_)<T)return;this._isDragging=!0}this._pos=r.point.sub(x),this._lngLat=c.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const r=this._map;r&&(r.off("mousemove",this._onMove),r.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"}_addDragHandler(r){const c=this._map,_=this._pos;c&&_&&this._element.contains(r.originalEvent.target)&&(r.preventDefault(),this._positionDelta=r.point.sub(_),this._pointerdownPos=r.point,this._state="pending",c.on("mousemove",this._onMove),c.on("touchmove",this._onMove),c.once("mouseup",this._onUp),c.once("touchend",this._onUp))}setDraggable(r){this._draggable=!!r;const c=this._map;return c&&(r?(c.on("mousedown",this._addDragHandler),c.on("touchstart",this._addDragHandler)):(c.off("mousedown",this._addDragHandler),c.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(r){return this._rotation=r||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(r){return this._rotationAlignment=r||"auto",this._update(),this}getRotationAlignment(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(r){return this._pitchAlignment=r||"auto",this._update(),this}getPitchAlignment(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(r){return this._occludedOpacity=r||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const _c={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},cu=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Yc(h=new t.Point(0,0),r="bottom"){if("number"==typeof h){const c=Math.round(Math.sqrt(.5*Math.pow(h,2)));switch(r){case"top":return new t.Point(0,h);case"top-left":return new t.Point(c,c);case"top-right":return new t.Point(-c,c);case"bottom":return new t.Point(0,-h);case"bottom-left":return new t.Point(c,-c);case"bottom-right":return new t.Point(-c,-c);case"left":return new t.Point(h,0);case"right":return new t.Point(-h,0)}return new t.Point(0,0)}return h instanceof t.Point||Array.isArray(h)?t.Point.convert(h):t.Point.convert(h[r]||[0,0])}class At{constructor(r){this.jumpTo(r)}getValue(r){if(r<=this._startTime)return this._start;if(r>=this._endTime)return this._end;const c=t.easeCubicInOut((r-this._startTime)/(this._endTime-this._startTime));return this._start*(1-c)+this._end*c}isEasing(r){return r>=this._startTime&&r<=this._endTime}jumpTo(r){this._startTime=-1/0,this._endTime=-1/0,this._start=r,this._end=r}easeTo(r,c,_){this._start=this.getValue(c),this._end=r,this._startTime=c,this._endTime=c+_}}const gc={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},zc={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},yc={showCompass:!0,showZoom:!0,visualizePitch:!1};class nn{constructor(r,c,_=!1){this._clickTolerance=10,this.element=c,this.mouseRotate=new oo({clickTolerance:r.dragRotate._mouseRotate._clickTolerance}),this.map=r,_&&(this.mousePitch=new Vl({clickTolerance:r.dragRotate._mousePitch._clickTolerance})),t.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),c.addEventListener("mousedown",this.mousedown),c.addEventListener("touchstart",this.touchstart,{passive:!1}),c.addEventListener("touchmove",this.touchmove),c.addEventListener("touchend",this.touchend),c.addEventListener("touchcancel",this.reset)}down(r,c){this.mouseRotate.mousedown(r,c),this.mousePitch&&this.mousePitch.mousedown(r,c),Mt()}move(r,c){const _=this.map,x=this.mouseRotate.mousemoveWindow(r,c),T=x&&x.bearingDelta;if(T&&_.setBearing(_.getBearing()+T),this.mousePitch){const I=this.mousePitch.mousemoveWindow(r,c),R=I&&I.pitchDelta;R&&_.setPitch(_.getPitch()+R)}}off(){const r=this.element;r.removeEventListener("mousedown",this.mousedown),r.removeEventListener("touchstart",this.touchstart,{passive:!1}),r.removeEventListener("touchmove",this.touchmove),r.removeEventListener("touchend",this.touchend),r.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){qe(),t.window.removeEventListener("mousemove",this.mousemove),t.window.removeEventListener("mouseup",this.mouseup)}mousedown(r){this.down(t.extend({},r,{ctrlKey:!0,preventDefault:()=>r.preventDefault()}),yt(this.element,r)),t.window.addEventListener("mousemove",this.mousemove),t.window.addEventListener("mouseup",this.mouseup)}mousemove(r){this.move(r,yt(this.element,r))}mouseup(r){this.mouseRotate.mouseupWindow(r),this.mousePitch&&this.mousePitch.mouseupWindow(r),this.offTemp()}touchstart(r){1!==r.targetTouches.length?this.reset():(this._startPos=this._lastPos=Ke(this.element,r.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>r.preventDefault()},this._startPos))}touchmove(r){1!==r.targetTouches.length?this.reset():(this._lastPos=Ke(this.element,r.targetTouches)[0],this.move({preventDefault:()=>r.preventDefault()},this._lastPos))}touchend(r){0===r.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const ua={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Ja={maxWidth:100,unit:"metric"},Eo={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},Ao={version:t.version,supported:J,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:class extends Gl{constructor(h){if(t.LivePerformanceUtils.mark(t.PerformanceMarkers.create),null!=(h=t.extend({},zc,h)).minZoom&&null!=h.maxZoom&&h.minZoom>h.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=h.minPitch&&null!=h.maxPitch&&h.minPitch>h.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=h.minPitch&&h.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=h.maxPitch&&h.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(h.antialias&&t.isSafariWithAntialiasingBug(t.window)&&(h.antialias=!1,t.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new js(h.minZoom,h.maxZoom,h.minPitch,h.maxPitch,h.renderWorldCopies),h),this._interactive=h.interactive,this._minTileCacheSize=h.minTileCacheSize,this._maxTileCacheSize=h.maxTileCacheSize,this._failIfMajorPerformanceCaveat=h.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=h.preserveDrawingBuffer,this._antialias=h.antialias,this._useWebGL2=h.useWebGL2,this._trackResize=h.trackResize,this._bearingSnap=h.bearingSnap,this._refreshExpiredTiles=h.refreshExpiredTiles,this._fadeDuration=h.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=h.crossSourceCollisions,this._collectResourceTiming=h.collectResourceTiming,this._optimizeForTerrain=h.optimizeForTerrain,this._language=this._parseLanguage(h.language),this._worldview=h.worldview,this._renderTaskQueue=new mc,this._domRenderTaskQueue=new mc,this._controls=[],this._markers=[],this._popups=[],this._mapId=t.uniqueId(),this._locale=t.extend({},gc,h.locale),this._clickTolerance=h.clickTolerance,this._cooperativeGestures=h.cooperativeGestures,this._performanceMetricsCollection=h.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new At(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new t.RequestManager(h.transformRequest,h.accessToken,h.testMode),this._silenceAuthErrors=!!h.testMode,"string"==typeof h.container){if(this._container=t.window.document.getElementById(h.container),!this._container)throw new Error(`Container '${h.container}' not found.`)}else{if(!(h.container instanceof t.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=h.container}if(this._container.childNodes.length>0&&t.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),h.maxBounds&&this.setMaxBounds(h.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1),t.window.addEventListener("orientationchange",this._onWindowResize,!1),t.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),t.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Xa(this,h),this._localFontFamily=h.localFontFamily,this._localIdeographFontFamily=h.localIdeographFontFamily,h.style&&this.setStyle(h.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),h.projection&&this.setProjection(h.projection),this._hash=h.hash&&new N("string"==typeof h.hash&&h.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:h.center,zoom:h.zoom,bearing:h.bearing,pitch:h.pitch}),h.bounds&&(this.resize(),this.fitBounds(h.bounds,t.extend({},h.fitBoundsOptions,{duration:0})))),this.resize(),h.attributionControl&&this.addControl(new Bt({customAttribution:h.customAttribution})),this._logoControl=new fc,this.addControl(this._logoControl,h.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",r=>{this._update("style"===r.dataType),this.fire(new t.Event(`${r.dataType}data`,r))}),this.on("dataloading",r=>{this.fire(new t.Event(`${r.dataType}dataloading`,r))})}_getMapId(){return this._mapId}addControl(h,r){if(void 0===r&&(r=h.getDefaultPosition?h.getDefaultPosition():"top-right"),!h||!h.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const c=h.onAdd(this);this._controls.push(h);const _=this._controlPositions[r];return-1!==r.indexOf("bottom")?_.insertBefore(c,_.firstChild):_.appendChild(c),this}removeControl(h){if(!h||!h.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const r=this._controls.indexOf(h);return r>-1&&this._controls.splice(r,1),h.onRemove(this),this}hasControl(h){return this._controls.indexOf(h)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(h){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const r=!this._moving;return r&&this.fire(new t.Event("movestart",h)).fire(new t.Event("move",h)),this.fire(new t.Event("resize",h)),r&&this.fire(new t.Event("moveend",h)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(h){return this.transform.setMaxBounds(t.LngLatBounds.convert(h)),this._update()}setMinZoom(h){if((h=null==h?-2:h)>=-2&&h<=this.transform.maxZoom)return this.transform.minZoom=h,this._update(),this.getZoom()<h?this.setZoom(h):this.fire(new t.Event("zoomstart")).fire(new t.Event("zoom")).fire(new t.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(h){if((h=null==h?22:h)>=this.transform.minZoom)return this.transform.maxZoom=h,this._update(),this.getZoom()>h?this.setZoom(h):this.fire(new t.Event("zoomstart")).fire(new t.Event("zoom")).fire(new t.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(h){if((h=null==h?0:h)<0)throw new Error("minPitch must be greater than or equal to 0");if(h>=0&&h<=this.transform.maxPitch)return this.transform.minPitch=h,this._update(),this.getPitch()<h?this.setPitch(h):this.fire(new t.Event("pitchstart")).fire(new t.Event("pitch")).fire(new t.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(h){if((h=null==h?85:h)>85)throw new Error("maxPitch must be less than or equal to 85");if(h>=this.transform.minPitch)return this.transform.maxPitch=h,this._update(),this.getPitch()>h?this.setPitch(h):this.fire(new t.Event("pitchstart")).fire(new t.Event("pitch")).fire(new t.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(h){return this.transform.renderWorldCopies=h,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(h){return"auto"===h?t.window.navigator.language:Array.isArray(h)?0===h.length?void 0:h.map(r=>"auto"===r?t.window.navigator.language:r):h}setLanguage(h){const r=this._parseLanguage(h);if(!this.style||r===this._language)return this;this._language=r,this.style._reloadSources();for(const c of this._controls)c._setLanguage&&c._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(h){return this.style&&h!==this._worldview?(this._worldview=h,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return"globe"===this.transform.projection.name}setProjection(h){return this._lazyInitEmptyStyle(),h?"string"==typeof h&&(h={name:h}):h=null,this._useExplicitProjection=!!h,this._prioritizeAndUpdateProjection(h,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if("globe"!==this.getProjection().name)return;const h=this.transform,r=h.projection.name;let c;"globe"===r&&h.zoom>=t.GLOBE_ZOOM_THRESHOLD_MAX?(h.setMercatorFromTransition(),c=!0):"mercator"===r&&h.zoom<t.GLOBE_ZOOM_THRESHOLD_MAX&&(h.setProjection({name:"globe"}),c=!0),c&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(h,r){return this._updateProjection(h||r||{name:"mercator"})}_updateProjection(h){let r;if(r="globe"===h.name&&this.transform.zoom>=t.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(h),this.style.applyProjectionUpdate(),r){this.painter.clearBackgroundTiles();for(const c in this.style._sourceCaches)this.style._sourceCaches[c].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(h){return this.transform.locationPoint3D(t.LngLat.convert(h))}unproject(h){return this.transform.pointLocation3D(t.Point.convert(h))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(h,r,c){if("mouseenter"===h||"mouseover"===h){let _=!1;const x=I=>{const R=r.filter($=>this.getLayer($)),H=R.length?this.queryRenderedFeatures(I.point,{layers:R}):[];H.length?_||(_=!0,c.call(this,new un(h,this,I.originalEvent,{features:H}))):_=!1},T=()=>{_=!1};return{layers:new Set(r),listener:c,delegates:{mousemove:x,mouseout:T}}}if("mouseleave"===h||"mouseout"===h){let _=!1;const x=I=>{const R=r.filter(H=>this.getLayer(H));(R.length?this.queryRenderedFeatures(I.point,{layers:R}):[]).length?_=!0:_&&(_=!1,c.call(this,new un(h,this,I.originalEvent)))},T=I=>{_&&(_=!1,c.call(this,new un(h,this,I.originalEvent)))};return{layers:new Set(r),listener:c,delegates:{mousemove:x,mouseout:T}}}{const _=x=>{const T=r.filter(R=>this.getLayer(R)),I=T.length?this.queryRenderedFeatures(x.point,{layers:T}):[];I.length&&(x.features=I,c.call(this,x),delete x.features)};return{layers:new Set(r),listener:c,delegates:{[h]:_}}}}on(h,r,c){if(void 0===c)return super.on(h,r);Array.isArray(r)||(r=[r]);const _=this._createDelegatedListener(h,r,c);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[h]=this._delegatedListeners[h]||[],this._delegatedListeners[h].push(_);for(const x in _.delegates)this.on(x,_.delegates[x]);return this}once(h,r,c){if(void 0===c)return super.once(h,r);Array.isArray(r)||(r=[r]);const _=this._createDelegatedListener(h,r,c);for(const x in _.delegates)this.once(x,_.delegates[x]);return this}off(h,r,c){if(void 0===c)return super.off(h,r);r=new Set(Array.isArray(r)?r:[r]);const _=(T,I)=>{if(T.size!==I.size)return!1;for(const R of T)if(!I.has(R))return!1;return!0},x=this._delegatedListeners?this._delegatedListeners[h]:void 0;return x&&(T=>{for(let I=0;I<T.length;I++){const R=T[I];if(R.listener===c&&_(R.layers,r)){for(const H in R.delegates)this.off(H,R.delegates[H]);return T.splice(I,1),this}}})(x),this}queryRenderedFeatures(h,r){return this.style?(void 0!==r||void 0===h||h instanceof t.Point||Array.isArray(h)||(r=h,h=void 0),this.style.queryRenderedFeatures(h=h||[[0,0],[this.transform.width,this.transform.height]],r=r||{},this.transform)):[]}querySourceFeatures(h,r){return this.style.querySourceFeatures(h,r)}isPointOnSurface(h){const{name:r}=this.transform.projection;return"globe"!==r&&"mercator"!==r&&t.warnOnce(`${r} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(t.Point.convert(h))}setStyle(h,r){return!1!==(r=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},r)).diff&&r.localIdeographFontFamily===this._localIdeographFontFamily&&r.localFontFamily===this._localFontFamily&&this.style&&h?(this._diffStyle(h,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._localFontFamily=r.localFontFamily,this._updateStyle(h,r))}_getUIString(h){const r=this._locale[h];if(null==r)throw new Error(`Missing UI string '${h}'`);return r}_updateStyle(h,r){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),h&&(this.style=new nr(this,r||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof h?this.style.loadURL(h):this.style.loadJSON(h)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new nr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(h,r){if("string"==typeof h){const c=this._requestManager.normalizeStyleURL(h),_=this._requestManager.transformRequest(c,t.ResourceType.Style);t.getJSON(_,(x,T)=>{x?this.fire(new t.ErrorEvent(x)):T&&this._updateDiff(T,r)})}else"object"==typeof h&&this._updateDiff(h,r)}_updateDiff(h,r){try{this.style.setState(h)&&this._update(!0)}catch(c){t.warnOnce(`Unable to perform style diff: ${c.message||c.error||c}.  Rebuilding the style from scratch.`),this._updateStyle(h,r)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(t.warnOnce("There is no style added to the map."),!1)}addSource(h,r){return this._lazyInitEmptyStyle(),this.style.addSource(h,r),this._update(!0)}isSourceLoaded(h){return!!this.style&&this.style._isSourceCacheLoaded(h)}areTilesLoaded(){const h=this.style&&this.style._sourceCaches;for(const r in h){const c=h[r]._tiles;for(const _ in c){const x=c[_];if("loaded"!==x.state&&"errored"!==x.state)return!1}}return!0}addSourceType(h,r,c){this._lazyInitEmptyStyle(),this.style.addSourceType(h,r,c)}removeSource(h){return this.style.removeSource(h),this._updateTerrain(),this._update(!0)}getSource(h){return this.style.getSource(h)}addImage(h,r,{pixelRatio:c=1,sdf:_=!1,stretchX:x,stretchY:T,content:I}={}){if(this._lazyInitEmptyStyle(),r instanceof t.window.HTMLImageElement||t.window.ImageBitmap&&r instanceof t.window.ImageBitmap){const{width:R,height:H,data:$}=t.exported.getImageData(r);this.style.addImage(h,{data:new t.RGBAImage({width:R,height:H},$),pixelRatio:c,stretchX:x,stretchY:T,content:I,sdf:_,version:0})}else if(void 0===r.width||void 0===r.height)this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:R,height:H}=r,$=r;this.style.addImage(h,{data:new t.RGBAImage({width:R,height:H},new Uint8Array($.data)),pixelRatio:c,stretchX:x,stretchY:T,content:I,sdf:_,version:0,userImage:$}),$.onAdd&&$.onAdd(this,h)}}updateImage(h,r){const c=this.style.getImage(h);if(!c)return void this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const _=r instanceof t.window.HTMLImageElement||t.window.ImageBitmap&&r instanceof t.window.ImageBitmap?t.exported.getImageData(r):r,{width:x,height:T}=_;void 0!==x&&void 0!==T?x===c.data.width&&T===c.data.height?(c.data.replace(_.data,!(r instanceof t.window.HTMLImageElement||t.window.ImageBitmap&&r instanceof t.window.ImageBitmap)),this.style.updateImage(h,c)):this.fire(new t.ErrorEvent(new Error(`The width and height of the updated image (${x}, ${T})\n                must be that same as the previous version of the image\n                (${c.data.width}, ${c.data.height})`))):this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(h){return h?!!this.style.getImage(h):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(h){this.style.removeImage(h)}loadImage(h,r){t.getImage(this._requestManager.transformRequest(h,t.ResourceType.Image),(c,_)=>{r(c,_ instanceof t.window.HTMLImageElement?t.exported.getImageData(_):_)})}listImages(){return this.style.listImages()}addLayer(h,r){return this._lazyInitEmptyStyle(),this.style.addLayer(h,r),this._update(!0)}moveLayer(h,r){return this.style.moveLayer(h,r),this._update(!0)}removeLayer(h){return this.style.removeLayer(h),this._update(!0)}getLayer(h){return this.style.getLayer(h)}setLayerZoomRange(h,r,c){return this.style.setLayerZoomRange(h,r,c),this._update(!0)}setFilter(h,r,c={}){return this.style.setFilter(h,r,c),this._update(!0)}getFilter(h){return this.style.getFilter(h)}setPaintProperty(h,r,c,_={}){return this.style.setPaintProperty(h,r,c,_),this._update(!0)}getPaintProperty(h,r){return this.style.getPaintProperty(h,r)}setLayoutProperty(h,r,c,_={}){return this.style.setLayoutProperty(h,r,c,_),this._update(!0)}getLayoutProperty(h,r){return this.style.getLayoutProperty(h,r)}setLight(h,r={}){return this._lazyInitEmptyStyle(),this.style.setLight(h,r),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(h){return this._lazyInitEmptyStyle(),!h&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(h),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(h){return this._lazyInitEmptyStyle(),this.style.setFog(h),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(h){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(t.LngLat.convert(h),this.transform):0}setFeatureState(h,r){return this.style.setFeatureState(h,r),this._update()}removeFeatureState(h,r){return this.style.removeFeatureState(h,r),this._update()}getFeatureState(h){return this.style.getFeatureState(h)}_updateContainerDimensions(){if(!this._container)return;const h=this._container.getBoundingClientRect().width||400,r=this._container.getBoundingClientRect().height||300;let c,_,x,T=this._container;for(;T&&(!_||!x);){const I=t.window.getComputedStyle(T).transform;I&&"none"!==I&&(c=I.match(/matrix.*\((.+)\)/)[1].split(", "),c[0]&&"0"!==c[0]&&"1"!==c[0]&&(_=c[0]),c[3]&&"0"!==c[3]&&"1"!==c[3]&&(x=c[3])),T=T.parentElement}this._containerWidth=_?Math.abs(h/_):h,this._containerHeight=x?Math.abs(r/x):r}_detectMissingCSS(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const h=this._container;h.classList.add("mapboxgl-map"),(this._missingCSSCanary=ye("div","mapboxgl-canary",h)).style.visibility="hidden",this._detectMissingCSS();const r=this._canvasContainer=ye("div","mapboxgl-canvas-container",h);this._interactive&&r.classList.add("mapboxgl-interactive"),this._canvas=ye("canvas","mapboxgl-canvas",r),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const c=this._controlContainer=ye("div","mapboxgl-control-container",h),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(x=>{_[x]=ye("div",`mapboxgl-ctrl-${x}`,c)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(h,r){const c=t.exported.devicePixelRatio||1;this._canvas.width=c*Math.ceil(h),this._canvas.height=c*Math.ceil(r),this._canvas.style.width=`${h}px`,this._canvas.style.height=`${r}px`}_addMarker(h){this._markers.push(h)}_removeMarker(h){const r=this._markers.indexOf(h);-1!==r&&this._markers.splice(r,1)}_addPopup(h){this._popups.push(h)}_removePopup(h){const r=this._popups.indexOf(h);-1!==r&&this._popups.splice(r,1)}_setupPainter(){const h=t.extend({},J.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._useWebGL2&&this._canvas.getContext("webgl2",h),c=r||this._canvas.getContext("webgl",h)||this._canvas.getContext("experimental-webgl",h);c?(this._useWebGL2&&!r&&t.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),t.storeAuthState(c,!0),this.painter=new ca(c,this.transform,!!r),this.on("data",_=>{"source"===_.dataType&&this.painter.setTileLoadedFlag(!0)}),t.exported$1.testSupport(c)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(h){h.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:h}))}_contextRestored(h){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:h}))}_onMapScroll(h){if(h.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(h){return this.style?(this._styleDirty=this._styleDirty||h,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(h){return this._update(),this._renderTaskQueue.add(h)}_cancelRenderFrame(h){this._renderTaskQueue.remove(h)}_requestDomTask(h){!this.loaded()||this.loaded()&&!this.isMoving()?h():this._domRenderTaskQueue.add(h)}_render(h){let r;const c=this.painter.context.extTimerQuery,_=t.exported.now();if(this.listens("gpu-timing-frame")&&(r=c.createQueryEXT(),c.beginQueryEXT(c.TIME_ELAPSED_EXT,r)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],t.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],t.window.performance.now())),this._renderTaskQueue.run(h),this._domRenderTaskQueue.run(h),this._removed)return;this._updateProjectionTransition();const x=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const R=this.transform.zoom,H=this.transform.pitch,$=t.exported.now(),q=new t.EvaluationParameters(R,{now:$,fadeDuration:x,pitch:H,transition:this.style.getTransition()});this.style.update(q)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let T=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),T=this._updateAverageElevation(_),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):T=this._updateAverageElevation(_),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,x,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:x,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),r){const R=t.exported.now()-_;c.endQueryEXT(c.TIME_ELAPSED_EXT,r),setTimeout(()=>{const H=c.getQueryObjectEXT(r,c.QUERY_RESULT_EXT)/1e6;c.deleteQueryEXT(r),this.fire(new t.Event("gpu-timing-frame",{cpuTime:R,gpuTime:H})),t.window.performance.mark("frame-gpu",{startTime:_,detail:{gpuTime:H}})},50)}if(this.listens("gpu-timing-layer")){const R=this.painter.collectGpuTimers();setTimeout(()=>{const H=this.painter.queryGpuTimers(R);this.fire(new t.Event("gpu-timing-layer",{layerTimes:H}))},50)}if(this.listens("gpu-timing-deferred-render")){const R=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const H=this.painter.queryGpuTimeDeferredRender(R);this.fire(new t.Event("gpu-timing-deferred-render",{gpuTime:H}))},50)}const I=this._sourcesDirty||this._styleDirty||this._placementDirty||T;if(I||this._repaint)this.triggerRepaint();else{const R=!this.isMoving()&&this.loaded();if(R&&(T=this._updateAverageElevation(_,!0)),T)this.triggerRepaint();else if(this._triggerFrame(!1),R&&(this.fire(new t.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const H=this._calculateSpeedIndex();this.fire(new t.Event("speedindexcompleted",{speedIndex:H})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||I||(this._fullyLoaded=!0,t.LivePerformanceUtils.mark(t.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&t.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(h){for(const r of this._markers)h&&!this.getRenderWorldCopies()&&(r._lngLat=r._lngLat.wrap()),r._update();for(const r of this._popups)!h||this.getRenderWorldCopies()||r._trackPointer||(r._lngLat=r._lngLat.wrap()),r._update()}_updateAverageElevation(h,r=!1){const c=_=>(this.transform.averageElevation=_,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&c(0);if((r||h-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(h)){const _=this.transform.averageElevation;let x=this.transform.sampleAverageElevation(),T=!1;this.transform.elevation&&(T=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(x)?x=0:this._averageElevationLastSampledAt=h;const I=Math.abs(_-x);if(I>1){if(this._isInitialLoad||T)return this._averageElevation.jumpTo(x),c(x);this._averageElevation.easeTo(x,h,300)}else if(I>1e-4)return this._averageElevation.jumpTo(x),c(x)}return!!this._averageElevation.isEasing(h)&&c(this._averageElevation.getValue(h))}_authenticate(){t.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,h=>{if(h&&(h.message===t.AUTH_ERR_MSG||401===h.status)){const r=this.painter.context.gl;t.storeAuthState(r,!1),this._logoControl instanceof fc&&this._logoControl._updateLogo(),r&&r.clear(r.DEPTH_BUFFER_BIT|r.COLOR_BUFFER_BIT|r.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new t.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),t.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const h=this._isDragging();this.painter.updateTerrain(this.style,h)}_calculateSpeedIndex(){const h=this.painter.canvasCopy(),r=this.painter.getCanvasCopiesAndTimestamps();r.timeStamps.push(performance.now());const c=this.painter.context.gl,_=c.createFramebuffer();function x(T){c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,T,0);const I=new Uint8Array(c.drawingBufferWidth*c.drawingBufferHeight*4);return c.readPixels(0,0,c.drawingBufferWidth,c.drawingBufferHeight,c.RGBA,c.UNSIGNED_BYTE,I),I}return c.bindFramebuffer(c.FRAMEBUFFER,_),this._canvasPixelComparison(x(h),r.canvasCopies.map(x),r.timeStamps)}_canvasPixelComparison(h,r,c){let _=c[1]-c[0];const x=h.length/4;for(let T=0;T<r.length;T++){const I=r[T];let R=0;for(let H=0;H<I.length;H+=4)I[H]===h[H]&&I[H+1]===h[H+1]&&I[H+2]===h[H+2]&&I[H+3]===h[H+3]&&(R+=1);_+=(c[T+2]-c[T+1])*(1-R/x)}return _}remove(){this._hash&&this._hash.remove();for(const r of this._controls)r.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("orientationchange",this._onWindowResize,!1),t.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1),t.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const h=this.painter.context.gl.getExtension("WEBGL_lose_context");h&&h.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),t.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new t.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(h){this._renderNextFrame=this._renderNextFrame||h,this.style&&!this._frame&&(this._frame=t.exported.frame(r=>{const c=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,c&&this._render(r)}))}_preloadTiles(h){const r=this.style?Object.values(this.style._sourceCaches):[];return t.asyncAll(r,(c,_)=>c._preloadTiles(h,_),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(h){this._trackResize&&this.resize({originalEvent:h})._update()}_onVisibilityChange(){"hidden"===t.window.document.visibilityState&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(h){this._showTileBoundaries!==h&&(this._showTileBoundaries=h,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(h){this._showTerrainWireframe!==h&&(this._showTerrainWireframe=h,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(h){this._speedIndexTiming!==h&&(this._speedIndexTiming=h,this._update())}get showPadding(){return!!this._showPadding}set showPadding(h){this._showPadding!==h&&(this._showPadding=h,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(h){this._showCollisionBoxes!==h&&(this._showCollisionBoxes=h,h?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(h){this._showOverdrawInspector!==h&&(this._showOverdrawInspector=h,this._update())}get repaint(){return!!this._repaint}set repaint(h){this._repaint!==h&&(this._repaint=h,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(h){this._vertices=h,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(h){this._showTileAABBs!==h&&(this._showTileAABBs=h,h&&this._update())}_setCacheLimits(h,r){t.setCacheLimits(h,r)}get version(){return t.version}},NavigationControl:class{constructor(h){this.options=t.extend({},yc,h),this._container=ye("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",r=>r.preventDefault()),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",r=>{this._map&&this._map.zoomIn({},{originalEvent:r})}),ye("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",r=>{this._map&&this._map.zoomOut({},{originalEvent:r})}),ye("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",r=>{const c=this._map;c&&(this.options.visualizePitch?c.resetNorthPitch({},{originalEvent:r}):c.resetNorth({},{originalEvent:r}))}),this._compassIcon=ye("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const h=this._map;if(!h)return;const r=h.getZoom(),c=r===h.getMaxZoom(),_=r===h.getMinZoom();this._zoomInButton.disabled=c,this._zoomOutButton.disabled=_,this._zoomInButton.setAttribute("aria-disabled",c.toString()),this._zoomOutButton.setAttribute("aria-disabled",_.toString())}_rotateCompassArrow(){const h=this._map;if(!h)return;const r=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(h.transform.pitch*(Math.PI/180)),.5)}) rotateX(${h.transform.pitch}deg) rotateZ(${h.transform.angle*(180/Math.PI)}deg)`:`rotate(${h.transform.angle*(180/Math.PI)}deg)`;h._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=r)})}onAdd(h){return this._map=h,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),h.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&h.on("pitch",this._rotateCompassArrow),h.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new nn(h,this._compass,this.options.visualizePitch)),this._container}onRemove(){const h=this._map;h&&(this._container.remove(),this.options.showZoom&&h.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&h.off("pitch",this._rotateCompassArrow),h.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(h,r){const c=ye("button",h,this._container);return c.type="button",c.addEventListener("click",r),c}_setButtonTitle(h,r){if(!this._map)return;const c=this._map._getUIString(`NavigationControl.${r}`);h.setAttribute("aria-label",c),h.firstElementChild&&h.firstElementChild.setAttribute("title",c)}},GeolocateControl:class extends t.Evented{constructor(h){super(),this.options=t.extend({geolocation:t.window.navigator.geolocation},ua,h),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=$a(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(h){return this._map=h,this._container=ye("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(h){const r=(c=!!this.options.geolocation)=>{this._supportsGeolocation=c,h(c)};void 0!==this._supportsGeolocation?h(this._supportsGeolocation):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then(c=>r("denied"!==c.state)).catch(()=>r()):r()}_isOutOfMapMaxBounds(h){const r=this._map.getMaxBounds(),c=h.coords;return!!r&&(c.longitude<r.getWest()||c.longitude>r.getEast()||c.latitude<r.getSouth()||c.latitude>r.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(h){if(this._map){if(this._isOutOfMapMaxBounds(h))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",h)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=h,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(h),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(h),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",h)),this._finish()}}_updateCamera(h){const r=new t.LngLat(h.coords.longitude,h.coords.latitude),c=h.coords.accuracy,_=this._map.getBearing(),x=t.extend({bearing:_},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(c),x,{geolocateSource:!0})}_updateMarker(h){if(h){const r=new t.LngLat(h.coords.longitude,h.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=h.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const h=this._map.transform,r=t.mercatorZfromAltitude(1,h._center.lat)*h.worldSize,c=Math.ceil(2*this._accuracy*r);this._circleElement.style.width=`${c}px`,this._circleElement.style.height=`${c}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(h){if(this._map){if(this.options.trackUserLocation)if(1===h.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===h.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",h)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(h){if(void 0!==this._map){if(this._container.addEventListener("contextmenu",r=>r.preventDefault()),this._geolocateButton=ye("button","mapboxgl-ctrl-geolocate",this._container),ye("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===h){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}else{const r=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=ye("div","mapboxgl-user-location"),this._dotElement.appendChild(ye("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(ye("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Rt({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=ye("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Rt({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",r=>{r.geolocateSource||"ACTIVE_LOCK"!==this._watchState||r.originalEvent&&"resize"===r.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new t.Event("trackuserlocationend")))})}}_onDeviceOrientation(h){this._userLocationDotMarker&&(h.webkitCompassHeading?this._heading=h.webkitCompassHeading:!0===h.absolute&&(this._heading=-1*h.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let h;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(h={maximumAge:6e5,timeout:0},this._noTimeout=!0):(h=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,h),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const h=()=>{t.window.addEventListener("ondeviceorientationabsolute"in t.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};void 0!==t.window.DeviceMotionEvent&&"function"==typeof t.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(r=>{"granted"===r&&h()}).catch(console.error):h()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),t.window.removeEventListener("deviceorientation",this._onDeviceOrientation),t.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Bt,ScaleControl:class{constructor(h){this.options=t.extend({},Ja,h),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch(r){return!1}}(),t.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const h=this.options.maxWidth||100,r=this._map,c=r._containerHeight/2,_=r._containerWidth/2-h/2,x=r.unproject([_,c]),T=r.unproject([_+h,c]),I=x.distanceTo(T);if("imperial"===this.options.unit){const R=3.2808*I;R>5280?this._setScale(h,R/5280,"mile"):this._setScale(h,R,"foot")}else"nautical"===this.options.unit?this._setScale(h,I/1852,"nautical-mile"):I>=1e3?this._setScale(h,I/1e3,"kilometer"):this._setScale(h,I,"meter")}_setScale(h,r,c){this._map._requestDomTask(()=>{const _=function(T){const I=Math.pow(10,`${Math.floor(T)}`.length-1);let R=T/I;return R=R>=10?10:R>=5?5:R>=3?3:R>=2?2:R>=1?1:function(H){const $=Math.pow(10,Math.ceil(-Math.log(H)/Math.LN10));return Math.round(H*$)/$}(R),I*R}(r),x=_/r;this._container.innerHTML=this._isNumberFormatSupported&&"nautical-mile"!==c?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:c}).format(_):`${_}&nbsp;${Eo[c]}`,this._container.style.width=h*x+"px"})}onAdd(h){return this._map=h,this._language=h.getLanguage(),this._container=ye("div","mapboxgl-ctrl mapboxgl-ctrl-scale",h.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(h){this._language=h,this._update()}setUnit(h){this.options.unit=h,this._update()}},FullscreenControl:class{constructor(h){this._fullscreen=!1,h&&h.container&&(h.container instanceof t.window.HTMLElement?this._container=h.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in t.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(h){return this._map=h,this._container||(this._container=this._map.getContainer()),this._controlContainer=ye("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!t.window.document.fullscreenEnabled&&!t.window.document.webkitFullscreenEnabled)}_setupUI(){const h=this._fullscreenButton=ye("button","mapboxgl-ctrl-fullscreen",this._controlContainer);ye("span","mapboxgl-ctrl-icon",h).setAttribute("aria-hidden","true"),h.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const h=this._getTitle();this._fullscreenButton.setAttribute("aria-label",h),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",h)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(t.window.document.fullscreenElement||t.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends t.Evented{constructor(h){super(),this.options=t.extend(Object.create(_c),h),t.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(h&&h.className?h.className.trim().split(/\s+/):[])}addTo(h){return this._map&&this.remove(),this._map=h,this.options.closeOnClick&&h.on("preclick",this._onClose),this.options.closeOnMove&&h.on("move",this._onClose),h.on("remove",this.remove),this._update(),h._addPopup(this),this._focusFirstElement(),this._trackPointer?(h.on("mousemove",this._onMouseEvent),h.on("mouseup",this._onMouseEvent),h._canvasContainer.classList.add("mapboxgl-track-pointer")):h.on("move",this._update),this.fire(new t.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const h=this._map;return h&&(h.off("move",this._update),h.off("move",this._onClose),h.off("preclick",this._onClose),h.off("click",this._onClose),h.off("remove",this.remove),h.off("mousemove",this._onMouseEvent),h.off("mouseup",this._onMouseEvent),h.off("drag",this._onMouseEvent),h._canvasContainer&&h._canvasContainer.classList.remove("mapboxgl-track-pointer"),h._removePopup(this),this._map=void 0),this.fire(new t.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(h){this._lngLat=t.LngLat.convert(h),this._pos=null,this._trackPointer=!1,this._update();const r=this._map;return r&&(r.on("move",this._update),r.off("mousemove",this._onMouseEvent),r._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const h=this._map;return h&&(h.off("move",this._update),h.on("mousemove",this._onMouseEvent),h.on("drag",this._onMouseEvent),h._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(h){return this.setDOMContent(t.window.document.createTextNode(h))}setHTML(h){const r=t.window.document.createDocumentFragment(),c=t.window.document.createElement("body");let _;for(c.innerHTML=h;_=c.firstChild,_;)r.appendChild(_);return this.setDOMContent(r)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(h){return this.options.maxWidth=h,this._update(),this}setDOMContent(h){let r=this._content;if(r)for(;r.hasChildNodes();)r.firstChild&&r.removeChild(r.firstChild);else r=this._content=ye("div","mapboxgl-popup-content",this._container||void 0);if(r.appendChild(h),this.options.closeButton){const c=this._closeButton=ye("button","mapboxgl-popup-close-button",r);c.type="button",c.setAttribute("aria-label","Close popup"),c.setAttribute("aria-hidden","true"),c.innerHTML="&#215;",c.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(h){return this._classList.add(h),this._updateClassList(),this}removeClassName(h){return this._classList.delete(h),this._updateClassList(),this}setOffset(h){return this.options.offset=h,this._update(),this}toggleClassName(h){let r;return this._classList.delete(h)?r=!1:(this._classList.add(h),r=!0),this._updateClassList(),r}_onMouseEvent(h){this._update(h.point)}_getAnchor(h){if(this.options.anchor)return this.options.anchor;const r=this._map,c=this._container,_=this._pos;if(!r||!c||!_)return"bottom";const x=c.offsetWidth,T=c.offsetHeight,I=_.x<x/2,R=_.x>r.transform.width-x/2;if(_.y+h<T)return I?"top-left":R?"top-right":"top";if(_.y>r.transform.height-T){if(I)return"bottom-left";if(R)return"bottom-right"}return I?"left":R?"right":"bottom"}_updateClassList(){const h=this._container;if(!h)return;const r=[...this._classList];r.push("mapboxgl-popup"),this._anchor&&r.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&r.push("mapboxgl-popup-track-pointer"),h.className=r.join(" ")}_update(h){const r=this._map,c=this._content;if(!r||!this._lngLat&&!this._trackPointer||!c)return;let _=this._container;if(_||(_=this._container=ye("div","mapboxgl-popup",r.getContainer()),this._tip=ye("div","mapboxgl-popup-tip",_),_.appendChild(c)),this.options.maxWidth&&_.style.maxWidth!==this.options.maxWidth&&(_.style.maxWidth=this.options.maxWidth),r.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=nl(this._lngLat,this._pos,r.transform)),!this._trackPointer||h){const x=this._pos=this._trackPointer&&h?h:r.project(this._lngLat),T=Yc(this.options.offset),I=this._anchor=this._getAnchor(T.y),R=Yc(this.options.offset,I),H=x.add(R).round();r._requestDomTask(()=>{this._container&&I&&(this._container.style.transform=`${Qr[I]} translate(${H.x}px,${H.y}px)`)})}if(!this._marker&&r._showingGlobe()){const x=t.isLngLatBehindGlobe(r.transform,this._lngLat)?0:1;this._setOpacity(x)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const h=this._container.querySelector(cu);h&&h.focus()}_onClose(){this.remove()}_setOpacity(h){this._container&&(this._container.style.opacity=`${h}`),this._content&&(this._content.style.pointerEvents=h?"auto":"none")}},Marker:Rt,Style:nr,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,FreeCameraOptions:ko,Evented:t.Evented,config:t.config,prewarm:function(){mn().acquire(Ti)},clearPrewarmedResources:function(){const h=qi;h&&(h.isPreloaded()&&1===h.numActive()?(h.release(Ti),qi=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(h){t.config.ACCESS_TOKEN=h},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(h){t.config.API_URL=h},get workerCount(){return Zn.workerCount},set workerCount(h){Zn.workerCount=h},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(h){t.config.MAX_PARALLEL_IMAGE_REQUESTS=h},clearStorage(h){t.clearTileCache(h)},workerUrl:"",workerClass:null,setNow:t.exported.setNow,restoreNow:t.exported.restoreNow};return Ao}),te}()},7088:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(Y){return/^nm$/i.test(Y)},meridiem:function(Y,t,P){return Y<12?P?"vm":"VM":P?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(Y){return Y+(1===Y||8===Y||Y>=20?"ste":"de")},week:{dow:1,doy:4}})}(se(5439))},2502:function(ze,Ye,se){!function(te){"use strict";var A=function(Q){return 0===Q?0:1===Q?1:2===Q?2:Q%100>=3&&Q%100<=10?3:Q%100>=11?4:5},Y={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},t=function(Q){return function(oe,ye,Fe,pt){var Te=A(oe),gt=Y[Q][A(oe)];return 2===Te&&(gt=gt[ye?0:1]),gt.replace(/%d/i,oe)}},P=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];te.defineLocale("ar-dz",{months:P,monthsShort:P,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(Q){return"\u0645"===Q},meridiem:function(Q,oe,ye){return Q<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:t("s"),ss:t("s"),m:t("m"),mm:t("m"),h:t("h"),hh:t("h"),d:t("d"),dd:t("d"),M:t("M"),MM:t("M"),y:t("y"),yy:t("y")},postformat:function(Q){return Q.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(se(5439))},128:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(se(5439))},4519:function(ze,Ye,se){!function(te){"use strict";var A={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},Y=function(oe){return 0===oe?0:1===oe?1:2===oe?2:oe%100>=3&&oe%100<=10?3:oe%100>=11?4:5},t={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},P=function(oe){return function(ye,Fe,pt,Te){var gt=Y(ye),Mt=t[oe][Y(ye)];return 2===gt&&(Mt=Mt[Fe?0:1]),Mt.replace(/%d/i,ye)}},J=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];te.defineLocale("ar-ly",{months:J,monthsShort:J,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(oe){return"\u0645"===oe},meridiem:function(oe,ye,Fe){return oe<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:P("s"),ss:P("s"),m:P("m"),mm:P("m"),h:P("h"),hh:P("h"),d:P("d"),dd:P("d"),M:P("M"),MM:P("M"),y:P("y"),yy:P("y")},preparse:function(oe){return oe.replace(/\u060c/g,",")},postformat:function(oe){return oe.replace(/\d/g,function(ye){return A[ye]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(se(5439))},5443:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(se(5439))},7642:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},Y={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};te.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(P){return"\u0645"===P},meridiem:function(P,J,Q){return P<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(P){return P.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(J){return Y[J]}).replace(/\u060c/g,",")},postformat:function(P){return P.replace(/\d/g,function(J){return A[J]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(se(5439))},8592:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(se(5439))},7038:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},Y={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},t=function(ye){return 0===ye?0:1===ye?1:2===ye?2:ye%100>=3&&ye%100<=10?3:ye%100>=11?4:5},P={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},J=function(ye){return function(Fe,pt,Te,gt){var Mt=t(Fe),qe=P[ye][t(Fe)];return 2===Mt&&(qe=qe[pt?0:1]),qe.replace(/%d/i,Fe)}},Q=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];te.defineLocale("ar",{months:Q,monthsShort:Q,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(ye){return"\u0645"===ye},meridiem:function(ye,Fe,pt){return ye<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:J("s"),ss:J("s"),m:J("m"),mm:J("m"),h:J("h"),hh:J("h"),d:J("d"),dd:J("d"),M:J("M"),MM:J("M"),y:J("y"),yy:J("y")},preparse:function(ye){return ye.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(Fe){return Y[Fe]}).replace(/\u060c/g,",")},postformat:function(ye){return ye.replace(/\d/g,function(Fe){return A[Fe]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(se(5439))},1213:function(ze,Ye,se){!function(te){"use strict";var A={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};te.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(t){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(t)},meridiem:function(t,P,J){return t<4?"gec\u0259":t<12?"s\u0259h\u0259r":t<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(t){if(0===t)return t+"-\u0131nc\u0131";var P=t%10;return t+(A[P]||A[t%100-P]||A[t>=100?100:null])},week:{dow:1,doy:7}})}(se(5439))},9191:function(ze,Ye,se){!function(te){"use strict";function Y(P,J,Q){return"m"===Q?J?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===Q?J?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":P+" "+function A(P,J){var Q=P.split("_");return J%10==1&&J%100!=11?Q[0]:J%10>=2&&J%10<=4&&(J%100<10||J%100>=20)?Q[1]:Q[2]}({ss:J?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:J?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:J?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[Q],+P)}te.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:Y,mm:Y,h:Y,hh:Y,d:"\u0434\u0437\u0435\u043d\u044c",dd:Y,M:"\u043c\u0435\u0441\u044f\u0446",MM:Y,y:"\u0433\u043e\u0434",yy:Y},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(P){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(P)},meridiem:function(P,J,Q){return P<4?"\u043d\u043e\u0447\u044b":P<12?"\u0440\u0430\u043d\u0456\u0446\u044b":P<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(P,J){switch(J){case"M":case"d":case"DDD":case"w":case"W":return P%10!=2&&P%10!=3||P%100==12||P%100==13?P+"-\u044b":P+"-\u0456";case"D":return P+"-\u0433\u0430";default:return P}},week:{dow:1,doy:7}})}(se(5439))},322:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(Y){var t=Y%10,P=Y%100;return 0===Y?Y+"-\u0435\u0432":0===P?Y+"-\u0435\u043d":P>10&&P<20?Y+"-\u0442\u0438":1===t?Y+"-\u0432\u0438":2===t?Y+"-\u0440\u0438":7===t||8===t?Y+"-\u043c\u0438":Y+"-\u0442\u0438"},week:{dow:1,doy:7}})}(se(5439))},8042:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(se(5439))},5903:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},Y={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};te.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(P){return P.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(J){return Y[J]})},postformat:function(P){return P.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(P,J){return 12===P&&(P=0),"\u09b0\u09be\u09a4"===J?P<4?P:P+12:"\u09ad\u09cb\u09b0"===J||"\u09b8\u0995\u09be\u09b2"===J?P:"\u09a6\u09c1\u09aa\u09c1\u09b0"===J?P>=3?P:P+12:"\u09ac\u09bf\u0995\u09be\u09b2"===J||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===J?P+12:void 0},meridiem:function(P,J,Q){return P<4?"\u09b0\u09be\u09a4":P<6?"\u09ad\u09cb\u09b0":P<12?"\u09b8\u0995\u09be\u09b2":P<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":P<18?"\u09ac\u09bf\u0995\u09be\u09b2":P<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(se(5439))},9620:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},Y={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};te.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(P){return P.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(J){return Y[J]})},postformat:function(P){return P.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(P,J){return 12===P&&(P=0),"\u09b0\u09be\u09a4"===J&&P>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===J&&P<5||"\u09ac\u09bf\u0995\u09be\u09b2"===J?P+12:P},meridiem:function(P,J,Q){return P<4?"\u09b0\u09be\u09a4":P<10?"\u09b8\u0995\u09be\u09b2":P<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":P<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(se(5439))},9645:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},Y={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};te.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(P){return P.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(J){return Y[J]})},postformat:function(P){return P.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(P,J){return 12===P&&(P=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===J&&P>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===J&&P<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===J?P+12:P},meridiem:function(P,J,Q){return P<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":P<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":P<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":P<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(se(5439))},5020:function(ze,Ye,se){!function(te){"use strict";function A(qe,Me,Je){return qe+" "+function P(qe,Me){return 2===Me?function J(qe){var Me={m:"v",b:"v",d:"z"};return void 0===Me[qe.charAt(0)]?qe:Me[qe.charAt(0)]+qe.substring(1)}(qe):qe}({mm:"munutenn",MM:"miz",dd:"devezh"}[Je],qe)}function t(qe){return qe>9?t(qe%10):qe}var Q=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],oe=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,gt=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];te.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:gt,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:gt,monthsRegex:oe,monthsShortRegex:oe,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:Q,longMonthsParse:Q,shortMonthsParse:Q,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:A,h:"un eur",hh:"%d eur",d:"un devezh",dd:A,M:"ur miz",MM:A,y:"ur bloaz",yy:function Y(qe){switch(t(qe)){case 1:case 3:case 4:case 5:case 9:return qe+" bloaz";default:return qe+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(qe){return qe+(1===qe?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(qe){return"g.m."===qe},meridiem:function(qe,Me,Je){return qe<12?"a.m.":"g.m."}})}(se(5439))},4792:function(ze,Ye,se){!function(te){"use strict";function A(t,P,J){var Q=t+" ";switch(J){case"ss":return Q+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return P?"jedna minuta":"jedne minute";case"mm":return Q+(1===t?"minuta":2===t||3===t||4===t?"minute":"minuta");case"h":return P?"jedan sat":"jednog sata";case"hh":return Q+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return Q+(1===t?"dan":"dana");case"MM":return Q+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return Q+(1===t?"godina":2===t||3===t||4===t?"godine":"godina")}}te.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:A,m:A,mm:A,h:A,hh:A,d:"dan",dd:A,M:"mjesec",MM:A,y:"godinu",yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(se(5439))},7980:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(Y,t){var P=1===Y?"r":2===Y?"n":3===Y?"r":4===Y?"t":"\xe8";return("w"===t||"W"===t)&&(P="a"),Y+P},week:{dow:1,doy:4}})}(se(5439))},7322:function(ze,Ye,se){!function(te){"use strict";var A={format:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),standalone:"ledna_\xfanora_b\u0159ezna_dubna_kv\u011btna_\u010dervna_\u010dervence_srpna_z\xe1\u0159\xed_\u0159\xedjna_listopadu_prosince".split("_")},Y="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),t=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],P=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function J(ye){return ye>1&&ye<5&&1!=~~(ye/10)}function Q(ye,Fe,pt,Te){var gt=ye+" ";switch(pt){case"s":return Fe||Te?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return Fe||Te?gt+(J(ye)?"sekundy":"sekund"):gt+"sekundami";case"m":return Fe?"minuta":Te?"minutu":"minutou";case"mm":return Fe||Te?gt+(J(ye)?"minuty":"minut"):gt+"minutami";case"h":return Fe?"hodina":Te?"hodinu":"hodinou";case"hh":return Fe||Te?gt+(J(ye)?"hodiny":"hodin"):gt+"hodinami";case"d":return Fe||Te?"den":"dnem";case"dd":return Fe||Te?gt+(J(ye)?"dny":"dn\xed"):gt+"dny";case"M":return Fe||Te?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return Fe||Te?gt+(J(ye)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):gt+"m\u011bs\xedci";case"y":return Fe||Te?"rok":"rokem";case"yy":return Fe||Te?gt+(J(ye)?"roky":"let"):gt+"lety"}}te.defineLocale("cs",{months:A,monthsShort:Y,monthsRegex:P,monthsShortRegex:P,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:Q,ss:Q,m:Q,mm:Q,h:Q,hh:Q,d:Q,dd:Q,M:Q,MM:Q,y:Q,yy:Q},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},365:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(Y){return Y+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(Y)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(Y)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(se(5439))},2092:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(Y){var P="";return Y>20?P=40===Y||50===Y||60===Y||80===Y||100===Y?"fed":"ain":Y>0&&(P=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][Y]),Y+P},week:{dow:1,doy:4}})}(se(5439))},7387:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},9459:function(ze,Ye,se){!function(te){"use strict";function A(t,P,J,Q){var oe={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return P?oe[J][0]:oe[J][1]}te.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:A,mm:"%d Minuten",h:A,hh:"%d Stunden",d:A,dd:A,w:A,ww:"%d Wochen",M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},3694:function(ze,Ye,se){!function(te){"use strict";function A(t,P,J,Q){var oe={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return P?oe[J][0]:oe[J][1]}te.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:A,mm:"%d Minuten",h:A,hh:"%d Stunden",d:A,dd:A,w:A,ww:"%d Wochen",M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},4307:function(ze,Ye,se){!function(te){"use strict";function A(t,P,J,Q){var oe={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return P?oe[J][0]:oe[J][1]}te.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:A,mm:"%d Minuten",h:A,hh:"%d Stunden",d:A,dd:A,w:A,ww:"%d Wochen",M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},9659:function(ze,Ye,se){!function(te){"use strict";var A=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],Y=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];te.defineLocale("dv",{months:A,monthsShort:A,weekdays:Y,weekdaysShort:Y,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(P){return"\u0789\u078a"===P},meridiem:function(P,J,Q){return P<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(P){return P.replace(/\u060c/g,",")},postformat:function(P){return P.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(se(5439))},3460:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(t,P){return t?"string"==typeof P&&/D/.test(P.substring(0,P.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(t,P,J){return t>11?J?"\u03bc\u03bc":"\u039c\u039c":J?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(t){return"\u03bc"===(t+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){return 6===this.day()?"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT":"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"},sameElse:"L"},calendar:function(t,P){var J=this._calendarEl[t],Q=P&&P.hours();return function A(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}(J)&&(J=J.apply(P)),J.replace("{}",Q%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(se(5439))},4369:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var t=Y%10;return Y+(1==~~(Y%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:4}})}(se(5439))},530:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var t=Y%10;return Y+(1==~~(Y%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(se(5439))},9998:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var t=Y%10;return Y+(1==~~(Y%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(se(5439))},3391:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var t=Y%10;return Y+(1==~~(Y%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(se(5439))},5414:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var t=Y%10;return Y+(1==~~(Y%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(se(5439))},9615:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var t=Y%10;return Y+(1==~~(Y%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:6}})}(se(5439))},1248:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var t=Y%10;return Y+(1==~~(Y%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(se(5439))},3767:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var t=Y%10;return Y+(1==~~(Y%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(se(5439))},4530:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(Y){return"p"===Y.charAt(0).toLowerCase()},meridiem:function(Y,t,P){return Y>11?P?"p.t.m.":"P.T.M.":P?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(se(5439))},8944:function(ze,Ye,se){!function(te){"use strict";var A="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Y="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),t=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],P=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;te.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Q,oe){return Q?/-MMM-/.test(oe)?Y[Q.month()]:A[Q.month()]:A},monthsRegex:P,monthsShortRegex:P,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(se(5439))},9116:function(ze,Ye,se){!function(te){"use strict";var A="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Y="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),t=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],P=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;te.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Q,oe){return Q?/-MMM-/.test(oe)?Y[Q.month()]:A[Q.month()]:A},monthsRegex:P,monthsShortRegex:P,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(se(5439))},3609:function(ze,Ye,se){!function(te){"use strict";var A="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Y="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),t=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],P=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;te.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Q,oe){return Q?/-MMM-/.test(oe)?Y[Q.month()]:A[Q.month()]:A},monthsRegex:P,monthsShortRegex:P,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(se(5439))},6866:function(ze,Ye,se){!function(te){"use strict";var A="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Y="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),t=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],P=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;te.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Q,oe){return Q?/-MMM-/.test(oe)?Y[Q.month()]:A[Q.month()]:A},monthsRegex:P,monthsShortRegex:P,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(se(5439))},6725:function(ze,Ye,se){!function(te){"use strict";function A(t,P,J,Q){var oe={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[t+" minuti",t+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[t+" tunni",t+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[t+" kuu",t+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[t+" aasta",t+" aastat"]};return P?oe[J][2]?oe[J][2]:oe[J][1]:Q?oe[J][0]:oe[J][1]}te.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:A,ss:A,m:A,mm:A,h:A,hh:A,d:A,dd:"%d p\xe4eva",M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},7931:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(se(5439))},6417:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},Y={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};te.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(P){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(P)},meridiem:function(P,J,Q){return P<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(P){return P.replace(/[\u06f0-\u06f9]/g,function(J){return Y[J]}).replace(/\u060c/g,",")},postformat:function(P){return P.replace(/\d/g,function(J){return A[J]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(se(5439))},944:function(ze,Ye,se){!function(te){"use strict";var A="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),Y=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",A[7],A[8],A[9]];function t(Q,oe,ye,Fe){var pt="";switch(ye){case"s":return Fe?"muutaman sekunnin":"muutama sekunti";case"ss":pt=Fe?"sekunnin":"sekuntia";break;case"m":return Fe?"minuutin":"minuutti";case"mm":pt=Fe?"minuutin":"minuuttia";break;case"h":return Fe?"tunnin":"tunti";case"hh":pt=Fe?"tunnin":"tuntia";break;case"d":return Fe?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":pt=Fe?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return Fe?"kuukauden":"kuukausi";case"MM":pt=Fe?"kuukauden":"kuukautta";break;case"y":return Fe?"vuoden":"vuosi";case"yy":pt=Fe?"vuoden":"vuotta"}return function P(Q,oe){return Q<10?oe?Y[Q]:A[Q]:Q}(Q,Fe)+" "+pt}te.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},1766:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(Y){return Y},week:{dow:1,doy:4}})}(se(5439))},5867:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},6848:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(Y,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return Y+(1===Y?"er":"e");case"w":case"W":return Y+(1===Y?"re":"e")}}})}(se(5439))},7773:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(Y,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return Y+(1===Y?"er":"e");case"w":case"W":return Y+(1===Y?"re":"e")}},week:{dow:1,doy:4}})}(se(5439))},1636:function(ze,Ye,se){!function(te){"use strict";var t=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,P=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];te.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:t,monthsShortRegex:t,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:P,longMonthsParse:P,shortMonthsParse:P,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(Q,oe){switch(oe){case"D":return Q+(1===Q?"er":"");default:case"M":case"Q":case"DDD":case"d":return Q+(1===Q?"er":"e");case"w":case"W":return Q+(1===Q?"re":"e")}},week:{dow:1,doy:4}})}(se(5439))},4940:function(ze,Ye,se){!function(te){"use strict";var A="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),Y="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");te.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(P,J){return P?/-MMM-/.test(J)?Y[P.month()]:A[P.month()]:A},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(P){return P+(1===P||8===P||P>=20?"ste":"de")},week:{dow:1,doy:4}})}(se(5439))},1402:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(oe){return oe+(1===oe?"d":oe%10==2?"na":"mh")},week:{dow:1,doy:4}})}(se(5439))},6924:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(oe){return oe+(1===oe?"d":oe%10==2?"na":"mh")},week:{dow:1,doy:4}})}(se(5439))},6398:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(Y){return 0===Y.indexOf("un")?"n"+Y:"en "+Y},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(se(5439))},2457:function(ze,Ye,se){!function(te){"use strict";function A(t,P,J,Q){var oe={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[t+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",t+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[t+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",t+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[t+" \u0935\u0930\u093e\u0902\u0928\u0940",t+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[t+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",t+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[t+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",t+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[t+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",t+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return Q?oe[J][0]:oe[J][1]}te.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:A,ss:A,m:A,mm:A,h:A,hh:A,d:A,dd:A,M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(t,P){return"D"===P?t+"\u0935\u0947\u0930":t},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(t,P){return 12===t&&(t=0),"\u0930\u093e\u0924\u0940"===P?t<4?t:t+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===P?t:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===P?t>12?t:t+12:"\u0938\u093e\u0902\u091c\u0947"===P?t+12:void 0},meridiem:function(t,P,J){return t<4?"\u0930\u093e\u0924\u0940":t<12?"\u0938\u0915\u093e\u0933\u0940\u0902":t<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":t<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(se(5439))},2545:function(ze,Ye,se){!function(te){"use strict";function A(t,P,J,Q){var oe={s:["thoddea sekondamni","thodde sekond"],ss:[t+" sekondamni",t+" sekond"],m:["eka mintan","ek minut"],mm:[t+" mintamni",t+" mintam"],h:["eka voran","ek vor"],hh:[t+" voramni",t+" voram"],d:["eka disan","ek dis"],dd:[t+" disamni",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineamni",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsamni",t+" vorsam"]};return Q?oe[J][0]:oe[J][1]}te.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:A,ss:A,m:A,mm:A,h:A,hh:A,d:A,dd:A,M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,P){return"D"===P?t+"er":t},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(t,P){return 12===t&&(t=0),"rati"===P?t<4?t:t+12:"sokallim"===P?t:"donparam"===P?t>12?t:t+12:"sanje"===P?t+12:void 0},meridiem:function(t,P,J){return t<4?"rati":t<12?"sokallim":t<16?"donparam":t<20?"sanje":"rati"}})}(se(5439))},2641:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},Y={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};te.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(P){return P.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(J){return Y[J]})},postformat:function(P){return P.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(P,J){return 12===P&&(P=0),"\u0ab0\u0abe\u0aa4"===J?P<4?P:P+12:"\u0ab8\u0ab5\u0abe\u0ab0"===J?P:"\u0aac\u0aaa\u0acb\u0ab0"===J?P>=10?P:P+12:"\u0ab8\u0abe\u0a82\u0a9c"===J?P+12:void 0},meridiem:function(P,J,Q){return P<4?"\u0ab0\u0abe\u0aa4":P<10?"\u0ab8\u0ab5\u0abe\u0ab0":P<17?"\u0aac\u0aaa\u0acb\u0ab0":P<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(se(5439))},7536:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(Y){return 2===Y?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":Y+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(Y){return 2===Y?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":Y+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(Y){return 2===Y?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":Y+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(Y){return 2===Y?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":Y%10==0&&10!==Y?Y+" \u05e9\u05e0\u05d4":Y+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(Y){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(Y)},meridiem:function(Y,t,P){return Y<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":Y<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":Y<12?P?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":Y<18?P?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(se(5439))},6335:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},Y={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},t=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];te.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:t,longMonthsParse:t,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(Q){return Q.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(oe){return Y[oe]})},postformat:function(Q){return Q.replace(/\d/g,function(oe){return A[oe]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(Q,oe){return 12===Q&&(Q=0),"\u0930\u093e\u0924"===oe?Q<4?Q:Q+12:"\u0938\u0941\u092c\u0939"===oe?Q:"\u0926\u094b\u092a\u0939\u0930"===oe?Q>=10?Q:Q+12:"\u0936\u093e\u092e"===oe?Q+12:void 0},meridiem:function(Q,oe,ye){return Q<4?"\u0930\u093e\u0924":Q<10?"\u0938\u0941\u092c\u0939":Q<17?"\u0926\u094b\u092a\u0939\u0930":Q<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(se(5439))},7458:function(ze,Ye,se){!function(te){"use strict";function A(t,P,J){var Q=t+" ";switch(J){case"ss":return Q+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return P?"jedna minuta":"jedne minute";case"mm":return Q+(1===t?"minuta":2===t||3===t||4===t?"minute":"minuta");case"h":return P?"jedan sat":"jednog sata";case"hh":return Q+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return Q+(1===t?"dan":"dana");case"MM":return Q+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return Q+(1===t?"godina":2===t||3===t||4===t?"godine":"godina")}}te.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:A,m:A,mm:A,h:A,hh:A,d:"dan",dd:A,M:"mjesec",MM:A,y:"godinu",yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(se(5439))},6540:function(ze,Ye,se){!function(te){"use strict";var A="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function Y(J,Q,oe,ye){var Fe=J;switch(oe){case"s":return ye||Q?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return Fe+(ye||Q)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(ye||Q?" perc":" perce");case"mm":return Fe+(ye||Q?" perc":" perce");case"h":return"egy"+(ye||Q?" \xf3ra":" \xf3r\xe1ja");case"hh":return Fe+(ye||Q?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(ye||Q?" nap":" napja");case"dd":return Fe+(ye||Q?" nap":" napja");case"M":return"egy"+(ye||Q?" h\xf3nap":" h\xf3napja");case"MM":return Fe+(ye||Q?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(ye||Q?" \xe9v":" \xe9ve");case"yy":return Fe+(ye||Q?" \xe9v":" \xe9ve")}return""}function t(J){return(J?"":"[m\xfalt] ")+"["+A[this.day()]+"] LT[-kor]"}te.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(J){return"u"===J.charAt(1).toLowerCase()},meridiem:function(J,Q,oe){return J<12?!0===oe?"de":"DE":!0===oe?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return t.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return t.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:Y,ss:Y,m:Y,mm:Y,h:Y,hh:Y,d:Y,dd:Y,M:Y,MM:Y,y:Y,yy:Y},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},5283:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(Y){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(Y)},meridiem:function(Y){return Y<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":Y<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":Y<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(Y,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===Y?Y+"-\u056b\u0576":Y+"-\u0580\u0564";default:return Y}},week:{dow:1,doy:7}})}(se(5439))},8780:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(Y,t){return 12===Y&&(Y=0),"pagi"===t?Y:"siang"===t?Y>=11?Y:Y+12:"sore"===t||"malam"===t?Y+12:void 0},meridiem:function(Y,t,P){return Y<11?"pagi":Y<15?"siang":Y<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(se(5439))},4205:function(ze,Ye,se){!function(te){"use strict";function A(P){return P%100==11||P%10!=1}function Y(P,J,Q,oe){var ye=P+" ";switch(Q){case"s":return J||oe?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return A(P)?ye+(J||oe?"sek\xfandur":"sek\xfandum"):ye+"sek\xfanda";case"m":return J?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return A(P)?ye+(J||oe?"m\xedn\xfatur":"m\xedn\xfatum"):J?ye+"m\xedn\xfata":ye+"m\xedn\xfatu";case"hh":return A(P)?ye+(J||oe?"klukkustundir":"klukkustundum"):ye+"klukkustund";case"d":return J?"dagur":oe?"dag":"degi";case"dd":return A(P)?J?ye+"dagar":ye+(oe?"daga":"d\xf6gum"):J?ye+"dagur":ye+(oe?"dag":"degi");case"M":return J?"m\xe1nu\xf0ur":oe?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return A(P)?J?ye+"m\xe1nu\xf0ir":ye+(oe?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):J?ye+"m\xe1nu\xf0ur":ye+(oe?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return J||oe?"\xe1r":"\xe1ri";case"yy":return A(P)?ye+(J||oe?"\xe1r":"\xe1rum"):ye+(J||oe?"\xe1r":"\xe1ri")}}te.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:Y,ss:Y,m:Y,mm:Y,h:"klukkustund",hh:Y,d:Y,dd:Y,M:Y,MM:Y,y:Y,yy:Y},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},9985:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(Y){return(/^[0-9].+$/.test(Y)?"tra":"in")+" "+Y},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(se(5439))},4211:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(se(5439))},1003:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(Y,t){return"\u5143"===t[1]?1:parseInt(t[1]||Y,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(Y){return"\u5348\u5f8c"===Y},meridiem:function(Y,t,P){return Y<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(Y){return Y.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(Y){return this.week()!==Y.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(Y,t){switch(t){case"y":return 1===Y?"\u5143\u5e74":Y+"\u5e74";case"d":case"D":case"DDD":return Y+"\u65e5";default:return Y}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(se(5439))},420:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(Y,t){return 12===Y&&(Y=0),"enjing"===t?Y:"siyang"===t?Y>=11?Y:Y+12:"sonten"===t||"ndalu"===t?Y+12:void 0},meridiem:function(Y,t,P){return Y<11?"enjing":Y<15?"siyang":Y<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(se(5439))},851:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(Y){return Y.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(t,P,J){return"\u10d8"===J?P+"\u10e8\u10d8":P+J+"\u10e8\u10d8"})},past:function(Y){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(Y)?Y.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(Y)?Y.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):Y},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(Y){return 0===Y?Y:1===Y?Y+"-\u10da\u10d8":Y<20||Y<=100&&Y%20==0||Y%100==0?"\u10db\u10d4-"+Y:Y+"-\u10d4"},week:{dow:1,doy:7}})}(se(5439))},6074:function(ze,Ye,se){!function(te){"use strict";var A={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};te.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(t){return t+(A[t]||A[t%10]||A[t>=100?100:null])},week:{dow:1,doy:7}})}(se(5439))},3343:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},Y={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};te.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(P){return"\u179b\u17d2\u1784\u17b6\u1785"===P},meridiem:function(P,J,Q){return P<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(P){return P.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(J){return Y[J]})},postformat:function(P){return P.replace(/\d/g,function(J){return A[J]})},week:{dow:1,doy:4}})}(se(5439))},4799:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},Y={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};te.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(P){return P.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(J){return Y[J]})},postformat:function(P){return P.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(P,J){return 12===P&&(P=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===J?P<4?P:P+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===J?P:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===J?P>=10?P:P+12:"\u0cb8\u0c82\u0c9c\u0cc6"===J?P+12:void 0},meridiem:function(P,J,Q){return P<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":P<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":P<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":P<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(P){return P+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(se(5439))},3549:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(Y,t){switch(t){case"d":case"D":case"DDD":return Y+"\uc77c";case"M":return Y+"\uc6d4";case"w":case"W":return Y+"\uc8fc";default:return Y}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(Y){return"\uc624\ud6c4"===Y},meridiem:function(Y,t,P){return Y<12?"\uc624\uc804":"\uc624\ud6c4"}})}(se(5439))},1893:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},Y={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},t=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];te.defineLocale("ku",{months:t,monthsShort:t,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(J){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(J)},meridiem:function(J,Q,oe){return J<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(J){return J.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(Q){return Y[Q]}).replace(/\u060c/g,",")},postformat:function(J){return J.replace(/\d/g,function(Q){return A[Q]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(se(5439))},3125:function(ze,Ye,se){!function(te){"use strict";var A={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};te.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(t){return t+(A[t]||A[t%10]||A[t>=100?100:null])},week:{dow:1,doy:7}})}(se(5439))},9586:function(ze,Ye,se){!function(te){"use strict";function A(Q,oe,ye,Fe){var pt={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return oe?pt[ye][0]:pt[ye][1]}function P(Q){if(Q=parseInt(Q,10),isNaN(Q))return!1;if(Q<0)return!0;if(Q<10)return 4<=Q&&Q<=7;if(Q<100){var oe=Q%10;return P(0===oe?Q/10:oe)}if(Q<1e4){for(;Q>=10;)Q/=10;return P(Q)}return P(Q/=1e3)}te.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function Y(Q){return P(Q.substr(0,Q.indexOf(" ")))?"a "+Q:"an "+Q},past:function t(Q){return P(Q.substr(0,Q.indexOf(" ")))?"viru "+Q:"virun "+Q},s:"e puer Sekonnen",ss:"%d Sekonnen",m:A,mm:"%d Minutten",h:A,hh:"%d Stonnen",d:A,dd:"%d Deeg",M:A,MM:"%d M\xe9int",y:A,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},2349:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(Y){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===Y},meridiem:function(Y,t,P){return Y<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(Y){return"\u0e97\u0eb5\u0ec8"+Y}})}(se(5439))},2400:function(ze,Ye,se){!function(te){"use strict";var A={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function t(ye,Fe,pt,Te){return Fe?J(pt)[0]:Te?J(pt)[1]:J(pt)[2]}function P(ye){return ye%10==0||ye>10&&ye<20}function J(ye){return A[ye].split("_")}function Q(ye,Fe,pt,Te){var gt=ye+" ";return 1===ye?gt+t(0,Fe,pt[0],Te):Fe?gt+(P(ye)?J(pt)[1]:J(pt)[0]):Te?gt+J(pt)[1]:gt+(P(ye)?J(pt)[1]:J(pt)[2])}te.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function Y(ye,Fe,pt,Te){return Fe?"kelios sekund\u0117s":Te?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:Q,m:t,mm:Q,h:t,hh:Q,d:t,dd:Q,M:t,MM:Q,y:t,yy:Q},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(ye){return ye+"-oji"},week:{dow:1,doy:4}})}(se(5439))},9991:function(ze,Ye,se){!function(te){"use strict";var A={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function Y(oe,ye,Fe){return Fe?ye%10==1&&ye%100!=11?oe[2]:oe[3]:ye%10==1&&ye%100!=11?oe[0]:oe[1]}function t(oe,ye,Fe){return oe+" "+Y(A[Fe],oe,ye)}function P(oe,ye,Fe){return Y(A[Fe],oe,ye)}te.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function J(oe,ye){return ye?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:t,m:P,mm:t,h:P,hh:t,d:P,dd:t,M:P,MM:t,y:P,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},8477:function(ze,Ye,se){!function(te){"use strict";var A={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,P){return 1===t?P[0]:t>=2&&t<=4?P[1]:P[2]},translate:function(t,P,J){var Q=A.words[J];return 1===J.length?P?Q[0]:Q[1]:t+" "+A.correctGrammaticalCase(t,Q)}};te.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:A.translate,m:A.translate,mm:A.translate,h:A.translate,hh:A.translate,d:"dan",dd:A.translate,M:"mjesec",MM:A.translate,y:"godinu",yy:A.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(se(5439))},5118:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(se(5439))},5943:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(Y){var t=Y%10,P=Y%100;return 0===Y?Y+"-\u0435\u0432":0===P?Y+"-\u0435\u043d":P>10&&P<20?Y+"-\u0442\u0438":1===t?Y+"-\u0432\u0438":2===t?Y+"-\u0440\u0438":7===t||8===t?Y+"-\u043c\u0438":Y+"-\u0442\u0438"},week:{dow:1,doy:7}})}(se(5439))},3849:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(Y,t){return 12===Y&&(Y=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===t&&Y>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===t||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===t?Y+12:Y},meridiem:function(Y,t,P){return Y<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":Y<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":Y<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":Y<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(se(5439))},1977:function(ze,Ye,se){!function(te){"use strict";function A(t,P,J,Q){switch(J){case"s":return P?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return t+(P?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return t+(P?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return t+(P?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return t+(P?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return t+(P?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return t+(P?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return t}}te.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(t){return"\u04ae\u0425"===t},meridiem:function(t,P,J){return t<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:A,ss:A,m:A,mm:A,h:A,hh:A,d:A,dd:A,M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(t,P){switch(P){case"d":case"D":case"DDD":return t+" \u04e9\u0434\u04e9\u0440";default:return t}}})}(se(5439))},6184:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},Y={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function t(J,Q,oe,ye){var Fe="";if(Q)switch(oe){case"s":Fe="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":Fe="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":Fe="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":Fe="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":Fe="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":Fe="%d \u0924\u093e\u0938";break;case"d":Fe="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":Fe="%d \u0926\u093f\u0935\u0938";break;case"M":Fe="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":Fe="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":Fe="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":Fe="%d \u0935\u0930\u094d\u0937\u0947"}else switch(oe){case"s":Fe="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":Fe="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":Fe="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":Fe="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":Fe="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":Fe="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":Fe="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":Fe="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":Fe="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":Fe="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":Fe="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":Fe="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return Fe.replace(/%d/i,J)}te.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},preparse:function(J){return J.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(Q){return Y[Q]})},postformat:function(J){return J.replace(/\d/g,function(Q){return A[Q]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(J,Q){return 12===J&&(J=0),"\u092a\u0939\u093e\u091f\u0947"===Q||"\u0938\u0915\u093e\u0933\u0940"===Q?J:"\u0926\u0941\u092a\u093e\u0930\u0940"===Q||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===Q||"\u0930\u093e\u0924\u094d\u0930\u0940"===Q?J>=12?J:J+12:void 0},meridiem:function(J,Q,oe){return J>=0&&J<6?"\u092a\u0939\u093e\u091f\u0947":J<12?"\u0938\u0915\u093e\u0933\u0940":J<17?"\u0926\u0941\u092a\u093e\u0930\u0940":J<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(se(5439))},4524:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(Y,t){return 12===Y&&(Y=0),"pagi"===t?Y:"tengahari"===t?Y>=11?Y:Y+12:"petang"===t||"malam"===t?Y+12:void 0},meridiem:function(Y,t,P){return Y<11?"pagi":Y<15?"tengahari":Y<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(se(5439))},485:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(Y,t){return 12===Y&&(Y=0),"pagi"===t?Y:"tengahari"===t?Y>=11?Y:Y+12:"petang"===t||"malam"===t?Y+12:void 0},meridiem:function(Y,t,P){return Y<11?"pagi":Y<15?"tengahari":Y<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(se(5439))},6681:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(se(5439))},2024:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},Y={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};te.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(P){return P.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(J){return Y[J]})},postformat:function(P){return P.replace(/\d/g,function(J){return A[J]})},week:{dow:1,doy:4}})}(se(5439))},2688:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},8914:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},Y={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};te.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(P){return P.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(J){return Y[J]})},postformat:function(P){return P.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(P,J){return 12===P&&(P=0),"\u0930\u093e\u0924\u093f"===J?P<4?P:P+12:"\u092c\u093f\u0939\u093e\u0928"===J?P:"\u0926\u093f\u0909\u0901\u0938\u094b"===J?P>=10?P:P+12:"\u0938\u093e\u0901\u091d"===J?P+12:void 0},meridiem:function(P,J,Q){return P<3?"\u0930\u093e\u0924\u093f":P<12?"\u092c\u093f\u0939\u093e\u0928":P<16?"\u0926\u093f\u0909\u0901\u0938\u094b":P<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(se(5439))},2272:function(ze,Ye,se){!function(te){"use strict";var A="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Y="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),t=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],P=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;te.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(Q,oe){return Q?/-MMM-/.test(oe)?Y[Q.month()]:A[Q.month()]:A},monthsRegex:P,monthsShortRegex:P,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(Q){return Q+(1===Q||8===Q||Q>=20?"ste":"de")},week:{dow:1,doy:4}})}(se(5439))},1758:function(ze,Ye,se){!function(te){"use strict";var A="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Y="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),t=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],P=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;te.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(Q,oe){return Q?/-MMM-/.test(oe)?Y[Q.month()]:A[Q.month()]:A},monthsRegex:P,monthsShortRegex:P,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(Q){return Q+(1===Q||8===Q||Q>=20?"ste":"de")},week:{dow:1,doy:4}})}(se(5439))},1510:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},2797:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(Y,t){var P=1===Y?"r":2===Y?"n":3===Y?"r":4===Y?"t":"\xe8";return("w"===t||"W"===t)&&(P="a"),Y+P},week:{dow:1,doy:4}})}(se(5439))},7944:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},Y={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};te.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(P){return P.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(J){return Y[J]})},postformat:function(P){return P.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(P,J){return 12===P&&(P=0),"\u0a30\u0a3e\u0a24"===J?P<4?P:P+12:"\u0a38\u0a35\u0a47\u0a30"===J?P:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===J?P>=10?P:P+12:"\u0a38\u0a3c\u0a3e\u0a2e"===J?P+12:void 0},meridiem:function(P,J,Q){return P<4?"\u0a30\u0a3e\u0a24":P<10?"\u0a38\u0a35\u0a47\u0a30":P<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":P<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(se(5439))},1605:function(ze,Ye,se){!function(te){"use strict";var A="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),Y="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),t=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function P(oe){return oe%10<5&&oe%10>1&&~~(oe/10)%10!=1}function J(oe,ye,Fe){var pt=oe+" ";switch(Fe){case"ss":return pt+(P(oe)?"sekundy":"sekund");case"m":return ye?"minuta":"minut\u0119";case"mm":return pt+(P(oe)?"minuty":"minut");case"h":return ye?"godzina":"godzin\u0119";case"hh":return pt+(P(oe)?"godziny":"godzin");case"ww":return pt+(P(oe)?"tygodnie":"tygodni");case"MM":return pt+(P(oe)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return pt+(P(oe)?"lata":"lat")}}te.defineLocale("pl",{months:function(oe,ye){return oe?/D MMMM/.test(ye)?Y[oe.month()]:A[oe.month()]:A},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:J,m:J,mm:J,h:J,hh:J,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:J,M:"miesi\u0105c",MM:J,y:"rok",yy:J},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},3840:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(se(5439))},4225:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(se(5439))},5128:function(ze,Ye,se){!function(te){"use strict";function A(t,P,J){var oe=" ";return(t%100>=20||t>=100&&t%100==0)&&(oe=" de "),t+oe+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[J]}te.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:A,m:"un minut",mm:A,h:"o or\u0103",hh:A,d:"o zi",dd:A,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:A,M:"o lun\u0103",MM:A,y:"un an",yy:A},week:{dow:1,doy:7}})}(se(5439))},5127:function(ze,Ye,se){!function(te){"use strict";function Y(J,Q,oe){return"m"===oe?Q?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":J+" "+function A(J,Q){var oe=J.split("_");return Q%10==1&&Q%100!=11?oe[0]:Q%10>=2&&Q%10<=4&&(Q%100<10||Q%100>=20)?oe[1]:oe[2]}({ss:Q?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:Q?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[oe],+J)}var t=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];te.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:t,longMonthsParse:t,shortMonthsParse:t,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(J){if(J.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(J){if(J.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:Y,m:Y,mm:Y,h:"\u0447\u0430\u0441",hh:Y,d:"\u0434\u0435\u043d\u044c",dd:Y,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:Y,M:"\u043c\u0435\u0441\u044f\u0446",MM:Y,y:"\u0433\u043e\u0434",yy:Y},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(J){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(J)},meridiem:function(J,Q,oe){return J<4?"\u043d\u043e\u0447\u0438":J<12?"\u0443\u0442\u0440\u0430":J<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(J,Q){switch(Q){case"M":case"d":case"DDD":return J+"-\u0439";case"D":return J+"-\u0433\u043e";case"w":case"W":return J+"-\u044f";default:return J}},week:{dow:1,doy:4}})}(se(5439))},2525:function(ze,Ye,se){!function(te){"use strict";var A=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],Y=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];te.defineLocale("sd",{months:A,monthsShort:A,weekdays:Y,weekdaysShort:Y,weekdaysMin:Y,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(P){return"\u0634\u0627\u0645"===P},meridiem:function(P,J,Q){return P<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(P){return P.replace(/\u060c/g,",")},postformat:function(P){return P.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(se(5439))},9893:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},3123:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(Y){return Y+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(Y){return"\u0db4.\u0dc0."===Y||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===Y},meridiem:function(Y,t,P){return Y>11?P?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":P?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(se(5439))},9635:function(ze,Ye,se){!function(te){"use strict";var A="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),Y="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function t(Q){return Q>1&&Q<5}function P(Q,oe,ye,Fe){var pt=Q+" ";switch(ye){case"s":return oe||Fe?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return oe||Fe?pt+(t(Q)?"sekundy":"sek\xfand"):pt+"sekundami";case"m":return oe?"min\xfata":Fe?"min\xfatu":"min\xfatou";case"mm":return oe||Fe?pt+(t(Q)?"min\xfaty":"min\xfat"):pt+"min\xfatami";case"h":return oe?"hodina":Fe?"hodinu":"hodinou";case"hh":return oe||Fe?pt+(t(Q)?"hodiny":"hod\xedn"):pt+"hodinami";case"d":return oe||Fe?"de\u0148":"d\u0148om";case"dd":return oe||Fe?pt+(t(Q)?"dni":"dn\xed"):pt+"d\u0148ami";case"M":return oe||Fe?"mesiac":"mesiacom";case"MM":return oe||Fe?pt+(t(Q)?"mesiace":"mesiacov"):pt+"mesiacmi";case"y":return oe||Fe?"rok":"rokom";case"yy":return oe||Fe?pt+(t(Q)?"roky":"rokov"):pt+"rokmi"}}te.defineLocale("sk",{months:A,monthsShort:Y,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:case 4:case 5:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:P,ss:P,m:P,mm:P,h:P,hh:P,d:P,dd:P,M:P,MM:P,y:P,yy:P},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},8106:function(ze,Ye,se){!function(te){"use strict";function A(t,P,J,Q){var oe=t+" ";switch(J){case"s":return P||Q?"nekaj sekund":"nekaj sekundami";case"ss":return oe+(1===t?P?"sekundo":"sekundi":2===t?P||Q?"sekundi":"sekundah":t<5?P||Q?"sekunde":"sekundah":"sekund");case"m":return P?"ena minuta":"eno minuto";case"mm":return oe+(1===t?P?"minuta":"minuto":2===t?P||Q?"minuti":"minutama":t<5?P||Q?"minute":"minutami":P||Q?"minut":"minutami");case"h":return P?"ena ura":"eno uro";case"hh":return oe+(1===t?P?"ura":"uro":2===t?P||Q?"uri":"urama":t<5?P||Q?"ure":"urami":P||Q?"ur":"urami");case"d":return P||Q?"en dan":"enim dnem";case"dd":return oe+(1===t?P||Q?"dan":"dnem":2===t?P||Q?"dni":"dnevoma":P||Q?"dni":"dnevi");case"M":return P||Q?"en mesec":"enim mesecem";case"MM":return oe+(1===t?P||Q?"mesec":"mesecem":2===t?P||Q?"meseca":"mesecema":t<5?P||Q?"mesece":"meseci":P||Q?"mesecev":"meseci");case"y":return P||Q?"eno leto":"enim letom";case"yy":return oe+(1===t?P||Q?"leto":"letom":2===t?P||Q?"leti":"letoma":t<5?P||Q?"leta":"leti":P||Q?"let":"leti")}}te.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:A,ss:A,m:A,mm:A,h:A,hh:A,d:A,dd:A,M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(se(5439))},8799:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(Y){return"M"===Y.charAt(0)},meridiem:function(Y,t,P){return Y<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},2872:function(ze,Ye,se){!function(te){"use strict";var A={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0438\u043d\u0443\u0442\u0430"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],d:["\u0458\u0435\u0434\u0430\u043d \u0434\u0430\u043d","\u0458\u0435\u0434\u043d\u043e\u0433 \u0434\u0430\u043d\u0430"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],M:["\u0458\u0435\u0434\u0430\u043d \u043c\u0435\u0441\u0435\u0446","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0435\u0441\u0435\u0446\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],y:["\u0458\u0435\u0434\u043d\u0443 \u0433\u043e\u0434\u0438\u043d\u0443","\u0458\u0435\u0434\u043d\u0435 \u0433\u043e\u0434\u0438\u043d\u0435"],yy:["\u0433\u043e\u0434\u0438\u043d\u0443","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(t,P){return t%10>=1&&t%10<=4&&(t%100<10||t%100>=20)?t%10==1?P[0]:P[1]:P[2]},translate:function(t,P,J,Q){var ye,oe=A.words[J];return 1===J.length?"y"===J&&P?"\u0458\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430":Q||P?oe[0]:oe[1]:(ye=A.correctGrammaticalCase(t,oe),"yy"===J&&P&&"\u0433\u043e\u0434\u0438\u043d\u0443"===ye?t+" \u0433\u043e\u0434\u0438\u043d\u0430":t+" "+ye)}};te.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:A.translate,m:A.translate,mm:A.translate,h:A.translate,hh:A.translate,d:A.translate,dd:A.translate,M:A.translate,MM:A.translate,y:A.translate,yy:A.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(se(5439))},7949:function(ze,Ye,se){!function(te){"use strict";var A={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(t,P){return t%10>=1&&t%10<=4&&(t%100<10||t%100>=20)?t%10==1?P[0]:P[1]:P[2]},translate:function(t,P,J,Q){var ye,oe=A.words[J];return 1===J.length?"y"===J&&P?"jedna godina":Q||P?oe[0]:oe[1]:(ye=A.correctGrammaticalCase(t,oe),"yy"===J&&P&&"godinu"===ye?t+" godina":t+" "+ye)}};te.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:A.translate,m:A.translate,mm:A.translate,h:A.translate,hh:A.translate,d:A.translate,dd:A.translate,M:A.translate,MM:A.translate,y:A.translate,yy:A.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(se(5439))},6167:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(Y,t,P){return Y<11?"ekuseni":Y<15?"emini":Y<19?"entsambama":"ebusuku"},meridiemHour:function(Y,t){return 12===Y&&(Y=0),"ekuseni"===t?Y:"emini"===t?Y>=11?Y:Y+12:"entsambama"===t||"ebusuku"===t?0===Y?0:Y+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(se(5439))},9713:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(Y){var t=Y%10;return Y+(1==~~(Y%100/10)?":e":1===t||2===t?":a":":e")},week:{dow:1,doy:4}})}(se(5439))},1982:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(se(5439))},2732:function(ze,Ye,se){!function(te){"use strict";var A={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},Y={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};te.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(P){return P+"\u0bb5\u0ba4\u0bc1"},preparse:function(P){return P.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(J){return Y[J]})},postformat:function(P){return P.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(P,J,Q){return P<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":P<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":P<10?" \u0b95\u0bbe\u0bb2\u0bc8":P<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":P<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":P<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(P,J){return 12===P&&(P=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===J?P<2?P:P+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===J||"\u0b95\u0bbe\u0bb2\u0bc8"===J||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===J&&P>=10?P:P+12},week:{dow:0,doy:6}})}(se(5439))},3636:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(Y,t){return 12===Y&&(Y=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===t?Y<4?Y:Y+12:"\u0c09\u0c26\u0c2f\u0c02"===t?Y:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===t?Y>=10?Y:Y+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===t?Y+12:void 0},meridiem:function(Y,t,P){return Y<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":Y<10?"\u0c09\u0c26\u0c2f\u0c02":Y<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":Y<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(se(5439))},2115:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var t=Y%10;return Y+(1==~~(Y%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(se(5439))},1597:function(ze,Ye,se){!function(te){"use strict";var A={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};te.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(t,P){return 12===t&&(t=0),"\u0448\u0430\u0431"===P?t<4?t:t+12:"\u0441\u0443\u0431\u04b3"===P?t:"\u0440\u04ef\u0437"===P?t>=11?t:t+12:"\u0431\u0435\u0433\u043e\u04b3"===P?t+12:void 0},meridiem:function(t,P,J){return t<4?"\u0448\u0430\u0431":t<11?"\u0441\u0443\u0431\u04b3":t<16?"\u0440\u04ef\u0437":t<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(t){return t+(A[t]||A[t%10]||A[t>=100?100:null])},week:{dow:1,doy:7}})}(se(5439))},2868:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(Y){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===Y},meridiem:function(Y,t,P){return Y<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(se(5439))},1310:function(ze,Ye,se){!function(te){"use strict";var A={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};te.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(t,P){switch(P){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'unjy";var J=t%10;return t+(A[J]||A[t%100-J]||A[t>=100?100:null])}},week:{dow:1,doy:7}})}(se(5439))},2360:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(Y){return Y},week:{dow:1,doy:4}})}(se(5439))},6645:function(ze,Ye,se){!function(te){"use strict";var A="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function P(oe,ye,Fe,pt){var Te=function J(oe){var ye=Math.floor(oe%1e3/100),Fe=Math.floor(oe%100/10),pt=oe%10,Te="";return ye>0&&(Te+=A[ye]+"vatlh"),Fe>0&&(Te+=(""!==Te?" ":"")+A[Fe]+"maH"),pt>0&&(Te+=(""!==Te?" ":"")+A[pt]),""===Te?"pagh":Te}(oe);switch(Fe){case"ss":return Te+" lup";case"mm":return Te+" tup";case"hh":return Te+" rep";case"dd":return Te+" jaj";case"MM":return Te+" jar";case"yy":return Te+" DIS"}}te.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function Y(oe){var ye=oe;return-1!==oe.indexOf("jaj")?ye.slice(0,-3)+"leS":-1!==oe.indexOf("jar")?ye.slice(0,-3)+"waQ":-1!==oe.indexOf("DIS")?ye.slice(0,-3)+"nem":ye+" pIq"},past:function t(oe){var ye=oe;return-1!==oe.indexOf("jaj")?ye.slice(0,-3)+"Hu\u2019":-1!==oe.indexOf("jar")?ye.slice(0,-3)+"wen":-1!==oe.indexOf("DIS")?ye.slice(0,-3)+"ben":ye+" ret"},s:"puS lup",ss:P,m:"wa\u2019 tup",mm:P,h:"wa\u2019 rep",hh:P,d:"wa\u2019 jaj",dd:P,M:"wa\u2019 jar",MM:P,y:"wa\u2019 DIS",yy:P},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},8374:function(ze,Ye,se){!function(te){"use strict";var A={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};te.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_\xc7ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(t,P,J){return t<12?J?"\xf6\xf6":"\xd6\xd6":J?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(t){return"\xf6s"===t||"\xd6S"===t},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(t,P){switch(P){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'\u0131nc\u0131";var J=t%10;return t+(A[J]||A[t%100-J]||A[t>=100?100:null])}},week:{dow:1,doy:7}})}(se(5439))},256:function(ze,Ye,se){!function(te){"use strict";function Y(t,P,J,Q){var oe={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[t+" m\xeduts",t+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[t+" \xfeoras",t+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return Q||P?oe[J][0]:oe[J][1]}te.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,P,J){return t>11?J?"d'o":"D'O":J?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Y,ss:Y,m:Y,mm:Y,h:Y,hh:Y,d:Y,dd:Y,M:Y,MM:Y,y:Y,yy:Y},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(se(5439))},1631:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(se(5439))},1595:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(se(5439))},6050:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(Y,t){return 12===Y&&(Y=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===t||"\u0633\u06d5\u06be\u06d5\u0631"===t||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===t?Y:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===t||"\u0643\u06d5\u0686"===t?Y+12:Y>=11?Y:Y+12},meridiem:function(Y,t,P){var J=100*Y+t;return J<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":J<900?"\u0633\u06d5\u06be\u06d5\u0631":J<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":J<1230?"\u0686\u06c8\u0634":J<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(Y,t){switch(t){case"d":case"D":case"DDD":return Y+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return Y+"-\u06be\u06d5\u067e\u062a\u06d5";default:return Y}},preparse:function(Y){return Y.replace(/\u060c/g,",")},postformat:function(Y){return Y.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(se(5439))},5610:function(ze,Ye,se){!function(te){"use strict";function Y(Q,oe,ye){return"m"===ye?oe?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===ye?oe?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":Q+" "+function A(Q,oe){var ye=Q.split("_");return oe%10==1&&oe%100!=11?ye[0]:oe%10>=2&&oe%10<=4&&(oe%100<10||oe%100>=20)?ye[1]:ye[2]}({ss:oe?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:oe?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:oe?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[ye],+Q)}function P(Q){return function(){return Q+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}te.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function t(Q,oe){var ye={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===Q?ye.nominative.slice(1,7).concat(ye.nominative.slice(0,1)):Q?ye[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(oe)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(oe)?"genitive":"nominative"][Q.day()]:ye.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:P("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:P("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:P("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:P("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return P("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return P("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:Y,m:Y,mm:Y,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:Y,d:"\u0434\u0435\u043d\u044c",dd:Y,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:Y,y:"\u0440\u0456\u043a",yy:Y},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(Q){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(Q)},meridiem:function(Q,oe,ye){return Q<4?"\u043d\u043e\u0447\u0456":Q<12?"\u0440\u0430\u043d\u043a\u0443":Q<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(Q,oe){switch(oe){case"M":case"d":case"DDD":case"w":case"W":return Q+"-\u0439";case"D":return Q+"-\u0433\u043e";default:return Q}},week:{dow:1,doy:7}})}(se(5439))},8405:function(ze,Ye,se){!function(te){"use strict";var A=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],Y=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];te.defineLocale("ur",{months:A,monthsShort:A,weekdays:Y,weekdaysShort:Y,weekdaysMin:Y,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(P){return"\u0634\u0627\u0645"===P},meridiem:function(P,J,Q){return P<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(P){return P.replace(/\u060c/g,",")},postformat:function(P){return P.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(se(5439))},2207:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(se(5439))},2862:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(se(5439))},8093:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(Y){return/^ch$/i.test(Y)},meridiem:function(Y,t,P){return Y<12?P?"sa":"SA":P?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(Y){return Y},week:{dow:1,doy:4}})}(se(5439))},5590:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(Y){var t=Y%10;return Y+(1==~~(Y%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(se(5439))},9058:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(se(5439))},832:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(Y,t){return 12===Y&&(Y=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?Y:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?Y+12:Y>=11?Y:Y+12},meridiem:function(Y,t,P){var J=100*Y+t;return J<600?"\u51cc\u6668":J<900?"\u65e9\u4e0a":J<1130?"\u4e0a\u5348":J<1230?"\u4e2d\u5348":J<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(Y){return Y.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(Y){return this.week()!==Y.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(Y,t){switch(t){case"d":case"D":case"DDD":return Y+"\u65e5";case"M":return Y+"\u6708";case"w":case"W":return Y+"\u5468";default:return Y}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(se(5439))},8867:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(Y,t){return 12===Y&&(Y=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?Y:"\u4e2d\u5348"===t?Y>=11?Y:Y+12:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?Y+12:void 0},meridiem:function(Y,t,P){var J=100*Y+t;return J<600?"\u51cc\u6668":J<900?"\u65e9\u4e0a":J<1200?"\u4e0a\u5348":1200===J?"\u4e2d\u5348":J<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(Y,t){switch(t){case"d":case"D":case"DDD":return Y+"\u65e5";case"M":return Y+"\u6708";case"w":case"W":return Y+"\u9031";default:return Y}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(se(5439))},1133:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(Y,t){return 12===Y&&(Y=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?Y:"\u4e2d\u5348"===t?Y>=11?Y:Y+12:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?Y+12:void 0},meridiem:function(Y,t,P){var J=100*Y+t;return J<600?"\u51cc\u6668":J<900?"\u65e9\u4e0a":J<1130?"\u4e0a\u5348":J<1230?"\u4e2d\u5348":J<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(Y,t){switch(t){case"d":case"D":case"DDD":return Y+"\u65e5";case"M":return Y+"\u6708";case"w":case"W":return Y+"\u9031";default:return Y}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(se(5439))},3291:function(ze,Ye,se){!function(te){"use strict";te.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(Y,t){return 12===Y&&(Y=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?Y:"\u4e2d\u5348"===t?Y>=11?Y:Y+12:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?Y+12:void 0},meridiem:function(Y,t,P){var J=100*Y+t;return J<600?"\u51cc\u6668":J<900?"\u65e9\u4e0a":J<1130?"\u4e0a\u5348":J<1230?"\u4e2d\u5348":J<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(Y,t){switch(t){case"d":case"D":case"DDD":return Y+"\u65e5";case"M":return Y+"\u6708";case"w":case"W":return Y+"\u9031";default:return Y}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(se(5439))},5439:function(ze,Ye,se){(ze=se.nmd(ze)).exports=function(){"use strict";var te,Me;function A(){return te.apply(null,arguments)}function t(k){return k instanceof Array||"[object Array]"===Object.prototype.toString.call(k)}function P(k){return null!=k&&"[object Object]"===Object.prototype.toString.call(k)}function J(k,F){return Object.prototype.hasOwnProperty.call(k,F)}function Q(k){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(k).length;var F;for(F in k)if(J(k,F))return!1;return!0}function oe(k){return void 0===k}function ye(k){return"number"==typeof k||"[object Number]"===Object.prototype.toString.call(k)}function Fe(k){return k instanceof Date||"[object Date]"===Object.prototype.toString.call(k)}function pt(k,F){var re,K=[],me=k.length;for(re=0;re<me;++re)K.push(F(k[re],re));return K}function Te(k,F){for(var K in F)J(F,K)&&(k[K]=F[K]);return J(F,"toString")&&(k.toString=F.toString),J(F,"valueOf")&&(k.valueOf=F.valueOf),k}function gt(k,F,K,re){return Or(k,F,K,re,!0).utc()}function qe(k){return null==k._pf&&(k._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),k._pf}function Je(k){if(null==k._isValid){var F=qe(k),K=Me.call(F.parsedDateParts,function(me){return null!=me}),re=!isNaN(k._d.getTime())&&F.overflow<0&&!F.empty&&!F.invalidEra&&!F.invalidMonth&&!F.invalidWeekday&&!F.weekdayMismatch&&!F.nullInput&&!F.invalidFormat&&!F.userInvalidated&&(!F.meridiem||F.meridiem&&K);if(k._strict&&(re=re&&0===F.charsLeftOver&&0===F.unusedTokens.length&&void 0===F.bigHour),null!=Object.isFrozen&&Object.isFrozen(k))return re;k._isValid=re}return k._isValid}function yt(k){var F=gt(NaN);return null!=k?Te(qe(F),k):qe(F).userInvalidated=!0,F}Me=Array.prototype.some?Array.prototype.some:function(k){var re,F=Object(this),K=F.length>>>0;for(re=0;re<K;re++)if(re in F&&k.call(this,F[re],re,F))return!0;return!1};var Ke=A.momentProperties=[],Ve=!1;function ut(k,F){var K,re,me,Oe=Ke.length;if(oe(F._isAMomentObject)||(k._isAMomentObject=F._isAMomentObject),oe(F._i)||(k._i=F._i),oe(F._f)||(k._f=F._f),oe(F._l)||(k._l=F._l),oe(F._strict)||(k._strict=F._strict),oe(F._tzm)||(k._tzm=F._tzm),oe(F._isUTC)||(k._isUTC=F._isUTC),oe(F._offset)||(k._offset=F._offset),oe(F._pf)||(k._pf=qe(F)),oe(F._locale)||(k._locale=F._locale),Oe>0)for(K=0;K<Oe;K++)oe(me=F[re=Ke[K]])||(k[re]=me);return k}function He(k){ut(this,k),this._d=new Date(null!=k._d?k._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ve&&(Ve=!0,A.updateOffset(this),Ve=!1)}function bt(k){return k instanceof He||null!=k&&null!=k._isAMomentObject}function Yt(k){!1===A.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+k)}function kt(k,F){var K=!0;return Te(function(){if(null!=A.deprecationHandler&&A.deprecationHandler(null,k),K){var me,Oe,et,re=[],Pt=arguments.length;for(Oe=0;Oe<Pt;Oe++){if(me="","object"==typeof arguments[Oe]){for(et in me+="\n["+Oe+"] ",arguments[0])J(arguments[0],et)&&(me+=et+": "+arguments[0][et]+", ");me=me.slice(0,-2)}else me=arguments[Oe];re.push(me)}Yt(k+"\nArguments: "+Array.prototype.slice.call(re).join("")+"\n"+(new Error).stack),K=!1}return F.apply(this,arguments)},F)}var Mn,Wt={};function en(k,F){null!=A.deprecationHandler&&A.deprecationHandler(k,F),Wt[k]||(Yt(F),Wt[k]=!0)}function wi(k){return"undefined"!=typeof Function&&k instanceof Function||"[object Function]"===Object.prototype.toString.call(k)}function gr(k,F){var re,K=Te({},k);for(re in F)J(F,re)&&(P(k[re])&&P(F[re])?(K[re]={},Te(K[re],k[re]),Te(K[re],F[re])):null!=F[re]?K[re]=F[re]:delete K[re]);for(re in k)J(k,re)&&!J(F,re)&&P(k[re])&&(K[re]=Te({},K[re]));return K}function ei(k){null!=k&&this.set(k)}A.suppressDeprecationWarnings=!1,A.deprecationHandler=null,Mn=Object.keys?Object.keys:function(k){var F,K=[];for(F in k)J(k,F)&&K.push(F);return K};function On(k,F,K){var re=""+Math.abs(k);return(k>=0?K?"+":"":"-")+Math.pow(10,Math.max(0,F-re.length)).toString().substr(1)+re}var Li=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,fn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,jn={},Rn={};function Ut(k,F,K,re){var me=re;"string"==typeof re&&(me=function(){return this[re]()}),k&&(Rn[k]=me),F&&(Rn[F[0]]=function(){return On(me.apply(this,arguments),F[1],F[2])}),K&&(Rn[K]=function(){return this.localeData().ordinal(me.apply(this,arguments),k)})}function Er(k){return k.match(/\[[\s\S]/)?k.replace(/^\[|\]$/g,""):k.replace(/\\/g,"")}function Wn(k,F){return k.isValid()?(F=ii(F,k.localeData()),jn[F]=jn[F]||function Yi(k){var K,re,F=k.match(Li);for(K=0,re=F.length;K<re;K++)F[K]=Rn[F[K]]?Rn[F[K]]:Er(F[K]);return function(me){var et,Oe="";for(et=0;et<re;et++)Oe+=wi(F[et])?F[et].call(me,k):F[et];return Oe}}(F),jn[F](k)):k.localeData().invalidDate()}function ii(k,F){var K=5;function re(me){return F.longDateFormat(me)||me}for(fn.lastIndex=0;K>=0&&fn.test(k);)k=k.replace(fn,re),fn.lastIndex=0,K-=1;return k}var ni={};function zi(k,F){var K=k.toLowerCase();ni[K]=ni[K+"s"]=ni[F]=k}function Fn(k){return"string"==typeof k?ni[k]||ni[k.toLowerCase()]:void 0}function Si(k){var K,re,F={};for(re in k)J(k,re)&&(K=Fn(re))&&(F[K]=k[re]);return F}var hn={};function Hi(k,F){hn[k]=F}function Bi(k){return k%4==0&&k%100!=0||k%400==0}function Mi(k){return k<0?Math.ceil(k)||0:Math.floor(k)}function di(k){var F=+k,K=0;return 0!==F&&isFinite(F)&&(K=Mi(F)),K}function cr(k,F){return function(K){return null!=K?(ma(this,k,K),A.updateOffset(this,F),this):Yn(this,k)}}function Yn(k,F){return k.isValid()?k._d["get"+(k._isUTC?"UTC":"")+F]():NaN}function ma(k,F,K){k.isValid()&&!isNaN(K)&&("FullYear"===F&&Bi(k.year())&&1===k.month()&&29===k.date()?(K=di(K),k._d["set"+(k._isUTC?"UTC":"")+F](K,k.month(),Cs(K,k.month()))):k._d["set"+(k._isUTC?"UTC":"")+F](K))}var Xt,vr=/\d/,ur=/\d\d/,ke=/\d{3}/,he=/\d{4}/,fe=/[+-]?\d{6}/,be=/\d\d?/,Ae=/\d\d\d\d?/,Be=/\d\d\d\d\d\d?/,We=/\d{1,3}/,Ue=/\d{1,4}/,X=/[+-]?\d{1,6}/,Xe=/\d+/,wt=/[+-]?\d+/,St=/Z|[+-]\d\d:?\d\d/gi,vt=/Z|[+-]\d\d(?::?\d\d)?/gi,ri=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function _t(k,F,K){Xt[k]=wi(F)?F:function(re,me){return re&&K?K:F}}function vi(k,F){return J(Xt,k)?Xt[k](F._strict,F._locale):new RegExp(function pn(k){return ji(k.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(F,K,re,me,Oe){return K||re||me||Oe}))}(k))}function ji(k){return k.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Xt={};var Dn={};function ai(k,F){var K,me,re=F;for("string"==typeof k&&(k=[k]),ye(F)&&(re=function(Oe,et){et[F]=di(Oe)}),me=k.length,K=0;K<me;K++)Dn[k[K]]=re}function Ti(k,F){ai(k,function(K,re,me,Oe){me._w=me._w||{},F(K,me._w,me,Oe)})}function Zn(k,F,K){null!=F&&J(Dn,k)&&Dn[k](F,K._a,K,k)}var an;function Cs(k,F){if(isNaN(k)||isNaN(F))return NaN;var K=function yn(k,F){return(k%F+F)%F}(F,12);return k+=(F-K)/12,1===K?Bi(k)?29:28:31-K%7%2}an=Array.prototype.indexOf?Array.prototype.indexOf:function(k){var F;for(F=0;F<this.length;++F)if(this[F]===k)return F;return-1},Ut("M",["MM",2],"Mo",function(){return this.month()+1}),Ut("MMM",0,0,function(k){return this.localeData().monthsShort(this,k)}),Ut("MMMM",0,0,function(k){return this.localeData().months(this,k)}),zi("month","M"),Hi("month",8),_t("M",be),_t("MM",be,ur),_t("MMM",function(k,F){return F.monthsShortRegex(k)}),_t("MMMM",function(k,F){return F.monthsRegex(k)}),ai(["M","MM"],function(k,F){F[1]=di(k)-1}),ai(["MMM","MMMM"],function(k,F,K,re){var me=K._locale.monthsParse(k,re,K._strict);null!=me?F[1]=me:qe(K).invalidMonth=k});var Bo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ia="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_a=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pa=ri,at=ri;function $n(k,F,K){var re,me,Oe,et=k.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],re=0;re<12;++re)Oe=gt([2e3,re]),this._shortMonthsParse[re]=this.monthsShort(Oe,"").toLocaleLowerCase(),this._longMonthsParse[re]=this.months(Oe,"").toLocaleLowerCase();return K?"MMM"===F?-1!==(me=an.call(this._shortMonthsParse,et))?me:null:-1!==(me=an.call(this._longMonthsParse,et))?me:null:"MMM"===F?-1!==(me=an.call(this._shortMonthsParse,et))||-1!==(me=an.call(this._longMonthsParse,et))?me:null:-1!==(me=an.call(this._longMonthsParse,et))||-1!==(me=an.call(this._shortMonthsParse,et))?me:null}function ia(k,F){var K;if(!k.isValid())return k;if("string"==typeof F)if(/^\d+$/.test(F))F=di(F);else if(!ye(F=k.localeData().monthsParse(F)))return k;return K=Math.min(k.date(),Cs(k.year(),F)),k._d["set"+(k._isUTC?"UTC":"")+"Month"](F,K),k}function ss(k){return null!=k?(ia(this,k),A.updateOffset(this,!0),this):Yn(this,"Month")}function bi(){function k(et,Pt){return Pt.length-et.length}var me,Oe,F=[],K=[],re=[];for(me=0;me<12;me++)Oe=gt([2e3,me]),F.push(this.monthsShort(Oe,"")),K.push(this.months(Oe,"")),re.push(this.months(Oe,"")),re.push(this.monthsShort(Oe,""));for(F.sort(k),K.sort(k),re.sort(k),me=0;me<12;me++)F[me]=ji(F[me]),K[me]=ji(K[me]);for(me=0;me<24;me++)re[me]=ji(re[me]);this._monthsRegex=new RegExp("^("+re.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+K.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+F.join("|")+")","i")}function si(k){return Bi(k)?366:365}Ut("Y",0,0,function(){var k=this.year();return k<=9999?On(k,4):"+"+k}),Ut(0,["YY",2],0,function(){return this.year()%100}),Ut(0,["YYYY",4],0,"year"),Ut(0,["YYYYY",5],0,"year"),Ut(0,["YYYYYY",6,!0],0,"year"),zi("year","y"),Hi("year",1),_t("Y",wt),_t("YY",be,ur),_t("YYYY",Ue,he),_t("YYYYY",X,fe),_t("YYYYYY",X,fe),ai(["YYYYY","YYYYYY"],0),ai("YYYY",function(k,F){F[0]=2===k.length?A.parseTwoDigitYear(k):di(k)}),ai("YY",function(k,F){F[0]=A.parseTwoDigitYear(k)}),ai("Y",function(k,F){F[0]=parseInt(k,10)}),A.parseTwoDigitYear=function(k){return di(k)+(di(k)>68?1900:2e3)};var Ar=cr("FullYear",!0);function oi(k,F,K,re,me,Oe,et){var Pt;return k<100&&k>=0?(Pt=new Date(k+400,F,K,re,me,Oe,et),isFinite(Pt.getFullYear())&&Pt.setFullYear(k)):Pt=new Date(k,F,K,re,me,Oe,et),Pt}function rr(k){var F,K;return k<100&&k>=0?((K=Array.prototype.slice.call(arguments))[0]=k+400,F=new Date(Date.UTC.apply(null,K)),isFinite(F.getUTCFullYear())&&F.setUTCFullYear(k)):F=new Date(Date.UTC.apply(null,arguments)),F}function Br(k,F,K){var re=7+F-K;return-(7+rr(k,0,re).getUTCDay()-F)%7+re-1}function Oa(k,F,K,re,me){var Kt,Di,Pt=1+7*(F-1)+(7+K-re)%7+Br(k,re,me);return Pt<=0?Di=si(Kt=k-1)+Pt:Pt>si(k)?(Kt=k+1,Di=Pt-si(k)):(Kt=k,Di=Pt),{year:Kt,dayOfYear:Di}}function ir(k,F,K){var Oe,et,re=Br(k.year(),F,K),me=Math.floor((k.dayOfYear()-re-1)/7)+1;return me<1?Oe=me+Ci(et=k.year()-1,F,K):me>Ci(k.year(),F,K)?(Oe=me-Ci(k.year(),F,K),et=k.year()+1):(et=k.year(),Oe=me),{week:Oe,year:et}}function Ci(k,F,K){var re=Br(k,F,K),me=Br(k+1,F,K);return(si(k)-re+me)/7}Ut("w",["ww",2],"wo","week"),Ut("W",["WW",2],"Wo","isoWeek"),zi("week","w"),zi("isoWeek","W"),Hi("week",5),Hi("isoWeek",5),_t("w",be),_t("ww",be,ur),_t("W",be),_t("WW",be,ur),Ti(["w","ww","W","WW"],function(k,F,K,re){F[re.substr(0,1)]=di(k)});function Ir(k,F){return k.slice(F,7).concat(k.slice(0,F))}Ut("d",0,"do","day"),Ut("dd",0,0,function(k){return this.localeData().weekdaysMin(this,k)}),Ut("ddd",0,0,function(k){return this.localeData().weekdaysShort(this,k)}),Ut("dddd",0,0,function(k){return this.localeData().weekdays(this,k)}),Ut("e",0,0,"weekday"),Ut("E",0,0,"isoWeekday"),zi("day","d"),zi("weekday","e"),zi("isoWeekday","E"),Hi("day",11),Hi("weekday",11),Hi("isoWeekday",11),_t("d",be),_t("e",be),_t("E",be),_t("dd",function(k,F){return F.weekdaysMinRegex(k)}),_t("ddd",function(k,F){return F.weekdaysShortRegex(k)}),_t("dddd",function(k,F){return F.weekdaysRegex(k)}),Ti(["dd","ddd","dddd"],function(k,F,K,re){var me=K._locale.weekdaysParse(k,re,K._strict);null!=me?F.d=me:qe(K).invalidWeekday=k}),Ti(["d","e","E"],function(k,F,K,re){F[re]=di(k)});var Es="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ln="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),dl=ri,No=ri,dr=ri;function Vi(k,F,K){var re,me,Oe,et=k.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],re=0;re<7;++re)Oe=gt([2e3,1]).day(re),this._minWeekdaysParse[re]=this.weekdaysMin(Oe,"").toLocaleLowerCase(),this._shortWeekdaysParse[re]=this.weekdaysShort(Oe,"").toLocaleLowerCase(),this._weekdaysParse[re]=this.weekdays(Oe,"").toLocaleLowerCase();return K?"dddd"===F?-1!==(me=an.call(this._weekdaysParse,et))?me:null:"ddd"===F?-1!==(me=an.call(this._shortWeekdaysParse,et))?me:null:-1!==(me=an.call(this._minWeekdaysParse,et))?me:null:"dddd"===F?-1!==(me=an.call(this._weekdaysParse,et))||-1!==(me=an.call(this._shortWeekdaysParse,et))||-1!==(me=an.call(this._minWeekdaysParse,et))?me:null:"ddd"===F?-1!==(me=an.call(this._shortWeekdaysParse,et))||-1!==(me=an.call(this._weekdaysParse,et))||-1!==(me=an.call(this._minWeekdaysParse,et))?me:null:-1!==(me=an.call(this._minWeekdaysParse,et))||-1!==(me=an.call(this._weekdaysParse,et))||-1!==(me=an.call(this._shortWeekdaysParse,et))?me:null}function ar(){function k(Ai,Vn){return Vn.length-Ai.length}var Oe,et,Pt,Kt,Di,F=[],K=[],re=[],me=[];for(Oe=0;Oe<7;Oe++)et=gt([2e3,1]).day(Oe),Pt=ji(this.weekdaysMin(et,"")),Kt=ji(this.weekdaysShort(et,"")),Di=ji(this.weekdays(et,"")),F.push(Pt),K.push(Kt),re.push(Di),me.push(Pt),me.push(Kt),me.push(Di);F.sort(k),K.sort(k),re.sort(k),me.sort(k),this._weekdaysRegex=new RegExp("^("+me.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+re.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+K.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+F.join("|")+")","i")}function cs(){return this.hours()%12||12}function As(k,F){Ut(k,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),F)})}function $r(k,F){return F._meridiemParse}Ut("H",["HH",2],0,"hour"),Ut("h",["hh",2],0,cs),Ut("k",["kk",2],0,function Xs(){return this.hours()||24}),Ut("hmm",0,0,function(){return""+cs.apply(this)+On(this.minutes(),2)}),Ut("hmmss",0,0,function(){return""+cs.apply(this)+On(this.minutes(),2)+On(this.seconds(),2)}),Ut("Hmm",0,0,function(){return""+this.hours()+On(this.minutes(),2)}),Ut("Hmmss",0,0,function(){return""+this.hours()+On(this.minutes(),2)+On(this.seconds(),2)}),As("a",!0),As("A",!1),zi("hour","h"),Hi("hour",13),_t("a",$r),_t("A",$r),_t("H",be),_t("h",be),_t("k",be),_t("HH",be,ur),_t("hh",be,ur),_t("kk",be,ur),_t("hmm",Ae),_t("hmmss",Be),_t("Hmm",Ae),_t("Hmmss",Be),ai(["H","HH"],3),ai(["k","kk"],function(k,F,K){var re=di(k);F[3]=24===re?0:re}),ai(["a","A"],function(k,F,K){K._isPm=K._locale.isPM(k),K._meridiem=k}),ai(["h","hh"],function(k,F,K){F[3]=di(k),qe(K).bigHour=!0}),ai("hmm",function(k,F,K){var re=k.length-2;F[3]=di(k.substr(0,re)),F[4]=di(k.substr(re)),qe(K).bigHour=!0}),ai("hmmss",function(k,F,K){var re=k.length-4,me=k.length-2;F[3]=di(k.substr(0,re)),F[4]=di(k.substr(re,2)),F[5]=di(k.substr(me)),qe(K).bigHour=!0}),ai("Hmm",function(k,F,K){var re=k.length-2;F[3]=di(k.substr(0,re)),F[4]=di(k.substr(re))}),ai("Hmmss",function(k,F,K){var re=k.length-4,me=k.length-2;F[3]=di(k.substr(0,re)),F[4]=di(k.substr(re,2)),F[5]=di(k.substr(me))});var Is=cr("Hours",!0);var ga,Ps={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Bo,monthsShort:Ia,week:{dow:0,doy:6},weekdays:Es,weekdaysMin:Ln,weekdaysShort:Bn,meridiemParse:/[ap]\.?m?\.?/i},Wi={},us={};function ds(k,F){var K,re=Math.min(k.length,F.length);for(K=0;K<re;K+=1)if(k[K]!==F[K])return K;return re}function Ho(k){return k&&k.toLowerCase().replace("_","-")}function Os(k){var F=null;if(void 0===Wi[k]&&ze&&ze.exports&&function Js(k){return null!=k.match("^[^/\\\\]*$")}(k))try{F=ga._abbr,se(6700)("./"+k),jr(F)}catch(re){Wi[k]=null}return Wi[k]}function jr(k,F){var K;return k&&((K=oe(F)?Pr(k):Oi(k,F))?ga=K:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+k+" not found. Did you forget to load it?")),ga._abbr}function Oi(k,F){if(null!==F){var K,re=Ps;if(F.abbr=k,null!=Wi[k])en("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),re=Wi[k]._config;else if(null!=F.parentLocale)if(null!=Wi[F.parentLocale])re=Wi[F.parentLocale]._config;else{if(null==(K=Os(F.parentLocale)))return us[F.parentLocale]||(us[F.parentLocale]=[]),us[F.parentLocale].push({name:k,config:F}),null;re=K._config}return Wi[k]=new ei(gr(re,F)),us[k]&&us[k].forEach(function(me){Oi(me.name,me.config)}),jr(k),Wi[k]}return delete Wi[k],null}function Pr(k){var F;if(k&&k._locale&&k._locale._abbr&&(k=k._locale._abbr),!k)return ga;if(!t(k)){if(F=Os(k))return F;k=[k]}return function wr(k){for(var K,re,me,Oe,F=0;F<k.length;){for(K=(Oe=Ho(k[F]).split("-")).length,re=(re=Ho(k[F+1]))?re.split("-"):null;K>0;){if(me=Os(Oe.slice(0,K).join("-")))return me;if(re&&re.length>=K&&ds(Oe,re)>=K-1)break;K--}F++}return ga}(k)}function hs(k){var F,K=k._a;return K&&-2===qe(k).overflow&&(F=K[1]<0||K[1]>11?1:K[2]<1||K[2]>Cs(K[0],K[1])?2:K[3]<0||K[3]>24||24===K[3]&&(0!==K[4]||0!==K[5]||0!==K[6])?3:K[4]<0||K[4]>59?4:K[5]<0||K[5]>59?5:K[6]<0||K[6]>999?6:-1,qe(k)._overflowDayOfYear&&(F<0||F>2)&&(F=2),qe(k)._overflowWeeks&&-1===F&&(F=7),qe(k)._overflowWeekday&&-1===F&&(F=8),qe(k).overflow=F),k}var pl=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,go=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ps=/Z|[+-]\d\d(?::?\d\d)?/,ra=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],fs=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ya=/^\/?Date\((-?\d+)/i,ja=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Na={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ks(k){var F,K,Oe,et,Pt,Kt,re=k._i,me=pl.exec(re)||go.exec(re),Di=ra.length,Ai=fs.length;if(me){for(qe(k).iso=!0,F=0,K=Di;F<K;F++)if(ra[F][1].exec(me[1])){et=ra[F][0],Oe=!1!==ra[F][2];break}if(null==et)return void(k._isValid=!1);if(me[3]){for(F=0,K=Ai;F<K;F++)if(fs[F][1].exec(me[3])){Pt=(me[2]||" ")+fs[F][0];break}if(null==Pt)return void(k._isValid=!1)}if(!Oe&&null!=Pt)return void(k._isValid=!1);if(me[4]){if(!ps.exec(me[4]))return void(k._isValid=!1);Kt="Z"}k._f=et+(Pt||"")+(Kt||""),va(k)}else k._isValid=!1}function Uo(k){var F=parseInt(k,10);return F<=49?2e3+F:F<=999?1900+F:F}function Va(k){var K,F=ja.exec(function ln(k){return k.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(k._i));if(F){if(K=function ms(k,F,K,re,me,Oe){var et=[Uo(k),Ia.indexOf(F),parseInt(K,10),parseInt(re,10),parseInt(me,10)];return Oe&&et.push(parseInt(Oe,10)),et}(F[4],F[3],F[2],F[5],F[6],F[7]),!function Ha(k,F,K){return!k||Bn.indexOf(k)===new Date(F[0],F[1],F[2]).getDay()||(qe(K).weekdayMismatch=!0,K._isValid=!1,!1)}(F[1],K,k))return;k._a=K,k._tzm=function yo(k,F,K){if(k)return Na[k];if(F)return 0;var re=parseInt(K,10),me=re%100;return(re-me)/100*60+me}(F[8],F[9],F[10]),k._d=rr.apply(null,k._a),k._d.setUTCMinutes(k._d.getUTCMinutes()-k._tzm),qe(k).rfc2822=!0}else k._isValid=!1}function aa(k,F,K){return null!=k?k:null!=F?F:K}function eo(k){var F,K,me,Oe,et,re=[];if(!k._d){for(me=function Qs(k){var F=new Date(A.now());return k._useUTC?[F.getUTCFullYear(),F.getUTCMonth(),F.getUTCDate()]:[F.getFullYear(),F.getMonth(),F.getDate()]}(k),k._w&&null==k._a[2]&&null==k._a[1]&&function to(k){var F,K,re,me,Oe,et,Pt,Kt,Di;null!=(F=k._w).GG||null!=F.W||null!=F.E?(Oe=1,et=4,K=aa(F.GG,k._a[0],ir(Ii(),1,4).year),re=aa(F.W,1),((me=aa(F.E,1))<1||me>7)&&(Kt=!0)):(Oe=k._locale._week.dow,et=k._locale._week.doy,Di=ir(Ii(),Oe,et),K=aa(F.gg,k._a[0],Di.year),re=aa(F.w,Di.week),null!=F.d?((me=F.d)<0||me>6)&&(Kt=!0):null!=F.e?(me=F.e+Oe,(F.e<0||F.e>6)&&(Kt=!0)):me=Oe),re<1||re>Ci(K,Oe,et)?qe(k)._overflowWeeks=!0:null!=Kt?qe(k)._overflowWeekday=!0:(Pt=Oa(K,re,me,Oe,et),k._a[0]=Pt.year,k._dayOfYear=Pt.dayOfYear)}(k),null!=k._dayOfYear&&(et=aa(k._a[0],me[0]),(k._dayOfYear>si(et)||0===k._dayOfYear)&&(qe(k)._overflowDayOfYear=!0),K=rr(et,0,k._dayOfYear),k._a[1]=K.getUTCMonth(),k._a[2]=K.getUTCDate()),F=0;F<3&&null==k._a[F];++F)k._a[F]=re[F]=me[F];for(;F<7;F++)k._a[F]=re[F]=null==k._a[F]?2===F?1:0:k._a[F];24===k._a[3]&&0===k._a[4]&&0===k._a[5]&&0===k._a[6]&&(k._nextDay=!0,k._a[3]=0),k._d=(k._useUTC?rr:oi).apply(null,re),Oe=k._useUTC?k._d.getUTCDay():k._d.getDay(),null!=k._tzm&&k._d.setUTCMinutes(k._d.getUTCMinutes()-k._tzm),k._nextDay&&(k._a[3]=24),k._w&&void 0!==k._w.d&&k._w.d!==Oe&&(qe(k).weekdayMismatch=!0)}}function va(k){if(k._f!==A.ISO_8601)if(k._f!==A.RFC_2822){k._a=[],qe(k).empty=!0;var K,re,me,Oe,et,Di,Ai,F=""+k._i,Pt=F.length,Kt=0;for(Ai=(me=ii(k._f,k._locale).match(Li)||[]).length,K=0;K<Ai;K++)(re=(F.match(vi(Oe=me[K],k))||[])[0])&&((et=F.substr(0,F.indexOf(re))).length>0&&qe(k).unusedInput.push(et),F=F.slice(F.indexOf(re)+re.length),Kt+=re.length),Rn[Oe]?(re?qe(k).empty=!1:qe(k).unusedTokens.push(Oe),Zn(Oe,re,k)):k._strict&&!re&&qe(k).unusedTokens.push(Oe);qe(k).charsLeftOver=Pt-Kt,F.length>0&&qe(k).unusedInput.push(F),k._a[3]<=12&&!0===qe(k).bigHour&&k._a[3]>0&&(qe(k).bigHour=void 0),qe(k).parsedDateParts=k._a.slice(0),qe(k).meridiem=k._meridiem,k._a[3]=function Nr(k,F,K){var re;return null==K?F:null!=k.meridiemHour?k.meridiemHour(F,K):(null!=k.isPM&&((re=k.isPM(K))&&F<12&&(F+=12),!re&&12===F&&(F=0)),F)}(k._locale,k._a[3],k._meridiem),null!==(Di=qe(k).era)&&(k._a[0]=k._locale.erasConvertYear(Di,k._a[0])),eo(k),hs(k)}else Va(k);else Ks(k)}function Rs(k){var F=k._i,K=k._f;return k._locale=k._locale||Pr(k._l),null===F||void 0===K&&""===F?yt({nullInput:!0}):("string"==typeof F&&(k._i=F=k._locale.preparse(F)),bt(F)?new He(hs(F)):(Fe(F)?k._d=F:t(K)?function cn(k){var F,K,re,me,Oe,et,Pt=!1,Kt=k._f.length;if(0===Kt)return qe(k).invalidFormat=!0,void(k._d=new Date(NaN));for(me=0;me<Kt;me++)Oe=0,et=!1,F=ut({},k),null!=k._useUTC&&(F._useUTC=k._useUTC),F._f=k._f[me],va(F),Je(F)&&(et=!0),Oe+=qe(F).charsLeftOver,Oe+=10*qe(F).unusedTokens.length,qe(F).score=Oe,Pt?Oe<re&&(re=Oe,K=F):(null==re||Oe<re||et)&&(re=Oe,K=F,et&&(Pt=!0));Te(k,K||F)}(k):K?va(k):function Wo(k){var F=k._i;oe(F)?k._d=new Date(A.now()):Fe(F)?k._d=new Date(F.valueOf()):"string"==typeof F?function ki(k){var F=ya.exec(k._i);null===F?(Ks(k),!1===k._isValid&&(delete k._isValid,Va(k),!1===k._isValid&&(delete k._isValid,k._strict?k._isValid=!1:A.createFromInputFallback(k)))):k._d=new Date(+F[1])}(k):t(F)?(k._a=pt(F.slice(0),function(K){return parseInt(K,10)}),eo(k)):P(F)?function vo(k){if(!k._d){var F=Si(k._i);k._a=pt([F.year,F.month,void 0===F.day?F.date:F.day,F.hour,F.minute,F.second,F.millisecond],function(re){return re&&parseInt(re,10)}),eo(k)}}(k):ye(F)?k._d=new Date(F):A.createFromInputFallback(k)}(k),Je(k)||(k._d=null),k))}function Or(k,F,K,re,me){var Oe={};return(!0===F||!1===F)&&(re=F,F=void 0),(!0===K||!1===K)&&(re=K,K=void 0),(P(k)&&Q(k)||t(k)&&0===k.length)&&(k=void 0),Oe._isAMomentObject=!0,Oe._useUTC=Oe._isUTC=me,Oe._l=K,Oe._i=k,Oe._f=F,Oe._strict=re,function Ua(k){var F=new He(hs(Rs(k)));return F._nextDay&&(F.add(1,"d"),F._nextDay=void 0),F}(Oe)}function Ii(k,F,K,re){return Or(k,F,K,re,!1)}A.createFromInputFallback=kt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(k){k._d=new Date(k._i+(k._useUTC?" UTC":""))}),A.ISO_8601=function(){},A.RFC_2822=function(){};var fl=kt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var k=Ii.apply(null,arguments);return this.isValid()&&k.isValid()?k<this?this:k:yt()}),bo=kt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var k=Ii.apply(null,arguments);return this.isValid()&&k.isValid()?k>this?this:k:yt()});function Go(k,F){var K,re;if(1===F.length&&t(F[0])&&(F=F[0]),!F.length)return Ii();for(K=F[0],re=1;re<F.length;++re)(!F[re].isValid()||F[re][k](K))&&(K=F[re]);return K}var Hr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function _s(k){var F=Si(k),K=F.year||0,re=F.quarter||0,me=F.month||0,Oe=F.week||F.isoWeek||0,et=F.day||0,Pt=F.hour||0,Kt=F.minute||0,Di=F.second||0,Ai=F.millisecond||0;this._isValid=function ml(k){var F,re,K=!1,me=Hr.length;for(F in k)if(J(k,F)&&(-1===an.call(Hr,F)||null!=k[F]&&isNaN(k[F])))return!1;for(re=0;re<me;++re)if(k[Hr[re]]){if(K)return!1;parseFloat(k[Hr[re]])!==di(k[Hr[re]])&&(K=!0)}return!0}(F),this._milliseconds=+Ai+1e3*Di+6e4*Kt+1e3*Pt*60*60,this._days=+et+7*Oe,this._months=+me+3*re+12*K,this._data={},this._locale=Pr(),this._bubble()}function Wa(k){return k instanceof _s}function Ys(k){return k<0?-1*Math.round(-1*k):Math.round(k)}function Zo(k,F){Ut(k,0,0,function(){var K=this.utcOffset(),re="+";return K<0&&(K=-K,re="-"),re+On(~~(K/60),2)+F+On(~~K%60,2)})}Zo("Z",":"),Zo("ZZ",""),_t("Z",vt),_t("ZZ",vt),ai(["Z","ZZ"],function(k,F,K){K._useUTC=!0,K._tzm=gs(vt,k)});var qo=/([\+\-]|\d\d)/gi;function gs(k,F){var me,Oe,K=(F||"").match(k);return null===K?null:0===(Oe=60*(me=((K[K.length-1]||[])+"").match(qo)||["-",0,0])[1]+di(me[2]))?0:"+"===me[0]?Oe:-Oe}function Ga(k,F){var K,re;return F._isUTC?(K=F.clone(),re=(bt(k)||Fe(k)?k.valueOf():Ii(k).valueOf())-K.valueOf(),K._d.setTime(K._d.valueOf()+re),A.updateOffset(K,!1),K):Ii(k).local()}function sa(k){return-Math.round(k._d.getTimezoneOffset())}function Bs(){return!!this.isValid()&&this._isUTC&&0===this._offset}A.updateOffset=function(){};var jl=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Nl=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function oa(k,F){var me,Oe,et,K=k,re=null;return Wa(k)?K={ms:k._milliseconds,d:k._days,M:k._months}:ye(k)||!isNaN(+k)?(K={},F?K[F]=+k:K.milliseconds=+k):(re=jl.exec(k))?(me="-"===re[1]?-1:1,K={y:0,d:di(re[2])*me,h:di(re[3])*me,m:di(re[4])*me,s:di(re[5])*me,ms:di(Ys(1e3*re[6]))*me}):(re=Nl.exec(k))?K={y:xs(re[2],me="-"===re[1]?-1:1),M:xs(re[3],me),w:xs(re[4],me),d:xs(re[5],me),h:xs(re[6],me),m:xs(re[7],me),s:xs(re[8],me)}:null==K?K={}:"object"==typeof K&&("from"in K||"to"in K)&&(et=function ws(k,F){var K;return k.isValid()&&F.isValid()?(F=Ga(F,k),k.isBefore(F)?K=Za(k,F):((K=Za(F,k)).milliseconds=-K.milliseconds,K.months=-K.months),K):{milliseconds:0,months:0}}(Ii(K.from),Ii(K.to)),(K={}).ms=et.milliseconds,K.M=et.months),Oe=new _s(K),Wa(k)&&J(k,"_locale")&&(Oe._locale=k._locale),Wa(k)&&J(k,"_isValid")&&(Oe._isValid=k._isValid),Oe}function xs(k,F){var K=k&&parseFloat(k.replace(",","."));return(isNaN(K)?0:K)*F}function Za(k,F){var K={};return K.months=F.month()-k.month()+12*(F.year()-k.year()),k.clone().add(K.months,"M").isAfter(F)&&--K.months,K.milliseconds=+F-+k.clone().add(K.months,"M"),K}function $o(k,F){return function(K,re){var Oe;return null!==re&&!isNaN(+re)&&(en(F,"moment()."+F+"(period, number) is deprecated. Please use moment()."+F+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Oe=K,K=re,re=Oe),la(this,oa(K,re),k),this}}function la(k,F,K,re){var me=F._milliseconds,Oe=Ys(F._days),et=Ys(F._months);!k.isValid()||(re=null==re||re,et&&ia(k,Yn(k,"Month")+et*K),Oe&&ma(k,"Date",Yn(k,"Date")+Oe*K),me&&k._d.setTime(k._d.valueOf()+me*K),re&&A.updateOffset(k,Oe||et))}oa.fn=_s.prototype,oa.invalid=function no(){return oa(NaN)};var Jr=$o(1,"add"),Mo=$o(-1,"subtract");function Rr(k){return"string"==typeof k||k instanceof String}function To(k){return bt(k)||Fe(k)||Rr(k)||ye(k)||function wa(k){var F=t(k),K=!1;return F&&(K=0===k.filter(function(re){return!ye(re)&&Rr(k)}).length),F&&K}(k)||function gl(k){var me,F=P(k)&&!Q(k),K=!1,re=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],et=re.length;for(me=0;me<et;me+=1)K=K||J(k,re[me]);return F&&K}(k)||null==k}function ca(k){var me,F=P(k)&&!Q(k),K=!1,re=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(me=0;me<re.length;me+=1)K=K||J(k,re[me]);return F&&K}function Do(k,F){if(k.date()<F.date())return-Do(F,k);var K=12*(F.year()-k.year())+(F.month()-k.month()),re=k.clone().add(K,"months");return-(K+(F-re<0?(F-re)/(re-k.clone().add(K-1,"months")):(F-re)/(k.clone().add(K+1,"months")-re)))||0}function st(k){var F;return void 0===k?this._locale._abbr:(null!=(F=Pr(k))&&(this._locale=F),this)}A.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",A.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var pi=kt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(k){return void 0===k?this.localeData():this.locale(k)});function tn(){return this._locale}var Tr=6e4,un=60*Tr,Ns=3506328*un;function Ts(k,F){return(k%F+F)%F}function yl(k,F,K){return k<100&&k>=0?new Date(k+400,F,K)-Ns:new Date(k,F,K).valueOf()}function so(k,F,K){return k<100&&k>=0?Date.UTC(k+400,F,K)-Ns:Date.UTC(k,F,K)}function tl(k,F){return F.erasAbbrRegex(k)}function Vs(){var me,Oe,k=[],F=[],K=[],re=[],et=this.eras();for(me=0,Oe=et.length;me<Oe;++me)F.push(ji(et[me].name)),k.push(ji(et[me].abbr)),K.push(ji(et[me].narrow)),re.push(ji(et[me].name)),re.push(ji(et[me].abbr)),re.push(ji(et[me].narrow));this._erasRegex=new RegExp("^("+re.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+F.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+k.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+K.join("|")+")","i")}function il(k,F){Ut(0,[k,k.length],0,F)}function Xa(k,F,K,re,me){var Oe;return null==k?ir(this,re,me).year:(F>(Oe=Ci(k,re,me))&&(F=Oe),lo.call(this,k,F,K,re,me))}function lo(k,F,K,re,me){var Oe=Oa(k,F,K,re,me),et=rr(Oe.year,0,Oe.dayOfYear);return this.year(et.getUTCFullYear()),this.month(et.getUTCMonth()),this.date(et.getUTCDate()),this}Ut("N",0,0,"eraAbbr"),Ut("NN",0,0,"eraAbbr"),Ut("NNN",0,0,"eraAbbr"),Ut("NNNN",0,0,"eraName"),Ut("NNNNN",0,0,"eraNarrow"),Ut("y",["y",1],"yo","eraYear"),Ut("y",["yy",2],0,"eraYear"),Ut("y",["yyy",3],0,"eraYear"),Ut("y",["yyyy",4],0,"eraYear"),_t("N",tl),_t("NN",tl),_t("NNN",tl),_t("NNNN",function pc(k,F){return F.erasNameRegex(k)}),_t("NNNNN",function Co(k,F){return F.erasNarrowRegex(k)}),ai(["N","NN","NNN","NNNN","NNNNN"],function(k,F,K,re){var me=K._locale.erasParse(k,re,K._strict);me?qe(K).era=me:qe(K).invalidEra=k}),_t("y",Xe),_t("yy",Xe),_t("yyy",Xe),_t("yyyy",Xe),_t("yo",function pr(k,F){return F._eraYearOrdinalRegex||Xe}),ai(["y","yy","yyy","yyyy"],0),ai(["yo"],function(k,F,K,re){var me;K._locale._eraYearOrdinalRegex&&(me=k.match(K._locale._eraYearOrdinalRegex)),F[0]=K._locale.eraYearOrdinalParse?K._locale.eraYearOrdinalParse(k,me):parseInt(k,10)}),Ut(0,["gg",2],0,function(){return this.weekYear()%100}),Ut(0,["GG",2],0,function(){return this.isoWeekYear()%100}),il("gggg","weekYear"),il("ggggg","weekYear"),il("GGGG","isoWeekYear"),il("GGGGG","isoWeekYear"),zi("weekYear","gg"),zi("isoWeekYear","GG"),Hi("weekYear",1),Hi("isoWeekYear",1),_t("G",wt),_t("g",wt),_t("GG",be,ur),_t("gg",be,ur),_t("GGGG",Ue,he),_t("gggg",Ue,he),_t("GGGGG",X,fe),_t("ggggg",X,fe),Ti(["gggg","ggggg","GGGG","GGGGG"],function(k,F,K,re){F[re.substr(0,2)]=di(k)}),Ti(["gg","GG"],function(k,F,K,re){F[re]=A.parseTwoDigitYear(k)}),Ut("Q",0,"Qo","quarter"),zi("quarter","Q"),Hi("quarter",7),_t("Q",vr),ai("Q",function(k,F){F[1]=3*(di(k)-1)}),Ut("D",["DD",2],"Do","date"),zi("date","D"),Hi("date",9),_t("D",be),_t("DD",be,ur),_t("Do",function(k,F){return k?F._dayOfMonthOrdinalParse||F._ordinalParse:F._dayOfMonthOrdinalParseLenient}),ai(["D","DD"],2),ai("Do",function(k,F){F[2]=di(k.match(be)[0])});var Bt=cr("Date",!0);Ut("DDD",["DDDD",3],"DDDo","dayOfYear"),zi("dayOfYear","DDD"),Hi("dayOfYear",4),_t("DDD",We),_t("DDDD",ke),ai(["DDD","DDDD"],function(k,F,K){K._dayOfYear=di(k)}),Ut("m",["mm",2],0,"minute"),zi("minute","m"),Hi("minute",14),_t("m",be),_t("mm",be,ur),ai(["m","mm"],4);var mc=cr("Minutes",!1);Ut("s",["ss",2],0,"second"),zi("second","s"),Hi("second",15),_t("s",be),_t("ss",be,ur),ai(["s","ss"],5);var Qr,Rt,nl=cr("Seconds",!1);for(Ut("S",0,0,function(){return~~(this.millisecond()/100)}),Ut(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ut(0,["SSS",3],0,"millisecond"),Ut(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Ut(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Ut(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Ut(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Ut(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Ut(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),zi("millisecond","ms"),Hi("millisecond",16),_t("S",We,vr),_t("SS",We,ur),_t("SSS",We,ke),Qr="SSSS";Qr.length<=9;Qr+="S")_t(Qr,Xe);function _c(k,F){F[6]=di(1e3*("0."+k))}for(Qr="S";Qr.length<=9;Qr+="S")ai(Qr,_c);Rt=cr("Milliseconds",!1),Ut("z",0,0,"zoneAbbr"),Ut("zz",0,0,"zoneName");var At=He.prototype;function yc(k){return k}At.add=Jr,At.calendar=function ao(k,F){1===arguments.length&&(arguments[0]?To(arguments[0])?(k=arguments[0],F=void 0):ca(arguments[0])&&(F=arguments[0],k=void 0):(k=void 0,F=void 0));var K=k||Ii(),re=Ga(K,this).startOf("day"),me=A.calendarFormat(this,re)||"sameElse",Oe=F&&(wi(F[me])?F[me].call(this,K):F[me]);return this.format(Oe||this.localeData().calendar(me,this,Ii(K)))},At.clone=function Ri(){return new He(this)},At.diff=function qa(k,F,K){var re,me,Oe;if(!this.isValid())return NaN;if(!(re=Ga(k,this)).isValid())return NaN;switch(me=6e4*(re.utcOffset()-this.utcOffset()),F=Fn(F)){case"year":Oe=Do(this,re)/12;break;case"month":Oe=Do(this,re);break;case"quarter":Oe=Do(this,re)/3;break;case"second":Oe=(this-re)/1e3;break;case"minute":Oe=(this-re)/6e4;break;case"hour":Oe=(this-re)/36e5;break;case"day":Oe=(this-re-me)/864e5;break;case"week":Oe=(this-re-me)/6048e5;break;default:Oe=this-re}return K?Oe:Mi(Oe)},At.endOf=function Jo(k){var F,K;if(void 0===(k=Fn(k))||"millisecond"===k||!this.isValid())return this;switch(K=this._isUTC?so:yl,k){case"year":F=K(this.year()+1,0,1)-1;break;case"quarter":F=K(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":F=K(this.year(),this.month()+1,1)-1;break;case"week":F=K(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":F=K(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":F=K(this.year(),this.month(),this.date()+1)-1;break;case"hour":F=this._d.valueOf(),F+=un-Ts(F+(this._isUTC?0:this.utcOffset()*Tr),un)-1;break;case"minute":F=this._d.valueOf(),F+=Tr-Ts(F,Tr)-1;break;case"second":F=this._d.valueOf(),F+=1e3-Ts(F,1e3)-1}return this._d.setTime(F),A.updateOffset(this,!0),this},At.format=function N(k){k||(k=this.isUtc()?A.defaultFormatUtc:A.defaultFormat);var F=Wn(this,k);return this.localeData().postformat(F)},At.from=function G(k,F){return this.isValid()&&(bt(k)&&k.isValid()||Ii(k).isValid())?oa({to:this,from:k}).locale(this.locale()).humanize(!F):this.localeData().invalidDate()},At.fromNow=function de(k){return this.from(Ii(),k)},At.to=function De(k,F){return this.isValid()&&(bt(k)&&k.isValid()||Ii(k).isValid())?oa({from:this,to:k}).locale(this.locale()).humanize(!F):this.localeData().invalidDate()},At.toNow=function rt(k){return this.to(Ii(),k)},At.get=function Gt(k){return wi(this[k=Fn(k)])?this[k]():this},At.invalidAt=function Ul(){return qe(this).overflow},At.isAfter=function hr(k,F){var K=bt(k)?k:Ii(k);return!(!this.isValid()||!K.isValid())&&("millisecond"===(F=Fn(F)||"millisecond")?this.valueOf()>K.valueOf():K.valueOf()<this.clone().startOf(F).valueOf())},At.isBefore=function ko(k,F){var K=bt(k)?k:Ii(k);return!(!this.isValid()||!K.isValid())&&("millisecond"===(F=Fn(F)||"millisecond")?this.valueOf()<K.valueOf():this.clone().endOf(F).valueOf()<K.valueOf())},At.isBetween=function _n(k,F,K,re){var me=bt(k)?k:Ii(k),Oe=bt(F)?F:Ii(F);return!!(this.isValid()&&me.isValid()&&Oe.isValid())&&("("===(re=re||"()")[0]?this.isAfter(me,K):!this.isBefore(me,K))&&(")"===re[1]?this.isBefore(Oe,K):!this.isAfter(Oe,K))},At.isSame=function Kr(k,F){var re,K=bt(k)?k:Ii(k);return!(!this.isValid()||!K.isValid())&&("millisecond"===(F=Fn(F)||"millisecond")?this.valueOf()===K.valueOf():(re=K.valueOf(),this.clone().startOf(F).valueOf()<=re&&re<=this.clone().endOf(F).valueOf()))},At.isSameOrAfter=function Hl(k,F){return this.isSame(k,F)||this.isAfter(k,F)},At.isSameOrBefore=function Ms(k,F){return this.isSame(k,F)||this.isBefore(k,F)},At.isValid=function oo(){return Je(this)},At.lang=pi,At.locale=st,At.localeData=tn,At.max=bo,At.min=fl,At.parsingFlags=function Vl(){return Te({},qe(this))},At.set=function ea(k,F){if("object"==typeof k){var re,K=function yr(k){var K,F=[];for(K in k)J(k,K)&&F.push({unit:K,priority:hn[K]});return F.sort(function(re,me){return re.priority-me.priority}),F}(k=Si(k)),me=K.length;for(re=0;re<me;re++)this[K[re].unit](k[K[re].unit])}else if(wi(this[k=Fn(k)]))return this[k](F);return this},At.startOf=function lc(k){var F,K;if(void 0===(k=Fn(k))||"millisecond"===k||!this.isValid())return this;switch(K=this._isUTC?so:yl,k){case"year":F=K(this.year(),0,1);break;case"quarter":F=K(this.year(),this.month()-this.month()%3,1);break;case"month":F=K(this.year(),this.month(),1);break;case"week":F=K(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":F=K(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":F=K(this.year(),this.month(),this.date());break;case"hour":F=this._d.valueOf(),F-=Ts(F+(this._isUTC?0:this.utcOffset()*Tr),un);break;case"minute":F=this._d.valueOf(),F-=Ts(F,Tr);break;case"second":F=this._d.valueOf(),F-=Ts(F,1e3)}return this._d.setTime(F),A.updateOffset(this,!0),this},At.subtract=Mo,At.toArray=function Pc(){var k=this;return[k.year(),k.month(),k.date(),k.hour(),k.minute(),k.second(),k.millisecond()]},At.toObject=function Qo(){var k=this;return{years:k.year(),months:k.month(),date:k.date(),hours:k.hours(),minutes:k.minutes(),seconds:k.seconds(),milliseconds:k.milliseconds()}},At.toDate=function au(){return new Date(this.valueOf())},At.toISOString=function js(k){if(!this.isValid())return null;var F=!0!==k,K=F?this.clone().utc():this;return K.year()<0||K.year()>9999?Wn(K,F?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):wi(Date.prototype.toISOString)?F?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Wn(K,"Z")):Wn(K,F?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},At.inspect=function $a(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var K,re,k="moment",F="";return this.isLocal()||(k=0===this.utcOffset()?"moment.utc":"moment.parseZone",F="Z"),K="["+k+'("]',re=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(K+re+"-MM-DD[T]HH:mm:ss.SSS"+F+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(At[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),At.toJSON=function Hs(){return this.isValid()?this.toISOString():null},At.toString=function Xo(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},At.unix=function cc(){return Math.floor(this.valueOf()/1e3)},At.valueOf=function Ko(){return this._d.valueOf()-6e4*(this._offset||0)},At.creationData=function Lo(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},At.eraName=function vl(){var k,F,K,re=this.localeData().eras();for(k=0,F=re.length;k<F;++k)if(K=this.clone().startOf("day").valueOf(),re[k].since<=K&&K<=re[k].until||re[k].until<=K&&K<=re[k].since)return re[k].name;return""},At.eraNarrow=function So(){var k,F,K,re=this.localeData().eras();for(k=0,F=re.length;k<F;++k)if(K=this.clone().startOf("day").valueOf(),re[k].since<=K&&K<=re[k].until||re[k].until<=K&&K<=re[k].since)return re[k].narrow;return""},At.eraAbbr=function Xn(){var k,F,K,re=this.localeData().eras();for(k=0,F=re.length;k<F;++k)if(K=this.clone().startOf("day").valueOf(),re[k].since<=K&&K<=re[k].until||re[k].until<=K&&K<=re[k].since)return re[k].abbr;return""},At.eraYear=function dc(){var k,F,K,re,me=this.localeData().eras();for(k=0,F=me.length;k<F;++k)if(K=me[k].since<=me[k].until?1:-1,re=this.clone().startOf("day").valueOf(),me[k].since<=re&&re<=me[k].until||me[k].until<=re&&re<=me[k].since)return(this.year()-A(me[k].since).year())*K+me[k].offset;return this.year()},At.year=Ar,At.isLeapYear=function Hn(){return Bi(this.year())},At.weekYear=function su(k){return Xa.call(this,k,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},At.isoWeekYear=function ou(k){return Xa.call(this,k,this.isoWeek(),this.isoWeekday(),1,4)},At.quarter=At.quarters=function Gl(k){return null==k?Math.ceil((this.month()+1)/3):this.month(3*(k-1)+this.month()%3)},At.month=ss,At.daysInMonth=function zl(){return Cs(this.year(),this.month())},At.week=At.weeks=function Gr(k){var F=this.localeData().week(this);return null==k?F:this.add(7*(k-F),"d")},At.isoWeek=At.isoWeeks=function ls(k){var F=ir(this,1,4).week;return null==k?F:this.add(7*(k-F),"d")},At.weeksInYear=function lu(){var k=this.localeData()._week;return Ci(this.year(),k.dow,k.doy)},At.weeksInWeekYear=function Ta(){var k=this.localeData()._week;return Ci(this.weekYear(),k.dow,k.doy)},At.isoWeeksInYear=function Ma(){return Ci(this.year(),1,4)},At.isoWeeksInISOWeekYear=function Fc(){return Ci(this.isoWeekYear(),1,4)},At.date=Bt,At.day=At.days=function _o(k){if(!this.isValid())return null!=k?this:NaN;var F=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=k?(k=function Fa(k,F){return"string"!=typeof k?k:isNaN(k)?"number"==typeof(k=F.weekdaysParse(k))?k:null:parseInt(k,10)}(k,this.localeData()),this.add(k-F,"d")):F},At.weekday=function za(k){if(!this.isValid())return null!=k?this:NaN;var F=(this.day()+7-this.localeData()._week.dow)%7;return null==k?F:this.add(k-F,"d")},At.isoWeekday=function Sn(k){if(!this.isValid())return null!=k?this:NaN;if(null!=k){var F=function Ya(k,F){return"string"==typeof k?F.weekdaysParse(k)%7||7:isNaN(k)?null:k}(k,this.localeData());return this.day(this.day()%7?F:F-7)}return this.day()||7},At.dayOfYear=function fc(k){var F=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==k?F:this.add(k-F,"d")},At.hour=At.hours=Is,At.minute=At.minutes=mc,At.second=At.seconds=nl,At.millisecond=At.milliseconds=Rt,At.utcOffset=function xi(k,F,K){var me,re=this._offset||0;if(!this.isValid())return null!=k?this:NaN;if(null!=k){if("string"==typeof k){if(null===(k=gs(vt,k)))return this}else Math.abs(k)<16&&!K&&(k*=60);return!this._isUTC&&F&&(me=sa(this)),this._offset=k,this._isUTC=!0,null!=me&&this.add(me,"m"),re!==k&&(!F||this._changeInProgress?la(this,oa(k-re,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,A.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?re:sa(this)},At.utc=function xa(k){return this.utcOffset(0,k)},At.local=function zs(k){return this._isUTC&&(this.utcOffset(0,k),this._isUTC=!1,k&&this.subtract(sa(this),"m")),this},At.parseZone=function wo(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var k=gs(St,this._i);null!=k?this.utcOffset(k):this.utcOffset(0,!0)}return this},At.hasAlignedHourOffset=function ro(k){return!!this.isValid()&&(k=k?Ii(k).utcOffset():0,(this.utcOffset()-k)%60==0)},At.isDST=function ys(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},At.isLocal=function Xr(){return!!this.isValid()&&!this._isUTC},At.isUtcOffset=function bs(){return!!this.isValid()&&this._isUTC},At.isUtc=Bs,At.isUTC=Bs,At.zoneAbbr=function cu(){return this._isUTC?"UTC":""},At.zoneName=function Yc(){return this._isUTC?"Coordinated Universal Time":""},At.dates=kt("dates accessor is deprecated. Use date instead.",Bt),At.months=kt("months accessor is deprecated. Use month instead",ss),At.years=kt("years accessor is deprecated. Use year instead",Ar),At.zone=kt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function oc(k,F){return null!=k?("string"!=typeof k&&(k=-k),this.utcOffset(k,F),this):-this.utcOffset()}),At.isDSTShifted=kt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function vs(){if(!oe(this._isDSTShifted))return this._isDSTShifted;var F,k={};return ut(k,this),(k=Rs(k))._a?(F=k._isUTC?gt(k._a):Ii(k._a),this._isDSTShifted=this.isValid()&&function _l(k,F,K){var et,re=Math.min(k.length,F.length),me=Math.abs(k.length-F.length),Oe=0;for(et=0;et<re;et++)(K&&k[et]!==F[et]||!K&&di(k[et])!==di(F[et]))&&Oe++;return Oe+me}(k._a,F.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var nn=ei.prototype;function ua(k,F,K,re){var me=Pr(),Oe=gt().set(re,F);return me[K](Oe,k)}function Ja(k,F,K){if(ye(k)&&(F=k,k=void 0),k=k||"",null!=F)return ua(k,F,K,"month");var re,me=[];for(re=0;re<12;re++)me[re]=ua(k,re,K,"month");return me}function Eo(k,F,K,re){"boolean"==typeof k?(ye(F)&&(K=F,F=void 0),F=F||""):(K=F=k,k=!1,ye(F)&&(K=F,F=void 0),F=F||"");var et,me=Pr(),Oe=k?me._week.dow:0,Pt=[];if(null!=K)return ua(F,(K+Oe)%7,re,"day");for(et=0;et<7;et++)Pt[et]=ua(F,(et+Oe)%7,re,"day");return Pt}nn.calendar=function Tn(k,F,K){var re=this._calendar[k]||this._calendar.sameElse;return wi(re)?re.call(F,K):re},nn.longDateFormat=function Fr(k){var F=this._longDateFormat[k],K=this._longDateFormat[k.toUpperCase()];return F||!K?F:(this._longDateFormat[k]=K.match(Li).map(function(re){return"MMMM"===re||"MM"===re||"DD"===re||"dddd"===re?re.slice(1):re}).join(""),this._longDateFormat[k])},nn.invalidDate=function Pi(){return this._invalidDate},nn.ordinal=function kn(k){return this._ordinal.replace("%d",k)},nn.preparse=yc,nn.postformat=yc,nn.relativeTime=function Wr(k,F,K,re){var me=this._relativeTime[K];return wi(me)?me(k,F,K,re):me.replace(/%d/i,k)},nn.pastFuture=function tr(k,F){var K=this._relativeTime[k>0?"future":"past"];return wi(K)?K(F):K.replace(/%s/i,F)},nn.set=function mi(k){var F,K;for(K in k)J(k,K)&&(wi(F=k[K])?this[K]=F:this["_"+K]=F);this._config=k,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},nn.eras=function el(k,F){var K,re,me,Oe=this._eras||Pr("en")._eras;for(K=0,re=Oe.length;K<re;++K)switch("string"==typeof Oe[K].since&&(me=A(Oe[K].since).startOf("day"),Oe[K].since=me.valueOf()),typeof Oe[K].until){case"undefined":Oe[K].until=1/0;break;case"string":me=A(Oe[K].until).startOf("day").valueOf(),Oe[K].until=me.valueOf()}return Oe},nn.erasParse=function uc(k,F,K){var re,me,et,Pt,Kt,Oe=this.eras();for(k=k.toUpperCase(),re=0,me=Oe.length;re<me;++re)if(et=Oe[re].name.toUpperCase(),Pt=Oe[re].abbr.toUpperCase(),Kt=Oe[re].narrow.toUpperCase(),K)switch(F){case"N":case"NN":case"NNN":if(Pt===k)return Oe[re];break;case"NNNN":if(et===k)return Oe[re];break;case"NNNNN":if(Kt===k)return Oe[re]}else if([et,Pt,Kt].indexOf(k)>=0)return Oe[re]},nn.erasConvertYear=function Wl(k,F){var K=k.since<=k.until?1:-1;return void 0===F?A(k.since).year():A(k.since).year()+(F-k.offset)*K},nn.erasAbbrRegex=function Rc(k){return J(this,"_erasAbbrRegex")||Vs.call(this),k?this._erasAbbrRegex:this._erasRegex},nn.erasNameRegex=function Oc(k){return J(this,"_erasNameRegex")||Vs.call(this),k?this._erasNameRegex:this._erasRegex},nn.erasNarrowRegex=function hc(k){return J(this,"_erasNarrowRegex")||Vs.call(this),k?this._erasNarrowRegex:this._erasRegex},nn.months=function ta(k,F){return k?t(this._months)?this._months[k.month()]:this._months[(this._months.isFormat||_a).test(F)?"format":"standalone"][k.month()]:t(this._months)?this._months:this._months.standalone},nn.monthsShort=function zn(k,F){return k?t(this._monthsShort)?this._monthsShort[k.month()]:this._monthsShort[_a.test(F)?"format":"standalone"][k.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},nn.monthsParse=function Yl(k,F,K){var re,me,Oe;if(this._monthsParseExact)return $n.call(this,k,F,K);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),re=0;re<12;re++){if(me=gt([2e3,re]),K&&!this._longMonthsParse[re]&&(this._longMonthsParse[re]=new RegExp("^"+this.months(me,"").replace(".","")+"$","i"),this._shortMonthsParse[re]=new RegExp("^"+this.monthsShort(me,"").replace(".","")+"$","i")),!K&&!this._monthsParse[re]&&(Oe="^"+this.months(me,"")+"|^"+this.monthsShort(me,""),this._monthsParse[re]=new RegExp(Oe.replace(".",""),"i")),K&&"MMMM"===F&&this._longMonthsParse[re].test(k))return re;if(K&&"MMM"===F&&this._shortMonthsParse[re].test(k))return re;if(!K&&this._monthsParse[re].test(k))return re}},nn.monthsRegex=function Ot(k){return this._monthsParseExact?(J(this,"_monthsRegex")||bi.call(this),k?this._monthsStrictRegex:this._monthsRegex):(J(this,"_monthsRegex")||(this._monthsRegex=at),this._monthsStrictRegex&&k?this._monthsStrictRegex:this._monthsRegex)},nn.monthsShortRegex=function vn(k){return this._monthsParseExact?(J(this,"_monthsRegex")||bi.call(this),k?this._monthsShortStrictRegex:this._monthsShortRegex):(J(this,"_monthsShortRegex")||(this._monthsShortRegex=Pa),this._monthsShortStrictRegex&&k?this._monthsShortStrictRegex:this._monthsShortRegex)},nn.week=function jo(k){return ir(k,this._week.dow,this._week.doy).week},nn.firstDayOfYear=function na(){return this._week.doy},nn.firstDayOfWeek=function os(){return this._week.dow},nn.weekdays=function Zr(k,F){var K=t(this._weekdays)?this._weekdays:this._weekdays[k&&!0!==k&&this._weekdays.isFormat.test(F)?"format":"standalone"];return!0===k?Ir(K,this._week.dow):k?K[k.day()]:K},nn.weekdaysMin=function fo(k){return!0===k?Ir(this._weekdaysMin,this._week.dow):k?this._weekdaysMin[k.day()]:this._weekdaysMin},nn.weekdaysShort=function Bl(k){return!0===k?Ir(this._weekdaysShort,this._week.dow):k?this._weekdaysShort[k.day()]:this._weekdaysShort},nn.weekdaysParse=function mo(k,F,K){var re,me,Oe;if(this._weekdaysParseExact)return Vi.call(this,k,F,K);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),re=0;re<7;re++){if(me=gt([2e3,1]).day(re),K&&!this._fullWeekdaysParse[re]&&(this._fullWeekdaysParse[re]=new RegExp("^"+this.weekdays(me,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[re]=new RegExp("^"+this.weekdaysShort(me,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[re]=new RegExp("^"+this.weekdaysMin(me,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[re]||(Oe="^"+this.weekdays(me,"")+"|^"+this.weekdaysShort(me,"")+"|^"+this.weekdaysMin(me,""),this._weekdaysParse[re]=new RegExp(Oe.replace(".",""),"i")),K&&"dddd"===F&&this._fullWeekdaysParse[re].test(k))return re;if(K&&"ddd"===F&&this._shortWeekdaysParse[re].test(k))return re;if(K&&"dd"===F&&this._minWeekdaysParse[re].test(k))return re;if(!K&&this._weekdaysParse[re].test(k))return re}},nn.weekdaysRegex=function xr(k){return this._weekdaysParseExact?(J(this,"_weekdaysRegex")||ar.call(this),k?this._weekdaysStrictRegex:this._weekdaysRegex):(J(this,"_weekdaysRegex")||(this._weekdaysRegex=dl),this._weekdaysStrictRegex&&k?this._weekdaysStrictRegex:this._weekdaysRegex)},nn.weekdaysShortRegex=function $s(k){return this._weekdaysParseExact?(J(this,"_weekdaysRegex")||ar.call(this),k?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(J(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=No),this._weekdaysShortStrictRegex&&k?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},nn.weekdaysMinRegex=function qr(k){return this._weekdaysParseExact?(J(this,"_weekdaysRegex")||ar.call(this),k?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(J(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=dr),this._weekdaysMinStrictRegex&&k?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},nn.isPM=function nr(k){return"p"===(k+"").toLowerCase().charAt(0)},nn.meridiem=function Ba(k,F,K){return k>11?K?"pm":"PM":K?"am":"AM"},jr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(k){var F=k%10;return k+(1===di(k%100/10)?"th":1===F?"st":2===F?"nd":3===F?"rd":"th")}}),A.lang=kt("moment.lang is deprecated. Use moment.locale instead.",jr),A.langData=kt("moment.langData is deprecated. Use moment.localeData instead.",Pr);var x=Math.abs;function I(k,F,K,re){var me=oa(F,K);return k._milliseconds+=re*me._milliseconds,k._days+=re*me._days,k._months+=re*me._months,k._bubble()}function $(k){return k<0?Math.floor(k):Math.ceil(k)}function ae(k){return 4800*k/146097}function a(k){return 146097*k/4800}function p(k){return function(){return this.as(k)}}var b=p("ms"),w=p("s"),D=p("m"),O=p("h"),C=p("d"),z=p("w"),U=p("M"),W=p("Q"),ie=p("y");function ve(k){return function(){return this.isValid()?this._data[k]:NaN}}var ge=ve("milliseconds"),Ee=ve("seconds"),Re=ve("minutes"),Ze=ve("hours"),je=ve("days"),Ge=ve("months"),lt=ve("years");var ot=Math.round,Et={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Vt(k,F,K,re,me){return me.relativeTime(F||1,!!K,k,re)}var jt=Math.abs;function Ei(k){return(k>0)-(k<0)||+k}function Ji(){if(!this.isValid())return this.localeData().invalidDate();var re,me,Oe,et,Kt,Di,Ai,Vn,k=jt(this._milliseconds)/1e3,F=jt(this._days),K=jt(this._months),Pt=this.asSeconds();return Pt?(re=Mi(k/60),me=Mi(re/60),k%=60,re%=60,Oe=Mi(K/12),K%=12,et=k?k.toFixed(3).replace(/\.?0+$/,""):"",Kt=Pt<0?"-":"",Di=Ei(this._months)!==Ei(Pt)?"-":"",Ai=Ei(this._days)!==Ei(Pt)?"-":"",Vn=Ei(this._milliseconds)!==Ei(Pt)?"-":"",Kt+"P"+(Oe?Di+Oe+"Y":"")+(K?Di+K+"M":"")+(F?Ai+F+"D":"")+(me||re||k?"T":"")+(me?Vn+me+"H":"")+(re?Vn+re+"M":"")+(k?Vn+et+"S":"")):"P0D"}var qt=_s.prototype;return qt.isValid=function ba(){return this._isValid},qt.abs=function T(){var k=this._data;return this._milliseconds=x(this._milliseconds),this._days=x(this._days),this._months=x(this._months),k.milliseconds=x(k.milliseconds),k.seconds=x(k.seconds),k.minutes=x(k.minutes),k.hours=x(k.hours),k.months=x(k.months),k.years=x(k.years),this},qt.add=function R(k,F){return I(this,k,F,1)},qt.subtract=function H(k,F){return I(this,k,F,-1)},qt.as=function l(k){if(!this.isValid())return NaN;var F,K,re=this._milliseconds;if("month"===(k=Fn(k))||"quarter"===k||"year"===k)switch(F=this._days+re/864e5,K=this._months+ae(F),k){case"month":return K;case"quarter":return K/3;case"year":return K/12}else switch(F=this._days+Math.round(a(this._months)),k){case"week":return F/7+re/6048e5;case"day":return F+re/864e5;case"hour":return 24*F+re/36e5;case"minute":return 1440*F+re/6e4;case"second":return 86400*F+re/1e3;case"millisecond":return Math.floor(864e5*F)+re;default:throw new Error("Unknown unit "+k)}},qt.asMilliseconds=b,qt.asSeconds=w,qt.asMinutes=D,qt.asHours=O,qt.asDays=C,qt.asWeeks=z,qt.asMonths=U,qt.asQuarters=W,qt.asYears=ie,qt.valueOf=function d(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*di(this._months/12):NaN},qt._bubble=function q(){var me,Oe,et,Pt,Kt,k=this._milliseconds,F=this._days,K=this._months,re=this._data;return k>=0&&F>=0&&K>=0||k<=0&&F<=0&&K<=0||(k+=864e5*$(a(K)+F),F=0,K=0),re.milliseconds=k%1e3,me=Mi(k/1e3),re.seconds=me%60,Oe=Mi(me/60),re.minutes=Oe%60,et=Mi(Oe/60),re.hours=et%24,F+=Mi(et/24),K+=Kt=Mi(ae(F)),F-=$(a(Kt)),Pt=Mi(K/12),K%=12,re.days=F,re.months=K,re.years=Pt,this},qt.clone=function ce(){return oa(this)},qt.get=function pe(k){return k=Fn(k),this.isValid()?this[k+"s"]():NaN},qt.milliseconds=ge,qt.seconds=Ee,qt.minutes=Re,qt.hours=Ze,qt.days=je,qt.weeks=function tt(){return Mi(this.days()/7)},qt.months=Ge,qt.years=lt,qt.humanize=function ci(k,F){if(!this.isValid())return this.localeData().invalidDate();var me,Oe,K=!1,re=Et;return"object"==typeof k&&(F=k,k=!1),"boolean"==typeof k&&(K=k),"object"==typeof F&&(re=Object.assign({},Et,F),null!=F.s&&null==F.ss&&(re.ss=F.s-1)),Oe=function It(k,F,K,re){var me=oa(k).abs(),Oe=ot(me.as("s")),et=ot(me.as("m")),Pt=ot(me.as("h")),Kt=ot(me.as("d")),Di=ot(me.as("M")),Ai=ot(me.as("w")),Vn=ot(me.as("y")),Us=Oe<=K.ss&&["s",Oe]||Oe<K.s&&["ss",Oe]||et<=1&&["m"]||et<K.m&&["mm",et]||Pt<=1&&["h"]||Pt<K.h&&["hh",Pt]||Kt<=1&&["d"]||Kt<K.d&&["dd",Kt];return null!=K.w&&(Us=Us||Ai<=1&&["w"]||Ai<K.w&&["ww",Ai]),(Us=Us||Di<=1&&["M"]||Di<K.M&&["MM",Di]||Vn<=1&&["y"]||["yy",Vn])[2]=F,Us[3]=+k>0,Us[4]=re,Vt.apply(null,Us)}(this,!K,re,me=this.localeData()),K&&(Oe=me.pastFuture(+this,Oe)),me.postformat(Oe)},qt.toISOString=Ji,qt.toString=Ji,qt.toJSON=Ji,qt.locale=st,qt.localeData=tn,qt.toIsoString=kt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ji),qt.lang=pi,Ut("X",0,0,"unix"),Ut("x",0,0,"valueOf"),_t("x",wt),_t("X",/[+-]?\d+(\.\d{1,3})?/),ai("X",function(k,F,K){K._d=new Date(1e3*parseFloat(k))}),ai("x",function(k,F,K){K._d=new Date(di(k))}),A.version="2.29.4",function Y(k){te=k}(Ii),A.fn=At,A.min=function xo(){return Go("isBefore",[].slice.call(arguments,0))},A.max=function Fs(){return Go("isAfter",[].slice.call(arguments,0))},A.now=function(){return Date.now?Date.now():+new Date},A.utc=gt,A.unix=function gc(k){return Ii(1e3*k)},A.months=function Ao(k,F){return Ja(k,F,"months")},A.isDate=Fe,A.locale=jr,A.invalid=yt,A.duration=oa,A.isMoment=bt,A.weekdays=function r(k,F,K){return Eo(k,F,K,"weekdays")},A.parseZone=function zc(){return Ii.apply(null,arguments).parseZone()},A.localeData=Pr,A.isDuration=Wa,A.monthsShort=function h(k,F){return Ja(k,F,"monthsShort")},A.weekdaysMin=function _(k,F,K){return Eo(k,F,K,"weekdaysMin")},A.defineLocale=Oi,A.updateLocale=function Mr(k,F){if(null!=F){var K,re,me=Ps;null!=Wi[k]&&null!=Wi[k].parentLocale?Wi[k].set(gr(Wi[k]._config,F)):(null!=(re=Os(k))&&(me=re._config),F=gr(me,F),null==re&&(F.abbr=k),(K=new ei(F)).parentLocale=Wi[k],Wi[k]=K),jr(k)}else null!=Wi[k]&&(null!=Wi[k].parentLocale?(Wi[k]=Wi[k].parentLocale,k===jr()&&jr(k)):null!=Wi[k]&&delete Wi[k]);return Wi[k]},A.locales=function Vo(){return Mn(Wi)},A.weekdaysShort=function c(k,F,K){return Eo(k,F,K,"weekdaysShort")},A.normalizeUnits=Fn,A.relativeTimeRounding=function Dt(k){return void 0===k?ot:"function"==typeof k&&(ot=k,!0)},A.relativeTimeThreshold=function Zt(k,F){return void 0!==Et[k]&&(void 0===F?Et[k]:(Et[k]=F,"s"===k&&(Et.ss=F-1),!0))},A.calendarFormat=function sr(k,F){var K=k.diff(F,"days",!0);return K<-6?"sameElse":K<-1?"lastWeek":K<0?"lastDay":K<1?"sameDay":K<2?"nextDay":K<7?"nextWeek":"sameElse"},A.prototype=At,A.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},A}()},6775:function(ze){var te;te=function(){var se=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function te(J){return J.match(se)||[]}function Y(J){return{language:(J=te(J))[1]||"",extlang:J[2]||"",script:J[3]||"",region:J[4]||""}}function t(J,Q,oe){Object.defineProperty(J,Q,{value:oe,enumerable:!0})}function P(J,Q,oe){function ye(Fe){return te(Fe)[J]||""}t(ye,"pattern",Q),t(Y,oe,ye)}return P(1,/^[a-zA-Z]{2,3}$/,"language"),P(2,/^[a-zA-Z]{3}$/,"extlang"),P(3,/^[a-zA-Z]{4}$/,"script"),P(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),t(Y,"split",function A(J){return te(J).filter(function(Q,oe){return Q&&oe})}),Y},ze.exports?ze.exports=te():this.subtag=te()},5562:(ze,Ye,se)=>{"use strict";var te=se(8576);ze.exports=te,"undefined"!=typeof window&&(window.Suggestions=te)},7554:ze=>{"use strict";var Ye=function(se){return this.component=se,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,se.el.parentNode.insertBefore(this.wrapper,se.el.nextSibling),this};Ye.prototype.show=function(){this.element.style.display="block"},Ye.prototype.hide=function(){this.element.style.display="none"},Ye.prototype.add=function(se){this.items.push(se)},Ye.prototype.clear=function(){this.items=[],this.active=0},Ye.prototype.isEmpty=function(){return!this.items.length},Ye.prototype.isVisible=function(){return"block"===this.element.style.display},Ye.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var se=0;se<this.items.length;se++)this.drawItem(this.items[se],this.active===se);this.show()}else this.hide()},Ye.prototype.drawItem=function(se,te){var A=document.createElement("li"),Y=document.createElement("a");te&&(A.className+=" active"),Y.innerHTML=se.string,A.appendChild(Y),this.element.appendChild(A),A.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),A.addEventListener("mouseup",function(){this.handleMouseUp.call(this,se)}.bind(this))},Ye.prototype.handleMouseUp=function(se){this.selectingListItem=!1,this.component.value(se.original),this.clear(),this.draw()},Ye.prototype.move=function(se){this.active=se,this.draw()},Ye.prototype.previous=function(){this.move(0===this.active?this.items.length-1:this.active-1)},Ye.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},Ye.prototype.drawError=function(se){var te=document.createElement("li");te.innerHTML=se,this.element.appendChild(te),this.show()},ze.exports=Ye},8576:(ze,Ye,se)=>{"use strict";var te=se(4703),A=se(5780),Y=se(7554),t=function(P,J,Q){return this.options=te({minLength:2,limit:5,filter:!0,hideOnBlur:!0},Q=Q||{}),this.el=P,this.data=J||[],this.list=new Y(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(oe){this.handleKeyUp(oe.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(oe){this.handleKeyDown(oe)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(oe){this.handlePaste(oe)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};t.prototype.handleKeyUp=function(P){40===P||38===P||27===P||13===P||9===P||this.handleInputChange(this.el.value)},t.prototype.handleKeyDown=function(P){switch(P.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&P.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},t.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},t.prototype.handlePaste=function(P){if(P.clipboardData)this.handleInputChange(P.clipboardData.getData("Text"));else{var J=this;setTimeout(function(){J.handleInputChange(P.target.value)},100)}},t.prototype.handleInputChange=function(P){this.query=this.normalize(P),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(J){for(var Q=0;Q<J.length&&(this.list.add(J[Q]),Q!==this.options.limit-1);Q++);this.list.draw()}.bind(this))},t.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},t.prototype.update=function(P){this.data=P,this.handleKeyUp()},t.prototype.clear=function(){this.data=[],this.list.clear()},t.prototype.normalize=function(P){return P.toLowerCase()},t.prototype.match=function(P,J){return P.indexOf(J)>-1},t.prototype.value=function(P){if(this.selected=P,this.el.value=this.getItemValue(P),document.createEvent){var J=document.createEvent("HTMLEvents");J.initEvent("change",!0,!1),this.el.dispatchEvent(J)}else this.el.fireEvent("onchange")},t.prototype.getCandidates=function(P){var J={pre:"<strong>",post:"</strong>",extract:function(oe){return this.getItemValue(oe)}.bind(this)};P(this.options.filter?A.filter(this.query,this.data,J).map(function(oe){return{original:oe.original,string:this.render(oe.original,oe.string)}}.bind(this)):this.data.map(function(oe){return{original:oe,string:this.render(oe)}}.bind(this)))},t.prototype.getItemValue=function(P){return P},t.prototype.render=function(P,J){if(J)return J;for(var Q=this.getItemValue(P.original?P.original:P),oe=this.normalize(Q),ye=oe.lastIndexOf(this.query);ye>-1;){var Fe=ye+this.query.length;Q=Q.slice(0,ye)+"<strong>"+Q.slice(ye,Fe)+"</strong>"+Q.slice(Fe),ye=oe.slice(0,ye).lastIndexOf(this.query)}return Q},t.prototype.renderError=function(P){this.list.drawError(P)},ze.exports=t},5226:function(ze){ze.exports=function(){"use strict";function Ye(N,G){return function A(N,G){return G.get?G.get.call(N):G.value}(N,te(N,G,"get"))}function se(N,G,de){return function Y(N,G,de){if(G.set)G.set.call(N,de);else{if(!G.writable)throw new TypeError("attempted to set read only private field");G.value=de}}(N,te(N,G,"set"),de),de}function te(N,G,de){if(!G.has(N))throw new TypeError("attempted to "+de+" private field on non-instance");return G.get(N)}function P(N,G,de){(function t(N,G){if(G.has(N))throw new TypeError("Cannot initialize the same private elements twice on an object")})(N,G),G.set(N,de)}const Q={},ye=N=>new Promise(G=>{if(!N)return G();const de=window.scrollX,De=window.scrollY;Q.restoreFocusTimeout=setTimeout(()=>{Q.previousActiveElement instanceof HTMLElement?(Q.previousActiveElement.focus(),Q.previousActiveElement=null):document.body&&document.body.focus(),G()},100),window.scrollTo(de,De)}),Te=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((N,G)=>(N[G]="swal2-"+G,N),{}),Mt=["success","warning","info","question","error"].reduce((N,G)=>(N[G]="swal2-"+G,N),{}),qe="SweetAlert2:",Me=N=>N.charAt(0).toUpperCase()+N.slice(1),Je=N=>{console.warn("".concat(qe," ").concat("object"==typeof N?N.join(" "):N))},yt=N=>{console.error("".concat(qe," ").concat(N))},Ke=[],ut=(N,G)=>{(N=>{Ke.includes(N)||(Ke.push(N),Je(N))})('"'.concat(N,'" is deprecated and will be removed in the next major release. Please use "').concat(G,'" instead.'))},He=N=>"function"==typeof N?N():N,bt=N=>N&&"function"==typeof N.toPromise,Yt=N=>bt(N)?N.toPromise():Promise.resolve(N),kt=N=>N&&Promise.resolve(N)===N,Wt=()=>document.body.querySelector(".".concat(Te.container)),en=N=>{const G=Wt();return G?G.querySelector(N):null},wi=N=>en(".".concat(N)),mi=()=>wi(Te.popup),gr=()=>wi(Te.icon),Mn=()=>wi(Te.title),on=()=>wi(Te["html-container"]),Tn=()=>wi(Te.image),On=()=>wi(Te["progress-steps"]),Li=()=>wi(Te["validation-message"]),fn=()=>en(".".concat(Te.actions," .").concat(Te.confirm)),jn=()=>en(".".concat(Te.actions," .").concat(Te.cancel)),Rn=()=>en(".".concat(Te.actions," .").concat(Te.deny)),Er=()=>en(".".concat(Te.loader)),Yi=()=>wi(Te.actions),Wn=()=>wi(Te.footer),ii=()=>wi(Te["timer-progress-bar"]),Ur=()=>wi(Te.close),Ss=()=>{const N=mi();if(!N)return[];const G=N.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),de=Array.from(G).sort((st,pi)=>{const tn=parseInt(st.getAttribute("tabindex")||"0"),Gi=parseInt(pi.getAttribute("tabindex")||"0");return tn>Gi?1:tn<Gi?-1:0}),De=N.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),rt=Array.from(De).filter(st=>"-1"!==st.getAttribute("tabindex"));return[...new Set(de.concat(rt))].filter(st=>Yn(st))},Pi=()=>Ui(document.body,Te.shown)&&!Ui(document.body,Te["toast-shown"])&&!Ui(document.body,Te["no-backdrop"]),er=()=>{const N=mi();return!!N&&Ui(N,Te.toast)},kn=(N,G)=>{if(N.textContent="",G){const De=(new DOMParser).parseFromString(G,"text/html"),rt=De.querySelector("head");rt&&Array.from(rt.childNodes).forEach(pi=>{N.appendChild(pi)});const st=De.querySelector("body");st&&Array.from(st.childNodes).forEach(pi=>{pi instanceof HTMLVideoElement||pi instanceof HTMLAudioElement?N.appendChild(pi.cloneNode(!0)):N.appendChild(pi)})}},Ui=(N,G)=>{if(!G)return!1;const de=G.split(/\s+/);for(let De=0;De<de.length;De++)if(!N.classList.contains(de[De]))return!1;return!0},tr=(N,G,de)=>{if(((N,G)=>{Array.from(N.classList).forEach(de=>{!Object.values(Te).includes(de)&&!Object.values(Mt).includes(de)&&!Object.values(G.showClass||{}).includes(de)&&N.classList.remove(de)})})(N,G),G.customClass&&G.customClass[de]){if("string"!=typeof G.customClass[de]&&!G.customClass[de].forEach)return void Je("Invalid type of customClass.".concat(de,'! Expected string or iterable object, got "').concat(typeof G.customClass[de],'"'));Si(N,G.customClass[de])}},ni=(N,G)=>{if(!G)return null;switch(G){case"select":case"textarea":case"file":return N.querySelector(".".concat(Te.popup," > .").concat(Te[G]));case"checkbox":return N.querySelector(".".concat(Te.popup," > .").concat(Te.checkbox," input"));case"radio":return N.querySelector(".".concat(Te.popup," > .").concat(Te.radio," input:checked"))||N.querySelector(".".concat(Te.popup," > .").concat(Te.radio," input:first-child"));case"range":return N.querySelector(".".concat(Te.popup," > .").concat(Te.range," input"));default:return N.querySelector(".".concat(Te.popup," > .").concat(Te.input))}},zi=N=>{if(N.focus(),"file"!==N.type){const G=N.value;N.value="",N.value=G}},Fn=(N,G,de)=>{!N||!G||("string"==typeof G&&(G=G.split(/\s+/).filter(Boolean)),G.forEach(De=>{Array.isArray(N)?N.forEach(rt=>{de?rt.classList.add(De):rt.classList.remove(De)}):de?N.classList.add(De):N.classList.remove(De)}))},Si=(N,G)=>{Fn(N,G,!0)},hn=(N,G)=>{Fn(N,G,!1)},Hi=(N,G)=>{const de=Array.from(N.children);for(let De=0;De<de.length;De++){const rt=de[De];if(rt instanceof HTMLElement&&Ui(rt,G))return rt}},yr=(N,G,de)=>{de==="".concat(parseInt(de))&&(de=parseInt(de)),de||0===parseInt(de)?N.style[G]="number"==typeof de?"".concat(de,"px"):de:N.style.removeProperty(G)},Bi=function(N){N&&(N.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},Mi=N=>{N&&(N.style.display="none")},di=(N,G,de,De)=>{const rt=N.querySelector(G);rt&&(rt.style[de]=De)},cr=function(N,G){G?Bi(N,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Mi(N)},Yn=N=>!(!N||!(N.offsetWidth||N.offsetHeight||N.getClientRects().length)),Gt=N=>N.scrollHeight>N.clientHeight,ea=N=>{const G=window.getComputedStyle(N),de=parseFloat(G.getPropertyValue("animation-duration")||"0"),De=parseFloat(G.getPropertyValue("transition-duration")||"0");return de>0||De>0},vr=function(N){let G=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const de=ii();!de||Yn(de)&&(G&&(de.style.transition="none",de.style.width="100%"),setTimeout(()=>{de.style.transition="width ".concat(N/1e3,"s linear"),de.style.width="0%"},10))},ke=()=>"undefined"==typeof window||"undefined"==typeof document,he='\n <div aria-labelledby="'.concat(Te.title,'" aria-describedby="').concat(Te["html-container"],'" class="').concat(Te.popup,'" tabindex="-1">\n   <button type="button" class="').concat(Te.close,'"></button>\n   <ul class="').concat(Te["progress-steps"],'"></ul>\n   <div class="').concat(Te.icon,'"></div>\n   <img class="').concat(Te.image,'" />\n   <h2 class="').concat(Te.title,'" id="').concat(Te.title,'"></h2>\n   <div class="').concat(Te["html-container"],'" id="').concat(Te["html-container"],'"></div>\n   <input class="').concat(Te.input,'" id="').concat(Te.input,'" />\n   <input type="file" class="').concat(Te.file,'" />\n   <div class="').concat(Te.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(Te.select,'" id="').concat(Te.select,'"></select>\n   <div class="').concat(Te.radio,'"></div>\n   <label class="').concat(Te.checkbox,'">\n     <input type="checkbox" id="').concat(Te.checkbox,'" />\n     <span class="').concat(Te.label,'"></span>\n   </label>\n   <textarea class="').concat(Te.textarea,'" id="').concat(Te.textarea,'"></textarea>\n   <div class="').concat(Te["validation-message"],'" id="').concat(Te["validation-message"],'"></div>\n   <div class="').concat(Te.actions,'">\n     <div class="').concat(Te.loader,'"></div>\n     <button type="button" class="').concat(Te.confirm,'"></button>\n     <button type="button" class="').concat(Te.deny,'"></button>\n     <button type="button" class="').concat(Te.cancel,'"></button>\n   </div>\n   <div class="').concat(Te.footer,'"></div>\n   <div class="').concat(Te["timer-progress-bar-container"],'">\n     <div class="').concat(Te["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),be=()=>{Q.currentInstance.resetValidationMessage()},X=N=>{const G=(()=>{const N=Wt();return!!N&&(N.remove(),hn([document.documentElement,document.body],[Te["no-backdrop"],Te["toast-shown"],Te["has-column"]]),!0)})();if(ke())return void yt("SweetAlert2 requires document to initialize");const de=document.createElement("div");de.className=Te.container,G&&Si(de,Te["no-transition"]),kn(de,he);const De=(N=>"string"==typeof N?document.querySelector(N):N)(N.target);De.appendChild(de),(N=>{const G=mi();G.setAttribute("role",N.toast?"alert":"dialog"),G.setAttribute("aria-live",N.toast?"polite":"assertive"),N.toast||G.setAttribute("aria-modal","true")})(N),(N=>{"rtl"===window.getComputedStyle(N).direction&&Si(Wt(),Te.rtl)})(De),(()=>{const N=mi(),G=Hi(N,Te.input),de=Hi(N,Te.file),De=N.querySelector(".".concat(Te.range," input")),rt=N.querySelector(".".concat(Te.range," output")),st=Hi(N,Te.select),pi=N.querySelector(".".concat(Te.checkbox," input")),tn=Hi(N,Te.textarea);G.oninput=be,de.onchange=be,st.onchange=be,pi.onchange=be,tn.oninput=be,De.oninput=()=>{be(),rt.value=De.value},De.onchange=()=>{be(),rt.value=De.value}})()},Xe=(N,G)=>{N instanceof HTMLElement?G.appendChild(N):"object"==typeof N?wt(N,G):N&&kn(G,N)},wt=(N,G)=>{N.jquery?St(G,N):kn(G,N.toString())},St=(N,G)=>{if(N.textContent="",0 in G)for(let de=0;de in G;de++)N.appendChild(G[de].cloneNode(!0));else N.appendChild(G.cloneNode(!0))},vt=(()=>{if(ke())return!1;const N=document.createElement("div");return void 0!==N.style.webkitAnimation?"webkitAnimationEnd":void 0!==N.style.animation&&"animationend"})(),ti=(N,G)=>{const de=Yi(),De=Er();!de||!De||(G.showConfirmButton||G.showDenyButton||G.showCancelButton?Bi(de):Mi(de),tr(de,G,"actions"),function ri(N,G,de){const De=fn(),rt=Rn(),st=jn();!De||!rt||!st||(_t(De,"confirm",de),_t(rt,"deny",de),_t(st,"cancel",de),function Xt(N,G,de,De){De.buttonsStyling?(Si([N,G,de],Te.styled),De.confirmButtonColor&&(N.style.backgroundColor=De.confirmButtonColor,Si(N,Te["default-outline"])),De.denyButtonColor&&(G.style.backgroundColor=De.denyButtonColor,Si(G,Te["default-outline"])),De.cancelButtonColor&&(de.style.backgroundColor=De.cancelButtonColor,Si(de,Te["default-outline"]))):hn([N,G,de],Te.styled)}(De,rt,st,de),de.reverseButtons&&(de.toast?(N.insertBefore(st,De),N.insertBefore(rt,De)):(N.insertBefore(st,G),N.insertBefore(rt,G),N.insertBefore(De,G))))}(de,De,G),kn(De,G.loaderHtml||""),tr(De,G,"loader"))};function _t(N,G,de){const De=Me(G);cr(N,de["show".concat(De,"Button")],"inline-block"),kn(N,de["".concat(G,"ButtonText")]||""),N.setAttribute("aria-label",de["".concat(G,"ButtonAriaLabel")]||""),N.className=Te[G],tr(N,de,"".concat(G,"Button"))}const pn=(N,G)=>{const de=Wt();!de||(function ji(N,G){"string"==typeof G?N.style.background=G:G||Si([document.documentElement,document.body],Te["no-backdrop"])}(de,G.backdrop),function Dn(N,G){!G||(G in Te?Si(N,Te[G]):(Je('The "position" parameter is not valid, defaulting to "center"'),Si(N,Te.center)))}(de,G.position),function ai(N,G){!G||Si(N,Te["grow-".concat(G)])}(de,G.grow),tr(de,G,"container"))};var Ti={innerParams:new WeakMap,domCache:new WeakMap};const Zn=["input","file","range","select","radio","checkbox","textarea"],mn=N=>{if(!N.input)return;if(!yn[N.input])return void yt('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(N.input,'"'));const G=po(N.input),de=yn[N.input](G,N);Bi(G),N.inputAutoFocus&&setTimeout(()=>{zi(de)})},Nn=(N,G)=>{const de=ni(mi(),N);if(de){(N=>{for(let G=0;G<N.attributes.length;G++){const de=N.attributes[G].name;["id","type","value","style"].includes(de)||N.removeAttribute(de)}})(de);for(const De in G)de.setAttribute(De,G[De])}},hi=N=>{const G=po(N.input);"object"==typeof N.customClass&&Si(G,N.customClass.input)},Yr=(N,G)=>{(!N.placeholder||G.inputPlaceholder)&&(N.placeholder=G.inputPlaceholder)},br=(N,G,de)=>{if(de.inputLabel){const De=document.createElement("label"),rt=Te["input-label"];De.setAttribute("for",N.id),De.className=rt,"object"==typeof de.customClass&&Si(De,de.customClass.inputLabel),De.innerText=de.inputLabel,G.insertAdjacentElement("beforebegin",De)}},po=N=>Hi(mi(),Te[N]||Te.input),zr=(N,G)=>{["string","number"].includes(typeof G)?N.value="".concat(G):kt(G)||Je('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof G,'"'))},yn={};yn.text=yn.email=yn.password=yn.number=yn.tel=yn.url=(N,G)=>(zr(N,G.inputValue),br(N,N,G),Yr(N,G),N.type=G.input,N),yn.file=(N,G)=>(br(N,N,G),Yr(N,G),N),yn.range=(N,G)=>{const de=N.querySelector("input"),De=N.querySelector("output");return zr(de,G.inputValue),de.type=G.input,zr(De,G.inputValue),br(de,N,G),N},yn.select=(N,G)=>{if(N.textContent="",G.inputPlaceholder){const de=document.createElement("option");kn(de,G.inputPlaceholder),de.value="",de.disabled=!0,de.selected=!0,N.appendChild(de)}return br(N,N,G),N},yn.radio=N=>(N.textContent="",N),yn.checkbox=(N,G)=>{const de=ni(mi(),"checkbox");de.value="1",de.checked=Boolean(G.inputValue);const De=N.querySelector("span");return kn(De,G.inputPlaceholder),de},yn.textarea=(N,G)=>{zr(N,G.inputValue),Yr(N,G),br(N,N,G);return setTimeout(()=>{if("MutationObserver"in window){const De=parseInt(window.getComputedStyle(mi()).width);new MutationObserver(()=>{if(!document.body.contains(N))return;const st=N.offsetWidth+(De=>parseInt(window.getComputedStyle(De).marginLeft)+parseInt(window.getComputedStyle(De).marginRight))(N);st>De?mi().style.width="".concat(st,"px"):yr(mi(),"width",G.width)}).observe(N,{attributes:!0,attributeFilter:["style"]})}}),N};const an=(N,G)=>{const de=on();!de||(tr(de,G,"htmlContainer"),G.html?(Xe(G.html,de),Bi(de,"block")):G.text?(de.textContent=G.text,Bi(de,"block")):Mi(de),((N,G)=>{const de=mi();if(!de)return;const De=Ti.innerParams.get(N),rt=!De||G.input!==De.input;Zn.forEach(st=>{const pi=Hi(de,Te[st]);!pi||(Nn(st,G.inputAttributes),pi.className=Te[st],rt&&Mi(pi))}),G.input&&(rt&&mn(G),hi(G))})(N,G))},Ia=(N,G)=>{for(const[de,De]of Object.entries(Mt))G.icon!==de&&hn(N,De);Si(N,G.icon&&Mt[G.icon]),zn(N,G),_a(),tr(N,G,"icon")},_a=()=>{const N=mi();if(!N)return;const G=window.getComputedStyle(N).getPropertyValue("background-color"),de=N.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let De=0;De<de.length;De++)de[De].style.backgroundColor=G},ta=(N,G)=>{if(!G.icon&&!G.iconHtml)return;let de=N.innerHTML,De="";G.iconHtml?De=$n(G.iconHtml):"success"===G.icon?(De='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',de=de.replace(/ style=".*?"/g,"")):"error"===G.icon?De='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':G.icon&&(De=$n({question:"?",warning:"!",info:"i"}[G.icon])),de.trim()!==De.trim()&&kn(N,De)},zn=(N,G)=>{if(G.iconColor){N.style.color=G.iconColor,N.style.borderColor=G.iconColor;for(const de of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])di(N,de,"backgroundColor",G.iconColor);di(N,".swal2-success-ring","borderColor",G.iconColor)}},$n=N=>'<div class="'.concat(Te["icon-content"],'">').concat(N,"</div>"),ss=(N,G)=>{const de=G.showClass||{};N.className="".concat(Te.popup," ").concat(Yn(N)?de.popup:""),G.toast?(Si([document.documentElement,document.body],Te["toast-shown"]),Si(N,Te.toast)):Si(N,Te.modal),tr(N,G,"popup"),"string"==typeof G.customClass&&Si(N,G.customClass),G.icon&&Si(N,Te["icon-".concat(G.icon)])},vn=N=>{const G=document.createElement("li");return Si(G,Te["progress-step"]),kn(G,N),G},Ot=N=>{const G=document.createElement("li");return Si(G,Te["progress-step-line"]),N.progressStepsDistance&&yr(G,"width",N.progressStepsDistance),G},si=(N,G)=>{((N,G)=>{const de=Wt(),De=mi();if(de&&De){if(G.toast){yr(de,"width",G.width),De.style.width="100%";const rt=Er();rt&&De.insertBefore(rt,gr())}else yr(De,"width",G.width);yr(De,"padding",G.padding),G.color&&(De.style.color=G.color),G.background&&(De.style.background=G.background),Mi(Li()),ss(De,G)}})(0,G),pn(0,G),((N,G)=>{const de=On();if(!de)return;const{progressSteps:De,currentProgressStep:rt}=G;De&&0!==De.length&&void 0!==rt?(Bi(de),de.textContent="",rt>=De.length&&Je("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),De.forEach((st,pi)=>{const tn=vn(st);if(de.appendChild(tn),pi===rt&&Si(tn,Te["active-progress-step"]),pi!==De.length-1){const Gi=Ot(G);de.appendChild(Gi)}})):Mi(de)})(0,G),((N,G)=>{const de=Ti.innerParams.get(N),De=gr();if(De){if(de&&G.icon===de.icon)return ta(De,G),void Ia(De,G);if(!G.icon&&!G.iconHtml)return void Mi(De);if(G.icon&&-1===Object.keys(Mt).indexOf(G.icon))return yt('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(G.icon,'"')),void Mi(De);Bi(De),ta(De,G),Ia(De,G),Si(De,G.showClass&&G.showClass.icon)}})(N,G),((N,G)=>{const de=Tn();if(de){if(!G.imageUrl)return void Mi(de);Bi(de,""),de.setAttribute("src",G.imageUrl),de.setAttribute("alt",G.imageAlt||""),yr(de,"width",G.imageWidth),yr(de,"height",G.imageHeight),de.className=Te.image,tr(de,G,"image")}})(0,G),((N,G)=>{const de=Mn();!de||(cr(de,G.title||G.titleText,"block"),G.title&&Xe(G.title,de),G.titleText&&(de.innerText=G.titleText),tr(de,G,"title"))})(0,G),((N,G)=>{const de=Ur();!de||(kn(de,G.closeButtonHtml||""),tr(de,G,"closeButton"),cr(de,G.showCloseButton),de.setAttribute("aria-label",G.closeButtonAriaLabel||""))})(0,G),an(N,G),ti(0,G),((N,G)=>{const de=Wn();!de||(cr(de,G.footer,"block"),G.footer&&Xe(G.footer,de),tr(de,G,"footer"))})(0,G);const de=mi();"function"==typeof G.didRender&&de&&G.didRender(de)},Hn=()=>{var N;return null===(N=fn())||void 0===N?void 0:N.click()},Br=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Oa=N=>{N.keydownTarget&&N.keydownHandlerAdded&&(N.keydownTarget.removeEventListener("keydown",N.keydownHandler,{capture:N.keydownListenerCapture}),N.keydownHandlerAdded=!1)},Ci=(N,G)=>{var de;const De=Ss();if(De.length)return(N+=G)===De.length?N=0:-1===N&&(N=De.length-1),void De[N].focus();null===(de=mi())||void 0===de||de.focus()},jo=["ArrowRight","ArrowDown"],Ra=["ArrowLeft","ArrowUp"],os=(N,G,de)=>{!N||G.isComposing||229===G.keyCode||(N.stopKeydownPropagation&&G.stopPropagation(),"Enter"===G.key?na(G,N):"Tab"===G.key?Gr(G):[...jo,...Ra].includes(G.key)?ls(G.key):"Escape"===G.key&&Fa(G,N,de))},na=(N,G)=>{if(!He(G.allowEnterKey))return;const de=ni(mi(),G.input);if(N.target&&de&&N.target instanceof HTMLElement&&N.target.outerHTML===de.outerHTML){if(["textarea","file"].includes(G.input))return;Hn(),N.preventDefault()}},Gr=N=>{const G=N.target,de=Ss();let De=-1;for(let rt=0;rt<de.length;rt++)if(G===de[rt]){De=rt;break}Ci(De,N.shiftKey?-1:1),N.stopPropagation(),N.preventDefault()},ls=N=>{const G=Yi(),de=fn(),De=Rn(),rt=jn();if(!(G&&de&&De&&rt))return;if(document.activeElement instanceof HTMLElement&&![de,De,rt].includes(document.activeElement))return;const pi=jo.includes(N)?"nextElementSibling":"previousElementSibling";let tn=document.activeElement;if(tn){for(let Gi=0;Gi<G.children.length;Gi++){if(tn=tn[pi],!tn)return;if(tn instanceof HTMLButtonElement&&Yn(tn))break}tn instanceof HTMLButtonElement&&tn.focus()}},Fa=(N,G,de)=>{He(G.allowEscapeKey)&&(N.preventDefault(),de(Br.esc))};var Ya={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Es=()=>{Array.from(document.body.children).forEach(G=>{G.hasAttribute("data-previous-aria-hidden")?(G.setAttribute("aria-hidden",G.getAttribute("data-previous-aria-hidden")||""),G.removeAttribute("data-previous-aria-hidden")):G.removeAttribute("aria-hidden")})},Bn="undefined"!=typeof window&&!!window.GestureEvent,dl=()=>{const N=Wt();if(!N)return;let G;N.ontouchstart=de=>{G=No(de)},N.ontouchmove=de=>{G&&(de.preventDefault(),de.stopPropagation())}},No=N=>{const G=N.target,de=Wt(),De=on();return!(!de||!De||dr(N)||Zr(N)||G!==de&&(Gt(de)||!(G instanceof HTMLElement)||"INPUT"===G.tagName||"TEXTAREA"===G.tagName||Gt(De)&&De.contains(G)))},dr=N=>N.touches&&N.touches.length&&"stylus"===N.touches[0].touchType,Zr=N=>N.touches&&N.touches.length>1;let Vi=null;const mo=N=>{null===Vi&&(document.body.scrollHeight>window.innerHeight||"scroll"===N)&&(Vi=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Vi+(()=>{const N=document.createElement("div");N.className=Te["scrollbar-measure"],document.body.appendChild(N);const G=N.getBoundingClientRect().width-N.clientWidth;return document.body.removeChild(N),G})(),"px"))};function za(N,G,de,De){er()?$r(N,De):(ye(de).then(()=>$r(N,De)),Oa(Q)),Bn?(G.setAttribute("style","display:none !important"),G.removeAttribute("class"),G.innerHTML=""):G.remove(),Pi()&&(null!==Vi&&(document.body.style.paddingRight="".concat(Vi,"px"),Vi=null),(()=>{if(Ui(document.body,Te.iosfix)){const N=parseInt(document.body.style.top,10);hn(document.body,Te.iosfix),document.body.style.top="",document.body.scrollTop=-1*N}})(),Es()),function Sn(){hn([document.documentElement,document.body],[Te.shown,Te["height-auto"],Te["no-backdrop"],Te["toast-shown"]])}()}function xr(N){N=cs(N);const G=Ya.swalPromiseResolve.get(this),de=$s(this);this.isAwaitingPromise?N.isDismissed||(ar(this),G(N)):de&&G(N)}const $s=N=>{const G=mi();if(!G)return!1;const de=Ti.innerParams.get(N);if(!de||Ui(G,de.hideClass.popup))return!1;hn(G,de.showClass.popup),Si(G,de.hideClass.popup);const De=Wt();return hn(De,de.showClass.backdrop),Si(De,de.hideClass.backdrop),Xs(N,G,de),!0};function qr(N){const G=Ya.swalPromiseReject.get(this);ar(this),G&&G(N)}const ar=N=>{N.isAwaitingPromise&&(delete N.isAwaitingPromise,Ti.innerParams.get(N)||N._destroy())},cs=N=>void 0===N?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},N),Xs=(N,G,de)=>{const De=Wt(),rt=vt&&ea(G);"function"==typeof de.willClose&&de.willClose(G),rt?As(N,G,De,de.returnFocus,de.didClose):za(N,De,de.returnFocus,de.didClose)},As=(N,G,de,De,rt)=>{!vt||(Q.swalCloseEventFinishedCallback=za.bind(null,N,de,De,rt),G.addEventListener(vt,function(st){st.target===G&&(Q.swalCloseEventFinishedCallback(),delete Q.swalCloseEventFinishedCallback)}))},$r=(N,G)=>{setTimeout(()=>{"function"==typeof G&&G.bind(N.params)(),N._destroy&&N._destroy()})},nr=N=>{let G=mi();if(G||new $a,G=mi(),!G)return;const de=Er();er()?Mi(gr()):hl(G,N),Bi(de),G.setAttribute("data-loading","true"),G.setAttribute("aria-busy","true"),G.focus()},hl=(N,G)=>{const de=Yi(),De=Er();!de||!De||(!G&&Yn(fn())&&(G=fn()),Bi(de),G&&(Mi(G),De.setAttribute("data-button-to-replace",G.className),de.insertBefore(De,G)),Si([N,de],Te.loading))},Ps=N=>N.checked?1:0,Wi=N=>N.checked?N.value:null,us=N=>N.files&&N.files.length?null!==N.getAttribute("multiple")?N.files:N.files[0]:null,ga=(N,G)=>{const de=mi();if(!de)return;const De=rt=>{"select"===G.input?function Ho(N,G,de){const De=Hi(N,Te.select);if(!De)return;const rt=(st,pi,tn)=>{const Gi=document.createElement("option");Gi.value=tn,kn(Gi,pi),Gi.selected=Os(tn,de.inputValue),st.appendChild(Gi)};G.forEach(st=>{const pi=st[0],tn=st[1];if(Array.isArray(tn)){const Gi=document.createElement("optgroup");Gi.label=pi,Gi.disabled=!1,De.appendChild(Gi),tn.forEach(Tr=>rt(Gi,Tr[1],Tr[0]))}else rt(De,tn,pi)}),De.focus()}(de,Js(rt),G):"radio"===G.input&&function wr(N,G,de){const De=Hi(N,Te.radio);if(!De)return;G.forEach(st=>{const pi=st[0],tn=st[1],Gi=document.createElement("input"),Tr=document.createElement("label");Gi.type="radio",Gi.name=Te.radio,Gi.value=pi,Os(pi,de.inputValue)&&(Gi.checked=!0);const un=document.createElement("span");kn(un,tn),un.className=Te.label,Tr.appendChild(Gi),Tr.appendChild(un),De.appendChild(Tr)});const rt=De.querySelectorAll("input");rt.length&&rt[0].focus()}(de,Js(rt),G)};bt(G.inputOptions)||kt(G.inputOptions)?(nr(fn()),Yt(G.inputOptions).then(rt=>{N.hideLoading(),De(rt)})):"object"==typeof G.inputOptions?De(G.inputOptions):yt("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof G.inputOptions))},ds=(N,G)=>{const de=N.getInput();!de||(Mi(de),Yt(G.inputValue).then(De=>{de.value="".concat("number"===G.input?parseFloat(De)||0:De),Bi(de),de.focus(),N.hideLoading()}).catch(De=>{yt("Error in inputValue promise: ".concat(De)),de.value="",Bi(de),de.focus(),N.hideLoading()}))};const Js=N=>{const G=[];return N instanceof Map?N.forEach((de,De)=>{let rt=de;"object"==typeof rt&&(rt=Js(rt)),G.push([De,rt])}):Object.keys(N).forEach(de=>{let De=N[de];"object"==typeof De&&(De=Js(De)),G.push([de,De])}),G},Os=(N,G)=>!!G&&G.toString()===N.toString(),Pr=(N,G)=>{const de=Ti.innerParams.get(N);if(!de.input)return void yt('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Me(G)));const De=N.getInput(),rt=((N,G)=>{const de=N.getInput();if(!de)return null;switch(G.input){case"checkbox":return Ps(de);case"radio":return Wi(de);case"file":return us(de);default:return G.inputAutoTrim?de.value.trim():de.value}})(N,de);de.inputValidator?Vo(N,rt,G):De&&!De.checkValidity()?(N.enableButtons(),N.showValidationMessage(de.validationMessage)):"deny"===G?hs(N,rt):ps(N,rt)},Vo=(N,G,de)=>{const De=Ti.innerParams.get(N);N.disableInput(),Promise.resolve().then(()=>Yt(De.inputValidator(G,De.validationMessage))).then(st=>{N.enableButtons(),N.enableInput(),st?N.showValidationMessage(st):"deny"===de?hs(N,G):ps(N,G)})},hs=(N,G)=>{const de=Ti.innerParams.get(N||void 0);de.showLoaderOnDeny&&nr(Rn()),de.preDeny?(N.isAwaitingPromise=!0,Promise.resolve().then(()=>Yt(de.preDeny(G,de.validationMessage))).then(rt=>{!1===rt?(N.hideLoading(),ar(N)):N.close({isDenied:!0,value:void 0===rt?G:rt})}).catch(rt=>go(N||void 0,rt))):N.close({isDenied:!0,value:G})},pl=(N,G)=>{N.close({isConfirmed:!0,value:G})},go=(N,G)=>{N.rejectPromise(G)},ps=(N,G)=>{const de=Ti.innerParams.get(N||void 0);de.showLoaderOnConfirm&&nr(),de.preConfirm?(N.resetValidationMessage(),N.isAwaitingPromise=!0,Promise.resolve().then(()=>Yt(de.preConfirm(G,de.validationMessage))).then(rt=>{Yn(Li())||!1===rt?(N.hideLoading(),ar(N)):pl(N,void 0===rt?G:rt)}).catch(rt=>go(N||void 0,rt))):pl(N,G)};function ra(){const N=Ti.innerParams.get(this);if(!N)return;const G=Ti.domCache.get(this);Mi(G.loader),er()?N.icon&&Bi(gr()):fs(G),hn([G.popup,G.actions],Te.loading),G.popup.removeAttribute("aria-busy"),G.popup.removeAttribute("data-loading"),G.confirmButton.disabled=!1,G.denyButton.disabled=!1,G.cancelButton.disabled=!1}const fs=N=>{const G=N.popup.getElementsByClassName(N.loader.getAttribute("data-button-to-replace"));G.length?Bi(G[0],"inline-block"):!Yn(fn())&&!Yn(Rn())&&!Yn(jn())&&Mi(N.actions)};function ya(){const N=Ti.innerParams.get(this),G=Ti.domCache.get(this);return G?ni(G.popup,N.input):null}function ja(N,G,de){const De=Ti.domCache.get(N);G.forEach(rt=>{De[rt].disabled=de})}function Na(N,G){const de=mi();if(de&&N)if("radio"===N.type){const De=de.querySelectorAll('[name="'.concat(Te.radio,'"]'));for(let rt=0;rt<De.length;rt++)De[rt].disabled=G}else N.disabled=G}function Ks(){ja(this,["confirmButton","denyButton","cancelButton"],!1)}function ms(){ja(this,["confirmButton","denyButton","cancelButton"],!0)}function Uo(){Na(this.getInput(),!1)}function ln(){Na(this.getInput(),!0)}function Ha(N){const G=Ti.domCache.get(this),de=Ti.innerParams.get(this);kn(G.validationMessage,N),G.validationMessage.className=Te["validation-message"],de.customClass&&de.customClass.validationMessage&&Si(G.validationMessage,de.customClass.validationMessage),Bi(G.validationMessage);const De=this.getInput();De&&(De.setAttribute("aria-invalid","true"),De.setAttribute("aria-describedby",Te["validation-message"]),zi(De),Si(De,Te.inputerror))}function yo(){const N=Ti.domCache.get(this);N.validationMessage&&Mi(N.validationMessage);const G=this.getInput();G&&(G.removeAttribute("aria-invalid"),G.removeAttribute("aria-describedby"),hn(G,Te.inputerror))}const Va={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ki=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],aa={},Qs=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],eo=N=>Object.prototype.hasOwnProperty.call(Va,N),to=N=>-1!==ki.indexOf(N),va=N=>aa[N],Nr=N=>{eo(N)||Je('Unknown parameter "'.concat(N,'"'))},cn=N=>{Qs.includes(N)&&Je('The parameter "'.concat(N,'" is incompatible with toasts'))},vo=N=>{const G=va(N);G&&ut(N,G)};function Rs(N){const G=mi(),de=Ti.innerParams.get(this);if(!G||Ui(G,de.hideClass.popup))return void Je("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const De=Wo(N),rt=Object.assign({},de,De);si(this,rt),Ti.innerParams.set(this,rt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,N),writable:!1,enumerable:!0}})}const Wo=N=>{const G={};return Object.keys(N).forEach(de=>{to(de)?G[de]=N[de]:Je("Invalid parameter to update: ".concat(de))}),G};function Or(){const N=Ti.domCache.get(this),G=Ti.innerParams.get(this);G?(N.popup&&Q.swalCloseEventFinishedCallback&&(Q.swalCloseEventFinishedCallback(),delete Q.swalCloseEventFinishedCallback),"function"==typeof G.didDestroy&&G.didDestroy(),Ii(this)):fl(this)}const Ii=N=>{fl(N),delete N.params,delete Q.keydownHandler,delete Q.keydownTarget,delete Q.currentInstance},fl=N=>{N.isAwaitingPromise?(bo(Ti,N),N.isAwaitingPromise=!0):(bo(Ya,N),bo(Ti,N),delete N.isAwaitingPromise,delete N.disableButtons,delete N.enableButtons,delete N.getInput,delete N.disableInput,delete N.enableInput,delete N.hideLoading,delete N.disableLoading,delete N.showValidationMessage,delete N.resetValidationMessage,delete N.close,delete N.closePopup,delete N.closeModal,delete N.closeToast,delete N.rejectPromise,delete N.update,delete N._destroy)},bo=(N,G)=>{for(const de in N)N[de].delete(G)};var Go=Object.freeze({__proto__:null,_destroy:Or,close:xr,closeModal:xr,closePopup:xr,closeToast:xr,disableButtons:ms,disableInput:ln,disableLoading:ra,enableButtons:Ks,enableInput:Uo,getInput:ya,handleAwaitingPromise:ar,hideLoading:ra,rejectPromise:qr,resetValidationMessage:yo,showValidationMessage:Ha,update:Rs});const Fs=(N,G,de)=>{G.popup.onclick=()=>{N&&(io(N)||N.timer||N.input)||de(Br.close)}},io=N=>N.showConfirmButton||N.showDenyButton||N.showCancelButton||N.showCloseButton;let Hr=!1;const ml=N=>{N.popup.onmousedown=()=>{N.container.onmouseup=function(G){N.container.onmouseup=void 0,G.target===N.container&&(Hr=!0)}}},ba=N=>{N.container.onmousedown=()=>{N.popup.onmouseup=function(G){N.popup.onmouseup=void 0,(G.target===N.popup||G.target instanceof HTMLElement&&N.popup.contains(G.target))&&(Hr=!0)}}},no=(N,G,de)=>{G.container.onclick=De=>{Hr?Hr=!1:De.target===G.container&&He(N.allowOutsideClick)&&de(Br.backdrop)}},Wa=N=>N instanceof Element||(N=>"object"==typeof N&&N.jquery)(N);const gs=()=>{if(Q.timeout)return(()=>{const N=ii();if(!N)return;const G=parseInt(window.getComputedStyle(N).width);N.style.removeProperty("transition"),N.style.width="100%";const de=parseInt(window.getComputedStyle(N).width);N.style.width="".concat(G/de*100,"%")})(),Q.timeout.stop()},Ga=()=>{if(Q.timeout){const N=Q.timeout.start();return vr(N),N}};let xa=!1;const zs={};const ro=N=>{for(let G=N.target;G&&G!==document;G=G.parentNode)for(const de in zs){const De=G.getAttribute(de);if(De)return void zs[de].fire({template:De})}};var ys=Object.freeze({__proto__:null,argsToParams:N=>{const G={};return"object"!=typeof N[0]||Wa(N[0])?["title","html","icon"].forEach((de,De)=>{const rt=N[De];"string"==typeof rt||Wa(rt)?G[de]=rt:void 0!==rt&&yt("Unexpected type of ".concat(de,'! Expected "string" or "Element", got ').concat(typeof rt))}):Object.assign(G,N[0]),G},bindClickHandler:function wo(){zs[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,xa||(document.body.addEventListener("click",ro),xa=!0)},clickCancel:()=>{var N;return null===(N=jn())||void 0===N?void 0:N.click()},clickConfirm:Hn,clickDeny:()=>{var N;return null===(N=Rn())||void 0===N?void 0:N.click()},enableLoading:nr,fire:function _l(){const N=this;for(var G=arguments.length,de=new Array(G),De=0;De<G;De++)de[De]=arguments[De];return new N(...de)},getActions:Yi,getCancelButton:jn,getCloseButton:Ur,getConfirmButton:fn,getContainer:Wt,getDenyButton:Rn,getFocusableElements:Ss,getFooter:Wn,getHtmlContainer:on,getIcon:gr,getIconContent:()=>wi(Te["icon-content"]),getImage:Tn,getInputLabel:()=>wi(Te["input-label"]),getLoader:Er,getPopup:mi,getProgressSteps:On,getTimerLeft:()=>Q.timeout&&Q.timeout.getTimerLeft(),getTimerProgressBar:ii,getTitle:Mn,getValidationMessage:Li,increaseTimer:N=>{if(Q.timeout){const G=Q.timeout.increase(N);return vr(G,!0),G}},isDeprecatedParameter:va,isLoading:()=>{const N=mi();return!!N&&N.hasAttribute("data-loading")},isTimerRunning:()=>!(!Q.timeout||!Q.timeout.isRunning()),isUpdatableParameter:to,isValidParameter:eo,isVisible:()=>Yn(mi()),mixin:function Zo(N){return class G extends(this){_main(De,rt){return super._main(De,Object.assign({},N,rt))}}},resumeTimer:Ga,showLoading:nr,stopTimer:gs,toggleTimer:()=>{const N=Q.timeout;return N&&(N.running?gs():Ga())}});class vs{constructor(G,de){this.callback=G,this.remaining=de,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(G){const de=this.running;return de&&this.stop(),this.remaining+=G,de&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Xr=["swal-title","swal-html","swal-footer"],Bs=N=>{const G={};return Array.from(N.querySelectorAll("swal-param")).forEach(De=>{la(De,["name","value"]);const rt=De.getAttribute("name"),st=De.getAttribute("value");G[rt]="boolean"==typeof Va[rt]?"false"!==st:"object"==typeof Va[rt]?JSON.parse(st):st}),G},jl=N=>{const G={};return Array.from(N.querySelectorAll("swal-function-param")).forEach(De=>{const rt=De.getAttribute("name"),st=De.getAttribute("value");G[rt]=new Function("return ".concat(st))()}),G},Nl=N=>{const G={};return Array.from(N.querySelectorAll("swal-button")).forEach(De=>{la(De,["type","color","aria-label"]);const rt=De.getAttribute("type");G["".concat(rt,"ButtonText")]=De.innerHTML,G["show".concat(Me(rt),"Button")]=!0,De.hasAttribute("color")&&(G["".concat(rt,"ButtonColor")]=De.getAttribute("color")),De.hasAttribute("aria-label")&&(G["".concat(rt,"ButtonAriaLabel")]=De.getAttribute("aria-label"))}),G},oa=N=>{const G={},de=N.querySelector("swal-image");return de&&(la(de,["src","width","height","alt"]),de.hasAttribute("src")&&(G.imageUrl=de.getAttribute("src")),de.hasAttribute("width")&&(G.imageWidth=de.getAttribute("width")),de.hasAttribute("height")&&(G.imageHeight=de.getAttribute("height")),de.hasAttribute("alt")&&(G.imageAlt=de.getAttribute("alt"))),G},xs=N=>{const G={},de=N.querySelector("swal-icon");return de&&(la(de,["type","color"]),de.hasAttribute("type")&&(G.icon=de.getAttribute("type")),de.hasAttribute("color")&&(G.iconColor=de.getAttribute("color")),G.iconHtml=de.innerHTML),G},Za=N=>{const G={},de=N.querySelector("swal-input");de&&(la(de,["type","label","placeholder","value"]),G.input=de.getAttribute("type")||"text",de.hasAttribute("label")&&(G.inputLabel=de.getAttribute("label")),de.hasAttribute("placeholder")&&(G.inputPlaceholder=de.getAttribute("placeholder")),de.hasAttribute("value")&&(G.inputValue=de.getAttribute("value")));const De=Array.from(N.querySelectorAll("swal-input-option"));return De.length&&(G.inputOptions={},De.forEach(rt=>{la(rt,["value"]);const st=rt.getAttribute("value");G.inputOptions[st]=rt.innerHTML})),G},ws=(N,G)=>{const de={};for(const De in G){const rt=G[De],st=N.querySelector(rt);st&&(la(st,[]),de[rt.replace(/^swal-/,"")]=st.innerHTML.trim())}return de},$o=N=>{const G=Xr.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(N.children).forEach(de=>{const De=de.tagName.toLowerCase();G.includes(De)||Je("Unrecognized element <".concat(De,">"))})},la=(N,G)=>{Array.from(N.attributes).forEach(de=>{-1===G.indexOf(de.name)&&Je(['Unrecognized attribute "'.concat(de.name,'" on <').concat(N.tagName.toLowerCase(),">."),"".concat(G.length?"Allowed attributes are: ".concat(G.join(", ")):"To set the value, use HTML within the element.")])})},Mo=N=>{const G=Wt(),de=mi();"function"==typeof N.willOpen&&N.willOpen(de);const rt=window.getComputedStyle(document.body).overflowY;wa(G,de,N),setTimeout(()=>{To(G,de)},10),Pi()&&(gl(G,N.scrollbarPadding,rt),Array.from(document.body.children).forEach(G=>{G===Wt()||G.contains(Wt())||(G.hasAttribute("aria-hidden")&&G.setAttribute("data-previous-aria-hidden",G.getAttribute("aria-hidden")||""),G.setAttribute("aria-hidden","true"))})),!er()&&!Q.previousActiveElement&&(Q.previousActiveElement=document.activeElement),"function"==typeof N.didOpen&&setTimeout(()=>N.didOpen(de)),hn(G,Te["no-transition"])},Rr=N=>{const G=mi();if(N.target!==G||!vt)return;const de=Wt();G.removeEventListener(vt,Rr),de.style.overflowY="auto"},To=(N,G)=>{vt&&ea(G)?(N.style.overflowY="hidden",G.addEventListener(vt,Rr)):N.style.overflowY="auto"},gl=(N,G,de)=>{(()=>{if(Bn&&!Ui(document.body,Te.iosfix)){const N=document.body.scrollTop;document.body.style.top="".concat(-1*N,"px"),Si(document.body,Te.iosfix),dl()}})(),G&&"hidden"!==de&&mo(de),setTimeout(()=>{N.scrollTop=0})},wa=(N,G,de)=>{Si(N,de.showClass.backdrop),G.style.setProperty("opacity","0","important"),Bi(G,"grid"),setTimeout(()=>{Si(G,de.showClass.popup),G.style.removeProperty("opacity")},10),Si([document.documentElement,document.body],Te.shown),de.heightAuto&&de.backdrop&&!de.toast&&Si([document.documentElement,document.body],Te["height-auto"])};var ca_email=(N,G)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(N)?Promise.resolve():Promise.resolve(G||"Invalid email address"),ca_url=(N,G)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(N)?Promise.resolve():Promise.resolve(G||"Invalid URL");function Ri(N){(function sr(N){N.inputValidator||("email"===N.input&&(N.inputValidator=ca_email),"url"===N.input&&(N.inputValidator=ca_url))})(N),N.showLoaderOnConfirm&&!N.preConfirm&&Je("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function ao(N){(!N.target||"string"==typeof N.target&&!document.querySelector(N.target)||"string"!=typeof N.target&&!N.target.appendChild)&&(Je('Target parameter is not valid, defaulting to "body"'),N.target="body")}(N),"string"==typeof N.title&&(N.title=N.title.split("\n").join("<br />")),X(N)}let hr;var ko=new WeakMap;class _n{constructor(){if(P(this,ko,{writable:!0,value:void 0}),"undefined"==typeof window)return;hr=this;for(var G=arguments.length,de=new Array(G),De=0;De<G;De++)de[De]=arguments[De];const rt=Object.freeze(this.constructor.argsToParams(de));this.params=rt,this.isAwaitingPromise=!1,se(this,ko,this._main(hr.params))}_main(G){let de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(N=>{!1===N.backdrop&&N.allowOutsideClick&&Je('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const G in N)Nr(G),N.toast&&cn(G),vo(G)})(Object.assign({},de,G)),Q.currentInstance&&(Q.currentInstance._destroy(),Pi()&&Es()),Q.currentInstance=hr;const De=Hl(G,de);Ri(De),Object.freeze(De),Q.timeout&&(Q.timeout.stop(),delete Q.timeout),clearTimeout(Q.restoreFocusTimeout);const rt=Ms(hr);return si(hr,De),Ti.innerParams.set(hr,De),Kr(hr,rt,De)}then(G){return Ye(this,ko).then(G)}finally(G){return Ye(this,ko).finally(G)}}const Kr=(N,G,de)=>new Promise((De,rt)=>{const st=pi=>{N.close({isDismissed:!0,dismiss:pi})};Ya.swalPromiseResolve.set(N,De),Ya.swalPromiseReject.set(N,rt),G.confirmButton.onclick=()=>{(N=>{const G=Ti.innerParams.get(N);N.disableButtons(),G.input?Pr(N,"confirm"):ps(N,!0)})(N)},G.denyButton.onclick=()=>{(N=>{const G=Ti.innerParams.get(N);N.disableButtons(),G.returnInputValueOnDeny?Pr(N,"deny"):hs(N,!1)})(N)},G.cancelButton.onclick=()=>{((N,G)=>{N.disableButtons(),G(Br.cancel)})(N,st)},G.closeButton.onclick=()=>{st(Br.close)},((N,G,de)=>{N.toast?Fs(N,G,de):(ml(G),ba(G),no(N,G,de))})(de,G,st),((N,G,de)=>{Oa(N),G.toast||(N.keydownHandler=De=>os(G,De,de),N.keydownTarget=G.keydownListenerCapture?window:mi(),N.keydownListenerCapture=G.keydownListenerCapture,N.keydownTarget.addEventListener("keydown",N.keydownHandler,{capture:N.keydownListenerCapture}),N.keydownHandlerAdded=!0)})(Q,de,st),((N,G)=>{"select"===G.input||"radio"===G.input?ga(N,G):["text","email","number","tel","textarea"].some(de=>de===G.input)&&(bt(G.inputValue)||kt(G.inputValue))&&(nr(fn()),ds(N,G))})(N,de),Mo(de),qa(Q,de,st),Do(G,de),setTimeout(()=>{G.container.scrollTop=0})}),Hl=(N,G)=>{const de=(N=>{const G="string"==typeof N.template?document.querySelector(N.template):N.template;if(!G)return{};const de=G.content;return $o(de),Object.assign(Bs(de),jl(de),Nl(de),oa(de),xs(de),Za(de),ws(de,Xr))})(N),De=Object.assign({},Va,G,de,N);return De.showClass=Object.assign({},Va.showClass,De.showClass),De.hideClass=Object.assign({},Va.hideClass,De.hideClass),De},Ms=N=>{const G={popup:mi(),container:Wt(),actions:Yi(),confirmButton:fn(),denyButton:Rn(),cancelButton:jn(),loader:Er(),closeButton:Ur(),validationMessage:Li(),progressSteps:On()};return Ti.domCache.set(N,G),G},qa=(N,G,de)=>{const De=ii();Mi(De),G.timer&&(N.timeout=new vs(()=>{de("timer"),delete N.timeout},G.timer),G.timerProgressBar&&(Bi(De),tr(De,G,"timerProgressBar"),setTimeout(()=>{N.timeout&&N.timeout.running&&vr(G.timer)})))},Do=(N,G)=>{if(!G.toast){if(!He(G.allowEnterKey))return void js();Xo(N,G)||Ci(-1,1)}},Xo=(N,G)=>G.focusDeny&&Yn(N.denyButton)?(N.denyButton.focus(),!0):G.focusCancel&&Yn(N.cancelButton)?(N.cancelButton.focus(),!0):!(!G.focusConfirm||!Yn(N.confirmButton)||(N.confirmButton.focus(),0)),js=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const N=new Date,G=localStorage.getItem("swal-initiation");G?(N.getTime()-Date.parse(G))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const de=document.createElement("audio");de.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",de.loop=!0,document.body.appendChild(de),setTimeout(()=>{de.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation","".concat(N))}_n.prototype.disableButtons=ms,_n.prototype.enableButtons=Ks,_n.prototype.getInput=ya,_n.prototype.disableInput=ln,_n.prototype.enableInput=Uo,_n.prototype.hideLoading=ra,_n.prototype.disableLoading=ra,_n.prototype.showValidationMessage=Ha,_n.prototype.resetValidationMessage=yo,_n.prototype.close=xr,_n.prototype.closePopup=xr,_n.prototype.closeModal=xr,_n.prototype.closeToast=xr,_n.prototype.rejectPromise=qr,_n.prototype.update=Rs,_n.prototype._destroy=Or,Object.assign(_n,ys),Object.keys(Go).forEach(N=>{_n[N]=function(){return hr&&hr[N]?hr[N](...arguments):null}}),_n.DismissReason=Br,_n.version="11.7.31";const $a=_n;return $a.default=$a,$a}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Ye,se){var te=Ye.createElement("style");if(Ye.getElementsByTagName("head")[0].appendChild(te),te.styleSheet)te.styleSheet.disabled||(te.styleSheet.cssText=se);else try{te.innerHTML=se}catch(A){te.innerText=se}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},4703:ze=>{ze.exports=function se(){for(var te={},A=0;A<arguments.length;A++){var Y=arguments[A];for(var t in Y)Ye.call(Y,t)&&(te[t]=Y[t])}return te};var Ye=Object.prototype.hasOwnProperty},6700:(ze,Ye,se)=>{var te={"./af":7088,"./af.js":7088,"./ar":7038,"./ar-dz":2502,"./ar-dz.js":2502,"./ar-kw":128,"./ar-kw.js":128,"./ar-ly":4519,"./ar-ly.js":4519,"./ar-ma":5443,"./ar-ma.js":5443,"./ar-sa":7642,"./ar-sa.js":7642,"./ar-tn":8592,"./ar-tn.js":8592,"./ar.js":7038,"./az":1213,"./az.js":1213,"./be":9191,"./be.js":9191,"./bg":322,"./bg.js":322,"./bm":8042,"./bm.js":8042,"./bn":9620,"./bn-bd":5903,"./bn-bd.js":5903,"./bn.js":9620,"./bo":9645,"./bo.js":9645,"./br":5020,"./br.js":5020,"./bs":4792,"./bs.js":4792,"./ca":7980,"./ca.js":7980,"./cs":7322,"./cs.js":7322,"./cv":365,"./cv.js":365,"./cy":2092,"./cy.js":2092,"./da":7387,"./da.js":7387,"./de":4307,"./de-at":9459,"./de-at.js":9459,"./de-ch":3694,"./de-ch.js":3694,"./de.js":4307,"./dv":9659,"./dv.js":9659,"./el":3460,"./el.js":3460,"./en-au":4369,"./en-au.js":4369,"./en-ca":530,"./en-ca.js":530,"./en-gb":9998,"./en-gb.js":9998,"./en-ie":3391,"./en-ie.js":3391,"./en-il":5414,"./en-il.js":5414,"./en-in":9615,"./en-in.js":9615,"./en-nz":1248,"./en-nz.js":1248,"./en-sg":3767,"./en-sg.js":3767,"./eo":4530,"./eo.js":4530,"./es":6866,"./es-do":8944,"./es-do.js":8944,"./es-mx":9116,"./es-mx.js":9116,"./es-us":3609,"./es-us.js":3609,"./es.js":6866,"./et":6725,"./et.js":6725,"./eu":7931,"./eu.js":7931,"./fa":6417,"./fa.js":6417,"./fi":944,"./fi.js":944,"./fil":1766,"./fil.js":1766,"./fo":5867,"./fo.js":5867,"./fr":1636,"./fr-ca":6848,"./fr-ca.js":6848,"./fr-ch":7773,"./fr-ch.js":7773,"./fr.js":1636,"./fy":4940,"./fy.js":4940,"./ga":1402,"./ga.js":1402,"./gd":6924,"./gd.js":6924,"./gl":6398,"./gl.js":6398,"./gom-deva":2457,"./gom-deva.js":2457,"./gom-latn":2545,"./gom-latn.js":2545,"./gu":2641,"./gu.js":2641,"./he":7536,"./he.js":7536,"./hi":6335,"./hi.js":6335,"./hr":7458,"./hr.js":7458,"./hu":6540,"./hu.js":6540,"./hy-am":5283,"./hy-am.js":5283,"./id":8780,"./id.js":8780,"./is":4205,"./is.js":4205,"./it":4211,"./it-ch":9985,"./it-ch.js":9985,"./it.js":4211,"./ja":1003,"./ja.js":1003,"./jv":420,"./jv.js":420,"./ka":851,"./ka.js":851,"./kk":6074,"./kk.js":6074,"./km":3343,"./km.js":3343,"./kn":4799,"./kn.js":4799,"./ko":3549,"./ko.js":3549,"./ku":1893,"./ku.js":1893,"./ky":3125,"./ky.js":3125,"./lb":9586,"./lb.js":9586,"./lo":2349,"./lo.js":2349,"./lt":2400,"./lt.js":2400,"./lv":9991,"./lv.js":9991,"./me":8477,"./me.js":8477,"./mi":5118,"./mi.js":5118,"./mk":5943,"./mk.js":5943,"./ml":3849,"./ml.js":3849,"./mn":1977,"./mn.js":1977,"./mr":6184,"./mr.js":6184,"./ms":485,"./ms-my":4524,"./ms-my.js":4524,"./ms.js":485,"./mt":6681,"./mt.js":6681,"./my":2024,"./my.js":2024,"./nb":2688,"./nb.js":2688,"./ne":8914,"./ne.js":8914,"./nl":1758,"./nl-be":2272,"./nl-be.js":2272,"./nl.js":1758,"./nn":1510,"./nn.js":1510,"./oc-lnc":2797,"./oc-lnc.js":2797,"./pa-in":7944,"./pa-in.js":7944,"./pl":1605,"./pl.js":1605,"./pt":4225,"./pt-br":3840,"./pt-br.js":3840,"./pt.js":4225,"./ro":5128,"./ro.js":5128,"./ru":5127,"./ru.js":5127,"./sd":2525,"./sd.js":2525,"./se":9893,"./se.js":9893,"./si":3123,"./si.js":3123,"./sk":9635,"./sk.js":9635,"./sl":8106,"./sl.js":8106,"./sq":8799,"./sq.js":8799,"./sr":7949,"./sr-cyrl":2872,"./sr-cyrl.js":2872,"./sr.js":7949,"./ss":6167,"./ss.js":6167,"./sv":9713,"./sv.js":9713,"./sw":1982,"./sw.js":1982,"./ta":2732,"./ta.js":2732,"./te":3636,"./te.js":3636,"./tet":2115,"./tet.js":2115,"./tg":1597,"./tg.js":1597,"./th":2868,"./th.js":2868,"./tk":1310,"./tk.js":1310,"./tl-ph":2360,"./tl-ph.js":2360,"./tlh":6645,"./tlh.js":6645,"./tr":8374,"./tr.js":8374,"./tzl":256,"./tzl.js":256,"./tzm":1595,"./tzm-latn":1631,"./tzm-latn.js":1631,"./tzm.js":1595,"./ug-cn":6050,"./ug-cn.js":6050,"./uk":5610,"./uk.js":5610,"./ur":8405,"./ur.js":8405,"./uz":2862,"./uz-latn":2207,"./uz-latn.js":2207,"./uz.js":2862,"./vi":8093,"./vi.js":8093,"./x-pseudo":5590,"./x-pseudo.js":5590,"./yo":9058,"./yo.js":9058,"./zh-cn":832,"./zh-cn.js":832,"./zh-hk":8867,"./zh-hk.js":8867,"./zh-mo":1133,"./zh-mo.js":1133,"./zh-tw":3291,"./zh-tw.js":3291};function A(t){var P=Y(t);return se(P)}function Y(t){if(!se.o(te,t)){var P=new Error("Cannot find module '"+t+"'");throw P.code="MODULE_NOT_FOUND",P}return te[t]}A.keys=function(){return Object.keys(te)},A.resolve=Y,ze.exports=A,A.id=6700},9652:(ze,Ye,se)=>{"use strict";se.d(Ye,{x0:()=>t});let t=(P=21)=>crypto.getRandomValues(new Uint8Array(P)).reduce((J,Q)=>J+((Q&=63)<36?Q.toString(36):Q<62?(Q-26).toString(36).toUpperCase():Q>62?"-":"_"),"")}}]);